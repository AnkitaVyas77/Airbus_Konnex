/*

 handlebars v4.0.11

 Copyright (C) 2011-2017 by Yehuda Katz

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.


 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 jQuery UI - v1.12.1 - 2018-07-18
 http://jqueryui.com
 Includes: position.js, data.js, focusable.js, tabbable.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Position 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI :data 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Focusable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tabbable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 toe.js
 version 3.0.2
 author: Damien Antipa
 https://github.com/dantipa/toe.js
 jQuery Cookie Plugin v1.3
 https://github.com/carhartl/jquery-cookie

 Copyright 2011, Klaus Hartl
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://www.opensource.org/licenses/mit-license.php
 http://www.opensource.org/licenses/GPL-2.0
 @source https://developer.mozilla.org/en/docs/Web/API/Element/matches  @source http://codegists.com/snippet/javascript/closest-polyfilljs_monochromer_javascript  @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
(function(b,c){function d(a){return function(e,b,c){if(a.message.hasOwnProperty(b)){var d=a.message[b];(c||[]).forEach(function(a,e){d=d.replace(new RegExp("\\{"+e+"\\}","g"),a)});return d}}}var a=function(){var a=[];return{register:function(e){a.push(e)},message:function(e,h,g){for(var f=a.length-1;0<=f;f--){var m=a[f];if(e.is(m.selector)&&(m=(b.isFunction(m.message)?m.message:d(m)).call(e,e,h,g)))return m}c&&c.warn("Message not found:",h,e[0])}}}();b.fn.message=function(e,b){return a.message(this.first(),
e,b)};b.message=function(){return{register:function(e){b.each(arguments,function(){a.register(this)})}}}()})(jQuery,window.console);
(function(b,c){function d(a,e){this.el=a;this.registry=e;this.customMessage=this.message=null;this.isValidated=!1;this.state=function(a){return{getCustomError:function(){return!!a.customMessage},isValid:function(){return!a.customMessage&&!a.message},isValidated:function(){return a.isValidated}}}(this)}function a(a,e,b){for(var c=a.length-1;0<=c;c--)if(!e.call(b,a[c],c,a))return!1;return!0}function e(){return c.Event("invalid",{isJqueryValidator:!0})}function f(a,b){return b.submittables(a).map(function(){var a=
c(this);if(!b.apiNoCheck(a).checkValidity({suppressEvent:!0}))return this}).map(function(){var a=e();c(this).trigger(a);if(!a.isDefaultPrevented())return this})}function h(a,e){a=f(a,e);return 0<a.length?(a.each(function(){e.apiNoCheck(c(this)).updateUI()}),!1):!0}if(!b.documentElement.classList.contains("skipCoral2Validation")&&!b.head.querySelector(".skipCoral2Validation")){var g=function(){var a="input select textarea button object keygen [role\x3dcheckbox] [role\x3dradio] [role\x3dcombobox] [role\x3dlistbox] [role\x3dradiogroup] [role\x3dtree] [role\x3dslider] [role\x3dspinbutton] [role\x3dtextbox]".split(" ").reverse().join(","),
e="input:not([readonly]):not([disabled]):not([type\x3dhidden]):not([type\x3dreset]):not([type\x3dbutton]) select textarea:not([readonly]) button[type\x3dsubmit] [role\x3dcheckbox]:not([aria-disabled\x3dtrue]) [role\x3dradio]:not([aria-disabled\x3dtrue]) [role\x3dcombobox]:not([aria-disabled\x3dtrue]) [role\x3dlistbox]:not([aria-disabled\x3dtrue]) [role\x3dradiogroup]:not([aria-disabled\x3dtrue]) [role\x3dtree]:not([aria-disabled\x3dtrue]) [role\x3dslider]:not([aria-disabled\x3dtrue]) [role\x3dspinbutton]:not([aria-disabled\x3dtrue]) [role\x3dtextbox]:not([aria-disabled\x3dtrue]):not([aria-readonly\x3dtrue])".split(" ").reverse().join(","),
b=[];return{isSummittable:function(e){return e.is(a)},submittables:function(e){return e.find(a)},isCandidate:function(a){return a.is(e)},api:function(a){if(this.isSummittable(a))return this.apiNoCheck(a)},apiNoCheck:function(a){var e;(e=a.data("validator"))||(e=new d(a,this),a.data("validator",e));return e},register:function(a){b.push(a)},validators:function(){return b}}}();d.prototype={willValidate:function(){return this.registry.isCandidate(this.el)},setCustomValidity:function(a){this.customMessage=
a},getValidity:function(){return this.state},checkValidity:function(b){b=b||{};if(!this.willValidate())return!0;this.isValidated=!0;if(this.customMessage)return b.suppressEvent||this.el.trigger(e()),!1;this.message=null;a(this.registry.validators(),function(a){return a.validate&&this.el.is(a.selector)?(a=a.validate(this.el))?(this.message=a,!1):!0:!0},this);if(this.message)return b.suppressEvent||this.el.trigger(e()),!1;b.suppressEvent||this.el.trigger("valid");return!0},getValidationMessage:function(){return this.willValidate()?
this.customMessage||this.message||"":""},updateUI:function(){var e=this.getValidity().isValid()?function(a){return!a.clear||!this.el.is(a.selector)||a.clear(this.el)===c.validator.CONTINUE}:function(a){return!a.show||!this.el.is(a.selector)||a.show(this.el,this.getValidationMessage())===c.validator.CONTINUE};a(this.registry.validators(),e,this)}};c.extend(c.expr[":"],{submittable:function(a){return g.isSummittable(c(a))}});c.fn.willValidate=function(){var a=g.api(this.first());return a?a.willValidate():
!1};c.fn.validationMessage=function(){var a=g.api(this.first());return a?a.getValidationMessage():""};c.fn.checkValidity=function(){var a=g.api(this.first());return a?a.checkValidity():!0};c.fn.setCustomValidity=function(a){return this.each(function(){var e=g.api(c(this));e&&e.setCustomValidity(a)})};c.fn.updateErrorUI=function(){return this.each(function(){var a=g.api(c(this));a&&a.updateUI()})};c.validator=function(){return{CONTINUE:1,STOP:2,register:function(){c.each(arguments,function(){g.register(this)})},
isValid:function(a,e){var b=!0;g.submittables(a).each(function(){var a=c(this);a=g.apiNoCheck(a);var d=a.getValidity();if(d.isValidated()?!d.isValid():!a.checkValidity({suppressEvent:e}))return b=!1});return b}}}();b.addEventListener("submit",function(a){var e=c(a.target);!e.is("form")||!0===e.prop("noValidate")||void 0===e.prop("noValidate")&&void 0!==e.attr("novalidate")||h(e,g)||(a.stopPropagation(),a.preventDefault())},!0)}})(document,jQuery);
(function(b,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?exports.Handlebars=c():b.Handlebars=c()})(this,function(){return function(b){function c(a){if(d[a])return d[a].exports;var e=d[a]={exports:{},id:a,loaded:!1};b[a].call(e.exports,e,e.exports,c);e.loaded=!0;return e.exports}var d={};c.m=b;c.c=d;c.p="";return c(0)}([function(b,c,d){function a(){var a=new g.HandlebarsEnvironment;l.extend(a,
g);a.SafeString=k["default"];a.Exception=m["default"];a.Utils=l;a.escapeExpression=l.escapeExpression;a.VM=n;a.template=function(e){return n.template(e,a)};return a}var e=d(1)["default"],f=d(2)["default"];c.__esModule=!0;var h=d(3),g=e(h);h=d(20);var k=f(h);h=d(5);var m=f(h);h=d(4);var l=e(h);h=d(21);var n=e(h);d=d(33);f=f(d);d=a();d.create=a;f["default"](d);d["default"]=d;c["default"]=d;b.exports=c["default"]},function(b,c){c["default"]=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,
e)&&(a[e]=b[e]);a["default"]=b;return a};c.__esModule=!0},function(b,c){c["default"]=function(b){return b&&b.__esModule?b:{"default":b}};c.__esModule=!0},function(b,c,d){function a(a,e,b){this.helpers=a||{};this.partials=e||{};this.decorators=b||{};g.registerDefaultHelpers(this);k.registerDefaultDecorators(this)}b=d(2)["default"];c.__esModule=!0;c.HandlebarsEnvironment=a;var e=d(4),f=d(5),h=b(f),g=d(9),k=d(17);d=d(19);d=b(d);c.VERSION="4.0.11";c.COMPILER_REVISION=7;c.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",
2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0"};a.prototype={constructor:a,logger:d["default"],log:d["default"].log,registerHelper:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new h["default"]("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if("[object Object]"===
e.toString.call(a))e.extend(this.partials,a);else{if("undefined"===typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new h["default"]("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};
c.log=d["default"].log;c.createFrame=e.createFrame;c.logger=d["default"]},function(b,c){function d(a){return e[a]}function a(a){for(var e=1;e<arguments.length;e++)for(var b in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],b)&&(a[b]=arguments[e][b]);return a}c.__esModule=!0;c.extend=a;c.indexOf=function(a,e){for(var b=0,c=a.length;b<c;b++)if(a[b]===e)return b;return-1};c.escapeExpression=function(a){if("string"!==typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+
"";a=""+a}return h.test(a)?a.replace(f,d):a};c.isEmpty=function(a){return a||0===a?k(a)&&0===a.length?!0:!1:!0};c.createFrame=function(e){var b=a({},e);b._parent=e;return b};c.blockParams=function(a,e){a.path=e;return a};c.appendContextPath=function(a,e){return(a?a+".":"")+e};var e={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},f=/[&<>"'`=]/g,h=/[&<>"'`=]/,g=Object.prototype.toString;c.toString=g;b=function(a){return"function"===
typeof a};b(/x/)&&(c.isFunction=b=function(a){return"function"===typeof a&&"[object Function]"===g.call(a)});c.isFunction=b;var k=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===g.call(a):!1};c.isArray=k},function(b,c,d){function a(b,c){c=c&&c.loc;var d=void 0,h=void 0;c&&(d=c.start.line,h=c.start.column,b+=" - "+d+":"+h);b=Error.prototype.constructor.call(this,b);for(var g=0;g<f.length;g++)this[f[g]]=b[f[g]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{c&&
(this.lineNumber=d,e?Object.defineProperty(this,"column",{value:h,enumerable:!0}):this.column=h)}catch(n){}}var e=d(6)["default"];c.__esModule=!0;var f="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();c["default"]=a;b.exports=c["default"]},function(b,c,d){b.exports={"default":d(7),__esModule:!0}},function(b,c,d){var a=d(8);b.exports=function(e,b,c){return a.setDesc(e,b,c)}},function(b,c){c=Object;b.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,
getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(b,c,d){b=d(2)["default"];c.__esModule=!0;c.registerDefaultHelpers=function(b){a["default"](b);e["default"](b);f["default"](b);h["default"](b);g["default"](b);k["default"](b);m["default"](b)};c=d(10);var a=b(c);c=d(11);var e=b(c);c=d(12);var f=b(c);c=d(13);var h=b(c);c=d(14);var g=b(c);c=d(15);var k=b(c);
d=d(16);var m=b(d)},function(b,c,d){c.__esModule=!0;var a=d(4);c["default"]=function(e){e.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===b||null==b)return d(this);if(a.isArray(b))return 0<b.length?(c.ids&&(c.ids=[c.name]),e.helpers.each(b,c)):d(this);c.data&&c.ids&&(d=a.createFrame(c.data),d.contextPath=a.appendContextPath(c.data.contextPath,c.name),c={data:d});return f(b,c)})};b.exports=c["default"]},function(b,c,d){var a=d(2)["default"];
c.__esModule=!0;var e=d(4);d=d(5);var f=a(d);c["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){q&&(q.key=b,q.index=c,q.first=0===c,q.last=!!f,r&&(q.contextPath=r+b));k+=d(a[b],{data:q,blockParams:e.blockParams([a[b],b],[r+b,null])})}if(!b)throw new f["default"]("Must pass iterator to #each");var d=b.fn,h=b.inverse,g=0,k="",q=void 0,r=void 0;b.data&&b.ids&&(r=e.appendContextPath(b.data.contextPath,b.ids[0])+".");e.isFunction(a)&&(a=a.call(this));b.data&&(q=e.createFrame(b.data));
if(a&&"object"===typeof a)if(e.isArray(a))for(var u=a.length;g<u;g++)g in a&&c(g,g,g===a.length-1);else{b=void 0;for(u in a)a.hasOwnProperty(u)&&(void 0!==b&&c(b,g-1),b=u,g++);void 0!==b&&c(b,g-1,!0)}0===g&&(k=h(this));return k})};b.exports=c["default"]},function(b,c,d){var a=d(2)["default"];c.__esModule=!0;d=d(5);var e=a(d);c["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');
})};b.exports=c["default"]},function(b,c,d){c.__esModule=!0;var a=d(4);c["default"]=function(e){e.registerHelper("if",function(e,b){a.isFunction(e)&&(e=e.call(this));return!b.hash.includeZero&&!e||a.isEmpty(e)?b.inverse(this):b.fn(this)});e.registerHelper("unless",function(a,b){return e.helpers["if"].call(this,a,{fn:b.inverse,inverse:b.fn,hash:b.hash})})};b.exports=c["default"]},function(b,c){c.__esModule=!0;c["default"]=function(b){b.registerHelper("log",function(){for(var a=[void 0],e=arguments[arguments.length-
1],c=0;c<arguments.length-1;c++)a.push(arguments[c]);c=1;null!=e.hash.level?c=e.hash.level:e.data&&null!=e.data.level&&(c=e.data.level);a[0]=c;b.log.apply(b,a)})};b.exports=c["default"]},function(b,c){c.__esModule=!0;c["default"]=function(b){b.registerHelper("lookup",function(a,e){return a&&a[e]})};b.exports=c["default"]},function(b,c,d){c.__esModule=!0;var a=d(4);c["default"]=function(e){e.registerHelper("with",function(e,b){a.isFunction(e)&&(e=e.call(this));var c=b.fn;if(a.isEmpty(e))return b.inverse(this);
var d=b.data;b.data&&b.ids&&(d=a.createFrame(b.data),d.contextPath=a.appendContextPath(b.data.contextPath,b.ids[0]));return c(e,{data:d,blockParams:a.blockParams([e],[d&&d.contextPath])})})};b.exports=c["default"]},function(b,c,d){b=d(2)["default"];c.__esModule=!0;c.registerDefaultDecorators=function(e){a["default"](e)};c=d(18);var a=b(c)},function(b,c,d){c.__esModule=!0;var a=d(4);c["default"]=function(e){e.registerDecorator("inline",function(e,b,c,d){var f=e;b.partials||(b.partials={},f=function(d,
f){var h=c.partials;c.partials=a.extend({},h,b.partials);d=e(d,f);c.partials=h;return d});b.partials[d.args[0]]=d.fn;return f})};b.exports=c["default"]},function(b,c,d){c.__esModule=!0;var a=d(4),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(b){if("string"===typeof b){var c=a.indexOf(e.methodMap,b.toLowerCase());b=0<=c?c:parseInt(b,10)}return b},log:function(a){a=e.lookupLevel(a);if("undefined"!==typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||
(b="log");for(var c=arguments.length,d=Array(1<c?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};c["default"]=e;b.exports=c["default"]},function(b,c){function d(a){this.string=a}c.__esModule=!0;d.prototype.toString=d.prototype.toHTML=function(){return""+this.string};c["default"]=d;b.exports=c["default"]},function(b,c,d){function a(a,b,e,c,d,f,g){function l(b){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],h=g;!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=
[b].concat(g));return e(a,b,a.helpers,a.partials,d.data||c,f&&[d.blockParams].concat(f),h)}l=h(e,l,a,g,c,f);l.program=b;l.depth=g?g.length:0;l.blockParams=d||0;return l}function e(){return""}function f(a,b){b&&"root"in b||(b=b?n.createFrame(b):{},b.root=a);return b}function h(a,b,e,c,d,f){if(a.decorator){var h={};b=a.decorator(b,h,e,c&&c[0],d,f,c);m.extend(b,h)}return b}var g=d(22)["default"],k=d(1)["default"];b=d(2)["default"];c.__esModule=!0;c.checkRevision=function(a){var b=a&&a[0]||1,e=n.COMPILER_REVISION;
if(b!==e){if(b<e)throw new l["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n.REVISION_CHANGES[e]+") or downgrade your runtime to an older version ("+n.REVISION_CHANGES[b]+").");throw new l["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};c.template=function(b,e){function c(a){function e(a){return""+
b.main(d,a,d.helpers,d.partials,l,m,k)}var g=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],l=g.data;c._setup(g);!g.partial&&b.useData&&(l=f(a,l));var k=void 0,m=b.useBlockParams?[]:void 0;b.useDepths&&(k=g.depths?a!=g.depths[0]?[a].concat(g.depths):g.depths:[a]);e=h(b.main,e,d,g.depths||[],l,m);return e(a,g)}if(!e)throw new l["default"]("No environment passed to template");if(!b||!b.main)throw new l["default"]("Unknown template object: "+typeof b);b.main.decorator=b.main_d;e.VM.checkRevision(b.compiler);
var d={strict:function(a,b){if(!(b in a))throw new l["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var e=a.length,c=0;c<e;c++)if(a[c]&&null!=a[c][b])return a[c][b]},lambda:function(a,b){return"function"===typeof a?a.call(b):a},escapeExpression:m.escapeExpression,invokePartial:function(a,c,d){d.hash&&(c=m.extend({},c,d.hash),d.ids&&(d.ids[0]=!0));a=e.VM.resolvePartial.call(this,a,c,d);var f=e.VM.invokePartial.call(this,a,c,d);null==f&&e.compile&&(d.partials[d.name]=
e.compile(a,b.compilerOptions,e),f=d.partials[d.name](c,d));if(null!=f){if(d.indent){a=f.split("\n");c=0;for(f=a.length;c<f&&(a[c]||c+1!==f);c++)a[c]=d.indent+a[c];f=a.join("\n")}return f}throw new l["default"]("The partial "+d.name+" could not be compiled when running in runtime-only mode");},fn:function(a){var e=b[a];e.decorator=b[a+"_d"];return e},programs:[],program:function(b,e,c,d,f){var h=this.programs[b],g=this.fn(b);e||f||d||c?h=a(this,b,g,e,c,d,f):h||(h=this.programs[b]=a(this,b,g));return h},
data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var e=a||b;a&&b&&a!==b&&(e=m.extend({},b,a));return e},nullContext:g({}),noop:e.VM.noop,compilerInfo:b.compiler};c.isTop=!0;c._setup=function(a){if(a.partial)d.helpers=a.helpers,d.partials=a.partials,d.decorators=a.decorators;else if(d.helpers=d.merge(a.helpers,e.helpers),b.usePartial&&(d.partials=d.merge(a.partials,e.partials)),b.usePartial||b.useDecorators)d.decorators=d.merge(a.decorators,e.decorators)};c._child=function(e,
c,f,h){if(b.useBlockParams&&!f)throw new l["default"]("must pass block params");if(b.useDepths&&!h)throw new l["default"]("must pass parent depths");return a(d,e,b[e],c,0,f,h)};return c};c.wrapProgram=a;c.resolvePartial=function(a,b,e){a?a.call||e.name||(e.name=a,a=e.partials[a]):a="@partial-block"===e.name?e.data["partial-block"]:e.partials[e.name];return a};c.invokePartial=function(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0;c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);
var f=void 0;c.fn&&c.fn!==e&&function(){c.data=n.createFrame(c.data);var a=c.fn;f=c.data["partial-block"]=function(b){var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];e.data=n.createFrame(e.data);e.data["partial-block"]=d;return a(b,e)};a.partials&&(c.partials=m.extend({},c.partials,a.partials))}();void 0===a&&f&&(a=f);if(void 0===a)throw new l["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)};c.noop=e;c=d(4);var m=k(c);c=d(5);var l=b(c),
n=d(3)},function(b,c,d){b.exports={"default":d(23),__esModule:!0}},function(b,c,d){d(24);b.exports=d(29).Object.seal},function(b,c,d){var a=d(25);d(26)("seal",function(b){return function(e){return b&&a(e)?b(e):e}})},function(b,c){b.exports=function(b){return"object"===typeof b?null!==b:"function"===typeof b}},function(b,c,d){var a=d(27),e=d(29),f=d(32);b.exports=function(b,c){var d=(e.Object||{})[b]||Object[b],h={};h[b]=c(d);a(a.S+a.F*f(function(){d(1)}),"Object",h)}},function(b,c,d){var a=d(28),
e=d(29),f=d(30),h=function(b,c,d){var g=b&h.F,k=b&h.G,m=b&h.S,t=b&h.P,q=b&h.B;b&=h.W;var r=k?e:e[c]||(e[c]={});m=k?a:m?a[c]:(a[c]||{}).prototype;var u;k&&(d=c);for(u in d)if(c=!g&&m&&u in m,!(c&&u in r)){var z=c?m[u]:d[u];r[u]=k&&"function"!=typeof m[u]?d[u]:q&&c?f(z,a):b&&m[u]==z?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};b.prototype=a.prototype;return b}(z):t&&"function"==typeof z?f(Function.call,z):z;t&&((r.prototype||(r.prototype={}))[u]=z)}};h.F=1;h.G=2;h.S=4;h.P=8;
h.B=16;h.W=32;b.exports=h},function(b,c){b=b.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(b,c){b=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=b)},function(b,c,d){var a=d(31);b.exports=function(b,c,d){a(b);if(void 0===c)return b;switch(d){case 1:return function(a){return b.call(c,a)};case 2:return function(a,e){return b.call(c,a,e)};case 3:return function(a,e,d){return b.call(c,
a,e,d)}}return function(){return b.apply(c,arguments)}}},function(b,c){b.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(b,c){b.exports=function(b){try{return!!b()}catch(a){return!0}}},function(b,c){(function(d){c.__esModule=!0;c["default"]=function(a){var b="undefined"!==typeof d?d:window,c=b.Handlebars;a.noConflict=function(){b.Handlebars===a&&(b.Handlebars=c);return a}};b.exports=c["default"]}).call(c,function(){return this}())}])});
(function(b,c){c="ruf7eed";b.Coral&&b.Coral.options&&b.Coral.options.typeKitId&&(c=b.Coral.options.typeKitId);var d={kitId:c,scriptTimeout:3E3};if(!b.Typekit){var a=document.getElementsByTagName("html")[0];a.className+=" wf-loading";var e=setTimeout(function(){a.className=a.className.replace(/(\s|^)wf-loading(\s|$)/g," ");a.className+=" wf-inactive"},d.scriptTimeout);b=document.createElement("script");var f=!1;b.src="https://use.typekit.net/"+d.kitId+".js";b.type="text/javascript";b.async="true";
b.onload=b.onreadystatechange=function(){var a=this.readyState;if(!(f||a&&"complete"!==a&&"loaded"!==a)){f=!0;clearTimeout(e);try{Typekit.load(d)}catch(g){}}};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(this);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){b.ui=b.ui||{};b.ui.version="1.12.1";(function(){function c(a,b,e){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?e/100:1)]}function d(a){var e=a[0];return 9===e.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:b.isWindow(e)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,
left:e.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var a,e=Math.max,f=Math.abs,h=/left|center|right/,g=/top|center|bottom/,k=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,l=/%$/,n=b.fn.position;b.position={scrollbarWidth:function(){if(void 0!==a)return a;var e=b("\x3cdiv style\x3d'display:block;position:absolute;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e");var c=e.children()[0];b("body").append(e);var d=c.offsetWidth;
e.css("overflow","scroll");c=c.offsetWidth;d===c&&(c=e[0].clientWidth);e.remove();return a=d-c},getScrollInfo:function(a){var e=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y");e="scroll"===e||"auto"===e&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?b.position.scrollbarWidth():0,height:e?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var e=b(a||window),c=b.isWindow(e[0]),
d=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:c,isDocument:d,offset:c||d?{left:0,top:0}:b(a).offset(),scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}};b.fn.position=function(a){if(!a||!a.of)return n.apply(this,arguments);a=b.extend({},a);var l=b(a.of),p=b.position.getWithinInfo(a.within),r=b.position.getScrollInfo(p),u=(a.collision||"flip").split(" "),z={};var w=d(l);l[0].preventDefault&&(a.at="left top");var y=w.width;var x=w.height;var v=w.offset;
var A=b.extend({},v);b.each(["my","at"],function(){var b=(a[this]||"").split(" ");1===b.length&&(b=h.test(b[0])?b.concat(["center"]):g.test(b[0])?["center"].concat(b):["center","center"]);b[0]=h.test(b[0])?b[0]:"center";b[1]=g.test(b[1])?b[1]:"center";var e=k.exec(b[0]);var c=k.exec(b[1]);z[this]=[e?e[0]:0,c?c[0]:0];a[this]=[m.exec(b[0])[0],m.exec(b[1])[0]]});1===u.length&&(u[1]=u[0]);"right"===a.at[0]?A.left+=y:"center"===a.at[0]&&(A.left+=y/2);"bottom"===a.at[1]?A.top+=x:"center"===a.at[1]&&(A.top+=
x/2);var B=c(z.at,y,x);A.left+=B[0];A.top+=B[1];return this.each(function(){var d,h=b(this),g=h.outerWidth(),k=h.outerHeight(),m=parseInt(b.css(this,"marginLeft"),10)||0,n=parseInt(b.css(this,"marginTop"),10)||0,t=g+m+(parseInt(b.css(this,"marginRight"),10)||0)+r.width,q=k+n+(parseInt(b.css(this,"marginBottom"),10)||0)+r.height,w=b.extend({},A),G=c(z.my,h.outerWidth(),h.outerHeight());"right"===a.my[0]?w.left-=g:"center"===a.my[0]&&(w.left-=g/2);"bottom"===a.my[1]?w.top-=k:"center"===a.my[1]&&(w.top-=
k/2);w.left+=G[0];w.top+=G[1];var M={marginLeft:m,marginTop:n};b.each(["left","top"],function(e,c){if(b.ui.position[u[e]])b.ui.position[u[e]][c](w,{targetWidth:y,targetHeight:x,elemWidth:g,elemHeight:k,collisionPosition:M,collisionWidth:t,collisionHeight:q,offset:[B[0]+G[0],B[1]+G[1]],my:a.my,at:a.at,within:p,elem:h})});a.using&&(d=function(b){var c=v.left-w.left,d=c+y-g,m=v.top-w.top,n=m+x-k,t={target:{element:l,left:v.left,top:v.top,width:y,height:x},element:{element:h,left:w.left,top:w.top,width:g,
height:k},horizontal:0>d?"left":0<c?"right":"center",vertical:0>n?"top":0<m?"bottom":"middle"};y<g&&f(c+d)<y&&(t.horizontal="center");x<k&&f(m+n)<x&&(t.vertical="middle");e(f(c),f(d))>e(f(m),f(n))?t.important="horizontal":t.important="vertical";a.using.call(this,b,t)});h.offset(b.extend(w,{using:d}))})};b.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,h=a.left-b.collisionPosition.marginLeft;c=d-h;var g=h+b.collisionWidth-f-d;b.collisionWidth>
f?0<c&&0>=g?(b=a.left+c+b.collisionWidth-f-d,a.left+=c-b):a.left=0<g&&0>=c?d:c>g?d+f-b.collisionWidth:d:a.left=0<c?a.left+c:0<g?a.left-g:e(a.left-h,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop;c=d-h;var g=h+b.collisionHeight-f-d;b.collisionHeight>f?0<c&&0>=g?(b=a.top+c+b.collisionHeight-f-d,a.top+=c-b):a.top=0<g&&0>=c?d:c>g?d+f-b.collisionHeight:d:a.top=0<c?a.top+c:0<g?a.top-g:e(a.top-h,a.top)}},flip:{left:function(a,
b){var e=b.within,c=e.offset.left+e.scrollLeft,d=e.width,h=e.isWindow?e.scrollLeft:e.offset.left,g=a.left-b.collisionPosition.marginLeft;e=g-h;var l=g+b.collisionWidth-d-h;g="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0;var k="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>e){if(b=a.left+g+k+m+b.collisionWidth-d-c,0>b||b<f(e))a.left+=g+k+m}else 0<l&&(b=a.left-b.collisionPosition.marginLeft+g+k+m-h,0<b||f(b)<l)&&(a.left+=g+k+m)},top:function(a,
b){var e=b.within,c=e.offset.top+e.scrollTop,d=e.height,h=e.isWindow?e.scrollTop:e.offset.top,g=a.top-b.collisionPosition.marginTop;e=g-h;var l=g+b.collisionHeight-d-h;g="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0;var k="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];if(0>e){if(b=a.top+g+k+m+b.collisionHeight-d-c,0>b||b<f(e))a.top+=g+k+m}else 0<l&&(b=a.top-b.collisionPosition.marginTop+g+k+m-h,0<b||f(b)<l)&&(a.top+=g+k+m)}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,
arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}}})();b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(c){return function(d){return!!b.data(d,c)}}):function(c,d,a){return!!b.data(c,a[3])}});b.ui.focusable=function(c,d){var a=c.nodeName.toLowerCase();if("area"===a){d=c.parentNode;a=d.name;if(!c.href||!a||"map"!==d.nodeName.toLowerCase())return!1;c=b("img[usemap\x3d'#"+
a+"']");return 0<c.length&&c.is(":visible")}/^(input|select|textarea|button|object)$/.test(a)?(d=!c.disabled)&&(a=b(c).closest("fieldset")[0])&&(d=!a.disabled):d="a"===a?c.href||d:d;if(d=d&&b(c).is(":visible")){c=b(c);for(d=c.css("visibility");"inherit"===d;)c=c.parent(),d=c.css("visibility");d="hidden"!==d}return d};b.extend(b.expr[":"],{focusable:function(c){return b.ui.focusable(c,null!=b.attr(c,"tabindex"))}});b.extend(b.expr[":"],{tabbable:function(c){var d=b.attr(c,"tabindex"),a=null!=d;return(!a||
0<=d)&&b.ui.focusable(c,a)}})});(function(){"undefined"!==typeof moment&&moment.locale(document.documentElement.lang||window.navigator.language||"en")})();var Class,Exception;
(function(){var b=function(a){var b=a.bind(this);b._methodName=a._methodName;return this[b._methodName]=b},c=function(a){a.extend=this;return new Class(a)};Class=function(a){a=a||{};if(a.hasOwnProperty("extend")&&!a.extend)throw new Class.NonTruthyExtendError("function"===typeof a.toString?a.toString():a.toString);var e=a.extend||Object,d=a.construct,h=a.destruct;delete a.bind;delete a.extend;delete a.destruct;delete a.construct;a._construct=d;a._destruct=h;if(a.hasOwnProperty("toString")&&"function"!==
typeof a.toString){var g=a.toString;a.toString=function(){return g.toString()}}else!a.hasOwnProperty("toString")&&e.prototype.hasOwnProperty("toString")&&(a.toString=e.prototype.toString);var k=Object.create(e&&e.prototype);k.superClass=e.prototype;if(a)for(var m in a)a.hasOwnProperty(m)&&(k[m]=a[m],"function"===typeof a[m]&&(k[m]._methodName=m,k[m]._parentProto=k));k.inherited=function(a){var b=a.callee,e=b._methodName;if(!e)throw new Class.MissingCalleeError(this.toString());b=b._parentProto;for(var c=
null;b.superClass&&(b=b.superClass,c=b[e],"function"!==typeof c););if("function"===typeof c)return e=this.inherited,this.inherited=b.inherited,a=c.apply(this,a),this.inherited=e,a;throw new Class.InheritedMethodNotFoundError(this.toString(),e);};k.bind=b;k.destruct=function(){"function"===typeof h&&h.apply(this);for(var a=[],b=this.superClass;b;){"function"===typeof b._destruct&&a.push(b._destruct);if(b===b.superClass)throw new Class.InfiniteInheritanceLoopError(b.toString());b=b.superClass}for(b=
0;b<a.length;b++)a[b].apply(this)};k.construct=function(a){var b=Array.prototype.slice.call(arguments);void 0===b[0]&&(b[0]={});for(var e=[],c=this.superClass;c;){"function"===typeof c._construct&&e.push(c._construct);if(c===c.superClass)throw new Class.InfiniteInheritanceLoopError(c.toString());c=c.superClass}for(c=e.length-1;0<=c;c--)e[c].apply(this,b);"function"===typeof d&&d.apply(this,b)};e=function(){var a=Object.create(k);k.construct.apply(a,arguments);return a};e.toString=k.toString;e.prototype=
k;e.extend=c;return k.constructor=e};Object.create||(Object.create=function(a){function b(){}if(1<arguments.length)throw Error("Object.create implementation only accepts the first parameter.");b.prototype=a;return new b});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},g=function(){return c.apply(this instanceof
d?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;g.prototype=new d;return g});Exception=new Class({extend:Error,construct:function(){this.name="Error";this.message="General exception"},toString:function(){return this.name+": "+this.message}});var d=Exception.extend({name:"Class Exception"});Class.NonTruthyExtendError=d.extend({construct:function(a){this.message=a+" attempted to extend a non-truthy object"}});Class.InheritedMethodNotFoundError=d.extend({construct:function(a,
b){this.message=a+" can't call method '"+b+"', no method defined in parent classes"}});Class.MissingCalleeError=d.extend({construct:function(a){this.message=a+" can't call inherited method: calling method did not have _methodName"}});Class.InfiniteInheritanceLoopError=d.extend({construct:function(a){this.message=a+" seems to inherit from itself, cannot construct an object"}})})();
(function(b,c,d){function a(a,e,c,d){b.each(k,function(b,f){f[a].call(this,e,c,d)})}function e(b){var e=m.Event(b);g=m.State(e);a("touchstart",b,g,e)}function f(b){var e=m.Event(b);g.move.push(e);a("touchmove",b,g,e)}function h(b){var e=m.Event(b);g.end=e;a("touchend",b,g,e)}var g,k={},m={active:!1,on:function(){b(document).on("touchstart",e).on("touchmove",f).on("touchend touchcancel",h);m.active=!0},off:function(){b(document).off("touchstart",e).off("touchmove",f).off("touchend touchcancel",h);
m.active=!1},track:function(a,b){k[a]=b},addEventParam:function(a,e){var c=b(a.target).offset();return b.extend({pageX:a.point[0].x,pageY:a.point[0].y,offsetX:c.left-a.point[0].x,offsetY:c.top-a.point[0].y},e)},Event:function(a){var e={type:a.type,timestamp:(new Date).getTime(),target:a.target,point:[]};b.each(a.changedTouches||a.originalEvent.changedTouches||a.touches||a.originalEvent.touches,function(a,b){e.point.push({x:b.pageX,y:b.pageY})});return e},State:function(a){return{start:a,move:[],end:null}},
calc:{getDuration:function(a,b){return b.timestamp-a.timestamp},getDistance:function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},getAngle:function(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI},getDirection:function(a){return-45>a&&-135<a?"top":-45<=a&&45>=a?"right":45<=a&&135>a?"down":135<=a||-135>=a?"left":"unknown"},getScale:function(a,b){a=a.point;b=b.point;return 2===a.length&&2===b.length?(Math.sqrt(Math.pow(b[0].x-b[1].x,2)+Math.pow(b[0].y-b[1].y,2))/Math.sqrt(Math.pow(a[0].x-
a[1].x,2)+Math.pow(a[0].y-a[1].y,2))).toFixed(2):0},getRotation:function(a,b){a=a.point;b=b.point;return 2===a.length&&2===b.length?(180*Math.atan2(b[0].y-b[1].y,b[0].x-b[1].x)/Math.PI-180*Math.atan2(a[0].y-a[1].y,a[0].x-a[1].x)/Math.PI).toFixed(2):0}}};m.on();b.toe=m})(jQuery,this);
(function(b,c,d,a){var e={distance:40,duration:1200,direction:"all"};c.track("swipe",{touchstart:function(a,b,e){b.swipe={finger:e.point.length}},touchmove:function(a,b,e){b.swipe.finger=e.point.length>b.swipe.finger?e.point.length:b.swipe.finger},touchend:function(a,d,g){var f=b.extend(e,a.data);var h=c.calc.getDuration(d.start,g);var l=c.calc.getDistance(d.start.point[0],g.point[0]);h<f.duration&&l>f.distance&&(d.swipe.angle=c.calc.getAngle(d.start.point[0],g.point[0]),d.swipe.direction=c.calc.getDirection(d.swipe.angle),
"all"!==f.direction&&d.swipe.direction!==f.direction||b(a.target).trigger(b.Event("swipe",c.addEventParam(d.start,d.swipe))))}})})(jQuery,jQuery.toe,this);
(function(b,c,d,a){var e={distance:10,duration:300,finger:1};c.track("tap",{touchstart:function(a,b,e){b.tap={finger:e.point.length}},touchmove:function(a,b,e){b.tap.finger=e.point.length>b.tap.finger?e.point.length:b.tap.finger},touchend:function(a,d,g){var f=b.extend(e,a.data);var h=c.calc.getDuration(d.start,g);g=c.calc.getDistance(d.start.point[0],g.point[0]);h<f.duration&&g<f.distance&&d.tap.finger===f.finger&&b(a.target).trigger(b.Event("tap",c.addEventParam(d.start,d.tap)))}})})(jQuery,jQuery.toe,
this);
(function(b,c,d,a){var e,f,h={distance:20,duration:500,finger:1};c.track("taphold",{touchstart:function(a,d,m){var g=b.extend(h,a.data);f=!1;d.taphold={finger:m.point.length};clearTimeout(e);e=setTimeout(function(){!f&&c.active&&d.taphold.finger===g.finger&&b(a.target).trigger(b.Event("taphold",c.addEventParam(m,d.taphold)))},g.duration)},touchmove:function(a,e,d){a=b.extend(h,a.data);e.taphold.finger=d.point.length>e.taphold.finger?d.point.length:e.taphold.finger;c.calc.getDistance(e.start.point[0],d.point[0])>
a.distance&&(f=!0)},touchend:function(a,b,c){f=!0;clearTimeout(e)}})})(jQuery,jQuery.toe,this);
(function(b,c,d,a){var e={scale:.1,rotation:15},f;c.track("transform",{touchstart:function(a,b,e){f=!1;b.transform={start:e,move:[]}},touchmove:function(a,d,k){var h=b.extend(e,a.data);2===k.point.length&&(d.transform.move.push(k),2!==d.transform.start.point.length&&2===k.point.length&&(d.transform.start=b.extend({},k)),d.transform.rotation=c.calc.getRotation(d.transform.start,k),d.transform.scale=c.calc.getScale(d.transform.start,k),Math.abs(1-d.transform.scale)>h.scale||Math.abs(d.transform.rotation)>
h.rotation)&&(f||(b(a.target).trigger(b.Event("transformstart",d.transform)),f=!0),b(a.target).trigger(b.Event("transform",d.transform)))},touchend:function(a,e,d){f&&(f=!1,2!==d.point.length&&(e.end=b.extend({},e.transform.move[e.transform.move.length-1])),e.transform.rotation=c.calc.getRotation(e.transform.start,e.end),e.transform.scale=c.calc.getScale(e.transform.start,e.end),b(a.target).trigger(b.Event("transformend",e.transform)))}})})(jQuery,jQuery.toe,this);
(function(b,c,d){c.CUI=c.CUI||{};CUI.options=b.extend({debug:!1,dataAPI:!0},CUI.options);b(function(){b(document).trigger("cui-contentloaded")})})(jQuery,this);
(function(b,c,d){var a=1;d=CUI;c=/Windows NT 6\.[23];.*Chrome/.test(c.navigator.userAgent)?!1:"ontouchstart"in c;d.util={isTouch:c,getNextId:function(){return"coral-"+a++},getDataTarget:function(a){var e=a.attr("href");return b(a.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,""))},decapitalize:function(a){return a.slice(0,1).toLowerCase()+a.slice(1)},capitalize:function(a){return a.slice(0,1).toUpperCase()+a.slice(1)},plugClass:function(a,c,d){c=c||CUI.util.decapitalize(a.toString());b.fn[c]=
function(e){var f=arguments;return this.each(function(){var h=b(this),g=b.extend({},h.data(),"object"===typeof e&&e,{element:this});h=h.data(c)||new a(g);"string"===typeof e?h[e].apply(h,Array.prototype.slice.call(f,1)):b.isPlainObject(e)&&h.set(e);"function"===typeof d&&d.call(this,h)})};b.fn[c].Constructor=a},buildFunction:function(a,b){b=b||[];"string"===typeof b&&(b=[b]);if(a)try{return new Function(b,"return "+a+"("+b.join(", ")+");")}catch(h){return null}},selectText:function(a,c,d){var e=a.val();
0<e.length&&(c=c||0,d=d||e.length,a=b(a)[0],a.setSelectionRange?(a.blur(),a.setSelectionRange(c,d),a.focus()):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",d-e.length),a.moveStart("character",c),a.select()))},getNested:function(a,b){if(!b)return a;for(b="string"===typeof b?b.split("."):b;a&&0<b.length;)a=a[b.shift()];return a},isTrue:function(a){return"true"===a}};b("html").toggleClass("touch",CUI.util.isTouch)})(jQuery,this);
(function(b,c,d){b.fn.loadWithSpinner=function(a,e,c){var d=b(this);if(a&&(e||d.data("loaded-remote")!==a)){var f=setTimeout(function(){d.html('\x3cdiv class\x3d"spinner large"\x3e\x3c/div\x3e')},50);d.load(a,function(a,b,e){clearTimeout(f);"error"===b&&(d.html('\x3cdiv class\x3d"alert error"\x3e\x3cstrong\x3eERROR\x3c/strong\x3e Failed to load content: '+e.statusText+" ("+e.status+")\x3c/div\x3e"),d.data("loaded-remote",""));"function"===typeof c&&c.call(this,a,b,e)});d.data("loaded-remote",a)}};
b.fn.finger=function(){CUI.util.isTouch&&this.on.apply(this,arguments);return this};b.fn.pointer=function(){CUI.util.isTouch||this.on.apply(this,arguments);return this};b.fn.fipo=function(){var a=Array.prototype.slice.call(arguments,1,arguments.length);this.pointer.apply(this,a);a[0]=arguments[0];this.finger.apply(this,a);return this}})(jQuery,this);
(function(b,c,d){CUI.Widget=new Class({toString:"Widget",construct:function(a){this.$element=b(a.element);var e=CUI.util.decapitalize(this.toString());if(this.$element.data(e)!==d){var f=["An instance of",this,"is already attached to the specified target element. Future versions of CoralUI will throw an exception at this point."].join(" ");c.console.log(f)}this.options=b.extend({},"object"===typeof this.defaults&&this.defaults,this.$element.data(),a);this.$element.data(e,this);this.bind(this.hide);
this.bind(this.show);this.bind(this.toggleVisibility);this.on("change:visible",function(a){this[a.value?"_show":"_hide"]()}.bind(this))},set:function(a,e){if(b.isPlainObject(a))for(var c in a)this._set(c,a[c]);else this._set(a,e);return this},_set:function(a,e){var c=b.Event("beforeChange:"+a,{widget:this,option:a,currentValue:this.options[a],value:e});this.$element.trigger(c);if(c.isDefaultPrevented())return this;this.options[a]=e;c=b.Event("change:"+a,{widget:this,option:a,value:e});this.$element.trigger(c)},
get:function(a){return this.options[a]},on:function(a,b){this.$element.on.apply(this.$element,arguments);return this},off:function(a,b){this.$element.off.apply(this.$element,arguments);return this},show:function(a){a=a||{};if(this.options.visible)return this;if(!a.silent){var e=b.Event("show");this.$element.trigger(e);if(e.isDefaultPrevented())return this}this.options.visible=!0;this._show(a);return this},_show:function(a){this.$element.show()},hide:function(a){a=a||{};if(!this.options.visible)return this;
if(!a.silent){var e=b.Event("hide");this.$element.trigger(e);if(e.isDefaultPrevented())return this}this.options.visible=!1;this._hide(a);return this},_hide:function(a){this.$element.hide()},toggleVisibility:function(){return this[this.options.visible?"hide":"show"]()},setName:function(a){this.toString=function(){return a};return this}});CUI.Widget.fromElement=function(a,b){return b.data(CUI.util.decapitalize(a.toString()))};CUI.Widget.registry={register:function(a,b){CUI.util.plugClass(b);this._widgets[a]=
b;b.init=function(a){this._init(b,a)}.bind(this)},resolve:function(a){return this._widgets[a]},init:function(a,b){this._init(this.resolve(a),b)},getSelectors:function(){var a=[],b;for(b in this._widgets)a.push(b);return a},_widgets:{},_init:function(a,e){a!==d&&e.each(function(){var e=b(this);CUI.Widget.fromElement(a,e)===d&&new a({element:e})})}}})(jQuery,this);
(function(b){CUI.Accordion=new Class({toString:"Accordion",extend:CUI.Widget,construct:function(b){this._parseAttributes();this._setAccordion();this._setListeners();this._makeAccessible();this._updateDOMForDisabled()},defaults:{active:!1,disabled:!1,iconClassCollapsed:"coral-Icon--chevronRight",iconClassExpanded:"coral-Icon--chevronDown"},isAccordion:!1,_parseAttributes:function(){var b=this.$element.attr("data-icon-class-collapsed");b&&(this.options.iconClassCollapsed=b);if(b=this.$element.attr("data-icon-class-expanded"))this.options.iconClassExpanded=
b},_setAccordion:function(){var b=this.$element;if(this.isAccordion=!b.hasClass("coral-Collapsible")&&"collapsible"!==b.data("init")){b.addClass("coral-Accordion");var d=b.children(".is-active").index();!1!==this.options.active?d=this.options.active:this.options.active=d;b.children().each(function(a,b){this._initElement(b,a!=d)}.bind(this))}else this.options.active=b.hasClass("is-active"),this._initElement(b,!this.options.active)},_setListeners:function(){this.$element.on("click",this.isAccordion?
"\x3e .coral-Accordion-item \x3e .coral-Accordion-header":"\x3e .coral-Collapsible-header",this._toggle.bind(this));this.$element.on("change:active",this._changeActive.bind(this));this.$element.on("selectstart",this.isAccordion?".coral-Accordion-header":".coral-Collapsible-header",function(b){b.preventDefault()});this.on("change:disabled",function(b){this._updateDOMForDisabled()}.bind(this))},_updateDOMForDisabled:function(){this.options.disabled?this.$element.addClass("is-disabled").attr("aria-disabled",
!0).find("[role\x3dtab], \x3e [role\x3dbutton]").removeAttr("tabindex").attr("aria-disabled",!0):this.$element.removeClass("is-disabled").attr("aria-disabled",!1).find("[role\x3dtab], \x3e [role\x3dbutton]").each(function(c,d){c=b(d);c.removeAttr("aria-disabled").attr("tabindex",c.is("[aria-selected\x3dtrue][aria-controls], [aria-expanded][aria-controls]")?0:-1)})},_toggle:function(c){this.options.disabled||(c=b(c.target).closest(this._getCollapsibleSelector()),c=c.hasClass("is-active")?!1:this.isAccordion?
c.index():!0,this.setActive(c))},_changeActive:function(){if(this.isAccordion){if(this._collapse(this.$element.children(".is-active")),!1!==this.options.active){var b=this.$element.children().eq(this.options.active);this._expand(b)}}else this.options.active?this._expand(this.$element):this._collapse(this.$element)},setActive:function(b){b!==this.options.active&&(this.options.active=b,this._changeActive())},_initElement:function(c,d){c=b(c);0===this._getHeaderElement(c).length&&this._prependHeaderElement(c);
0===this._getHeaderIconElement(c).length&&this._prependHeaderIconElement(c);0===this._getContentElement(c).length&&this._prependContentElement(c);c.addClass(this.isAccordion?"coral-Accordion-item":"coral-Collapsible");var a=this._getHeaderElement(c),e=this._getContentElement(c),f=this._getHeaderIconElement(c);a.prependTo(c);d?(c.removeClass("is-active"),f.hasClass("coral-Icon")||f.addClass("coral-Icon coral-Icon--sizeXS"),f.removeClass(this.options.iconClassExpanded).addClass(this.options.iconClassCollapsed),
e.hide()):(c.addClass("is-active"),f.hasClass("coral-Icon")||f.addClass("coral-Icon coral-Icon--sizeXS"),f.removeClass(this.options.iconClassCollapsed).addClass(this.options.iconClassExpanded),e.show())},_collapse:function(b){var c=this._getHeaderElement(b),a=this._getContentElement(b);this._getHeaderIconElement(b).removeClass(this.options.iconClassExpanded).addClass(this.options.iconClassCollapsed);a.slideUp({duration:"fast",complete:function(){b.removeClass("is-active");b.trigger("deactivate")},
progress:function(a,c,d){b.trigger("collapse",{animation:a,progress:c,remainingMs:d})}});this.isAccordion?c.attr({tabindex:c.is(document.activeElement)?0:-1,"aria-selected":!1}):c.attr({"aria-expanded":!1});a.attr({"aria-hidden":!0,"aria-expanded":!1})},_expand:function(b){var c=this._getHeaderElement(b),a=this._getContentElement(b),e=this._getHeaderIconElement(b);b.addClass("is-active");e.removeClass(this.options.iconClassCollapsed).addClass(this.options.iconClassExpanded);a.slideDown({duration:"fast",
complete:function(){b.trigger("activate")},progress:function(a,e,c){b.trigger("expand",{animation:a,progress:e,remainingMs:c})}});this.isAccordion?c.attr({tabindex:0,"aria-selected":!0}):c.attr({"aria-expanded":!0});a.attr({"aria-hidden":!1,"aria-expanded":!0}).show()},_getCollapsibleSelector:function(){return this.isAccordion?".coral-Accordion-item":".coral-Collapsible"},_getHeaderElement:function(b){return b.find(this.isAccordion?"\x3e .coral-Accordion-header":"\x3e .coral-Collapsible-header")},
_getHeaderFirstElement:function(b){return b.find(this.isAccordion?"\x3e .coral-Accordion-header:first":"\x3e .coral-Collapsible-header:first")},_prependHeaderElement:function(b){b.prepend('\x3ch3 class\x3d"'+(this.isAccordion?"coral-Accordion-header":"coral-Collapsible-header")+'"\x3e\x26nbsp;\x3c/h3\x3e')},_getHeaderIconElement:function(b){return b.find(this.isAccordion?"\x3e .coral-Accordion-header \x3e i":"\x3e .coral-Collapsible-header \x3e i")},_prependHeaderIconElement:function(b){this._getHeaderElement(b).prepend("\x3ci\x3e\x3c/i\x3e")},
_getContentElement:function(b){return b.find(this.isAccordion?"\x3e .coral-Accordion-content":"\x3e .coral-Collapsible-content")},_prependContentElement:function(b){b.prepend('\x3cdiv class\x3d"'+(this.isAccordion?"coral-Accordion-content":"coral-Collapsible-content")+'"\x3e\x3c/div\x3e')},_makeAccessible:function(){var c="accordion-"+(new Date).getTime()+"-";if(this.isAccordion)this.$element.attr({role:"tablist"}),this.$element.children(".coral-Accordion-item").each(function(a,e){e=b(e);var d=e.find("\x3e .coral-Accordion-header:first"),
f=e.hasClass("is-active"),h=c+"panel-"+a,g=d.next("div");e.attr({role:"presentation"});d.attr({role:"tab",id:d.attr("id")||c+"tab-"+a,"aria-controls":h,"aria-selected":f,tabindex:f?0:-1});g.attr({role:"tabpanel",id:h,"aria-labelledby":d.attr("id"),"aria-expanded":f,"aria-hidden":!f})});else{c="collapsible-"+(new Date).getTime()+"-";var d=this.$element;var a=this._getHeaderFirstElement(d);var e=d.hasClass("is-active");var f=c+"panel";d=a.next("div");a.attr({role:"button",id:a.attr("id")||c+"heading",
"aria-controls":f,"aria-expanded":e,tabindex:0});d.attr({id:f,"aria-labelledby":a.attr("id"),"aria-expanded":e,"aria-hidden":!e})}this.$element.on("keydown",":focusable",this._onKeyDown.bind(this));this.$element.on("focusin.accordion",":focusable",this._onFocusIn.bind(this));this.$element.on("focusout.accordion",".coral-Accordion-header:focusable",this._onFocusOut.bind(this));this.$element.on("touchstart.accordion, mousedown.accordion",".coral-Accordion-header:focusable",this._onMouseDown.bind(this))},
_onKeyDown:function(c){var d=b(c.currentTarget).closest(this._getCollapsibleSelector()),a=this._getHeaderFirstElement(d),e=b(c.currentTarget).is(a),f=!0;switch(c.which){case 13:case 32:e?a.trigger("click"):f=!1;break;case 33:case 37:case 38:e&&this.isAccordion||33===c.which&&(c.metaKey||c.ctrlKey)?0===this._getHeaderFirstElement(d.prev()).focus().length&&this.$element.find("\x3e .coral-Accordion-item:last \x3e .coral-Accordion-header:first").focus():e||!c.metaKey&&!c.ctrlKey?f=!1:a.focus();break;
case 34:case 39:case 40:e&&this.isAccordion?0===this._getHeaderFirstElement(d.next()).focus().length&&this.$element.find("\x3e .coral-Accordion-item:first \x3e .coral-Accordion-header:first").focus():e||34!==c.which||!c.metaKey&&!c.ctrlKey?f=!1:a.focus();break;case 36:e&&this.isAccordion?this.$element.find("\x3e .coral-Accordion-item:first \x3e .coral-Accordion-header:first").focus():f=!1;break;case 35:e&&this.isAccordion?this.$element.find("\x3e .coral-Accordion-item:last \x3e .coral-Accordion-header:first").focus():
f=!1;break;default:f=!1}!0===f&&c.preventDefault()},_onFocusIn:function(c){var d=b(c.currentTarget).closest(this._getCollapsibleSelector()),a=this._getHeaderFirstElement(d);c=b(c.currentTarget).is(a);this.options.disabled||(c&&(this.isAccordion&&this.$element.find("\x3e .coral-Accordion-item \x3e .coral-Accordion-header[role\x3dtab]").attr("tabindex",-1),a.data("collapsible-mousedown")?a.removeData("collapsible-mousedown"):d.focus()),a.attr("tabindex",0))},_onFocusOut:function(c){var d=b(c.currentTarget).closest(this._getCollapsibleSelector()),
a=this._getHeaderFirstElement(d);b(c.currentTarget).is(a)&&d.blur().removeData("collapsible-mousedown")},_onMouseDown:function(c){var d=b(c.currentTarget).closest(this._getCollapsibleSelector());d=this._getHeaderFirstElement(d);b(c.currentTarget).is(d)&&d.data("collapsible-mousedown",!0)}});CUI.Widget.registry.register("accordion",CUI.Accordion);b(document).on("cui-contentloaded.data-api",function(c){CUI.Accordion.init(b("[data-init~\x3daccordion],[data-init~\x3dcollapsible]",c.target))})})(window.jQuery);
(function(b){CUI.Alert=new Class({toString:"Alert",extend:CUI.Widget,construct:function(b){this.$element.delegate('[data-dismiss\x3d"alert"]',"click.dismiss.alert",this.hide);this.$element.addClass("coral-Alert");this.$element.on("change:heading",this._setHeading.bind(this));this.$element.on("change:content",this._setContent.bind(this));this.$element.on("change:type",this._setType.bind(this));this.$element.on("change:closeable",this._setCloseable.bind(this));this.$element.on("change:size",this._setSize.bind(this));
for(var c in this._types)if(this.$element.hasClass(this._types[c]["class"]))return this.options.type=c,!1;for(var a in this._sizes)if(this.$element.hasClass(this._sizes[a]))return this.options.size=a,!1;this._setCloseable();this._setType();this._setSize();this._setHeading();this._setContent()},defaults:{type:"error",size:"small",heading:void 0,visible:!0,closeable:!0},_types:{error:{"class":"coral-Alert--error",iconClass:"coral-Icon--alert"},notice:{"class":"coral-Alert--notice",iconClass:"coral-Icon--alert"},
success:{"class":"coral-Alert--success",iconClass:"coral-Icon--checkCircle"},help:{"class":"coral-Alert--help",iconClass:"coral-Icon--helpCircle"},info:{"class":"coral-Alert--info",iconClass:"coral-Icon--infoCircle"}},_sizes:{small:"",large:"coral-Alert--large"},_setContent:function(){"string"===typeof this.options.content&&this.$element.find("div").html(this.options.content)},_setHeading:function(){"string"===typeof this.options.heading&&this.$element.find("strong").html(this.options.heading)},_setType:function(){if(this._isValidType(this.options.type)){var b=
this.$element.find("\x3e .coral-Icon"),d;for(d in this._types)this.$element.removeClass(this._types[d]["class"]),b.removeClass(this._types[d].iconClass);this.$element.addClass(this._types[this.options.type]["class"]);b.addClass(this._types[this.options.type].iconClass)}},_setSize:function(){this._isValidSize(this.options.size)&&("small"===this.options.size?this.$element.removeClass(this._sizes.large):this.$element.addClass(this._sizes.large))},_setCloseable:function(){var b=this.$element.find(".coral-Alert-closeButton");
if(!b.length&&this.options.closeable)this.$element.prepend('\x3cbutton class\x3d"coral-MinimalButton coral-Alert-closeButton" title\x3d"Close" data-dismiss\x3d"alert"\x3e\x3ci class\x3d"coral-Icon coral-Icon--sizeXS coral-Icon--close coral-MinimalButton-icon"\x3e\x3c/i\x3e\x3c/button\x3e');else b[this.options.closeable?"show":"hide"]()},_isValidType:function(b){return"string"==typeof b&&this._types.hasOwnProperty(b)},_isValidSize:function(b){return"string"==typeof b&&this._sizes.hasOwnProperty(b)},
_fixType:function(b){return this._isValidType(b)?b:this.defaults.type},_fixHeading:function(b){return void 0===b?this._fixType(this.options.type).toUpperCase():b}});CUI.Widget.registry.register("alert",CUI.Alert);if(CUI.options.dataAPI)b(document).on("click.alert.data-api",'[data-dismiss\x3d"alert"]',function(c){b(c.currentTarget).parent().hide();c.preventDefault()})})(window.jQuery);
(function(b){CUI.CharacterCount=new Class({toString:"CharacterCount",extend:CUI.Widget,construct:function(c){this.$input=b(this.options.related);this.$input.attr("maxlength")&&(this.options.maxlength=this.$input.attr("maxlength"));this.$input.removeAttr("maxlength");this.$input.on("input",this._render.bind(this));this.$element.on("change:maxlength",this._render.bind(this));this.$element.attr("aria-live","polite");this._render()},defaults:{maxlength:null},_getLength:function(){return this.$input.is("input,textarea")?
this.$input.val().length:this.$input.text().length},_render:function(){var b=this._getLength(),d=this.options.maxlength?b>this.options.maxlength:!1;this.$input.toggleClass("is-invalid",d);this.$element.toggleClass("is-invalid",d);this.$element.text(this.options.maxlength?this.options.maxlength-b:b)}});CUI.Widget.registry.register("character-count",CUI.CharacterCount);b(document).on("cui-contentloaded.data-api",function(c){CUI.CharacterCount.init(b("[data-init~\x3dcharacter-count]",c.target))})})(window.jQuery);
(function(b){CUI.CycleButton=new Class({toString:"CycleButton",extend:CUI.Widget,construct:function(){this.$element.on("click",".coral-CycleButton-button",function(c){if(!c._cycleButton){c.stopImmediatePropagation();c.preventDefault();c=b(c.delegateTarget).find(".coral-CycleButton-button");var d=this?c.index(this):-1;d=-1===d||d===c.length-1?c.eq(0):c.eq(d+1);c.removeClass("is-active");d.addClass("is-active").focus();c=b.Event("click",{_cycleButton:!0});d.trigger(c)}})}});CUI.Widget.registry.register("cyclebutton",
CUI.CycleButton);b(document).on("cui-contentloaded.data-api",function(c){CUI.CycleButton.init(b("[data-init~\x3d'cyclebutton']",c.target))})})(window.jQuery);CUI.util.HTTP={isOkStatus:function(b){try{return 0===String(b).indexOf("2")}catch(c){return!1}},html5UploadSupported:function(){var b=new XMLHttpRequest;return!!(b&&"upload"in b&&"onprogress"in b.upload)}};
(function(b){CUI.FileUpload=new Class({toString:"FileUpload",extend:CUI.Widget,construct:function(b){this._render();this.inputElement.on("change",function(b){this.options.disabled||this._onFileSelectionChange(b)}.bind(this));this._makeAccessible()},defaults:{name:"file",placeholder:null,uploadUrl:null,uploadUrlBuilder:null,disabled:!1,multiple:!1,sizeLimit:null,mimeTypes:[],autoStart:!1,fileNameParameter:null,useHTML5:!0,dropZone:null,events:{}},inputElement:null,$inputContainer:null,fileNameElement:null,
uploadQueue:[],_render:function(){this.$inputContainer=this.$element.find(".coral-FileUpload-trigger");this.inputElement=this.$inputContainer.find(".coral-FileUpload-input");this._readDataFromMarkup();CUI.util.HTTP.html5UploadSupported()||(this.options.useHTML5=!1);this._createMissingElements();if(this.options.events&&"object"===typeof this.options.events)for(var b in this.options.events)this._registerEventHandler(b,this.options.events[b]);this.options.useHTML5?this._registerDropZone():this.options.dropZone=
null;this.options.placeholder||(this.options.placeholder=this.inputElement.attr("placeholder"));this.options.autoStart&&this._registerEventHandler("fileselected",function(b){b.fileUpload.uploadFile(b.item)});this.options.uploadUrlBuilder&&(this.options.uploadUrl=this.options.uploadUrlBuilder(this));if(!this.options.uploadUrl||/\$\{.+\}/.test(this.options.uploadUrl))this.options.disabled=!0;this._update()},_makeAccessible:function(){if(this.$inputContainer.is("button")){var c=b("\x3cspan\x3e"),d=this.$inputContainer.prop("attributes");
b.each(d,function(){c.attr(this.name,this.value)});c.insertBefore(this.$inputContainer);c.append(this.$inputContainer.children());this.$inputContainer.remove();this.$inputContainer=c}if((this.inputElement.attr("id")&&0===b('label[for\x3d"'+this.inputElement.attr("id")+'"]').length||0===this.inputElement.closest("label").text().trim().length)&&this.inputElement.is("[title]:not([aria-label]):not([aria-labelledby])")){this.inputElement.attr("id")||this.inputElement.attr("id",CUI.util.getNextId());d=
b("\x3clabel\x3e");var a=this.$element.find(".coral-FileUpload-trigger .coral-Icon");a.length||(a=this.$element.find(".coral-FileUpload-trigger input"));d.attr("for",this.inputElement.attr("id")).text(this.inputElement.attr("title"));this.inputElement.closest(".coral-Icon").length&&d.addClass("u-coral-screenReaderOnly");a.after(d)}this.inputElement.on("focusin.cui-fileupload focusout.cui-fileupload",this._toggleIsFocused.bind(this))},_toggleIsFocused:function(b){this.$inputContainer.toggleClass("is-focused",
"focusin"===b.type)},_registerDropZone:function(){var c=this;c.options.dropZone||(c.$element.addClass("coral-FileUpload--dropSupport"),c.options.dropZone=c.$element);try{c.options.dropZone=b(c.options.dropZone)}catch(d){delete c.options.dropZone}if(c.options.dropZone)c.options.dropZone.on("dragenter",function(b){c._isActive()&&(b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),c.$element.trigger({type:"dropzonedragenter",originalEvent:b,fileUpload:c}));return!1}).on("dragover",
function(b){c._isActive()&&(c.isDragOver=!0,b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),c.$element.trigger({type:"dropzonedragover",originalEvent:b,fileUpload:c}));return!1}).on("dragleave",function(b){c._isActive()&&(b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),c.isDragOver=!1,window.setTimeout(function(){c.isDragOver||c.$element.trigger({type:"dropzonedragleave",originalEvent:b,fileUpload:c})},1));return!1}).on("drop",function(b){if(c._isActive()){b.stopPropagation&&
b.stopPropagation();b.preventDefault&&b.preventDefault();var a=b.originalEvent.dataTransfer.files;c.$element.trigger({type:"dropzonedrop",originalEvent:b,files:a,fileUpload:c});c._onFileSelectionChange(b,a)}return!1})},_registerEventHandler:function(b,d){this.$element.on(b,d)},_createMissingElements:function(){var c=this.options.useHTML5&&this.options.multiple;0===this.inputElement.length?(this.inputElement=b("\x3cinput/\x3e",{type:"file","class":"coral-FileUpload-input",name:this.options.name,multiple:c}),
this.$inputContainer.prepend(this.inputElement)):this.inputElement.attr("multiple",c)},_readDataFromMarkup:function(){var c=this;this.inputElement.attr("name")&&(this.options.name=this.inputElement.attr("name"));this.inputElement.attr("placeholder")&&(this.options.placeholder=this.inputElement.attr("placeholder"));this.inputElement.data("placeholder")&&(this.options.placeholder=this.inputElement.data("placeholder"));if(this.inputElement.attr("disabled")||this.inputElement.data("disabled"))this.options.disabled=
!0;if(this.inputElement.attr("multiple")||this.inputElement.data("multiple"))this.options.multiple=!0;this.inputElement.data("uploadUrl")&&(this.options.uploadUrl=this.inputElement.data("uploadUrl"));this.inputElement.data("uploadUrlBuilder")&&(this.options.uploadUrlBuilder=CUI.util.buildFunction(this.inputElement.data("uploadUrlBuilder"),["fileUpload"]));this.inputElement.data("mimeTypes")&&(this.options.mimeTypes=this.inputElement.data("mimeTypes"));this.inputElement.data("sizeLimit")&&(this.options.sizeLimit=
this.inputElement.data("sizeLimit"));this.inputElement.data("autoStart")&&(this.options.autoStart=!0);this.inputElement.data("usehtml5")&&(this.options.useHTML5=!0===this.inputElement.data("usehtml5"));this.inputElement.data("dropzone")&&(this.options.dropZone=this.inputElement.data("dropzone"));this.inputElement.data("fileNameParameter")&&(this.options.fileNameParameter=this.inputElement.data("fileNameParameter"));var d=this.inputElement.length?this.inputElement.get(0):void 0;d&&b.each(d.attributes,
function(a,b){(a=/^data-event-(.*)$/.exec(b.name))&&1<a.length&&(b=CUI.util.buildFunction(b.value,["event"]))&&(c.options.events[a[1]]=b.bind(c))})},_update:function(){this.options.placeholder&&this.inputElement.attr("placeholder",this.options.placeholder);this.options.disabled?(this.$element.addClass("is-disabled"),this.$inputContainer.addClass("is-disabled"),this.inputElement.attr("disabled","disabled")):(this.$element.removeClass("is-disabled"),this.$inputContainer.removeClass("is-disabled"),this.inputElement.removeAttr("disabled"))},
_onFileSelectionChange:function(b,d){var a=0,e=0;if(this.options.useHTML5)for(d=d||b.target.files,b=0;b<d.length;b++)this._addFile(d[b])?a++:e++;else this._addFile(b.target)?a++:e++;this.$element.trigger({type:"filelistprocessed",addedCount:a,rejectedCount:e,fileUpload:this})},_addFile:function(c){if(this.options.useHTML5){var d=c.name;var a=c.type}else d=b(c).attr("value")||c.value;a=a||CUI.FileUpload.MimeTypes.getMimeTypeFromFileName(d);-1!==d.lastIndexOf("\\")&&(d=d.substring(d.lastIndexOf("\\")+
1));this.options.fileNameParameter&&!this.options.autoStart&&(this.fileNameElement||(this.fileNameElement=b('input[name\x3d"'+this.options.fileNameParameter+'"]'),0===this.fileNameElement.length&&(this.fileNameElement=b("\x3cinput/\x3e",{type:"hidden",name:this.options.fileNameParameter}),this.fileNameElement.appendTo(this.$element))),this.fileNameElement.val(d));if(!this._getQueueItemByFileName(d)){d={fileName:d};if(this.options.useHTML5&&(d.file=c,d.fileSize=c.size,this.options.sizeLimit&&c.size>
this.options.sizeLimit))return this.$element.trigger({type:"filerejected",item:d,message:"File is too big",fileUpload:this}),!1;if(!this._checkMimeTypes(a))return this.$element.trigger({type:"filerejected",item:d,message:"File mime type is not allowed",fileUpload:this}),!1;this.uploadQueue.push(d);this.$element.trigger({type:"queuechanged",item:d,operation:"ADD",queueLength:this.uploadQueue.length,fileUpload:this});this.$element.trigger({type:"fileselected",item:d,fileUpload:this});return!0}return!1},
_checkMimeTypes:function(b){var c=this.options.mimeTypes.length,a;if(0===c)return!0;for(a=0;a<c;a+=1){var e=b,f=this.options.mimeTypes[a],h=/(.+)\/(.+)$/,g=/\.(.+)$/,k=/.*/,m=!1;"*"===f||".*"===f||"*/*"===f?m=!0:e&&e.match(h)?f.match(h)?m=e===f:f.match(g)?m=e===CUI.FileUpload.MimeTypes[f]:f.match(k)&&(m=e.split("/")[0]===f):m=!1;if(m)return!0}return!1},_getQueueIndex:function(c){var d=-1;b.each(this.uploadQueue,function(a,b){if(b.fileName===c)return d=a,!1});return d},_getQueueItem:function(b){return-1<
b?this.uploadQueue[b]:null},_getQueueItemByFileName:function(b){return this._getQueueItem(this._getQueueIndex(b))},uploadFile:function(c){var d=this;if(d.options.useHTML5){c.xhr=new XMLHttpRequest;c.xhr.addEventListener("loadstart",function(a){d._onUploadStart(a,c)},!1);c.xhr.addEventListener("load",function(a){d._onUploadLoad(a,c)},!1);c.xhr.addEventListener("error",function(a){d._onUploadError(a,c)},!1);c.xhr.addEventListener("abort",function(a){d._onUploadCanceled(a,c)},!1);c.xhr.upload.addEventListener("progress",
function(a){d._onUploadProgress(a,c)},!1);var a=c.file,e=c.fileName;if(window.FormData){var f=new FormData;d.options.fileNameParameter?(f.append(d.inputElement.attr("name"),a),f.append(d.options.fileNameParameter||"fileName",e)):f.append(e,a);f.append("_charset_","utf-8");null!==c.parameters&&void 0!==c.parameters&&c.parameters.forEach(function(a){f.append(a.name,a.value)});c.xhr.open("POST",d.options.uploadUrl+"?:ck\x3d"+(new Date).getTime(),!0);c.xhr.send(f)}else c.xhr.open("PUT",d.options.uploadUrl+
"/"+e,!0),c.xhr.send(a)}else{a=b(document.body);e="upload-"+(new Date).getTime();var h=b("\x3ciframe/\x3e",{name:e,"class":"coral-FileUpload-iframe"}).appendTo(a),g=b("\x3cform/\x3e",{method:"post",enctype:"multipart/form-data",action:d.options.uploadUrl,target:e,"class":"coral-FileUpload-form"}).appendTo(a);a=b("\x3cinput/\x3e",{type:"hidden",name:"_charset_",value:"utf-8"});g.prepend(a);null!==c.parameters&&void 0!==c.parameters&&c.parameters.forEach(function(a){a=b("\x3cinput/\x3e",{type:"hidden",
name:a.name,value:a.value});g.prepend(a)});this.options.fileNameParameter&&(this.fileNameElement=b("\x3cinput/\x3e",{type:"hidden",name:this.options.fileNameParameter,value:c.fileName}),g.prepend(this.fileNameElement));h.one("load",function(){var a=this.contentWindow.document.body.innerHTML;d.inputElement.appendTo(d.$inputContainer);g.remove();h.remove();d.$element.trigger({type:"fileuploadload",item:c,content:a,fileUpload:d})});d.inputElement.prependTo(g);g.submit()}},cancelUpload:function(b){b.xhr.abort()},
_onUploadStart:function(b,d){this.$element.trigger({type:"fileuploadstart",item:d,originalEvent:b,fileUpload:this})},_onUploadProgress:function(b,d){this.$element.trigger({type:"fileuploadprogress",item:d,originalEvent:b,fileUpload:this})},_onUploadLoad:function(b,d){var a=b.target;4===a.readyState&&this._internalOnUploadLoad(b,d,a.status,a.responseText)},_internalOnUploadLoad:function(b,d,a,e){CUI.util.HTTP.isOkStatus(a)?this.$element.trigger({type:"fileuploadsuccess",item:d,originalEvent:b,fileUpload:this}):
this.$element.trigger({type:"fileuploaderror",item:d,originalEvent:b,message:e,fileUpload:this});this.fileNameElement&&this.fileNameElement.remove();this.uploadQueue.splice(this._getQueueIndex(d.fileName),1);this.$element.trigger({type:"queuechanged",item:d,operation:"REMOVE",queueLength:this.uploadQueue.length,fileUpload:this})},_onUploadError:function(b,d){this.$element.trigger({type:"fileuploaderror",item:d,originalEvent:b,fileUpload:this})},_onUploadCanceled:function(b,d){this.$element.trigger({type:"fileuploadcanceled",
item:d,originalEvent:b,fileUpload:this})},_isActive:function(){return!this.inputElement.is(":disabled")}});CUI.Widget.registry.register("fileupload",CUI.FileUpload);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(c){CUI.FileUpload.init(b("[data-init~\x3d'fileupload']",c.target))})})(window.jQuery);
(function(b){CUI.FileUpload.MimeTypes={".123":"application/vnd.lotus-1-2-3",".3dml":"text/vnd.in3d.3dml",".3g2":"video/3gpp2",".3gp":"video/3gpp",".a":"application/octet-stream",".aab":"application/x-authorware-bin",".aac":"audio/x-aac",".aam":"application/x-authorware-map",".aas":"application/x-authorware-seg",".abw":"application/x-abiword",".acc":"application/vnd.americandynamics.acc",".ace":"application/x-ace-compressed",".acu":"application/vnd.acucobol",".acutc":"application/vnd.acucorp",".adp":"audio/adpcm",
".aep":"application/vnd.audiograph",".afm":"application/x-font-type1",".afp":"application/vnd.ibm.modcap",".ai":"application/postscript",".aif":"audio/x-aiff",".aifc":"audio/x-aiff",".aiff":"audio/x-aiff",".air":"application/vnd.adobe.air-application-installer-package+zip",".ami":"application/vnd.amiga.ami",".apk":"application/vnd.android.package-archive",".application":"application/x-ms-application",".apr":"application/vnd.lotus-approach",".asc":"application/pgp-signature",".asf":"video/x-ms-asf",
".asm":"text/x-asm",".aso":"application/vnd.accpac.simply.aso",".asx":"video/x-ms-asf",".atc":"application/vnd.acucorp",".atom":"application/atom+xml",".atomcat":"application/atomcat+xml",".atomsvc":"application/atomsvc+xml",".atx":"application/vnd.antix.game-component",".au":"audio/basic",".avi":"video/x-msvideo",".aw":"application/applixware",".azf":"application/vnd.airzip.filesecure.azf",".azs":"application/vnd.airzip.filesecure.azs",".azw":"application/vnd.amazon.ebook",".bat":"application/x-msdownload",
".bcpio":"application/x-bcpio",".bdf":"application/x-font-bdf",".bdm":"application/vnd.syncml.dm+wbxml",".bh2":"application/vnd.fujitsu.oasysprs",".bin":"application/octet-stream",".bmi":"application/vnd.bmi",".bmp":"image/bmp",".book":"application/vnd.framemaker",".box":"application/vnd.previewsystems.box",".boz":"application/x-bzip2",".bpk":"application/octet-stream",".btif":"image/prs.btif",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".c":"text/x-c",".c4d":"application/vnd.clonk.c4group",
".c4f":"application/vnd.clonk.c4group",".c4g":"application/vnd.clonk.c4group",".c4p":"application/vnd.clonk.c4group",".c4u":"application/vnd.clonk.c4group",".cab":"application/vnd.ms-cab-compressed",".car":"application/vnd.curl.car",".cat":"application/vnd.ms-pki.seccat",".cc":"text/x-c",".cct":"application/x-director",".ccxml":"application/ccxml+xml",".cdbcmsg":"application/vnd.contact.cmsg",".cdf":"application/x-netcdf",".cdkey":"application/vnd.mediastation.cdkey",".cdx":"chemical/x-cdx",".cdxml":"application/vnd.chemdraw+xml",
".cdy":"application/vnd.cinderella",".cer":"application/pkix-cert",".cgm":"image/cgm",".chat":"application/x-chat",".chm":"application/vnd.ms-htmlhelp",".chrt":"application/vnd.kde.kchart",".cif":"chemical/x-cif",".cii":"application/vnd.anser-web-certificate-issue-initiation",".cil":"application/vnd.ms-artgalry",".cla":"application/vnd.claymore",".class":"application/java-vm",".clkk":"application/vnd.crick.clicker.keyboard",".clkp":"application/vnd.crick.clicker.palette",".clkt":"application/vnd.crick.clicker.template",
".clkw":"application/vnd.crick.clicker.wordbank",".clkx":"application/vnd.crick.clicker",".clp":"application/x-msclip",".cmc":"application/vnd.cosmocaller",".cmdf":"chemical/x-cmdf",".cml":"chemical/x-cml",".cmp":"application/vnd.yellowriver-custom-menu",".cmx":"image/x-cmx",".cod":"application/vnd.rim.cod",".com":"application/x-msdownload",".conf":"text/plain",".cpio":"application/x-cpio",".cpp":"text/x-c",".cpt":"application/mac-compactpro",".crd":"application/x-mscardfile",".crl":"application/pkix-crl",
".crt":"application/x-x509-ca-cert",".csh":"application/x-csh",".csml":"chemical/x-csml",".csp":"application/vnd.commonspace",".css":"text/css",".cst":"application/x-director",".csv":"text/csv",".cu":"application/cu-seeme",".curl":"text/vnd.curl",".cww":"application/prs.cww",".cxt":"application/x-director",".cxx":"text/x-c",".daf":"application/vnd.mobius.daf",".dataless":"application/vnd.fdsn.seed",".davmount":"application/davmount+xml",".dcr":"application/x-director",".dcurl":"text/vnd.curl.dcurl",
".dd2":"application/vnd.oma.dd2+xml",".ddd":"application/vnd.fujixerox.ddd",".deb":"application/x-debian-package",".def":"text/plain",".deploy":"application/octet-stream",".der":"application/x-x509-ca-cert",".dfac":"application/vnd.dreamfactory",".dic":"text/x-c",".diff":"text/plain",".dir":"application/x-director",".dis":"application/vnd.mobius.dis",".dist":"application/octet-stream",".distz":"application/octet-stream",".djv":"image/vnd.djvu",".djvu":"image/vnd.djvu",".dll":"application/x-msdownload",
".dmg":"application/octet-stream",".dms":"application/octet-stream",".dna":"application/vnd.dna",".doc":"application/msword",".docm":"application/vnd.ms-word.document.macroenabled.12",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dot":"application/msword",".dotm":"application/vnd.ms-word.template.macroenabled.12",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".dp":"application/vnd.osgi.dp",".dpg":"application/vnd.dpgraph",".dsc":"text/prs.lines.tag",
".dtb":"application/x-dtbook+xml",".dtd":"application/xml-dtd",".dts":"audio/vnd.dts",".dtshd":"audio/vnd.dts.hd",".dump":"application/octet-stream",".dvi":"application/x-dvi",".dwf":"model/vnd.dwf",".dwg":"image/vnd.dwg",".dxf":"image/vnd.dxf",".dxp":"application/vnd.spotfire.dxp",".dxr":"application/x-director",".ecelp4800":"audio/vnd.nuera.ecelp4800",".ecelp7470":"audio/vnd.nuera.ecelp7470",".ecelp9600":"audio/vnd.nuera.ecelp9600",".ecma":"application/ecmascript",".edm":"application/vnd.novadigm.edm",
".edx":"application/vnd.novadigm.edx",".efif":"application/vnd.picsel",".ei6":"application/vnd.pg.osasli",".elc":"application/octet-stream",".eml":"message/rfc822",".emma":"application/emma+xml",".eol":"audio/vnd.digital-winds",".eot":"application/vnd.ms-fontobject",".eps":"application/postscript",".epub":"application/epub+zip",".es3":"application/vnd.eszigno3+xml",".esf":"application/vnd.epson.esf",".et3":"application/vnd.eszigno3+xml",".etx":"text/x-setext",".exe":"application/x-msdownload",".ext":"application/vnd.novadigm.ext",
".ez":"application/andrew-inset",".ez2":"application/vnd.ezpix-album",".ez3":"application/vnd.ezpix-package",".f":"text/x-fortran",".f4v":"video/x-f4v",".f77":"text/x-fortran",".f90":"text/x-fortran",".fbs":"image/vnd.fastbidsheet",".fdf":"application/vnd.fdf",".fe_launch":"application/vnd.denovo.fcselayout-link",".fg5":"application/vnd.fujitsu.oasysgp",".fgd":"application/x-director",".fh":"image/x-freehand",".fh4":"image/x-freehand",".fh5":"image/x-freehand",".fh7":"image/x-freehand",".fhc":"image/x-freehand",
".fig":"application/x-xfig",".fli":"video/x-fli",".flo":"application/vnd.micrografx.flo",".flv":"video/x-flv",".flw":"application/vnd.kde.kivio",".flx":"text/vnd.fmi.flexstor",".fly":"text/vnd.fly",".fm":"application/vnd.framemaker",".fnc":"application/vnd.frogans.fnc",".for":"text/x-fortran",".fpx":"image/vnd.fpx",".frame":"application/vnd.framemaker",".fsc":"application/vnd.fsc.weblaunch",".fst":"image/vnd.fst",".ftc":"application/vnd.fluxtime.clip",".fti":"application/vnd.anser-web-funds-transfer-initiation",
".fvt":"video/vnd.fvt",".fzs":"application/vnd.fuzzysheet",".g3":"image/g3fax",".gac":"application/vnd.groove-account",".gdl":"model/vnd.gdl",".geo":"application/vnd.dynageo",".gex":"application/vnd.geometry-explorer",".ggb":"application/vnd.geogebra.file",".ggt":"application/vnd.geogebra.tool",".ghf":"application/vnd.groove-help",".gif":"image/gif",".gim":"application/vnd.groove-identity-message",".gmx":"application/vnd.gmx",".gnumeric":"application/x-gnumeric",".gph":"application/vnd.flographit",
".gqf":"application/vnd.grafeq",".gqs":"application/vnd.grafeq",".gram":"application/srgs",".gre":"application/vnd.geometry-explorer",".grv":"application/vnd.groove-injector",".grxml":"application/srgs+xml",".gsf":"application/x-font-ghostscript",".gtar":"application/x-gtar",".gtm":"application/vnd.groove-tool-message",".gtw":"model/vnd.gtw",".gv":"text/vnd.graphviz",".gz":"application/x-gzip",".h":"text/x-c",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".hbci":"application/vnd.hbci",
".hdf":"application/x-hdf",".hh":"text/x-c",".hlp":"application/winhlp",".hpgl":"application/vnd.hp-hpgl",".hpid":"application/vnd.hp-hpid",".hps":"application/vnd.hp-hps",".hqx":"application/mac-binhex40",".htke":"application/vnd.kenameaapp",".htm":"text/html",".html":"text/html",".hvd":"application/vnd.yamaha.hv-dic",".hvp":"application/vnd.yamaha.hv-voice",".hvs":"application/vnd.yamaha.hv-script",".icc":"application/vnd.iccprofile",".ice":"x-conference/x-cooltalk",".icm":"application/vnd.iccprofile",
".ico":"image/x-icon",".ics":"text/calendar",".ief":"image/ief",".ifb":"text/calendar",".ifm":"application/vnd.shana.informed.formdata",".iges":"model/iges",".igl":"application/vnd.igloader",".igs":"model/iges",".igx":"application/vnd.micrografx.igx",".iif":"application/vnd.shana.informed.interchange",".imp":"application/vnd.accpac.simply.imp",".ims":"application/vnd.ms-ims",".in":"text/plain",".ipk":"application/vnd.shana.informed.package",".irm":"application/vnd.ibm.rights-management",".irp":"application/vnd.irepository.package+xml",
".iso":"application/octet-stream",".itp":"application/vnd.shana.informed.formtemplate",".ivp":"application/vnd.immervision-ivp",".ivu":"application/vnd.immervision-ivu",".jad":"text/vnd.sun.j2me.app-descriptor",".jam":"application/vnd.jam",".jar":"application/java-archive",".java":"text/x-java-source",".jisp":"application/vnd.jisp",".jlt":"application/vnd.hp-jlyt",".jnlp":"application/x-java-jnlp-file",".joda":"application/vnd.joost.joda-archive",".jpe":"image/jpeg",".jpeg":"image/jpeg",".jpg":"image/jpeg",
".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".js":"application/javascript",".json":"application/json",".kar":"audio/midi",".karbon":"application/vnd.kde.karbon",".kfo":"application/vnd.kde.kformula",".kia":"application/vnd.kidspiration",".kil":"application/x-killustrator",".kml":"application/vnd.google-earth.kml+xml",".kmz":"application/vnd.google-earth.kmz",".kne":"application/vnd.kinar",".knp":"application/vnd.kinar",".kon":"application/vnd.kde.kontour",".kpr":"application/vnd.kde.kpresenter",
".kpt":"application/vnd.kde.kpresenter",".ksh":"text/plain",".ksp":"application/vnd.kde.kspread",".ktr":"application/vnd.kahootz",".ktz":"application/vnd.kahootz",".kwd":"application/vnd.kde.kword",".kwt":"application/vnd.kde.kword",".latex":"application/x-latex",".lbd":"application/vnd.llamagraphics.life-balance.desktop",".lbe":"application/vnd.llamagraphics.life-balance.exchange+xml",".les":"application/vnd.hhe.lesson-player",".lha":"application/octet-stream",".link66":"application/vnd.route66.link66+xml",
".list":"text/plain",".list3820":"application/vnd.ibm.modcap",".listafp":"application/vnd.ibm.modcap",".log":"text/plain",".lostxml":"application/lost+xml",".lrf":"application/octet-stream",".lrm":"application/vnd.ms-lrm",".ltf":"application/vnd.frogans.ltf",".lvp":"audio/vnd.lucent.voice",".lwp":"application/vnd.lotus-wordpro",".lzh":"application/octet-stream",".m13":"application/x-msmediaview",".m14":"application/x-msmediaview",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",
".m3u":"audio/x-mpegurl",".m4u":"video/vnd.mpegurl",".m4v":"video/x-m4v",".ma":"application/mathematica",".mag":"application/vnd.ecowin.chart",".maker":"application/vnd.framemaker",".man":"text/troff",".mathml":"application/mathml+xml",".mb":"application/mathematica",".mbk":"application/vnd.mobius.mbk",".mbox":"application/mbox",".mc1":"application/vnd.medcalcdata",".mcd":"application/vnd.mcd",".mcurl":"text/vnd.curl.mcurl",".mdb":"application/x-msaccess",".mdi":"image/vnd.ms-modi",".me":"text/troff",
".mesh":"model/mesh",".mfm":"application/vnd.mfmp",".mgz":"application/vnd.proteus.magazine",".mht":"message/rfc822",".mhtml":"message/rfc822",".mid":"audio/midi",".midi":"audio/midi",".mif":"application/vnd.mif",".mime":"message/rfc822",".mj2":"video/mj2",".mjp2":"video/mj2",".mlp":"application/vnd.dolby.mlp",".mmd":"application/vnd.chipnuts.karaoke-mmd",".mmf":"application/vnd.smaf",".mmr":"image/vnd.fujixerox.edmics-mmr",".mny":"application/x-msmoney",".mobi":"application/x-mobipocket-ebook",".mov":"video/quicktime",
".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4s":"application/mp4",".mp4v":"video/mp4",".mpa":"video/mpeg",".mpc":"application/vnd.mophun.certificate",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".mpkg":"application/vnd.apple.installer+xml",".mpm":"application/vnd.blueice.multipass",".mpn":"application/vnd.mophun.application",".mpp":"application/vnd.ms-project",
".mpt":"application/vnd.ms-project",".mpy":"application/vnd.ibm.minipay",".mqy":"application/vnd.mobius.mqy",".mrc":"application/marc",".ms":"text/troff",".mscml":"application/mediaservercontrol+xml",".mseed":"application/vnd.fdsn.mseed",".mseq":"application/vnd.mseq",".msf":"application/vnd.epson.msf",".msh":"model/mesh",".msi":"application/x-msdownload",".msl":"application/vnd.mobius.msl",".msty":"application/vnd.muvee.style",".mts":"model/vnd.mts",".mus":"application/vnd.musician",".musicxml":"application/vnd.recordare.musicxml+xml",
".mvb":"application/x-msmediaview",".mwf":"application/vnd.mfer",".mxf":"application/mxf",".mxl":"application/vnd.recordare.musicxml",".mxml":"application/xv+xml",".mxs":"application/vnd.triscape.mxs",".mxu":"video/vnd.mpegurl",".n-gage":"application/vnd.nokia.n-gage.symbian.install",".nb":"application/mathematica",".nc":"application/x-netcdf",".ncx":"application/x-dtbncx+xml",".ngdat":"application/vnd.nokia.n-gage.data",".nlu":"application/vnd.neurolanguage.nlu",".nml":"application/vnd.enliven",
".nnd":"application/vnd.noblenet-directory",".nns":"application/vnd.noblenet-sealer",".nnw":"application/vnd.noblenet-web",".npx":"image/vnd.net-fpx",".nsf":"application/vnd.lotus-notes",".nws":"message/rfc822",".o":"application/octet-stream",".oa2":"application/vnd.fujitsu.oasys2",".oa3":"application/vnd.fujitsu.oasys3",".oas":"application/vnd.fujitsu.oasys",".obd":"application/x-msbinder",".obj":"application/octet-stream",".oda":"application/oda",".odb":"application/vnd.oasis.opendocument.database",
".odc":"application/vnd.oasis.opendocument.chart",".odf":"application/vnd.oasis.opendocument.formula",".odft":"application/vnd.oasis.opendocument.formula-template",".odg":"application/vnd.oasis.opendocument.graphics",".odi":"application/vnd.oasis.opendocument.image",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",
".onepkg":"application/onenote",".onetmp":"application/onenote",".onetoc":"application/onenote",".onetoc2":"application/onenote",".opf":"application/oebps-package+xml",".oprc":"application/vnd.palm",".org":"application/vnd.lotus-organizer",".osf":"application/vnd.yamaha.openscoreformat",".osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml",".otc":"application/vnd.oasis.opendocument.chart-template",".otf":"application/x-font-otf",".otg":"application/vnd.oasis.opendocument.graphics-template",
".oth":"application/vnd.oasis.opendocument.text-web",".oti":"application/vnd.oasis.opendocument.image-template",".otm":"application/vnd.oasis.opendocument.text-master",".otp":"application/vnd.oasis.opendocument.presentation-template",".ots":"application/vnd.oasis.opendocument.spreadsheet-template",".ott":"application/vnd.oasis.opendocument.text-template",".oxt":"application/vnd.openofficeorg.extension",".p":"text/x-pascal",".p10":"application/pkcs10",".p12":"application/x-pkcs12",".p7b":"application/x-pkcs7-certificates",
".p7c":"application/pkcs7-mime",".p7m":"application/pkcs7-mime",".p7r":"application/x-pkcs7-certreqresp",".p7s":"application/pkcs7-signature",".pas":"text/x-pascal",".pbd":"application/vnd.powerbuilder6",".pbm":"image/x-portable-bitmap",".pcf":"application/x-font-pcf",".pcl":"application/vnd.hp-pcl",".pclxl":"application/vnd.hp-pclxl",".pct":"image/x-pict",".pcurl":"application/vnd.curl.pcurl",".pcx":"image/x-pcx",".pdb":"application/vnd.palm",".pdf":"application/pdf",".pfa":"application/x-font-type1",
".pfb":"application/x-font-type1",".pfm":"application/x-font-type1",".pfr":"application/font-tdpfr",".pfx":"application/x-pkcs12",".pgm":"image/x-portable-graymap",".pgn":"application/x-chess-pgn",".pgp":"application/pgp-encrypted",".pic":"image/x-pict",".pkg":"application/octet-stream",".pki":"application/pkixcmp",".pkipath":"application/pkix-pkipath",".pl":"text/plain",".plb":"application/vnd.3gpp.pic-bw-large",".plc":"application/vnd.mobius.plc",".plf":"application/vnd.pocketlearn",".pls":"application/pls+xml",
".pml":"application/vnd.ctc-posml",".png":"image/png",".pnm":"image/x-portable-anymap",".portpkg":"application/vnd.macports.portpkg",".pot":"application/vnd.ms-powerpoint",".potm":"application/vnd.ms-powerpoint.template.macroenabled.12",".potx":"application/vnd.openxmlformats-officedocument.presentationml.template",".ppa":"application/vnd.ms-powerpoint",".ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12",".ppd":"application/vnd.cups-ppd",".ppm":"image/x-portable-pixmap",".pps":"application/vnd.ms-powerpoint",
".ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12",".ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow",".ppt":"application/vnd.ms-powerpoint",".pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".pqa":"application/vnd.palm",".prc":"application/x-mobipocket-ebook",".pre":"application/vnd.lotus-freelance",".prf":"application/pics-rules",".ps":"application/postscript",
".psb":"application/vnd.3gpp.pic-bw-small",".psd":"image/vnd.adobe.photoshop",".psf":"application/x-font-linux-psf",".ptid":"application/vnd.pvi.ptid1",".pub":"application/x-mspublisher",".pvb":"application/vnd.3gpp.pic-bw-var",".pwn":"application/vnd.3m.post-it-notes",".pwz":"application/vnd.ms-powerpoint",".py":"text/x-python",".pya":"audio/vnd.ms-playready.media.pya",".pyc":"application/x-python-code",".pyo":"application/x-python-code",".pyv":"video/vnd.ms-playready.media.pyv",".qam":"application/vnd.epson.quickanime",
".qbo":"application/vnd.intu.qbo",".qfx":"application/vnd.intu.qfx",".qps":"application/vnd.publishare-delta-tree",".qt":"video/quicktime",".qwd":"application/vnd.quark.quarkxpress",".qwt":"application/vnd.quark.quarkxpress",".qxb":"application/vnd.quark.quarkxpress",".qxd":"application/vnd.quark.quarkxpress",".qxl":"application/vnd.quark.quarkxpress",".qxt":"application/vnd.quark.quarkxpress",".ra":"audio/x-pn-realaudio",".ram":"audio/x-pn-realaudio",".rar":"application/x-rar-compressed",".ras":"image/x-cmu-raster",
".rcprofile":"application/vnd.ipunplugged.rcprofile",".rdf":"application/rdf+xml",".rdz":"application/vnd.data-vision.rdz",".rep":"application/vnd.businessobjects",".res":"application/x-dtbresource+xml",".rgb":"image/x-rgb",".rif":"application/reginfo+xml",".rl":"application/resource-lists+xml",".rlc":"image/vnd.fujixerox.edmics-rlc",".rld":"application/resource-lists-diff+xml",".rm":"application/vnd.rn-realmedia",".rmi":"audio/midi",".rmp":"audio/x-pn-realaudio-plugin",".rms":"application/vnd.jcp.javame.midlet-rms",
".rnc":"application/relax-ng-compact-syntax",".roff":"text/troff",".rpm":"application/x-rpm",".rpss":"application/vnd.nokia.radio-presets",".rpst":"application/vnd.nokia.radio-preset",".rq":"application/sparql-query",".rs":"application/rls-services+xml",".rsd":"application/rsd+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".rtx":"text/richtext",".s":"text/x-asm",".saf":"application/vnd.yamaha.smaf-audio",".sbml":"application/sbml+xml",".sc":"application/vnd.ibm.secure-container",".scd":"application/x-msschedule",
".scm":"application/vnd.lotus-screencam",".scq":"application/scvp-cv-request",".scs":"application/scvp-cv-response",".scurl":"text/vnd.curl.scurl",".sda":"application/vnd.stardivision.draw",".sdc":"application/vnd.stardivision.calc",".sdd":"application/vnd.stardivision.impress",".sdkd":"application/vnd.solent.sdkm+xml",".sdkm":"application/vnd.solent.sdkm+xml",".sdp":"application/sdp",".sdw":"application/vnd.stardivision.writer",".see":"application/vnd.seemail",".seed":"application/vnd.fdsn.seed",
".sema":"application/vnd.sema",".semd":"application/vnd.semd",".semf":"application/vnd.semf",".ser":"application/java-serialized-object",".setpay":"application/set-payment-initiation",".setreg":"application/set-registration-initiation",".sfd-hdstx":"application/vnd.hydrostatix.sof-data",".sfs":"application/vnd.spotfire.sfs",".sgl":"application/vnd.stardivision.writer-global",".sgm":"text/sgml",".sgml":"text/sgml",".sh":"application/x-sh",".shar":"application/x-shar",".shf":"application/shf+xml",".si":"text/vnd.wap.si",
".sic":"application/vnd.wap.sic",".sig":"application/pgp-signature",".silo":"model/mesh",".sis":"application/vnd.symbian.install",".sisx":"application/vnd.symbian.install",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".skd":"application/vnd.koan",".skm":"application/vnd.koan",".skp":"application/vnd.koan",".skt":"application/vnd.koan",".sl":"text/vnd.wap.sl",".slc":"application/vnd.wap.slc",".sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12",".sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide",
".slt":"application/vnd.epson.salt",".smf":"application/vnd.stardivision.math",".smi":"application/smil+xml",".smil":"application/smil+xml",".snd":"audio/basic",".snf":"application/x-font-snf",".so":"application/octet-stream",".spc":"application/x-pkcs7-certificates",".spf":"application/vnd.yamaha.smaf-phrase",".spl":"application/x-futuresplash",".spot":"text/vnd.in3d.spot",".spp":"application/scvp-vp-response",".spq":"application/scvp-vp-request",".spx":"audio/ogg",".src":"application/x-wais-source",
".srx":"application/sparql-results+xml",".sse":"application/vnd.kodak-descriptor",".ssf":"application/vnd.epson.ssf",".ssml":"application/ssml+xml",".stc":"application/vnd.sun.xml.calc.template",".std":"application/vnd.sun.xml.draw.template",".stf":"application/vnd.wt.stf",".sti":"application/vnd.sun.xml.impress.template",".stk":"application/hyperstudio",".stl":"application/vnd.ms-pki.stl",".str":"application/vnd.pg.format",".stw":"application/vnd.sun.xml.writer.template",".sus":"application/vnd.sus-calendar",
".susp":"application/vnd.sus-calendar",".sv4cpio":"application/x-sv4cpio",".sv4crc":"application/x-sv4crc",".svd":"application/vnd.svd",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".swi":"application/vnd.arastra.swi",".sxc":"application/vnd.sun.xml.calc",".sxd":"application/vnd.sun.xml.draw",".sxg":"application/vnd.sun.xml.writer.global",".sxi":"application/vnd.sun.xml.impress",".sxm":"application/vnd.sun.xml.math",".sxw":"application/vnd.sun.xml.writer",
".t":"text/troff",".tao":"application/vnd.tao.intent-module-archive",".tar":"application/x-tar",".tcap":"application/vnd.3gpp2.tcap",".tcl":"application/x-tcl",".teacher":"application/vnd.smart.teacher",".tex":"application/x-tex",".texi":"application/x-texinfo",".texinfo":"application/x-texinfo",".text":"text/plain",".tfm":"application/x-tex-tfm",".tgz":"application/x-gzip",".tif":"image/tiff",".tiff":"image/tiff",".tmo":"application/vnd.tmobile-livetv",".torrent":"application/x-bittorrent",".tpl":"application/vnd.groove-tool-template",
".tpt":"application/vnd.trid.tpt",".tr":"text/troff",".tra":"application/vnd.trueapp",".trm":"application/x-msterminal",".tsv":"text/tab-separated-values",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".twd":"application/vnd.simtech-mindmapper",".twds":"application/vnd.simtech-mindmapper",".txd":"application/vnd.genomatix.tuxedo",".txf":"application/vnd.mobius.txf",".txt":"text/plain",".u32":"application/x-authorware-bin",".udeb":"application/x-debian-package",".ufd":"application/vnd.ufdl",
".ufdl":"application/vnd.ufdl",".umj":"application/vnd.umajin",".unityweb":"application/vnd.unity",".uoml":"application/vnd.uoml+xml",".uri":"text/uri-list",".uris":"text/uri-list",".urls":"text/uri-list",".ustar":"application/x-ustar",".utz":"application/vnd.uiq.theme",".uu":"text/x-uuencode",".vcd":"application/x-cdlink",".vcf":"text/x-vcard",".vcg":"application/vnd.groove-vcard",".vcs":"text/x-vcalendar",".vcx":"application/vnd.vcx",".vis":"application/vnd.visionary",".viv":"video/vnd.vivo",".vor":"application/vnd.stardivision.writer",
".vox":"application/x-authorware-bin",".vrml":"model/vrml",".vsd":"application/vnd.visio",".vsf":"application/vnd.vsf",".vss":"application/vnd.visio",".vst":"application/vnd.visio",".vsw":"application/vnd.visio",".vtu":"model/vnd.vtu",".vxml":"application/voicexml+xml",".w3d":"application/x-director",".wad":"application/x-doom",".wav":"audio/x-wav",".wax":"audio/x-ms-wax",".wbmp":"image/vnd.wap.wbmp",".wbs":"application/vnd.criticaltools.wbs+xml",".wbxml":"application/vnd.wap.wbxml",".wcm":"application/vnd.ms-works",
".wdb":"application/vnd.ms-works",".wiz":"application/msword",".wks":"application/vnd.ms-works",".wm":"video/x-ms-wm",".wma":"audio/x-ms-wma",".wmd":"application/x-ms-wmd",".wmf":"application/x-msmetafile",".wml":"text/vnd.wap.wml",".wmlc":"application/vnd.wap.wmlc",".wmls":"text/vnd.wap.wmlscript",".wmlsc":"application/vnd.wap.wmlscriptc",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".wmz":"application/x-ms-wmz",".wpd":"application/vnd.wordperfect",".wpl":"application/vnd.ms-wpl",".wps":"application/vnd.ms-works",
".wqd":"application/vnd.wqd",".wri":"application/x-mswrite",".wrl":"model/vrml",".wsdl":"application/wsdl+xml",".wspolicy":"application/wspolicy+xml",".wtb":"application/vnd.webturbo",".wvx":"video/x-ms-wvx",".x32":"application/x-authorware-bin",".x3d":"application/vnd.hzn-3d-crossword",".xap":"application/x-silverlight-app",".xar":"application/vnd.xara",".xbap":"application/x-ms-xbap",".xbd":"application/vnd.fujixerox.docuworks.binder",".xbm":"image/x-xbitmap",".xdm":"application/vnd.syncml.dm+xml",
".xdp":"application/vnd.adobe.xdp+xml",".xdw":"application/vnd.fujixerox.docuworks",".xenc":"application/xenc+xml",".xer":"application/patch-ops-error+xml",".xfdf":"application/vnd.adobe.xfdf",".xfdl":"application/vnd.xfdl",".xht":"application/xhtml+xml",".xhtml":"application/xhtml+xml",".xhvml":"application/xv+xml",".xif":"image/vnd.xiff",".xla":"application/vnd.ms-excel",".xlam":"application/vnd.ms-excel.addin.macroenabled.12",".xlb":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",
".xlm":"application/vnd.ms-excel",".xls":"application/vnd.ms-excel",".xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12",".xlsm":"application/vnd.ms-excel.sheet.macroenabled.12",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xlt":"application/vnd.ms-excel",".xltm":"application/vnd.ms-excel.template.macroenabled.12",".xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template",".xlw":"application/vnd.ms-excel",".xml":"application/xml",".xo":"application/vnd.olpc-sugar",
".xop":"application/xop+xml",".xpdl":"application/xml",".xpi":"application/x-xpinstall",".xpm":"image/x-xpixmap",".xpr":"application/vnd.is-xpr",".xps":"application/vnd.ms-xpsdocument",".xpw":"application/vnd.intercon.formnet",".xpx":"application/vnd.intercon.formnet",".xsl":"application/xml",".xslt":"application/xslt+xml",".xsm":"application/vnd.syncml+xml",".xspf":"application/xspf+xml",".xul":"application/vnd.mozilla.xul+xml",".xvm":"application/xv+xml",".xvml":"application/xv+xml",".xwd":"image/x-xwindowdump",
".xyz":"chemical/x-xyz",".zaz":"application/vnd.zzazz.deck+xml",".zip":"application/zip",".zir":"application/vnd.zul",".zirz":"application/vnd.zul",".zmm":"application/vnd.handheld-entertainment+xml"};CUI.FileUpload.MimeTypes.getMimeTypeFromFileName=function(b){return(b=b.match(/.+(\..+)/))?CUI.FileUpload.MimeTypes[b[1]]:void 0}})(window.jQuery);
(function(b){var c=/[^\d.-]/g;CUI.NumberInput=new Class({toString:"NumberInput",extend:CUI.Widget,construct:function(b){this._initMarkup();this._setListeners();this._setAttributes();this._makeAccessible()},defaults:{defaultValue:0,max:null,min:null,step:1,hasError:!1,disabled:!1},increment:function(){if(this._isNumber()){var b=this.getValue(),a=this._getPrecision();b+=this.getStep();b=b>this.getMax()?this.getMax():b;0<a&&(b=parseFloat(b.toFixed(a)));this.setValue(b)}},decrement:function(){if(this._isNumber()){var b=
this.getValue(),a=this._getPrecision();b-=this.getStep();b=b<this.getMin()?this.getMin():b;0<a&&(b=parseFloat(b.toFixed(a)));this.setValue(b)}},setValue:function(b){this.$input.val(b);this.$input.trigger("change")},setMin:function(b){this.set("min",b);this.$input.attr("aria-valuemin")&&this.$input.attr("aria-valuemin",this.options.min);this.$input.attr("min",this.options.min)},setMax:function(b){this.set("max",b);this.$input.attr("aria-valuemax")&&this.$input.attr("aria-valuemax",this.options.max);
this.$input.attr("max",this.options.max)},setStep:function(b){this.set("step",b);1!==this.options.step&&this.$input.attr("step")!==this.options.step&&this.$input.attr("step",this.options.step)},getValue:function(){var b=this.$input.val();b="undefined"==typeof b||null==b||1>b.length?"":parseFloat(b);return isNaN(b)?"":b},getMin:function(){return parseFloat(this.options.min)},getMax:function(){return parseFloat(this.options.max)},getStep:function(){return parseFloat(this.options.step)},_initMarkup:function(){this.$element.addClass("coral-NumberInput");
this.$input=this.$element.find(".js-coral-NumberInput-input");this._switchInputType(this.$input);this.$decrementElement=this.$element.find(".js-coral-NumberInput-decrementButton");this.$incrementElement=this.$element.find(".js-coral-NumberInput-incrementButton");this.$liveRegion=b("\x3cspan/\x3e").addClass("u-coral-screenReaderOnly").attr({"aria-live":"assertive"}).insertAfter(this.$input)},_liveRegionTimeout:null,_clearLiveRegionTimeout:null,_updateLiveRegion:function(b){var a=this;clearTimeout(this._liveRegionTimeout);
clearTimeout(this._clearLiveRegionTimeout);void 0===b||0===b.length?this.$liveRegion.text(""):this._liveRegionTimeout=setTimeout(function(){a.$liveRegion.text(b);a._clearLiveRegionTimeout=setTimeout(function(){a.$liveRegion.text("")},2E3)},200)},_setListeners:function(){this.$input.on("change.cui-numberinput",this._changeHandler.bind(this));this.on("beforeChange:step",this._optionBeforeChangeHandler.bind(this));this.on("beforeChange:min",this._optionBeforeChangeHandler.bind(this));this.on("beforeChange:max",
this._optionBeforeChangeHandler.bind(this));this.on("change:disabled",this._toggleDisabled.bind(this));this.on("change:hasError",this._toggleError.bind(this));this.on("click.cui-numberinput","button",this._clickIncrementOrDecrement.bind(this));this.on("keydown.cui-numberinput","input, button",this._keyDown.bind(this)).on("keypress.cui-numberinput, paste.cui-numberinput","input",this._keyPress.bind(this)).on("focusin.cui-numberinput","input, button",this._focusIn.bind(this)).on("focusout.cui-numberinput",
"input, button",this._focusOut.bind(this))},_setAttributes:function(){this.$input.attr("max")?this.setMax(this.$input.attr("max")):b.isNumeric(this.options.max)&&this.setMax(this.options.max);this.$input.attr("min")?this.setMin(this.$input.attr("min")):b.isNumeric(this.options.min)&&this.setMin(this.options.min);this.$element.attr("error")&&(this.options.hasError=!0);this.setStep(this.$input.attr("step")||this.options.step);this.setValue(""!==this.$input.val()?this.$input.val():this.options.defaultValue);
(this.$element.attr("disabled")||this.$element.attr("data-disabled"))&&this._toggleDisabled();(this.$element.hasClass("is-invalid")||this.$element.attr("data-error"))&&this.set("hasError",!0)},_makeAccessible:function(){var c=this.getValue(),a=this.$input.get(0),e="text"===a.type;if(!e)if("function"===typeof a.stepUp)try{a.stepUp(),a.value=c}catch(f){e=!0}else e=!0;e&&this.$input.attr({role:"spinbutton","aria-valuenow":c,"aria-valuetext":c,"aria-valuemax":this.options.max,"aria-valuemin":this.options.min});
this.$incrementElement.add(this.$decrementElement).attr("tabindex",-1).filter("[title]:not([aria-label])").each(function(a,e){a=b(e);0===b.trim(a.text()).length&&a.append('\x3cspan class\x3d"u-coral-screenReaderOnly"\x3e'+a.attr("title")+"\x3c/span\x3e")})},_changeHandler:function(b){b=this.$input.is('[role\x3d"spinbutton"]');this._checkMinMaxViolation();this._adjustValueLimitedToRange();this._checkValidity();var a=this.getValue();this.$input.attr({"aria-valuenow":b?a:null,"aria-valuetext":a});b&&
this.$input.is(":focus")?this._updateLiveRegion(""):this._updateLiveRegion(a)},_keyDown:function(b){var a=!1,e=!1;switch(b.which){case 33:case 38:var c=this.increment;e=a=!0;break;case 34:case 40:c=this.decrement;e=a=!0;break;case 35:null!==this.options.max&&this.setValue(this.options.max);e=a=!0;break;case 36:null!==this.options.min&&this.setValue(this.options.min),e=a=!0}e&&(b.preventDefault(),b.stopImmediatePropagation());c&&c.call(this);a&&!this.$input.is(document.activeElement)&&this.$input.trigger("focus")},
_keyPress:function(b){var a=this.$input.val()+String.fromCharCode(b.which||b.keyCode);a!==a.replace(c,"")&&b.preventDefault()},_focusIn:function(b){this.$element.addClass("is-focused")},_focusOut:function(b){this.$element.removeClass("is-focused");this._updateLiveRegion("")},_clickIncrementOrDecrement:function(c){c=b(c.currentTarget);if(c.is(this.$incrementElement))var a=this.increment;else c.is(this.$decrementElement)&&(a=this.decrement);a&&(c.is(document.activeElement)||c.trigger("focus"),a.call(this))},
_adjustValueLimitedToRange:function(){var b=this.getValue(),a=this._getPrecision();isNaN(b)||(b>this.getMax()?b=this.getMax():b<this.getMin()&&(b=this.getMin()),0<a&&(b=parseFloat(b.toFixed(a))));this.$input.val(b)},_checkMinMaxViolation:function(){var b=!1;this._isNumber()&&(this.$incrementElement.removeAttr("disabled"),this.$decrementElement.removeAttr("disabled"),null!==this.options.max&&this.getValue()>=this.getMax()?(b=this.$incrementElement.is(document.activeElement),this.$incrementElement.attr("disabled",
"disabled")):null!==this.options.min&&this.getValue()<=this.getMin()&&(b=this.$decrementElement.is(document.activeElement),this.$decrementElement.attr("disabled","disabled")),b&&this.$input.trigger("focus"))},_checkValidity:function(){""===this.$input.val()&&null!==this.options.defaultValue?this.set("hasError",!1):this.set("hasError",this.getValue()!==this._getSnappedValue())},_getSnappedValue:function(b){var a=void 0===b?this.getValue():b;b=this.getMin();var e=this.getMax(),c=this.getStep(),d=this._getPrecision();
var g=(a-(isNaN(b)?0:b))%c;a=2*Math.abs(g)>=c?a-g+c:a-g;isNaN(b)||isNaN(e)||(a<b?a=b:a>e&&(a=b+Math.floor((e-b)/c)*c));0<d&&(a=parseFloat(a.toFixed(d)));return a},_getPrecision:function(){var b=this.getValue(),a=this.getStep(),e=/^(?:-?\d+)(?:\.(\d+))?$/g;b=b.toString().replace(e,"$1").length;a=a.toString().replace(e,"$1").length;return b>a?b:a},_switchInputType:function(b){-1!==window.navigator.userAgent.indexOf("MSIE 10.0")||window.navigator.userAgent.match(/Trident\/7\./)?b.get(0).type="text":
"number"!==b.get(0).type&&b.detach().attr("type","number").insertBefore(this.$element.children(":last"))},_isNumber:function(){return!isNaN(this.$input.val())},_optionBeforeChangeHandler:function(b){isNaN(parseFloat(b.value))?b.preventDefault():this.$input.attr(b.option,b.value)},_toggleDisabled:function(){this.options.disabled?(this.$incrementElement.attr("disabled","disabled"),this.$decrementElement.attr("disabled","disabled"),this.$input.attr("disabled","disabled")):(this.$incrementElement.removeAttr("disabled"),
this.$decrementElement.removeAttr("disabled"),this.$input.removeAttr("disabled"))},_toggleError:function(){this.options.hasError?(this.$element.addClass("is-invalid"),this.$input.addClass("is-invalid").attr("aria-invalid",!0)):(this.$element.removeClass("is-invalid"),this.$input.removeClass("is-invalid").removeAttr("aria-invalid"))}});CUI.Widget.registry.register("numberinput",CUI.NumberInput);b(document).on("cui-contentloaded.data-api",function(c){CUI.NumberInput.init(b("[data-init~\x3dnumberinput]",
c.target))})})(window.jQuery);
(function(b){var c=0;CUI.Popover=new Class({toString:"Popover",extend:CUI.Widget,construct:function(b){this.$element.on("change:content",this._setContent.bind(this));this.$element.on("change:pointAt",this._position.bind(this));this.$element.on("change:pointFrom",this._position.bind(this));this.$element.on("change:alignFrom",this._position.bind(this));this.$element.addClass("coral-Popover");0===this._getContentElement(this.$element).length&&this._wrapContent(this.$element);this._$content=this._getContentElement(this.$element);
""===this._$content.html()&&this._setContent();this._popoverOffsets();this.uuid=c+=1;this.popoverId=this.$element.attr("id");this._makeAccessible()},defaults:{pointFrom:"bottom",preventAutoHide:!1,alignFrom:"left",visible:!1},_directions:["top","bottom","right","left"],_popoverOffsets:function(){this._popoverOffsets={};this._popoverOffsets.leftRight={width:5,height:5};this._popoverOffsets.topBottom={width:5,height:5}},_wrapContent:function(b){b.wrapInner('\x3cdiv class\x3d"coral-Popover-content"/\x3e')},
_getContentElement:function(b){return b.find("\x3e .coral-Popover-content")},_position:function(){if(this.options.visible&&this.options.pointAt){var c=this.$element,a=this.options.pointAt,e=this.options.pointFrom,f=this._popoverOffsets;if(b.isArray(a)){if(2!==a.length)return;a=this._convertCoordsToEvent(a)}var h=function(b,d){var h=c.offsetParent().offset(),m;("top"==e||"bottom"==e)&&0>h.top+b.top?m="bottom":("left"==e||"right"==e)&&0>h.left+b.left&&(m="right");m?(g=this._instructionFactory[m]({target:a,
tailDimensions:f,allowFlip:!1,callback:this._applyFinalPosition.bind(this),within:this.options.within||window}),c.position(g)):this._applyFinalPosition(b,d)}.bind(this);var g=this._instructionFactory[e]({target:a,tailDimensions:f,allowFlip:!0,callback:h,within:this.options.within||window});c.position(g)}},_convertCoordsToEvent:function(c){var a=b.Event();a.pageX=c[0];a.pageY=c[1];return a},_applyFinalPosition:function(c,a){a={top:c.top};if("right"===this.options.alignFrom){var e=this.$element.offsetParent();
"html"==e.prop("tagName").toLowerCase()?(e=b("body"),e=e.outerWidth(!0)):e=e.innerWidth();a.left="auto";a.right=e-c.left-this.$element.outerWidth(!0)}else a.left=c.left,a.right="auto";this.$element.css(a)},_instructionFactory:{top:function(b){return{my:"left bottom-"+b.tailDimensions.topBottom.height,at:"left top",of:b.target,collision:"flipfit "+(b.allowFlip?"flip":"none"),using:b.callback,within:b.within}},right:function(b){return{my:"left+"+b.tailDimensions.leftRight.width+" top",at:"right top",
of:b.target,collision:(b.allowFlip?"flipfit":"none")+" flipfit",using:b.callback,within:b.within}},bottom:function(b){return{my:"left top+"+b.tailDimensions.topBottom.height,at:"left bottom",of:b.target,collision:"flipfit "+(b.allowFlip?"flip":"none"),using:b.callback,within:b.within}},left:function(b){return{my:"right-"+b.tailDimensions.leftRight.width+" top",at:"left top",of:b.target,collision:(b.allowFlip?"flipfit":"none")+" flipfit",using:b.callback,within:b.within}}},_show:function(){var c=this,
a=b(this._lastFocused);this.$element.show().attr("aria-hidden",!1);if(!this.$element.find(":focusable").length&&this.$element.is(":not([aria-labelledby]):not([aria-label])")){var e=this._getContentElement(this.$element);this.$element.attr("aria-labelledby",e.first().attr("id"))}this._position();this._previousFocus=b(document.activeElement);0!==this._previousFocus.length&&(this._restoreClass=this._previousFocus.hasClass("is-selected"),this._previousFocus.addClass("is-selected"));this.options.preventAutoHide||
(clearTimeout(this.autoHideInitTimeout),this.autoHideInitTimeout=setTimeout(function(){b(document).on("touchstart.popover-hide-"+c.uuid,c._clickOutsideHandler.bind(c));b(document).on("click.popover-hide-"+c.uuid,c._clickOutsideHandler.bind(c));c._moveLastEventToFrontOfQueue(document,"touchstart");c._moveLastEventToFrontOfQueue(document,"click")},0));a.length?a.focus():(a=this.$element.find(":tabbable").first(),a.length?a.focus():this.$element.focus());b(document).on("keydown.popover-"+this.uuid,this._keyDown.bind(this));
this._moveLastEventToFrontOfQueue(document,"keydown");this.$element.parent().is("body")&&(this._onScroll=function(){this.$element.parent().is("body")?this._position():(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)}.bind(this),window.addEventListener("scroll",this._onScroll,!0));this.$element.on("keydown.popover-focusLoop",":focusable",this._tabKeyHandler.bind(this)).on("focusin.popover",this._focusInHandler.bind(this)).on("focusout.popover",this._focusOutHandler.bind(this))},
_moveLastEventToFrontOfQueue:function(c,a){c=b._data(b(c)[0],"events")[a];var e=[];c.forEach(function(a,b){0===a.namespace.indexOf("popover-")&&e.push(b)});1<e.length&&c.splice(e[0],0,c.pop())},_hide:function(){b(document).off("keydown.popover-"+this.uuid);clearTimeout(this.autoHideInitTimeout);this._unforceBlur();this.$element.hide().attr("aria-hidden",!0);b(document).off(".popover-hide-"+this.uuid);0!==this._previousFocus.length&&this._previousFocus.toggleClass("is-selected",this._restoreClass);
this._lastFocused=null;this.$element.off("keydown.popover-focusLoop, focusin.popover, focusout.popover");this._onScroll&&(window.removeEventListener("scroll",this._onScroll,!0),this._onScroll=null)},_setContent:function(){"string"===typeof this.options.content&&(this._$content.html(this.options.content),this._position())},setPosition:function(b){this.set("pointAt",b)},_keyDown:function(b){switch(b.which){case 27:this._escapeKeyHandler(b);break;case 117:this._gotoTriggerHandler(b)}},_escapeKeyHandler:function(c){(b(document.activeElement).is(this.$element)||
b(document.activeElement).closest(this.$element).length)&&this._previousFocus.focus();this.hide();c.preventDefault();c.stopImmediatePropagation()},_clickOutsideHandler:function(c){var a=b(c.target);0===a.closest(".coral-Popover").length&&0<a.closest("body").length&&(b(document.activeElement).is(document.body)&&this._previousFocus.focus(),this.hide(),c.preventDefault(),c.stopImmediatePropagation())},_gotoTriggerHandler:function(c){b(document.activeElement).is(this.$element)||b(document.activeElement).closest(this.$element).length?
(this._previousFocus.focus(),this._forceBlur()):(this._unforceBlur(),this._lastFocused?this._lastFocused.focus():this.$element.find(":focusable").addBack().first().focus());c.preventDefault();c.stopImmediatePropagation()},_tabKeyHandler:function(c){b(c.currentTarget);var a=this.$element.find(":tabbable"),e;switch(c.which){case 9:c.shiftKey&&c.currentTarget===a[0]?e=a.last():c.shiftKey||c.currentTarget!==a[a.length-1]||(e=a.first())}e&&e.length&&(c.preventDefault(),e.focus());this._lastFocused=document.activeElement},
_focusTimeoutInt:-1,_focusInHandler:function(c){clearTimeout(this._focusTimeoutInt);b(c.currentTarget).addClass("is-focused")},_focusOutHandler:function(c){var a=b(c.currentTarget),e=this;clearTimeout(this._focusTimeoutInt);this._focusTimeoutInt=setTimeout(function(){a.removeClass("is-focused");!e.options.preventAutoHide&&e.$element.get(0).contains(c.target)&&0===b(document.activeElement).closest(e.$element).length&&1<e.$element.closest(".coral-Popover").length&&e.hide()},50)},_forcedBlur:!1,_forceBlur:function(){this._forcedBlur||
(this._forcedBlur=!0,this.$element.find(":focusable").addBack().each(function(c,a){c=b(a);void 0===c.data("cached-tabindex")&&c.data("cached-tabindex",c.attr("tabindex"));c.attr("tabindex",-1)}),this.$element.attr("aria-hidden",!0).on("focusin.popover-"+this.uuid,this._unforceBlur.bind(this)))},_unforceBlur:function(){this._forcedBlur&&(this._forcedBlur=!1,this.$element.find(":focusable").addBack().each(function(c,a){c=b(a);void 0===c.data("cached-tabindex")?c.removeAttr("tabindex"):c.attr("tabindex",
c.data("cached-tabindex")).removeData("cached-tabindex")}),this.$element.attr("aria-hidden",!1).off("focusin.popover-"+this.uuid))},_makeAccessible:function(){var b=this._getContentElement(this.$element);this.$element.attr({role:"dialog",tabindex:"-1"});b.attr("role",1<b.length?"group":null).not("[id]").each(function(a,b){b.setAttribute("id",CUI.util.getNextId())})}});CUI.Widget.registry.register("popover",CUI.Popover);b(function(){b(document).on("touchstart.popover.data-api click.popover.data-api",
'[data-toggle\x3d"popover"]',function(c){var a=b(this),e=CUI.util.getDataTarget(a);e=e&&0<e.length?e:a.next(".coral-Popover");e.popover(b.extend({pointAt:a},e.data(),a.data())).data("popover").toggleVisibility();c.preventDefault()})})})(window.jQuery);
(function(b,c,d){CUI.SelectList=new Class({toString:"SelectList",extend:CUI.Widget,construct:function(a){this.applyOptions();this.$element.on("change:type",this._setType.bind(this)).on("click",this._SELECTABLE_SELECTOR,this._triggerSelected.bind(this)).on("mouseenter",this._SELECTABLE_SELECTOR,this._handleMouseEnter.bind(this));this._makeAccessible()},defaults:{type:"static",multiple:!1,relatedElement:null,autofocus:!0,autohide:!0,dataurl:null,dataurlformat:"html",datapaging:!0,datapagesize:10,dataadditional:null,
loadData:b.noop,position:"center bottom-1",collisionAdjustment:""},getItems:function(){return this.$element.children(".coral-SelectList-item").toArray().map(function(a){a=b(a);if(a.is(".coral-SelectList-item--option"))return new CUI.SelectList.Option({element:a});if(a.is(".coral-SelectList-item--optgroup"))return new CUI.SelectList.Group({element:a})})},getOption:function(a){if(!b.isNumeric(a))throw new TypeError("Position should be numeric");var e=this.$element.children(".coral-SelectList-item"),
c=e.eq(a);if(0>a||0===c.length)throw new RangeError("Position \x3e"+a+"\x3c is not within expected range [0,"+(e.length-1)+"]");if(!c.is(".coral-SelectList-item--option"))throw new TypeError("Position does not point to option element");return new CUI.SelectList.Option({element:c})},getGroup:function(a){if(!b.isNumeric(a))throw new TypeError("Position should be numeric");var e=this.$element.children(".coral-SelectList-item"),c=e.eq(a);if(0>a||0===c.length)throw new RangeError("Position \x3e"+a+"\x3c is not within expected range [0,"+
(e.length-1)+"]");if(!c.is(".coral-SelectList-item--optgroup"))throw new TypeError("Position does not point to group element");return new CUI.SelectList.Group({element:c})},addOption:function(a,e){var c;if(b.isArray(a)||a&&a.jquery)for(c=0;c<a.length;c++)this.addOption(a[c],e!==d?e+c:d);else if(a&&a.$element)this.addOption(a.$element);else{if(!b.isPlainObject(a))if(a instanceof Element)c=b(a),a={value:c.data("value"),display:c.text()};else throw new TypeError("Only Object, Element, CUI.SelectList.Option, jQuery and Array type arguments allowed.");
c||(c=b("\x3cli\x3e",{"class":"coral-SelectList-item coral-SelectList-item--option","data-value":a.value}).text(a.display));this._addItem(c,e);this.$element.trigger(b.Event("itemadded",{item:new CUI.SelectList.Option({element:c})}))}},addGroup:function(a,e){var c;if(b.isArray(a)||a&&a.jquery)for(c=0;c<a.length;c++)this.addGroup(a[c],e!==d?e+c:d);else if(a&&a.$element)this.addGroup(a.$element);else{if("string"!==b.type(a))if(a instanceof Element)c=b(a),a=c.children(".coral-SelectList-groupHeader").text();
else throw new TypeError("Only String, Element, CUI.SelectList.Group, jQuery and Array type arguments allowed.");c||(c=b("\x3cli\x3e",{"class":"coral-SelectList-item coral-SelectList-item--optgroup"}));0===c.find(".coral-SelectList-groupHeader").length&&c.prepend(b("\x3cspan\x3e",{"class":"coral-SelectList-groupHeader"}).text(a));0===c.find(".coral-SelectList-sublist").length&&c.append(b("\x3cul\x3e",{"class":"coral-SelectList-sublist"}));this._addItem(c,e);this.$element.trigger(b.Event("itemadded",
{item:new CUI.SelectList.Group({element:c})}))}},_addItem:function(a,b){this._makeAccessibleListOption(a);var e=this._getList(),c=this._getItems();if(b===d||b===c.length)return e.append(a),c.length;if(0===b)return e.prepend(a),0;e=c.eq(b);if(0<b&&e.length)return e.before(a),b;throw new RangeError("Position "+b+" is not within accepted range [0..."+c.length+"].");},_getList:function(){return this.$element},_getItems:function(){return this._getList().children(".coral-SelectList-item")},_SELECTABLE_SELECTOR:".coral-SelectList-item--option:not(.is-disabled):not(.is-hidden)",
applyOptions:function(){this._setType()},_setType:function(){function a(){var a=b.$element.get(0),e=a.scrollTop;a.scrollHeight-b.$element.height()<=e+30&&b._handleLoadData()}var b=this,e;if("dynamic"===this.options.type)this.$element.on("scroll.cui-selectlist-dynamic-load",function(c){e&&clearTimeout(e);b._loadingComplete||this._loadingIsActive||(e=setTimeout(a,500))});else this.$element.off("scroll.cui-selectlist-dynamic-load")},_ownerElement:null,_makeAccessible:function(){var a=b(this.options.relatedElement),
e=this.$element.hasClass("is-visible");this._ownerElement=b('[aria-owns*\x3d"'+this.$element.attr("id")+'"]');a.length&&!this._ownerElement.length&&(this._ownerElement=a);this._ownerElement.attr({id:this._ownerElement.attr("id")||CUI.util.getNextId(),"aria-haspopup":!0,"aria-expanded":e});a.not(this._ownerElement).removeAttr("aria-haspopup").removeAttr("aria-expanded");this.$element.attr({role:"listbox","aria-hidden":!e,"aria-multiselectable":this.options.multiple||null,tabindex:-1});e&&(this.$element.attr("tabindex",
0),this.$element.not(".is-inline").addClass("is-inline"));this.$element.off("focusin.cui-selectlist focusout.cui-selectlist").on("focusin.cui-selectlist",this._handleFocusIn.bind(this)).on("focusout.cui-selectlist",this._handleFocusOut.bind(this));this._makeAccessibleListOption(this.$element.children())},_hasFocus:function(){return this._ownerElement.is(document.activeElement)||1===b(document.activeElement).closest(this.$element).length},_handleFocusIn:function(a){0===this.$element.find(this._SELECTABLE_SELECTOR+
'[aria-selected\x3d"true"], '+this._SELECTABLE_SELECTOR+'[tabindex\x3d"0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first().length&&(this.setCaretToItem(this.$element.find(this._SELECTABLE_SELECTOR).first(),!0),this.$element.attr("tabindex",-1));this.$element.is(".is-inline")&&(this.$element.addClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist").on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this)))},
_handleFocusOut:function(a){this.$element.is(".is-inline")&&(this.$element.removeClass("is-focused"),this.$element.off("keydown.cui-selectlist keypress.cui-selectlist"))},_restoreFocusToOwnerElement:function(){var a=this._ownerElement;a.is(":tabbable")||(a=a.find('input[type\x3d"text"], input[type\x3d"search"], button, input[type\x3d"button"]').filter(":tabbable").first());a.trigger("focus")},_handleKeyDown:function(a){var e=this.$element.find(this._SELECTABLE_SELECTOR),c=e.filter(".is-highlighted"),
f=e.index(c),h;if(e.length){switch(a.which){case 13:case 32:c.length&&1===b(document.activeElement).closest(this.$element).length&&(c.trigger("click"),a.preventDefault());break;case 27:this.hide();a.preventDefault();break;case 33:case 38:0<f?h=e[f-1]:-1==f&&(h=e[e.length-1]);a.preventDefault();break;case 34:case 40:f+1<e.length&&(h=e[f+1]);a.preventDefault();break;case 36:h=e[0];a.preventDefault();break;case 35:h=e[e.length-1];a.preventDefault();break;case 9:this.options.visible&&this.options.autohide&&
a.preventDefault()}h!==d&&this._hasFocus()&&this.setCaretToItem(b(h),!0)}},_keypressTimeoutID:null,_keypressTimeoutDuration:1E3,_keypressSearchString:"",_unicodeRangesRegExp:/[\u0000-\u007F|\u0080-\u00FF|\u0100-\u017F|\u0180-\u024F|\u0250-\u02AF|\u02B0-\u02FF|\u0300-\u036F|\u0370-\u03FF|\u0400-\u04FF|\u0500-\u052F|\u0530-\u058F|\u0590-\u05FF|\u0600-\u06FF|\u0700-\u074F|\u0780-\u07BF|\u0900-\u097F|\u0980-\u09FF|\u0A00-\u0A7F|\u0A80-\u0AFF|\u0B00-\u0B7F|\u0B80-\u0BFF|\u0C00-\u0C7F|\u0C80-\u0CFF|\u0D00-\u0D7F|\u0D80-\u0DFF|\u0E00-\u0E7F|\u0E80-\u0EFF|\u0F00-\u0FFF|\u1000-\u109F|\u10A0-\u10FF|\u1100-\u11FF|\u1200-\u137F|\u13A0-\u13FF|\u1400-\u167F|\u1680-\u169F|\u16A0-\u16FF|\u1700-\u171F|\u1720-\u173F|\u1740-\u175F|\u1760-\u177F|\u1780-\u17FF|\u1800-\u18AF|\u1900-\u194F|\u1950-\u197F|\u19E0-\u19FF|\u1D00-\u1D7F|\u1E00-\u1EFF|\u1F00-\u1FFF|\u2000-\u206F|\u2070-\u209F|\u20A0-\u20CF|\u20D0-\u20FF|\u2100-\u214F|\u2150-\u218F|\u2190-\u21FF|\u2200-\u22FF|\u2300-\u23FF|\u2400-\u243F|\u2440-\u245F|\u2460-\u24FF|\u2500-\u257F|\u2580-\u259F|\u25A0-\u25FF|\u2600-\u26FF|\u2700-\u27BF|\u27C0-\u27EF|\u27F0-\u27FF|\u2800-\u28FF|\u2900-\u297F|\u2980-\u29FF|\u2A00-\u2AFF|\u2B00-\u2BFF|\u2E80-\u2EFF|\u2F00-\u2FDF|\u2FF0-\u2FFF|\u3000-\u303F|\u3040-\u309F|\u30A0-\u30FF|\u3100-\u312F|\u3130-\u318F|\u3190-\u319F|\u31A0-\u31BF|\u31F0-\u31FF|\u3200-\u32FF|\u3300-\u33FF|\u3400-\u4DBF|\u4DC0-\u4DFF|\u4E00-\u9FFF|\uA000-\uA48F|\uA490-\uA4CF|\uAC00-\uD7AF|\uD800-\uDB7F|\uDB80-\uDBFF|\uDC00-\uDFFF|\uE000-\uF8FF|\uF900-\uFAFF|\uFB00-\uFB4F|\uFB50-\uFDFF|\uFE00-\uFE0F|\uFE20-\uFE2F|\uFE30-\uFE4F|\uFE50-\uFE6F|\uFE70-\uFEFF|\uFF00-\uFFEF|\uFFF0-\uFFFF]/,
_handleKeyPress:function(a){var e=this.$element.find(this._SELECTABLE_SELECTOR),c=e.filter(".is-highlighted");c=e.index(c);var f="";if(e.length)switch(a.which){case 13:case 32:case 27:case 33:case 37:case 38:case 34:case 39:case 40:case 36:case 35:case 9:break;default:if(clearTimeout(this._keypressTimeoutID),f=String.fromCharCode(a.which),this._unicodeRangesRegExp.test(f)||(f=""),""!==f){this._keypressSearchString+=f!==this._keypressSearchString?f:"";this._keypressTimeoutID=setTimeout(function(){this._keypressSearchString=
""}.bind(this),this._keypressTimeoutDuration);a=-1===c?0:1===this._keypressSearchString.length?c+1:c;var h=new RegExp("^"+this._keypressSearchString.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26"),"i");for(c=a;c<e.length;c++){f=e.eq(c);var n=b.trim(f.data("display")||f.text());if(h.test(n)){var p=f;break}}if(p===d)for(c=0;c<a;c++)if(f=e.eq(c),n=b.trim(f.data("display")||f.text()),h.test(n)){p=f;break}p!==d&&this.setCaretToItem(p,!0)}}},_makeAccessibleListOption:function(a){a.each(function(a,e){a=
b(e);if(a.hasClass("coral-SelectList-item--optgroup")){var c=a.children(".coral-SelectList-groupHeader");c.attr({id:c.attr("id")||CUI.util.getNextId(),role:"heading"});a.attr({role:"presentation"}).children("ul").each(function(a,e){b(e).attr({role:"group","aria-labelledby":c.attr("id")})}).children("li").each(function(a,e){a=b(e);a.attr({role:"option",id:a.attr("id")||CUI.util.getNextId()})})}else a.attr({role:"option",id:a.attr("id")||CUI.util.getNextId()})})},setCaretToItem:function(a,b){this.$element.find(".coral-SelectList-item--option").removeClass("is-highlighted").removeAttr("tabindex");
a.addClass("is-highlighted").attr("tabindex",0);this._ownerElement.attr("aria-activedescendant",a.attr("id"));this.$element.attr("aria-activedescendant",a.attr("id"));this._hasFocus()?a.trigger("focus"):b&&this.scrollToItem(a)},resetCaret:function(){this.$element.find('[role\x3d"option"]').removeClass("is-highlighted").removeAttr("tabindex");this.$element.scrollTop(0);this._ownerElement.removeAttr("aria-activedescendant");this.$element.removeAttr("aria-activedescendant")},scrollToItem:function(a){if(a.length){var b=
a.position().top,e=a.outerHeight(!1);a=this.$element[0];e=b+e-a.clientHeight;0<e?a.scrollTop+=e:0>b&&(a.scrollTop+=b)}},show:function(){if(this.options.visible)return this;e();return this.inherited(arguments)},_show:function(){var a=this,e=this.$element.find(this._SELECTABLE_SELECTOR+'[aria-selected\x3d"true"], '+this._SELECTABLE_SELECTOR+'[tabindex\x3d"0"], '+this._SELECTABLE_SELECTOR+".is-highlighted").first();this.$element.addClass("is-visible").attr("aria-hidden",!1);this._ownerElement.attr("aria-expanded",
!0);this._position();this.options.autofocus&&(0===e.length&&(e=this.$element.find(this._SELECTABLE_SELECTOR).first()),this.setCaretToItem(e,!0));"dynamic"===this.options.type&&(this._outstandingRequest||this._handleLoadData()).done(function(){a.options.autofocus&&a.setCaretToItem(a.$element.find(a._SELECTABLE_SELECTOR).first(),!0)});b(document).on("keydown.cui-selectlist",this._handleKeyDown.bind(this)).on("keypress.cui-selectlist",this._handleKeyPress.bind(this))},_position:function(){if(this.options.visible){this.$element.position({my:"top",
at:this.options.position,of:this.options.relatedElement,collision:this.options.collisionAdjustment});var a=b(this.options.relatedElement);this.$element.offset().top<a.offset().top?(this.$element.removeClass("is-below").addClass("is-above"),a.removeClass("is-above").addClass("is-below")):(this.$element.removeClass("is-above").addClass("is-below"),a.removeClass("is-below").addClass("is-above"))}},_hide:function(){b(this.options.relatedElement);var e=this._ownerElement,c=!0,d=this._hasFocus();this.$element.removeClass("is-visible").attr("aria-hidden",
!0);this._ownerElement.attr("aria-expanded",!1);this.reset();b(a).each(function(){var a=b(this).data("selectList");a&&!a.get("autohide")&&a.get("visible")&&(c=!1)});c&&b(document).off("keydown.cui-selectlist keypress.cui-selectlist");e.removeAttr("aria-activedescendant");e.length&&d&&setTimeout(this._restoreFocusToOwnerElement.bind(this),50)},_triggerSelected:function(a){a=b(a.currentTarget);var e=a.data("value"),c=a.data("display")||a.text();a.trigger(b.Event("selected",{selectedValue:e,displayedValue:c}))},
_handleMouseEnter:function(a){this.setCaretToItem(b(a.currentTarget),!1)},clearItems:function(){this.$element.empty()},_pagestart:0,_loadingComplete:!1,_loadingIsActive:!1,_outstandingRequest:null,_handleLoadData:function(){var a=this,e=this._pagestart+this.options.datapagesize;this._outstandingRequest&&"function"===typeof this._outstandingRequest.abort?this._outstandingRequest.abort():(b("\x3cdiv/\x3e",{"class":"coral-SelectList-item--wait",role:"presentation"}).append(b("\x3cspan/\x3e",{"class":"coral-Wait",
role:"progressbar"})).appendTo(a.$element),this._position(),this._loadingIsActive=!0);if(this.options.dataurl)var c=b.ajax({url:this.options.dataurl,context:this,dataType:this.options.dataurlformat,data:b.extend({start:this._pagestart,end:e},this.options.dataadditional||{})}).done(function(e){var c=0;"html"===a.options.dataurlformat&&(e=b(e),c=e.filter("li").length,a._makeAccessibleListOption(e),a.$element.append(e));c<a.options.datapagesize&&(this._loadingComplete=!0)});else c=this.options.loadData.call(this,
this._pagestart,e),c.done(function(b){b!==d&&(a._loadingComplete=b)});c.done(function(){a._pagestart=e});c.always(function(){a.$element.find(".coral-SelectList-item--wait").remove();a._position();a._loadingIsActive=!1;a._outstandingRequest=null});return this._outstandingRequest=c},reset:function(){"dynamic"===this.options.type&&(this.clearItems(),this._pagestart=0,this._loadingComplete=!1)},triggerLoadData:function(a){a&&this.reset();this._handleLoadData()},filter:function(a){var e=this.$element.find(".coral-SelectList-item--option"),
c=this.$element.find(".coral-SelectList-item--optgroup");a?(e.each(function(){var e=b(this),c=!a.call(this,e.data("value"),e.data("display")||e.text());e.toggleClass("is-hidden",c);c&&e.removeClass("is-highlighted")}),c.each(function(){var a=b(this),e=0<a.find('[role\x3d"option"]:not(.is-hidden)').length;a.toggleClass("is-hidden",!e)})):(e.removeClass("is-hidden"),c.removeClass("is-hidden"));this._position()}});CUI.Widget.registry.register("selectlist",CUI.SelectList);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",
function(a){CUI.SelectList.init(b("[data-init~\x3dselectlist]",a.target))});var a=".coral-SelectList",e=function(){b(a).each(function(){var a=b(this).data("selectList");a&&a.get("autohide")&&a.hide()})},f=function(){var a=CUI.util.getDataTarget(b(this));a.length&&(a=a.data("selectList"),a.get("relatedElement")||(a.set("relatedElement",this),a._makeAccessible()),a.resetCaret(),a.toggleVisibility());return!1};b(document).on("click.cui-selectlist",e).on("click.cui-selectlist",a,function(a){a.stopPropagation()}).on("click.cui-selectlist",
"[data-toggle~\x3dselectlist]",f).on("keydown.cui-selectlist-toggleSelector","[data-toggle~\x3dselectlist]",function(a){var e=CUI.util.getDataTarget(b(this)),c=e.data("selectList"),d=e.length&&e.hasClass("is-visible");switch(a.which){case 40:e.length&&!d&&f.call(this);a.preventDefault();break;case 9:d&&c.get("autohide")&&a.preventDefault()}})})(jQuery,this);
(function(b,c,d){CUI.SelectList.Item=new Class({toString:"SelectList.Item",$element:d,_cachedPosition:null,construct:function(a){this.$element=b(a.element)},getPosition:function(){var a=this.$element.index();return-1<a?a:this._cachedPosition},getDisplay:function(){throw Error("Subclass responsibility");},remove:function(){var a=this._getParent();this._cachedPosition=this.getPosition();this.$element.remove();a.trigger(b.Event("itemremoved",{item:this}))},_getParent:function(){throw Error("Subclass responsibility");
}})})(jQuery,this);(function(b,c,d){CUI.SelectList.Option=new Class({toString:"SelectList.Option",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.text()},getValue:function(){return this.$element.attr("data-value")},_getParent:function(){return this.$element.closest(".coral-SelectList, .coral-SelectList-item--optgroup")}})})(jQuery,this);
(function(b,c,d){CUI.SelectList.Group=new Class({toString:"SelectList.Group",extend:CUI.SelectList.Item,getDisplay:function(){return this.$element.children("span").text()},getItems:function(){return this._getItems().toArray().map(function(a){return new CUI.SelectList.Option({element:a})})},getOption:function(a){if(!b.isNumeric(a))throw new TypeError("Position should be numeric");var e=this._getItems(),c=e.eq(a);if(0>a||0===c.length)throw new RangeError("Position \x3e"+a+"\x3c is not within expected range [0,"+
(e.length-1)+"]");return new CUI.SelectList.Option({element:c})},addOption:CUI.SelectList.prototype.addOption,_addItem:CUI.SelectList.prototype._addItem,_getList:function(){return this.$element.children(".coral-SelectList-sublist").first()},_getItems:CUI.SelectList.prototype._getItems,_makeAccessibleListOption:CUI.SelectList.prototype._makeAccessibleListOption,_getParent:function(){return this.$element.parent()}})})(jQuery,this);
(function(b){CUI.Switch=new Class({toString:"Switch",extend:CUI.Widget,construct:function(b){this._initMarkup();this._setListeners()},_initMarkup:function(){this._correctElementTagName();this.$input=this.$element.find(".coral-Switch-input");this.$onLabel=this.$element.find(".coral-Switch-onLabel");this.$offLabel=this.$element.find(".coral-Switch-offLabel");this._makeAccessible()},_correctElementTagName:function(){if(this.$element.is("label")){var c=b("\x3cspan/\x3e");var d=this.$element.prop("attributes");
b.each(d,function(){c.attr(this.name,this.value)});c.insertBefore(this.$element).append(this.$element.children());this.$element.remove();this.$element=c}},_makeAccessible:function(){var c=this,d=c.$input.is(":checked"),a=/(mac|iphone|ipod|ipad)/i.test(window.navigator.platform),e=/firefox/i.test(window.navigator.userAgent);this.$input.attr("id")||this.$input.attr("id",CUI.util.getNextId());this.$offLabel.attr("id")||this.$offLabel.attr("id",CUI.util.getNextId());this.$onLabel.attr("id")||this.$onLabel.attr("id",
CUI.util.getNextId());a||this.$input.attr({role:"button","aria-pressed":d});this.$offLabel.attr({role:"presentation","aria-hidden":d});this.$onLabel.attr({role:"presentation","aria-hidden":!d});if(!(this.$input.attr("aria-label")||this.$input.attr("aria-labelledby")&&b("#"+this.$input.attr("aria-labelledby").split(" ")[0]).length)){this.$labels=this.$element.closest("label");if(1===this.$labels.length){this.$labels.attr("for")!==this.$input.attr("id")&&this.$labels.attr("for",this.$input.attr("id"));
var f=0===this.$labels.contents().filter(function(){return 3===this.nodeType&&b.trim(this.nodeValue).length||1===this.nodeType}).index(this.$element)?"Before":"After";this.$element["insert"+f](this.$labels)}else if(this.$labels=b('label[for\x3d"'+this.$input.attr("id")+'"]').not(this.$offLabel).not(this.$onLabel),0===this.$labels.length&&(this.$labels=this.$labels.add(this.$offLabel).add(this.$onLabel)),0<this.$labels.length){var h=[];this.$labels.each(function(a,e){a=b(e);e=a.is(c.$onLabel);var f=
a.is(c.$offLabel);a.attr("id")||a.attr("id",CUI.util.getNextId());(!e&&!f||e&&d||f&&!d)&&h.push(a.attr("id"))});0<h.length&&this.$input.attr("aria-labelledby",h.join(" "))}a&&e||this.$input.attr("aria-describedby",d?this.$onLabel.attr("id"):this.$offLabel.attr("id"))}},_setListeners:function(){this.$input.on("change",function(b){b=this.$input.is(":checked");var c=this.$onLabel.attr("id"),a=this.$offLabel.attr("id"),e=this.$input.attr("aria-labelledby");e&&(e=e.replace(b?a:c,b?c:a),this.$input.attr("aria-labelledby",
e));this.$input.filter("[aria-describedby]").attr("aria-describedby",b?this.$onLabel.attr("id"):this.$offLabel.attr("id")).filter("[aria-pressed]").attr("aria-pressed",b);this.$onLabel.attr("aria-hidden",!b);this.$offLabel.attr("aria-hidden",b)}.bind(this));this.$input.trigger("change")}});CUI.Widget.registry.register("Switch",CUI.Switch);b(document).on("cui-contentloaded.data-api",function(c){CUI.Switch.init(b("[data-init~\x3dswitch], .coral-Switch",c.target))})})(window.jQuery);
(function(b,c,d){CUI.Tabs=new Class({toString:"Tabs",extend:CUI.Widget,construct:function(a){this.tablist=this._findOrCreateTabList();this.panelist=this._findOrCreatePaneList();this._applyOptions();this.$element.on("change:type",this._setType.bind(this));this.$element.on("change:active",this._setActive.bind(this))},defaults:{},DEFAULT_VARIANT_KEY:"default",VARIANT_TYPES:["default","stacked","nav"],VARIANT_CLASS_MAPPING:{"default":"",stacked:"coral-TabPanel--stacked",nav:"coral-TabPanel--large"},setDisabled:function(a,
b){b=b||!1;a.toggleClass("is-disabled",b).prop("aria-disabled",b);return this},setEnabled:function(a){return this.setDisabled(a,!0)},addItem:function(a){var e=this._getTabs();a=b.extend({tabContent:"",panelContent:"",panelID:d,panelURL:d,index:e.length,enabled:!0,active:!0},a);var c=b('\x3csection class\x3d"coral-TabPanel-pane"/\x3e').append(a.panelContent);a.panelID!==d&&c.attr("id",a.panelID);var h=b('\x3ca class\x3d"coral-TabPanel-tab" data-toggle\x3d"tab"/\x3e').append(a.tabContent);a.panelURL!==
d&&h.attr("href",a.panelURL);var g=Math.min(Math.max(a.index,0),e.length);0===g?(this.tablist.prepend(h),this.panelist.prepend(c)):(e.eq(g-1).after(h),this._getPanels().eq(g-1).after(c));a.enabled||h.addClass("is-disabled");this._makeTabsAccessible(h);a.active&&a.enabled&&this._activateTab(h,!0);return c.attr("id")},removeItem:function(a){var b=this._getTabs(),c=this._getPanels();if("number"===typeof a){var d=b.eq(a);var g=c.eq(a)}else"string"===typeof a&&(d=b.filter('[aria-controls\x3d"'+a+'"]'),
g=c.filter("#"+a));d&&g&&(d.hasClass("is-active")&&(a=d.nextAll('.coral-TabPanel-tab[data-toggle\x3d"tab"]:not(.is-disabled)').first(),0===a.length&&(a=d.prevAll('.coral-TabPanel-tab[data-toggle\x3d"tab"]:not(.is-disabled)').first()),1===a.length&&this._activateTab(a,!0)),g.remove(),d.remove())},_findOrCreateTabList:function(){var a=this.$element.find(".coral-TabPanel-navigation");0===a.length&&(a=b("\x3cnav\x3e").addClass("coral-TabPanel-navigation").prependTo(this.$element));return a},_findOrCreatePaneList:function(){var a=
this.$element.find(".coral-TabPanel-content");0===a.length&&(a=b("\x3cdiv\x3e").addClass("coral-TabPanel-content").appendTo(this.$element));return a},_applyOptions:function(){var a=this._getTabs().filter(".is-active");this.options.type&&this._setType(this.options.type);this._initTabswitch();this._makeAccessible();0===a.length?this._setActive(this.options.active||0):this._activateTab(a,!0)},_getTabs:function(){return this.tablist.find('\x3e .coral-TabPanel-tab[data-toggle\x3d"tab"]')},_getPanels:function(){return this.panelist.children(".coral-TabPanel-pane")},
_setActive:function(a){a=b.isNumeric(a)?a:this.options.active;a=this._getTabs().eq(a);this._activateTab(a,!0)},_setType:function(a){var e=this;a="string"===b.type(a)?a:this.options.type;if(-1<this.VARIANT_TYPES.indexOf(a)&&this.VARIANT_CLASS_MAPPING[a]!==d){var c=Object.keys(this.VARIANT_CLASS_MAPPING).map(function(a){return e.VARIANT_CLASS_MAPPING[a]});this.$element.removeClass(c.join(" "));this.$element.addClass(this.VARIANT_CLASS_MAPPING[a])}},_activateTab:function(a,b){var e=a.attr("href"),c=
this._getTabs(),d=this._getPanels();if(a.hasClass("is-disabled"))return a.blur(),!1;var k=d.filter("#"+a.attr("aria-controls"));e&&"#"!==e.charAt(0)&&k.loadWithSpinner(e);c.removeClass("is-active").attr({"aria-selected":!1,tabindex:-1});d.removeClass("is-active").attr({"aria-hidden":!0});a.addClass("is-active").attr({"aria-selected":!0,tabindex:0});k.addClass("is-active").attr({"aria-hidden":!1});b||a.trigger("focus")},_initTabswitch:function(){var a=this;this.$element.on("click",'\x3e .coral-TabPanel-navigation \x3e .coral-TabPanel-tab[data-toggle\x3d"tab"]',
function(e){var c=b(e.currentTarget);e.preventDefault();a._activateTab(c)})},_makeAccessible:function(){this._makeTabsAccessible();this._makeTablistAccessible()},_makeTabsAccessible:function(a){var e=this._getPanels();a=a||this._getTabs();a.each(function(a,c){a=b(c);c=e.eq(a.index());var d=c.attr("id")||CUI.util.getNextId(),f={role:"tab",tabindex:-1,"aria-selected":!1,"aria-controls":d,"aria-disabled":a.hasClass("is-disabled")};a.attr("href")||(f.href="#");a.attr(f);c.attr({id:d,role:"tabpanel","aria-hidden":!0})})},
_makeTablistAccessible:function(){var a=this;this.tablist.attr("role","tablist");this.tablist.on("keydown",'\x3e [role\x3d"tab"]',function(e){var c=b(e.currentTarget),d=b(e.delegateTarget).find('\x3e [role\x3d"tab"]').not('[aria-disabled\x3d"true"]'),g=c,k=!0;c=d.index(c);switch(e.which){case 33:case 37:case 38:g=-1<c-1?d[c-1]:d[d.length-1];break;case 34:case 39:case 40:g=c+1<d.length?d[c+1]:d[0];break;case 36:g=d[0];break;case 35:g=d[d.length-1];break;default:k=!1}k&&(e.preventDefault(),a._activateTab(b(g)))})}});
CUI.Widget.registry.register("tabs",CUI.Tabs);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.Tabs.init(b("[data-init~\x3dtabs]",a.target))})})(jQuery,this);
(function(b,c,d){CUI.TagList=new Class({toString:"TagList",extend:CUI.Widget,construct:function(a){var b=this;this.applyOptions();this.$element.on("change:values",this._setValues.bind(this)).on("change:disabled",this._toggleDisabled.bind(this));this.$element.on("click","button",function(a){a=b.$element.children().has(a.currentTarget).find("input");b.removeItem(a.val())});this._makeAccessible()},defaults:{fieldname:"",values:null,disabled:!1,tag:"li",renderer:null},_existingValues:null,applyOptions:function(){var a=
this;this._existingValues=[];this.options.values=this.options.values||[];0<this.options.values.length?this._setValues():this.$element.find("input").each(function(e,c){e=b(c);a._existingValues.push(e.attr("value"))});this._toggleDisabled(this.options.disabled)},_setValues:function(){var a=this.options.values;this.$element.empty();this.options.values=[];this.addItem(a)},_makeAccessible:function(){this.$element.attr({role:"listbox"});this.$element.children(this.options.tag).attr({role:"option",tabindex:0}).on("keydown",
this._onKeyDown.bind(this)).children(".coral-TagList-tag-removeButton").attr({tabindex:-1})},_onKeyDown:function(a){if(8===a.which){a.preventDefault();a.stopPropagation();var e=b(a.currentTarget).next();0===e.length&&(e=b(a.currentTarget).prev());this.removeItem(b(a.currentTarget).children("input").val());e.focus()}},_show:function(){this.$element.show().attr("aria-hidden",!1)},_hide:function(){this.$element.hide().attr("aria-hidden",!0)},_removeItem:function(a){var e=this.$element.children(':has(input[value\x3d"'+
a+'"])');0<e.length&&(e.remove(),this.$element.trigger(b.Event("itemremoved"),{value:a}))},_appendItem:function(a){if("string"===b.type(a))var e=a;else e=a.display,a=a.value;a+="";if(!(-1<b.inArray(a,this._existingValues)||0===a.length)){this._existingValues.push(a);var c=b((this.options.renderer||this._renderTag).call(this,a,e));c.on("keydown",this._onKeyDown.bind(this));this._toggleItemDisabled(c[0],this.options.disabled);this.$element.append(c);this.$element.trigger(b.Event("itemadded"),{value:a,
display:e})}},_renderTag:function(a,e){var c=b("\x3c"+this.options.tag+"/\x3e",{role:"option",tabindex:"0","class":"coral-TagList-tag"+(this.options.multiline?" coral-TagList-tag--multiline":""),title:e});var d=b("\x3cbutton/\x3e",{"class":"coral-MinimalButton coral-TagList-tag-removeButton",type:"button",tabindex:"-1",title:"Remove"}).appendTo(c);b("\x3ci/\x3e",{"class":"coral-Icon coral-Icon--sizeXS coral-Icon--close"}).appendTo(d);b("\x3cspan/\x3e",{"class":"coral-TagList-tag-label",text:e}).appendTo(c);
b("\x3cinput/\x3e",{type:"hidden",value:a,name:this.options.fieldname}).appendTo(c);return c},_toggleDisabled:function(a){var b="boolean"===typeof a?a:this.options.disabled;a=this._getItems();this.$element.toggleClass("is-disabled",b);this.$element.attr("aria-disabled",b);a.map(function(a){this._toggleItemDisabled(a,b)}.bind(this))},_toggleItemDisabled:function(a,e){var c="boolean"===typeof e?e:this.options.disabled;b(a).find("input, button").each(function(a,e){b(e).prop("disabled",c)});b(a).attr("tabindex",
c?-1:0)},_getItems:function(){var a=this.$element.children();return this._existingValues.map(function(b){b=a.has('input[value\x3d"'+b+'"]');1<b.length&&(b=b.first());return b.length?b[0]:!1}).filter(function(a){return a})},removeItem:function(a){var b=this._existingValues.indexOf(""+a);-1<b&&(this._existingValues.splice(b,1),this._removeItem(a))},addItem:function(a){var e=this;a=b.isArray(a)?a:[a];b.each(a,function(a,b){e._appendItem(b)})},getValues:function(){return this._existingValues.slice(0)}});
CUI.Widget.registry.register("taglist",CUI.TagList);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.TagList.init(b("[data-init~\x3dtaglist]",a.target))})})(jQuery,this);
(function(b){CUI.Tooltip=new Class({toString:"Tooltip",extend:CUI.Widget,construct:function(c){this.options.target&&(this.options.target=b(this.options.target));0===this.$element.length&&this.options.target&&(this.$element=b("\x3cdiv\x3e"),this.$element.insertAfter(this.options.target));this.$element.addClass("coral-Tooltip");this.$element.data("interactive")&&(this.options.interactive=!0,this.options.target||(this.options.target=this.$element.parent()));this.$element.data("target")&&(this.options.target=
b(this.$element.data("target")));this.options.arrow||(this.options.arrow="left",this.$element.hasClass("coral-Tooltip--positionRight")&&(this.options.arrow="left"),this.$element.hasClass("coral-Tooltip--positionLeft")&&(this.options.arrow="right"),this.$element.hasClass("coral-Tooltip--positionBelow")&&(this.options.arrow="top"),this.$element.hasClass("coral-Tooltip--positionAbove")&&(this.options.arrow="bottom"));this.options.type||(this.options.type="info",this.$element.hasClass("coral-Tooltip--info")&&
(this.options.type="info"),this.$element.hasClass("coral-Tooltip--error")&&(this.options.type="error"),this.$element.hasClass("coral-Tooltip--success")&&(this.options.type="success"),this.$element.hasClass("coral-Tooltip--notice")&&(this.options.type="notice"),this.$element.hasClass("coral-Tooltip--inspect")&&(this.options.type="inspect"));this.options.interactive&&(this.options.visible=!1);this.$element.toggleClass("is-hidden",!this.options.visible);this.$element.on("change:content",this._setContent.bind(this));
this.$element.on("change:type",this._setType.bind(this));this.$element.on("change:arrow",this._setArrow.bind(this));this.applyOptions();this.reposition();this._makeAccessible();this.options.target&&this.options.target.data("tooltip",this);if(this.options.interactive&&this.options.target){var d=null;b(this.options.target).on("touchstart.cui-tooltip",function(a){d&&clearTimeout(d);this.show();d=setTimeout(function(){this.hide()}.bind(this),3E3)}.bind(this));var a=!1;b(this.options.target).on("mouseover.cui-tooltip focusin.cui-tooltip",
function(b){a&&clearTimeout(a);a=setTimeout(function(){this.show();this.$element.attr("aria-hidden","false")}.bind(this),this.options.delay)}.bind(this));b(this.options.target).on("focusout.cui-tooltip",function(b){a&&clearTimeout(a);this.hide();this.$element.attr("aria-hidden","true")}.bind(this));b(this.options.target).on("mouseout.cui-tooltip",function(e){b(document.activeElement).is(this.options.target)||(a&&clearTimeout(a),this.hide(),this.$element.attr("aria-hidden","true"))}.bind(this))}},
_makeAccessible:function(){this.$element.attr({role:"tooltip",id:this.$element.attr("id")||CUI.util.getNextId()});this.options.target&&this.options.target.attr("aria-describedby",this.$element.attr("id"));b(this.options.target).is(":empty")&&b(this.options.target).attr("aria-label",this.options.content)},defaults:{target:null,visible:!0,type:null,interactive:!1,arrow:null,delay:500,distance:5},_stylesTypes:{info:"coral-Tooltip--info",error:"coral-Tooltip--error",notice:"coral-Tooltip--notice",success:"coral-Tooltip--success",
inspect:"coral-Tooltip--inspect"},_arrows:{left:"coral-Tooltip--positionRight",right:"coral-Tooltip--positionLeft",top:"coral-Tooltip--positionBelow",bottom:"coral-Tooltip--positionAbove"},applyOptions:function(){this._setContent();this._setType();this._setArrow()},_setType:function(){"string"===typeof this.options.type&&this._stylesTypes.hasOwnProperty(this.options.type)&&(this.$element.removeClass(this._stylesTypes.info+" "+this._stylesTypes.error+" "+this._stylesTypes.notice+" "+this._stylesTypes.success+
" "+this._stylesTypes.inspect),this.$element.addClass(this._stylesTypes[this.options.type]),this.reposition())},_setArrow:function(){"string"===typeof this.options.arrow&&this._arrows.hasOwnProperty(this.options.arrow)&&(this._removeAllArrows(),this.$element.addClass(this._arrows[this.options.arrow]),this.reposition())},_removeAllArrows:function(){this.$element.removeClass(this._arrows.left+" "+this._arrows.right+" "+this._arrows.top+" "+this._arrows.bottom)},_setContent:function(){"string"===typeof this.options.content&&
(this.$element.html(this.options.content),this.reposition())},_show:function(){this.$element.hasClass("is-hidden")&&(this.$element.removeClass("is-hidden"),this.$element.css("display","none"));this.reposition();this.$element.fadeIn();b(document).on("keydown.cui-tooltip",function(b){27===b.which&&(this._hide(),b.preventDefault(),b.stopPropagation())}.bind(this))},_hide:function(){this.$element.fadeOut(0,function(){this.options.autoDestroy&&(this.$element.remove(),b(this.options.target).off(".cui-tooltip"),
b(this.options.target).data("tooltip",null));this.$element.addClass("is-hidden");b(document).off("keydown.cui-tooltip")}.bind(this));return this},reposition:function(){if(this.options.visible&&this.options.target){this.$element.detach().insertAfter(this.options.target);this.$element.css("display","block");this.$element.css("position","absolute");this.$element.css({top:"-9999px",left:"-9999px"});this._removeAllArrows();var b=this._instructionFactory[this.options.arrow]({target:this.options.target,
offset:this.options.distance+7,callback:this._applyFinalPosition.bind(this),within:this.options.within||window});this.$element.position(b);return this}},_applyFinalPosition:function(b,d){this.$element.css({top:b.top,left:b.left});switch(this.options.arrow){case "top":case "bottom":var a="bottom"==d.vertical?"coral-Tooltip--positionAbove":"coral-Tooltip--positionBelow";break;case "left":case "right":a="left"==d.horizontal?"coral-Tooltip--positionRight":"coral-Tooltip--positionLeft"}this._removeAllArrows();
this.$element.addClass(a)},_instructionFactory:{top:function(b){return{my:"center top+"+b.offset,at:"center bottom",of:b.target,collision:"flipfit flipfit",using:b.callback,within:b.within}},right:function(b){return{my:"right-"+b.offset+" center",at:"left center",of:b.target,collision:"flipfit flipfit",using:b.callback,within:b.within}},bottom:function(b){return{my:"center bottom-"+b.offset,at:"center top",of:b.target,collision:"flipfit flipfit",using:b.callback,within:b.within}},left:function(b){return{my:"left+"+
b.offset+" center",at:"right center",of:b.target,collision:"flipfit flipfit",using:b.callback,within:b.within}}}});CUI.Widget.registry.register("tooltip",CUI.Tooltip);CUI.options.dataAPI&&(b(document).on("cui-contentloaded.data-api",function(c){CUI.Tooltip.init(b("[data-init~\x3dtooltip]",c.target));b("[data-init~\x3dquicktip][data-quicktip-content]:empty").not("[aria-label], [aria-labelledby], img[alt], input, select, textarea, button").each(function(c,a){c=b(a);1===c.closest("label").length||c.attr("id")&&
0<b('label[for\x3d"'+c.attr("id")+'"]').length||c.attr("aria-label",c.attr("data-quicktip-content"))});b("[data-init~\x3dquicktip]").not("input, select, textarea, button").not(":tabbable").attr("tabindex",0)}),b(document).on("touchstart mouseover focusin","[data-init~\x3dquicktip]",function(c){var d=b(this),a=function(a){a.hide();d.removeAttr("aria-describedby");d.off("mouseout.cui-quicktip focusout.cui-quicktip");b(window).off("keydown.cui-tooltip mousedown.cui-tooltip")};if(!d.data("tooltip")){var e=
(new CUI.Tooltip({target:d,content:d.data("quicktip-content")||d.html(),type:d.data("quicktip-type"),arrow:d.data("quicktip-arrow"),interactive:!1,autoDestroy:!0,visible:!1})).show();d.data("quicktip",e);switch(c.type){case "mouseover":case "focusin":if("mouseover"===c.type)d.on("mouseout.cui-quicktip",function(){b(document.activeElement).is(d)||a(e)});else d.on("focusout.cui-quicktip",function(){a(e)});b(window).on("keydown.cui-tooltip",function(b){27===b.which&&(a(e),b.preventDefault())}).on("mousedown.cui-tooltip",
function(b){d.is(b.target)||e.$element.is(b.target)||a(e)});break;default:setTimeout(function(){a(e)},3E3)}}}))})(window.jQuery);
(function(b){function c(b){return b.filter("[data-action\x3dprev], [data-action\x3dcancel]").first().addClass("u-coral-hidden").clone(!0).addClass("coral-Wizard-backButton").each(a)}function d(b){return b.filter("[data-action\x3dnext]").first().addClass("u-coral-hidden").clone(!0).addClass("coral-Button--primary coral-Wizard-nextButton").each(a)}function a(a,e){b(e).removeClass("u-coral-hidden").addClass("coral-Button")}function e(e,f){var g=e.children(".js-coral-Wizard-nav");0===g.length&&e.prepend(function(){g=
b('\x3cnav class\x3d"js-coral-Wizard-nav coral-Wizard-nav coral--dark coral-Background coral-Text"\x3e\x3col class\x3d"coral-Wizard-steplist"\x3e\x3c/ol\x3e\x3c/nav\x3e');var a=g.children("ol");f.map(function(){return b('\x3cli class\x3d"js-coral-Wizard-steplist-item coral-Wizard-steplist-item"\x3e\x3c/li\x3e').text(b(this).data("stepTitle")||this.title).get(0)}).appendTo(a);return g});g.hasClass("coral--light")||g.addClass("coral--dark");g.find(".js-coral-Wizard-steplist-item:first").addClass("is-active");
var h=f.first().find(".js-coral-Wizard-step-control");g.prepend(function(){return c(h)}).append(function(){return d(h).add(h.filter("[data-action\x3dcancel]").first().clone(!0).addClass("coral-Button--quiet coral-Wizard-nextButton").each(a).toggleClass("u-coral-hidden",!0))})}function f(a,b,e){var c=a.children(".js-coral-Wizard-step").index(e);a=a.children(".js-coral-Wizard-nav").find(".js-coral-Wizard-steplist-item").eq(c);c=a.clone().text(b.data("stepTitle")||b.attr("title")).removeClass("is-active is-stepped");
h(b);a.after(c);e.after(b)}function h(a){a&&a.length&&a.addClass("u-coral-hidden")}function g(a,b,e){0!==b.length&&(h(e),b&&b.length&&b.removeClass("u-coral-hidden"),a.trigger("flexwizard-stepchange",[b,e]))}function k(a,b){var e=a.children(".js-coral-Wizard-nav"),f=a.children(".js-coral-Wizard-step:not(.u-coral-hidden)"),h=e.find(".js-coral-Wizard-steplist-item.is-active");switch(b){case "prev":var l=f.prev(".js-coral-Wizard-step");var m=h.prev(".js-coral-Wizard-steplist-item");break;case "next":l=
f.next(".js-coral-Wizard-step");m=h.next(".js-coral-Wizard-steplist-item");break;case "cancel":return}0!==l.length&&(b=l.find(".js-coral-Wizard-step-control"),c(b).replaceAll(e.children(".coral-Wizard-backButton")),d(b).replaceAll(e.children(".coral-Wizard-nextButton:not([data-action\x3dcancel])")),e.children(".coral-Wizard-nextButton[data-action\x3dcancel]").toggleClass("u-coral-hidden",0===l.prev(".js-coral-Wizard-step").length),e=m,0!==e.length&&(e.addClass("is-active").removeClass("is-stepped"),
e.prevAll(".js-coral-Wizard-steplist-item").addClass("is-stepped").removeClass("is-active"),e.nextAll(".js-coral-Wizard-steplist-item").removeClass("is-active is-stepped")),g(a,l,f))}CUI.FlexWizard=new Class({toString:"FlexWizard",extend:CUI.Widget,construct:function(a){var c=this.$element;a=c.find(".js-coral-Wizard-step");e(c,a);c.on("click",".js-coral-Wizard-step-control",function(a){k(c,b(this).data("action"))});h(a);g(c,a.first())},prevStep:function(){k(this.$element,"prev")},nextStep:function(){k(this.$element,
"next")},add:function(a,e){var c=this.$element;void 0===e?this.addAfter(a,c.children(".js-coral-Wizard-step").last()):(a.jquery||(a=b(a)),a.addClass("js-coral-Wizard-step"),f(c,a,c.children(".js-coral-Wizard-step").eq(e)))},addAfter:function(a,e){var c=this.$element;a.jquery||(a=b(a));e.jquery||(e=b(e));a.addClass("js-coral-Wizard-step");f(c,a,e)},remove:function(a){var e=this.$element,c=a.jquery?a:b(a),d=e.children(".js-coral-Wizard-step").index(c);e.find(".js-coral-Wizard-steplist-item").eq(d).remove();
c.detach();return a}});CUI.Widget.registry.register("flexwizard",CUI.FlexWizard);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.FlexWizard.init(b("[data-init~\x3dflexwizard]",a.target))})})(window.jQuery);
(function(b,c,d){CUI.Modal=new Class({toString:"Modal",extend:CUI.Widget,construct:function(a){this.header=this.$element.find(".coral-Modal-header");this.body=this.$element.find(".coral-Modal-body");this.footer=this.$element.find(".coral-Modal-footer");this._previousFocus=b();this.backdrop=b("\x3cdiv/\x3e",{"class":"coral-Modal-backdrop",style:"display: none;"}).on("click",function(a){"static"!==this.options.backdrop&&this.hide()}.bind(this));this.body.loadWithSpinner(this.options.remote);this.applyOptions();
this.$element.on("change:heading",this._setHeading.bind(this)).on("change:header",this._setHeader.bind(this)).on("change:content",this._setContent.bind(this)).on("change:buttons",this._setFooter.bind(this)).on("change:type",this._setType.bind(this)).on("change:fullscreen",this._setFullscreen.bind(this)).on("click",'[data-dismiss\x3d"modal"]',this.hide.bind(this));this._makeAccessible()},defaults:{backdrop:"static",visible:!0,type:"default",fullscreen:!1,attachToBody:!0},_types:{"default":{"class":"",
iconClass:""},error:{"class":"coral-Modal--error",iconClass:"coral-Icon--alert"},notice:{"class":"coral-Modal--notice",iconClass:"coral-Icon--alert"},success:{"class":"coral-Modal--success",iconClass:"coral-Icon--checkCircle"},help:{"class":"coral-Modal--help",iconClass:"coral-Icon--helpCircle"},info:{"class":"coral-Modal--info",iconClass:"coral-Icon--infoCircle"}},applyOptions:function(){this._setHeader();this._setHeading();this._setContent();this._setFooter();this._setType();this._setFullscreen();
this.options.visible&&(this.options.visible=!1,this.show())},_makeAccessible:function(){var a=this,e="modal-header"+(new Date).getTime()+"-";this.$element.attr({role:"dialog","aria-hidden":!this.options.visible,"aria-labelledby":e+"label","aria-describedby":e+"message",tabindex:-1});this.header.find("h2").attr({id:e+"label",tabindex:0});this.body.attr({id:e+"message",role:"document",tabindex:0});this.$element.on("keydown",":focusable",function(e){b(e.currentTarget);var c=a.$element.find(":tabbable"),
d;switch(e.which){case 9:e.shiftKey&&e.currentTarget===c[0]?d=c.last():e.shiftKey||e.currentTarget!==c[c.length-1]||(d=c.first())}d&&(e.preventDefault(),d.trigger("focus"))})},_setType:function(){if(this.options.type){var a=this.$element.find(".coral-Modal-header \x3e .coral-Icon"),b;for(b in this._types)this.$element.removeClass(this._types[b]["class"]),a.removeClass(this._types[b].iconClass);"default"!==this.options.type&&(this.$element.addClass(this._types[this.options.type]["class"]),a.addClass(this._types[this.options.type].iconClass))}},
_setHeader:function(){this.options.header&&this.header.find("h2").html(this.options.header)},_setHeading:function(){this.options.heading&&(this.options.header=this.options.heading,this._setHeader.apply(this,arguments))},_setContent:function(){this.options.content&&this.body.html(this.options.content)},_setFooter:function(){if(b.isArray(this.options.buttons)){var a=this;this.footer.empty();b.each(this.options.buttons,function(e,c){e=c.href?b("\x3ca/\x3e",{"class":"button"}):b("\x3cbutton/\x3e",{"class":"coral-Button",
type:"button"});e.html(c.label);if("hide"===c.click)e.attr("data-dismiss","modal");else if(b.isFunction(c.click))e.on("click",c.click.bind(a,{dialog:a}));c.href&&e.attr("href",c.href);c.className&&e.addClass(c.className);a.footer.append(e)})}},_setFullscreen:function(){this.options.fullscreen?this.$element.addClass("fullscreen"):this.$element.removeClass("fullscreen");this.$element.css({"margin-left":0,"margin-top":0})},_show:function(){var a=b("body"),e=this;this._previousFocus=b(":focus");this._previousFocus.trigger("blur");
a.addClass("coral-Modal.is-open");this.$element.trigger("beforeshow");this._toggleBackdrop(!0);this.options.attachToBody&&(0===this.$element.parent("body").length&&this.$element.appendTo(a),this.$element.siblings("[aria-hidden]").each(function(a,e){b(e).data("aria-hidden",b(e).attr("aria-hidden"))}),this.$element.siblings().not("script, link, style").attr("aria-hidden",this.options.visible));this.$element.attr("aria-hidden",!this.options.visible);this.center();this.$element.fadeIn();this.$element.find(":tabbable:not(.coral-Modal-header .coral-Modal-closeButton):first").focus();
b('\x3cdiv class\x3d"coral-Modal-tabcapture" tabindex\x3d"0"/\x3e').on("focus.modal-tabcapture",function(a){var c=e.$element.find(":tabbable"),d=b("body \x3e .coral-Modal-tabcapture").last();a=a.currentTarget===d[0]?c.filter(":not(.coral-Modal-header .coral-Modal-closeButton):last"):c.filter(":not(.coral-Modal-header .coral-Modal-closeButton):first");0===a.length&&(a=e.$element);a.trigger("focus")}).prependTo(a).clone(!0).appendTo(a);b(document).on("keydown.modal-escape",this._escapeKeyHandler.bind(this));
return this},_hide:function(){b("body").removeClass("coral-Modal.is-open").find(".coral-Modal-tabcapture").off("focus.modal-tabcapture").remove();b(document).off("keydown.modal-escape");this.$element.trigger("beforehide");this._toggleBackdrop(!1);this.$element.attr("aria-hidden",!this.options.visible);this.$element.siblings().removeAttr("aria-hidden").filter(function(){return"undefined"!==typeof b(this).data("aria-hidden")}).each(function(a,e){b(e).attr("aria-hidden",b(e).data("aria-hidden")).removeData("aria-hidden")});
this.$element.fadeOut().trigger("blur");this._previousFocus.trigger("focus");return this},center:function(){var a=this.$element.outerWidth(),b=this.$element.outerHeight();this.options.fullscreen||this.$element.css({"margin-left":-(a/2),"margin-top":-(b/2)})},_toggleBackdrop:function(a){if(this.options.backdrop){var e=b("body");(a||this.backdrop.is(":hidden"))&&!1!==a?this.backdrop.appendTo(e).fadeIn():this.backdrop.fadeOut(function(){b(this).detach()})}},_escapeKeyHandler:function(a){27===a.which&&
this.hide()}});CUI.Widget.registry.register("modal",CUI.Modal);CUI.options.dataAPI&&(b(document).on("cui-contentloaded.data-api",function(a){CUI.Modal.init(b("[data-init~\x3dmodal]",a.target))}),b(document).on("click.modal.data-api",'[data-toggle\x3d"modal"]',function(a){a.preventDefault();var e=b(this);a=CUI.util.getDataTarget(e);var c=e.attr("href");c=b.extend({remote:!/#/.test(c)&&c},a.data(),e.data());e.is(document.activeElement)||(e.is(":focusable")||e.attr("tabindex",0),e.focus());"string"===
typeof c.buttons&&(c.buttons=JSON.parse(c.buttons));e=a.data("modal");a.modal(c);e&&a.data("modal").set({visible:!e.get("visible")})}))})(jQuery,this);
(function(b,c,d){CUI.Slider=new Class({toString:"Slider",extend:CUI.Widget,construct:function(){var a=this,e=this.$element.attr("id"),c=[];this._readOptions();e||(e=CUI.util.getNextId(),this.$element.attr("id",e));this._renderMissingElements();this.$inputs=this.$element.find("input");this.$inputs.each(function(e,d){d=b(d);d.is("[step]")||d.attr("step",a.options.step);d.is("[min]")||d.attr("min",a.options.min);d.is("[max]")||d.attr("max",a.options.max);d.is("[value]")?c.push(d.attr("value")):(d.attr({value:a.options.value}),
c.push(a.options.value));0===e&&(d.is(":disabled")?(a.options.disabled=!0,a.$element.addClass("is-disabled")):a.options.disabled&&(d.attr("disabled","disabled"),a.$element.addClass("is-disabled")))});a.values=c;"vertical"===this.options.orientation&&(this.isVertical=!0);this.$element.on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider",this._mouseDown.bind(this)).on("focusin.slider","input[type\x3drange], [role\x3dslider].coral-Slider-handle",this._focus.bind(this)).on("focusout.slider",
"input[type\x3drange], [role\x3dslider].coral-Slider-handle",this._blur.bind(this)).on("input.slider change.slider","input",this._handleInputChange.bind(this));this.$element.on("change:value",this._processValueChanged.bind(this)).on("change:disabled",this._processDisabledChanged.bind(this)).on("change:min",this._processMinMaxStepChanged.bind(this)).on("change:max",this._processMinMaxStepChanged.bind(this)).on("change:step",this._processMinMaxStepChanged.bind(this));this._render();this._makeAccessible()},
defaults:{step:"1",min:"1",max:"100",value:"1",orientation:"horizontal",slide:!1,disabled:!1,tooltips:!1,tooltipFormatter:function(a){return a.toString()},valuetextFormatter:function(a){return a.toString()},ticks:!1,filled:!1,bound:!1},values:[],$inputs:null,$ticks:null,$fill:null,$handles:null,$tooltips:null,isVertical:!1,draggingPosition:-1,_inputsOrHandles:null,_readOptions:function(){this.$element.hasClass("coral-Slider--vertical")&&(this.options.orientation="vertical",this.isVertical=!0);this.$element.hasClass("coral-Slider--tooltips")&&
(this.options.tooltips=!0);this.$element.hasClass("coral-Slider--ticked")&&(this.options.ticks=!0);this.$element.hasClass("coral-Slider--filled")&&(this.options.filled=!0);this.$element.hasClass("coral-Slider--bound")&&(this.options.bound=!0);if(this.$element.data("slide")||this.$element.hasClass("coral-Slider--slide"))this.options.slide=!0},setValue:function(a,b){this._updateValue(b||0,a,!0);this._moveHandles();this.options.filled&&this._updateFill()},_renderMissingElements:function(){if(!this.$element.find("input").length){var a=
this,e,c=b.isArray(this.options.value)?this.options.value:[this.options.value];b.each(c,function(c,d){e=b("\x3cinput\x3e");e.attr({type:"range",min:a.options.min,max:a.options.max,step:a.options.step,value:d});a.$element.append(e)})}this.$element.find("div.coral-Slider-clickarea").length||(c=b('\x3cdiv class\x3d"coral-Slider-clickarea"\x3e'),this.$element.prepend(c));this.$element.toggleClass("coral-Slider",!0);this.$element.toggleClass("coral-Slider--vertical","vertical"===this.options.orientation);
this.$element.toggleClass("coral-Slider--tooltips",this.options.tooltips);this.$element.toggleClass("coral-Slider--ticked",this.options.ticks);this.$element.toggleClass("coral-Slider--filled",this.options.filled)},_processValueChanged:function(){var a=this,e=b.isArray(this.options.value)?this.options.value:[this.options.value];b.each(e,function(b,e){a._updateValue(b,e,!0)});this._moveHandles();this.options.filled&&this._updateFill()},_processMinMaxStepChanged:function(){var a=this;this.$inputs.attr({min:this.options.min,
max:this.options.max,step:this.options.step,value:""});this._supportsRangeInput||this.$handles.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuestep":this.options.step});b.each(this.values,function(b,c){a._updateValue(b,c,!0)});this.options.ticks&&(this.$element.find(".coral-Slider-ticks").remove(),this._buildTicks());this.options.filled&&(this.$element.find(".coral-Slider-fill").remove(),this._buildFill());this._moveHandles();this.options.filled&&this._updateFill()},
_processDisabledChanged:function(){this.options.disabled?(this.$inputs.attr("disabled","disabled"),this.$handles.each(function(){b(this).removeClass("is-focused");b(this).parent().removeClass("is-focused");this._supportsRangeInput||b(this).attr("aria-disabled",!0)})):(this.$inputs.removeAttr("disabled"),this._supportsRangeInput||this.$handles.removeAttr("aria-disabled"));this.$element.toggleClass("is-disabled",this.options.disabled)},_render:function(){var a=this.$inputs.map(function(){return b(this).attr("max")}),
e=this.$inputs.map(function(){return b(this).attr("min")}),c=this.$inputs.map(function(){return b(this).attr("step")});this.options.max=Math.max.apply(null,a.toArray());this.options.min=Math.min.apply(null,e.toArray());this.options.step=Math.min.apply(null,c.toArray());this._adjustLabelling();this.options.ticks&&this._buildTicks();this.options.filled&&this._buildFill();this.$element.toggleClass("coral-Slider--slide",this.options.slide);this._buildHandles()},_buildTicks:function(){var a=b("\x3cdiv/\x3e").addClass("coral-Slider-ticks"),
e=Math.round((this.options.max-this.options.min)/this.options.step)-1,c=this.isVertical?this.$element.height():this.$element.width();this.$element.prepend(a);for(var d=0;d<e;d++){var g=c*(d+1)/(e+1)/c*100;g=b("\x3cdiv/\x3e").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",g+"%");a.append(g)}this.$ticks=a.find(".coral-Slider-tick")},_buildFill:function(){this.$fill=b("\x3cdiv/\x3e").addClass("coral-Slider-fill");if(0!==this.values.length){var a=this.isVertical?"height":"width",e=
this.isVertical?"bottom":"left";if(2>this.values.length){var c=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100;this.$fill.css(a,c+"%")}else{c=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100;var d=(this._getHighestValue()-this._getLowestValue())/(this.options.max-this.options.min)*100;this.$fill.css(a,d+"%").css(e,c+"%")}}this.$element.prepend(this.$fill);this.options.filled=!0},_buildHandles:function(){var a=this,e=a.$element.attr("id");
a.$inputs.each(function(c){var d=b(this),f=d.wrap("\x3cdiv/\x3e").parent().addClass("coral-Slider-value"),k=(a.values[c]-a.options.min)/(a.options.max-a.options.min)*100+"%",m=a.isVertical?"bottom":"left";c=b("\x3cdiv/\x3e").addClass("coral-Slider-handle u-coral-openHand").css(m,k).attr({id:e+"-handle"+c});d.css(m,k);f.append(c);a.options.tooltips&&(f=b("\x3coutput\x3e"+d.attr("value")+"\x3c/output\x3e").addClass("coral-Tooltip coral-Tooltip--inspect "+(a.isVertical?"coral-Tooltip--positionRight":
"coral-Tooltip--positionAbove")).attr({role:"tooltip","aria-hidden":!0,id:d.attr("id")+"-tooltip","for":d.attr("id")}),c.append(f));if(1<a.$inputs.length&&d.attr("aria-labelledby"))for(d=d.attr("aria-labelledby").split(" "),k=0;k<d.length;k++)0<k&&(f=b("#"+d[k]),c.prepend(f))});a.$handles=a.$element.find(".coral-Slider-handle");a.$tooltips=a.$element.find(".coral-Tooltip");a._moveHandles()},_handleClick:function(a){if(this.options.disabled)return!1;var b=a.pageX,f=a.pageY,h=/^(ms)?pointerdown$/i.test(a.type);
if("touchstart"===a.type){var g=0<a.originalEvent.touches.length?a.originalEvent.touches:a.originalEvent.changedTouches;b=g[0].pageX;f=g[0].pageY}else h&&(b=a.originalEvent.clientX+c.pageXOffset,f=a.originalEvent.clientY+c.pageYOffset);b!==d&&f!==d&&(g=this._findNearestHandle(b,f),b=this._getValueFromCoord(b,f,!0),isNaN(b)||(this._updateValue(g,b),this._moveHandles(),this.options.filled&&this._updateFill()),("mousedown"===a.type||h)&&this.$handles.eq(g).data("mousedown",!0),this._inputsOrHandles.eq(g).focus())},
_findNearestHandle:function(a,e){var c=this,d=Infinity,g=0;c.$handles.each(function(f){var h=b(this).offset().left,l=b(this).offset().top,k=b(this).width(),p=b(this).height();h=Math.abs(a-(h+k/2));"vertical"===c.options.orientation&&(h=Math.abs(e-(l+p/2)));h<d&&(d=h,g=f)});return g},_handleInputChange:function(a){if(this.options.disabled)return!1;var e=b(a.target),c=this.$inputs.index(e);e.val()!==this.values[c]&&(this.setValue(e.val(),c),e.is(document.activeElement)&&(this.$handles.eq(c).removeData("mousedown"),
this._focus(a)))},_focus:function(a){if(this.options.disabled)return!1;var e=this,d=b(a.target);a=d.closest(".coral-Slider-value");var h=a.find(".coral-Slider-handle");h.data("mousedown")||(this.$element.addClass("is-focused"),a.addClass("is-focused"),h.addClass("is-focused"));b(c).on("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slide",function(a){1!==b(a.target).closest(e.$element).length&&d.trigger("focusout.slider")})},_blur:function(a){if(this.options.disabled)return!1;
a=b(a.target).closest(".coral-Slider-value");var e=a.find(".coral-Slider-handle");this.$element.removeClass("is-focused");a.removeClass("is-focused");e.removeClass("is-focused").removeData("mousedown");b(c).off("touchstart.slider pointerdown.slider mspointerdown.slider mousedown.slider")},_keyDown:function(a){if(this.options.disabled)return!1;var e=b(a.target),c=a.which||a.keyCode;e=e.closest(".coral-Slider-value").find("input");var d=this.$inputs.index(e),g=this.$handles.eq(d),k=Number(e.val()),
m=Number(this.options.step),l=Number(this.options.min),n=Number(this.options.max),p=Math.max(m,Math.round((n-l)/10)),t=!1;g.removeData("mousedown");this._focus(a);switch(c){case 40:case 37:k-=m;t=!0;break;case 38:case 39:k+=m;t=!0;break;case 33:k+=p-k%p;t=!0;break;case 34:k-=p-(0===k%p?0:p-k%p);t=!0;break;case 35:k=n;t=!0;break;case 36:k=l,t=!0}t&&a.preventDefault();k!==Number(e.val())&&(this.setValue(k,d),e.trigger("change.slider"))},_mouseDown:function(a){if(this.options.disabled)return!1;a.preventDefault();
var e=this;this.draggingPosition=-1;this.$handles.each(function(b,c){c===a.target&&(e.draggingPosition=b)});this.$tooltips.each(function(b,c){c===a.target&&(e.draggingPosition=b)});if(0>this.draggingPosition)this._handleClick(a);else{var d=this.$handles.eq(this.draggingPosition);d.addClass("is-dragged");b("body").addClass("u-coral-closedHand");b(c).on("touchmove.slider pointermove.slider mspointermove.slider mousemove.slider",this._handleDragging.bind(this));b(c).on("touchend.slider pointerup.slider mspointerup.slider mouseup.slider",
this._mouseUp.bind(this));("mousedown"===a.type||/^(ms)?pointerdown$/i.test(a.type))&&d.data("mousedown",!0);this._inputsOrHandles.eq(this.draggingPosition).focus()}},_handleDragging:function(a){var b=a.pageX,d=a.pageY;a.originalEvent.targetTouches?(d=a.originalEvent.targetTouches.item(0),b=d.pageX,d=d.pageY):/^(ms)?pointermove$/i.test(a.type)&&(b=a.originalEvent.clientX+c.pageXOffset,d=a.originalEvent.clientY+c.pageYOffset);this._updateValue(this.draggingPosition,this._getValueFromCoord(b,d));this._moveHandles();
this.options.filled&&this._updateFill();a.preventDefault()},_mouseUp:function(){this.$handles.eq(this.draggingPosition).removeClass("is-dragged");b("body").removeClass("u-coral-closedHand");this.draggingPosition=-1;b(c).off("mousemove.slider mspointermove.slider pointermove.slider touchmove.slider");b(c).off("mouseup.slider mspointerup.slider pointerup.slider touchend.slider")},_clickLabel:function(a){this.options.disabled||this._inputsOrHandles.eq(0).focus()},_updateValue:function(a,e,c){var d=this,
f=d.$inputs.eq(a),k=e.toString(),m=["min","max"],l={};if(f.val()!==k||f.attr("value")!==k||d.values[a]!==k){e=this._snapValueToStep(e,this.options.min,this.options.max,this.options.step);if(2===d.$inputs.length&&this.options.bound){k=d.$inputs.eq(!a);var n=Number(k.val());e=Math[m[a]](e,n);k.attr(m[a],e);b.extend(l,{ariaAttribute:n})}d.values[a]=e.toString();b.extend(l,{value:e,"aria-valuetext":d._supportsRangeInput?d.options.valuetextFormatter(e):null});f.val(e).attr(l);this._supportsRangeInput||
d.$handles.each(function(c,f){c=c===a;l={ariaAttr:c?n:e};c&&b.extend(l,{"aria-valuenow":e,"aria-valuetext":d.options.valuetextFormatter(e)});b(f).attr(l)});c||setTimeout(function(){f.change()},1)}},_moveHandles:function(){var a=this;this.$handles.each(function(e,c){c=b(c);var d=(a.values[e]-a.options.min)/(a.options.max-a.options.min)*100,f=a.$inputs.eq(e);"vertical"===a.options.orientation?(c.css("bottom",d+"%"),f.css("bottom",d+"%")):(c.css("left",d+"%"),f.css("left",d+"%"));a.options.tooltips&&
(d=a.$tooltips.eq(e),d.html(a.options.tooltipFormatter(a.values[e])),"vertical"===a.options.orientation?d.css("top",-((d.outerHeight()+c.outerHeight()/2)/2)+"px"):d.css("left",-((d.outerWidth()+c.outerWidth()/2)/2)+"px"))})},_updateFill:function(){if(0!==this.values.length)if(2===this.values.length){var a=(this._getLowestValue()-this.options.min)/(this.options.max-this.options.min)*100;var b=(this._getHighestValue()-this.options.min)/(this.options.max-this.options.min)*100-a;"vertical"===this.options.orientation?
this.$fill.css("bottom",a+"%").css("height",b+"%"):this.$fill.css("left",a+"%").css("width",b+"%")}else a=(this.values[0]-this.options.min)/(this.options.max-this.options.min)*100,"vertical"===this.options.orientation?this.$fill.css("height",a+"%"):this.$fill.css("width",a+"%");this.options.ticks&&this._coverTicks()},_coverTicks:function(){var a=this;a.$ticks.each(function(e){e=a._getValueFromCoord(b(this).offset().left,b(this).offset().top);2===a.values.length?e>=a._getLowestValue()&&e<=a._getHighestValue()?
b(this).addClass("coral-Slider-tick--covered"):b(this).removeClass("coral-Slider-tick--covered"):e<=a._getHighestValue()?b(this).addClass("coral-Slider-tick--covered"):b(this).removeClass("coral-Slider-tick--covered")})},_getValueFromCoord:function(a,b,c){var e=this.$element.offset();"vertical"===this.options.orientation?(a=this.$element.height(),e=(e.top+a-b)/a):(b=this.$element.width(),e=(a-e.left)/b);return c&&(0>e||1<e)?NaN:this._snapValueToStep(1*this.options.min+(this.options.max-this.options.min)*
e,this.options.min,this.options.max,this.options.step)},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_makeAccessible:function(){var a=this,e,c;this.$inputs.each(function(d,f){e=b(f);c=a.$handles.eq(d);a._supportsRangeInput?(e.attr({"aria-valuetext":a.options.valuetextFormatter(e.attr("value")),"aria-hidden":null,tabindex:null}),c.attr({role:null,"aria-valuemin":null,"aria-valuemax":null,"aria-valuestep":null,
"aria-valuenow":null,"aria-valuetext":null,tabindex:null,"aria-labelledby":null}),b('label[for\x3d"#'+c.attr("id")+'"]').attr("for",e.attr("id"))):(e.attr({"aria-valuetext":null,"aria-hidden":!0,tabindex:-1}),c.attr({role:"slider","aria-valuemin":e.attr("min"),"aria-valuemax":e.attr("max"),"aria-valuestep":e.attr("step"),"aria-valuenow":e.attr("value"),"aria-valuetext":a.options.valuetextFormatter(e.attr("value")),tabindex:e.is(":disabled")?null:0,"aria-labelledby":e.attr("aria-labelledby")||null}),
b('label[for\x3d"'+e.attr("id")+'"]').attr("for",c.attr("id")))});a._supportsRangeInput?(this._inputsOrHandles=this.$inputs,this.$element.off("keydown.slider")):(this._inputsOrHandles=this.$handles,this.$element.on("keydown.slider","[role\x3dslider].coral-Slider-handle",this._keyDown.bind(this)));b.each(this.values,function(b,e){a._updateValue(b,e,!0)})},_adjustLabelling:function(){this.$element.attr("id");var a=this._adjustFieldsetAndLegend();this._adjustInputLabels(a)},_adjustFieldsetAndLegend:function(){var a=
this.$element.attr("id"),e=this.$element.children("fieldset"),c=e.children("legend");if(e.length){this.$element.append(e.contents(":not(legend)"));var d=b("\x3cdiv/\x3e",{role:"group","class":"coral-Slider-fieldset"}).insertBefore(this.$element);d.append(this.$element);if(c.length){var g=b("\x3cdiv/\x3e");g.append(c.contents());b.each(c.prop("attributes"),function(){g.attr(this.name,this.value)});g.attr("id")||g.attr("id",a+"-legend");e.replaceWith(g);c=g.insertBefore(this.$element);d.attr("aria-labelledby",
c.attr("id"))}}return c},_adjustInputLabels:function(a){var e=this,d=this.$element.attr("id"),h=b(a);this.$inputs.each(function(a,f){var g=b(f),l=g.attr("id"),k=g.attr("aria-labelledby");l||(g.attr("id",d+"-input"+a),l=g.attr("id"));k||(k="",g.attr("aria-labelledby",k));f=e.$element.find('label[for\x3d"'+l+'"]');h.length&&-1===c.navigator.platform.indexOf("Win")&&-1===k.indexOf(h.attr("id"))&&(k=h.attr("id")+(k.length?" ":"")+k,g.attr("aria-labelledby",k));f.length&&(f.not(g.parent()).insertBefore(e.$element),
f.each(function(a){b(this).attr("id")||b(this).attr("id",l+"-label"+a);-1===k.indexOf(l+"-label"+a)&&(k=k+(k.length?" ":"")+l+"-label"+a,g.attr("aria-labelledby",k));b(this).on("mousedown.slider",function(b){e._inputsOrHandles.eq(a).focus();b.preventDefault();b.stopImmediatePropagation()})}));g.parent().is("label")&&(f=g.parent(),f.attr("id")||f.attr("id",l+"-label"),f.attr("for")||f.attr("for",l),g.insertAfter(f),h.length&&f.addClass("u-coral-screenReaderOnly").attr({"aria-hidden":!0}),f.insertBefore(e.$element));
f.length&&-1===k.indexOf(f.attr("id"))&&(k=k+(k.length?" ":"")+f.attr("id"),g.attr("aria-labelledby",k));0===f.length&&0<k.length&&(f=b("#"+k.split(" ")[0]));0===k.length&&g.removeAttr("aria-labelledby");if(0===a){if(f.length)f.on("click.slider",e._clickLabel.bind(e));if(h.length)h.on("click.slider",e._clickLabel.bind(e))}})},_supportsRangeInput:function(){var a=document.createElement("input");a.setAttribute("type","range");return"range"===a.type}(),_snapValueToStep:function(a,b,c,d){d=parseFloat(d);
var e=(a-b)%d,f=d.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;a=2*Math.abs(e)>=d?a-Math.abs(e)+d:a-e;a<b?a=b:a>c&&(a=b+Math.floor((c-b)/d)*d);0<f&&(a=parseFloat(a.toFixed(f)));return a}});CUI.Widget.registry.register("slider",CUI.Slider);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.Slider.init(b('.coral-Slider[data-init~\x3d"slider"]',a.target))})})(jQuery,this);
(function(b){CUI.LabeledSlider=new Class({toString:"LabeledSlider",extend:CUI.Slider,construct:function(){this.$element.addClass("coral-Slider--labeled");this.options.alternating&&this.$element.addClass("coral-Slider--alternatingLabels")},defaults:b.extend(CUI.Slider.prototype.defaults,{alternating:!1}),_readOptions:function(){this.inherited(arguments);this.$element.hasClass("coral-Slider--alternatingLabels")&&(this.options.alternating=!0)},_getTickLabel:function(b){return this.$element.find("ul.coral-Slider-tickLabels li").eq(b).html()},
_buildTicks:function(){var c=b("\x3cdiv\x3e\x3c/div\x3e").addClass("coral-Slider-ticks"),d=Math.ceil((this.options.max-this.options.min)/this.options.step)+1,a=this.isVertical?this.$element.height():this.$element.width(),e=a/d*100/a;this.$element.append(c);this.options.alternating&&(e*=2);for(var f=0;f<d;f++){var h=a*f/(d-1)/a*100,g=b("\x3cdiv/\x3e").addClass("coral-Slider-tick").css(this.isVertical?"bottom":"left",h+"%"),k="coral-Slider-tickLabel-"+this.$element.attr("id")+"-"+f;k=b("\x3cdiv/\x3e").addClass("coral-Slider-tickLabel").attr("id",
k);c.append(g);this.isVertical||(h-=e/2);k.css(this.isVertical?"bottom":"left",h+"%");this.isVertical||k.css("width",e+"%");k.append(this._getTickLabel(f));c.append(k)}this.$ticks=c.find(".coral-Slider-tick");this.options.filled&&this._coverTicks()},_moveHandles:function(){var b=this;this.inherited(arguments);this.$ticks&&0!==this.$ticks.length&&this.$inputs.each(function(c){var a=b.$inputs.eq(c);c=b.$handles.eq(c);var e=a.offset(),d=e.left+a.width()/2;e=e.top+a.height()/2;d=b._findNearestTick(d,
e);d=b.$ticks.eq(d).next(".coral-Slider-tickLabel");(b._supportsRangeInput?a:c).attr({"aria-describedby":d.attr("id")})})},_findNearestTick:function(c,d){if(this.$ticks&&0!==this.$ticks.length){var a=this,e=Infinity,f=0;a.$ticks.each(function(h){var g=b(this).offset().left,k=b(this).offset().top,m=b(this).width(),l=b(this).height();g=Math.abs(c-(g+m/2));"vertical"===a.options.orientation&&(g=Math.abs(d-(k+l/2)));g<e&&(e=g,f=h)});return f}}});CUI.Widget.registry.register("labeled-slider",CUI.LabeledSlider);
if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(c){CUI.LabeledSlider.init(b(".coral-Slider[data-init~\x3d'labeled-slider']",c.target))})})(window.jQuery);
(function(b,c,d){CUI.Autocomplete=new Class({toString:"Autocomplete",extend:CUI.Widget,construct:function(){this._input=this.options.predefine.input||this.$element.find(".js-coral-Autocomplete-textfield");this._selectlist=this.options.predefine.selectlist||this.$element.find(".js-coral-Autocomplete-selectList");this._tags=this.options.predefine.tags||this.$element.find(".js-coral-Autocomplete-tagList");this._suggestionsBtn=this.options.predefine.suggestionsBtn||this.$element.find(".js-coral-Autocomplete-toggleButton");
this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-field");this._selectListAnchor.length||(this._selectListAnchor=this.$element.find(".js-coral-Autocomplete-inputGroup"));this.$element.on("change:disabled",function(a){a.target===this.$element[0]&&this._toggleDisabled()}.bind(this));this.applyOptions();this._makeAccessible();this._initTypeahead();this._setOptionListeners()},defaults:{mode:"starts",disabled:!1,ignorecase:!0,delay:200,multiple:!1,forceselection:!1,selectlistConfig:null,
tagConfig:null,predefine:{}},applyOptions:function(){this._setInput();this._setTags();this._setSelectlist();this._setSuggestions();this._setForceSelection();this.options.disabled&&this.set("disabled",!0)},_setOptionListeners:function(){this.on("change:multiple",function(){this._setInput();this._setTags();this._setForceSelection()}.bind(this));this.on("change:forceselection",function(){this._setForceSelection()}.bind(this));this._selectlist.on("itemremoved",function(a){a=a.item instanceof CUI.SelectList.Group?
a.item.getItems().map(function(a){return a.getValue()}):[a.item.getValue()];this._deselect(a)}.bind(this))},_deselect:function(a){a.forEach(function(a){this.options.multiple?this._tagListWidget.removeItem(a):(this._input&&a===this._input.val()||this._valueInput&&a===this._valueInput.val())&&this.clear()},this)},_setForceSelection:function(){var a=this;if(this.options.forceselection&&!this.options.multiple){if(!this._valueInput){var e=this.$element.find(".js-coral-Autocomplete-hidden"),c=this._input.prop("name"),
h=this._input.val();0<e.length?(this._valueInput=e,!this._valueInput.prop("name")&&c&&this._valueInput.prop("name",c),this._input.prop("name",""),a._lastSelected=this._valueInput.val()):(c&&(this._valueInput=b('\x3cinput type\x3d"hidden" class\x3d"js-coral-Autocomplete-hidden"\x3e').prop("name",c).val(h).insertAfter(this._input),this._input.prop("name","")),a._lastSelected=h);a._lastSelectedDisplay=h}this._input.on("blur.autocomplete-forceselection",function(){var b=function(){a._lastSelectedDisplay!==
a._input.val()&&(""===a._input.val()&&(a._lastSelectedDisplay="",a._lastSelected="",a._triggerValueChange()),a._input.val(a._lastSelectedDisplay),a._valueInput.val(a._lastSelected))},e=setTimeout(b,0);a._suggestionsBtn.on("focus",function(){clearTimeout(e);a._suggestionsBtn.on("blur",b)})})}else this._input.off("blur.autocomplete-forceselection"),this._valueInput&&(this._input.prop("name",this._valueInput.prop("name")),this._input.val(this._valueInput.val()),this._valueInput.remove(),this._valueInput=
d)},_setInput:function(){if(this.options.multiple)this._input.on("keypress.autocomplete-preventsubmit",function(a){if(13===a.which)return a.preventDefault(),!1});else this._input.off("keypress.autocomplete-preventsubmit");this._input.attr("autocomplete","off");this._lastSelected=this._input.val();this._lastSelectedDisplay=this._input.val()},_setSelectlist:function(){0===this._selectlist.length?this._selectlist=b("\x3cul/\x3e",{id:CUI.util.getNextId(),"class":"coral-SelectList js-coral-Autocomplete-selectList"}).appendTo(this.$element):
this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId());this._selectlist.selectList(b.extend({relatedElement:this._selectListAnchor,autofocus:!1,autohide:!0},this.options.selectlistConfig||{}));this._selectListWidget=this._selectlist.data("selectList");this._selectlist.on("selected.autocomplete",this._handleSelected.bind(this))},_setTags:function(){if(this.options.multiple&&!this._tagListWidget){0===this._tags.length&&(this._tags=b("\x3cul/\x3e",{"class":"coral-TagList js-coral-Autocomplete-tagList"}).appendTo(this.$element));
this._tags.tagList(this.options.tagConfig||{});this._tagListWidget=this._tags.data("tagList");this._input.on("keyup.autocomplete-addtag",this._addTag.bind(this));var a=this._triggerValueChange.bind(this);this._tags.on("itemremoved",a);this._tags.on("itemadded",a)}else!this.options.multiple&&this._tagListWidget&&(this._tags.off("itemadded"),this._tags.off("itemremoved"),this._tags.remove(),this._tagListWidget=this._tags=null,this._input.off("keyup.autocomplete-addtag"))},_initTypeahead:function(){var a=
this,b,c=function(){a.showSuggestions(a._input.val(),!1,a._selectListWidget)},d=function(e){b&&clearTimeout(b);b=setTimeout(c,a.options.delay)};this._input.on("input.autocomplete",d);this._input.on("cut.autocomplete",d);this._input.on("keyup.autocomplete",function(a){switch(a.which){case 8:case 46:d()}});this._input.on("keypress.autocomplete",function(a){a.stopPropagation()})},_setSuggestions:function(){var a=this;this._suggestionsBtn.length&&(this._suggestionsBtn.attr({tabindex:-1,"aria-hidden":!0}),
this._suggestionsBtn.on("click.autocomplete",function(b){a._selectListWidget.get("visible")?a._input.trigger("focus"):(a.showSuggestions("",!0,a._selectListWidget),a._input.trigger("focus"),b.preventDefault(),b.stopPropagation())}),this._input.addClass("autocomplete-has-suggestion-btn"))},_makeAccessible:function(){var a=this;this.$element.attr({role:"combobox","aria-autocomplete":this.options.typeahead?"list":null,"aria-owns":this._selectlist.attr("id")||null});this._input.attr({id:this._input.attr("id")||
CUI.util.getNextId(),role:"textbox","aria-autocomplete":this.options.typeahead?"list":null});var e=b('label[for\x3d"'+this._input.attr("id")+'"]');if(0<e.length){var c=[];e.each(function(a,b){b.id=b.id||CUI.util.getNextId();c.push(b.id)});this.$element.attr("aria-labelledby",c.join(" "))}else e=this._input.closest("label");0!==e.length&&0!==b.trim(e.text()).length||!this._input.attr("placeholder")||this._input.attr({"aria-label":this._input.attr("placeholder")});this._selectListWidget._makeAccessible();
this._input.add(this._suggestionsBtn).on("keydown.cui-autocomplete",function(b){switch(b.which){case 40:a._selectListWidget.get("visible")?a._selectListWidget.$element.trigger("focus"):a._selectListWidget.show().resetCaret(),b.preventDefault(),b.stopPropagation()}}.bind(this))},_addTag:function(a){13!==a.which||this.options.forceselection||(this._tagListWidget.addItem(this._input.val()),this.clear(),this._selectListWidget.hide())},_handleSelected:function(a){this._selectListWidget.hide();var b=a.selectedValue;
a=a.displayedValue;this.options.multiple?(this._tagListWidget.addItem({display:a,value:b}),this.clear()):(this._lastSelected=b||a,this._lastSelectedDisplay=a,this.options.forceselection?(this._input.val(a),this._valueInput.val(this._lastSelected)):this._input.val(this._lastSelected),this._triggerValueChange());this._input.trigger("focus")},showSuggestions:function(a,e,c){this.$element.trigger(b.Event("query",{value:a}));e=this._selectListWidget.get("type");c=!0;0===a.length&&this._selectListWidget._hasFocus()?
("static"===e&&(this._handleStaticFilter(a),c=0<this._selectlist.find('[role\x3d"option"]:not(.is-hidden)').length),c||this._selectListWidget.hide()):("static"===e?(this._handleStaticFilter(a),c=0<this._selectlist.find('[role\x3d"option"]:not(.is-hidden)').length):"dynamic"===e&&this._handleDynamicFilter(a),c?this._selectListWidget.show().resetCaret():this._selectListWidget.hide())},_handleStaticFilter:function(a){var b=this;a?this._selectListWidget.filter(function(e,c){b.options.ignorecase&&(c=c.toLowerCase(),
a=a.toLowerCase());return"starts"===b.options.mode?0===c.lastIndexOf(a,0):"contains"===b.options.mode?-1!==c.search(a):!1}):this._selectListWidget.filter()},_handleDynamicFilter:function(a){a=b.extend({},this._selectListWidget.get("dataadditional"),{query:a});this._selectListWidget.set("dataadditional",a);this._selectListWidget.triggerLoadData(!0)},_triggerValueChange:function(){this.$element.trigger(b.Event("change:value"),{value:this.getValue()})},_toggleDisabled:function(a){a="boolean"===typeof a?
a:this.options.disabled;this.$element.toggleClass("is-disabled",a);this.$element.attr("aria-disabled",a);this._input.prop("disabled",a);this._suggestionsBtn.prop("disabled",a);this.options.multiple&&this._tagListWidget.set("disabled",a)},clear:function(){this._input.val("");this._lastSelectedDisplay=this._lastSelected="";this._selectListWidget.filter();this._valueInput&&this._valueInput.val("");var a=this._selectListWidget.get("dataadditional");a&&delete a.query},disable:function(){this._toggleDisabled(!0)},
enable:function(){this._toggleDisabled(!1)},getOption:function(a){return this._selectListWidget.getOption(a)},removeOption:function(a){this.getOption(a).remove()},getGroup:function(a){return this._selectListWidget.getGroup(a)},removeGroup:function(a){return this.getGroup(a).remove()},addOption:function(a,b){this._selectListWidget.addOption(a,b)},addGroup:function(a,b){this._selectListWidget.addGroup(a,b)},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():this.options.forceselection?
this._lastSelected:this._input.val()},getItems:function(){return this._selectListWidget.getItems()}});CUI.Widget.registry.register("autocomplete",CUI.Autocomplete);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.Autocomplete.init(b("[data-init~\x3dautocomplete]",a.target))})})(jQuery,this);
(function(b,c,d){CUI.Select=new Class({toString:"Select",extend:CUI.Widget,construct:function(){this._button=this.$element.children(".coral-Select-button");this._buttonText=this._button.children(".coral-Select-button-text");this._nativeSelect=this.$element.children(".coral-Select-select");this._selectList=this.$element.children(".coral-SelectList");this._tagList=this.$element.children(".coral-TagList");this._valueInput=this.$element.children("input[type\x3dhidden]");this.$element.on("change:disabled",
function(a){a.target===this.$element[0]&&this._toggleDisabled()}.bind(this));this.applyOptions()},defaults:{type:"static",disabled:!1,nativewidget:!1,nativewidgetonmobile:!0,multiple:!1,tagConfig:null,selectlistConfig:null},applyOptions:function(){0<this._nativeSelect.length&&this._nativeSelect.prop("multiple")&&(this.options.multiple=!0);this._createSelectList();(this.options.disabled||this._button.hasClass("is-disabled")||this.$element.data("disabled"))&&this.set("disabled",!0);this._nativeSelect.removeClass("coral-Select-select--native");
this._nativeSelect.off(".selectlist");this._button.off(".selectlist");switch(this._getModeOfOperation()){case "nativeselect":this._prepareSelectForInteraction();this._disableKeyboardInteractionWithSelectList();break;case "selectlist":this._prepareSelectListForInteraction();this._disableKeyboardInteractionWithNativeSelect();break;case "hybrid":this._prepareSelectForInteraction(),this._prepareSelectListForInteraction(),this._hybridEventHandling(),this._disableKeyboardInteractionWithNativeSelect()}this.options.multiple?
this._setTagList():"static"===this.options.type&&this._handleNativeSelect();this._makeAccessible()},_makeAccessible:function(){var a=c.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?!0:!1;this._button.attr({id:this._button.attr("id")||CUI.util.getNextId()});this._button.hasClass("is-invalid")&&(this._button.attr({"aria-invalid":!0}),this._nativeSelect.attr({"aria-invalid":!0}),this._selectList.attr({"aria-invalid":!0}));var e=this._nativeSelect.length&&this._nativeSelect.attr("id")?'label[for\x3d"'+
this._nativeSelect.attr("id")+'"]':'label[for\x3d"'+this._button.attr("id")+'"]';e=b(e);e.attr({id:e.attr("id")||CUI.util.getNextId()});var d=e.attr("id");this._buttonText.attr({id:this._buttonText.attr("id")||CUI.util.getNextId()});this._button.attr({role:a?"button":"combobox","aria-expanded":!1,"aria-haspopup":!0,"aria-labelledby":d?this._buttonText.attr("id")+" "+d:null,"aria-owns":this._selectList.attr("id"),"aria-multiselectable":this.options.multiple||null});this._selectListWidget&&this._selectListWidget._makeAccessible();
this._selectList.attr({"aria-controls":this._button.attr("id"),"aria-multiselectable":this.options.multiple||null});if(e.length&&!this._button.is("[aria-hidden\x3dtrue]"))e.on("click.selectLabel",function(a){this._button.focus();a.preventDefault()}.bind(this))},getValue:function(){return this.options.multiple?this._tagListWidget.getValues():"static"===this.options.type?this._nativeSelect[0][this._nativeSelect[0].selectedIndex].value:"dynamic"===this.options.type?this._valueInput.val():null},setValue:function(a){var e=
this;a===d?a=[]:b.isArray(a)||(a=[a]);var c=[],h=function(b){var d=b.getValue();-1===a.indexOf(d)?c.push(d):e._select(d,b.getDisplay())};this.getItems().forEach(function(a){a instanceof CUI.SelectList.Option?h(a):a instanceof CUI.SelectList.Group&&a.getItems().forEach(h)});this._deselect(c)},getItems:function(){return this._selectListWidget.getItems()},getOption:function(a){return this._selectListWidget.getOption(a)},getGroup:function(a){return this._selectListWidget.getGroup(a)},addOption:function(a,
b){this._selectListWidget.addOption(a,b)},addGroup:function(a,b){this._selectListWidget.addGroup(a,b)},_getModeOfOperation:function(){return"dynamic"===this.options.type?"selectlist":this.options.nativewidget?"nativeselect":this.options.nativewidgetonmobile?"hybrid":"selectlist"},_hybridEventHandling:function(){var a=!1,b=!1,c=this;this._nativeSelect.on("touchstart.selectlist",function(){a=!0}).on("pointerdown.selectlist",function(b){b.originalEvent&&"touch"===b.originalEvent.pointerType&&(a=!0)}).on("MSPointerDown.selectlist",
function(b){b.originalEvent&&2===b.originalEvent.pointerType&&(a=!0)}).on("mousedown.selectlist",function(e){a?a=!1:1===e.which&&(c._nativeSelect.attr("disabled","disabled"),setTimeout(function(){c._nativeSelect.removeAttr("disabled");c._button.focus()},0),b=!0,c._button.click())}).on("click.selectlist",function(a){b&&(a.stopPropagation(),b=!1)}).on("mouseenter.selectlist mouseleave.selectlist",function(a){c._button.toggleClass("is-hovered","mouseenter"===a.type)}).on("focus.selectlist",function(a){c._button.toggleClass("is-focused",
"focus"===a.type)}).on("blur.selectlist",function(a){c._button.removeClass("is-focused")})},_disableKeyboardInteractionWithNativeSelect:function(){this._nativeSelect.attr({tabindex:"-1","aria-hidden":!0});this._nativeSelect.off("focusin.nativeselect focusout.nativeselect keydown.nativeselect pointerdown.nativeselect MSPointerDown.nativeselect mousedown.nativeselect")},_disableKeyboardInteractionWithSelectList:function(){this._button.attr({tabindex:"-1","aria-hidden":!0})},_prepareSelectForInteraction:function(){var a=
this;a._nativeSelect.addClass("coral-Select-select--native");a._nativeSelect.css({height:a._button.outerHeight()});a._nativeSelect.on("change.select",a._handleNativeSelect.bind(a));a._nativeSelect.on("focusin.nativeselect",function(){a._button.addClass("is-focused")});a._nativeSelect.on("focusout.nativeselect",function(b){a._button.removeClass("is-focused")})},_createSelectList:function(){var a=this,e="static";0===this._selectList.length?this._selectList=b("\x3cul/\x3e",{id:CUI.util.getNextId(),"class":"coral-SelectList"}).appendTo(this.$element):
this._selectList.attr("id")||this._selectList.attr("id",CUI.util.getNextId());0<this._nativeSelect.length?this._parseMarkup():e="dynamic";this._selectList.selectList(b.extend({relatedElement:this._button,type:e},this.options.selectlistConfig||{}));this._selectListWidget=this._selectList.data("selectList");this._selectList.on("itemadded",this._addItemToSelect.bind(this)).on("itemremoved",function(b){var e=b.item instanceof CUI.SelectList.Group?b.item.getItems().map(function(a){return a.getValue()}):
[b.item.getValue()];a._deselect(e);a._removeItemFromSelect(b)})},_addItemToSelect:function(a){if(a.item instanceof CUI.SelectList.Option){var e=b("\x3coption\x3e");e.attr("value",a.item.getValue())}else if(a.item instanceof CUI.SelectList.Group)e=b("\x3coptgroup\x3e");else return;e.text(a.item.getDisplay());var c=this._nativeSelect;a.target!=this._selectList.get(0)&&(c=c.children().eq(b(a.target).closest(".coral-SelectList-item--optgroup").index()));a=a.item.getPosition();a>=c.children().length?c.append(e):
0===a?c.prepend(e):c.children().eq(a).before(e)},_removeItemFromSelect:function(a){var e=this._nativeSelect;a.target!=this._selectList.get(0)&&(e=e.children().eq(b(a.target).closest(".coral-SelectList-item--optgroup").index()));e.children().eq(a.item.getPosition()).remove()},_prepareSelectListForInteraction:function(){var a=this;this._button.attr({"data-toggle":"selectlist","data-target":"#"+this._selectList.attr("id")});this._selectList.on("selected.select",this._handleSelectedFromSelectList.bind(this)).on("show.select hide.select",
function(b){"show"!==b.type&&a._button.removeClass("is-above is-below");a._button.toggleClass("is-active","show"===b.type)})},_handleNativeSelect:function(a){var e=this;if(e.options.multiple){b.each(e._nativeSelect[0].options,function(a,b){b.selected?e._tagListWidget.addItem({value:b.value,display:b.text}):e._tagListWidget.removeItem(b.value)});var c=e._tagListWidget.getValues()}else e._nativeSelect[0]&&(c=e._nativeSelect[0][e._nativeSelect[0].selectedIndex],e._buttonText.text(c?c.text:""),c=c?c.value:
null);a&&this.$element.trigger(b.Event("selected",{selected:c}))},_syncSelectionToNativeSelect:function(a){this._nativeSelect.length&&b.each(this._nativeSelect[0].options,function(b,c){c.selected=-1<a.indexOf(c.value)})},_syncSelectionToSelectList:function(a){this._selectList.length&&b.each(this._selectList.find(this._selectListWidget._SELECTABLE_SELECTOR),function(e,c){e=b(c);e.attr("aria-selected",-1<a.indexOf(e.attr("data-value")))})},_parseMarkup:function(){function a(a,c){a.children("option").each(function(a,
d){a=b(d);b("\x3cli/\x3e",{"class":"coral-SelectList-item coral-SelectList-item--option","data-value":a.val(),text:a.text()}).appendTo(c).toggleClass("is-disabled",d.hasAttribute("disabled")).attr("aria-selected",d.hasAttribute("selected")&&!e.options.multiple)})}var e=this,c=this._nativeSelect.children("optgroup");0<c.length?c.each(function(c,d){c=b(d);d=b("\x3cli/\x3e",{"class":"coral-SelectList-item coral-SelectList-item--optgroup"}).append(b("\x3cspan/\x3e",{"class":"coral-SelectList-groupHeader",
text:c.attr("label")}));a(c,b("\x3cul/\x3e",{"class":"coral-SelectList-sublist"}).appendTo(d));e._selectList.append(d)}):a(this._nativeSelect,this._selectList)},_setTagList:function(){var a=this;0===this._tagList.length&&(this._tagList=b("\x3col/\x3e",{"class":"coral-TagList"}).appendTo(this.$element));this._tagList.tagList(this.options.tagConfig||{});this._tagListWidget=this._tagList.data("tagList");this._tagList.on("itemremoved",function(b,c){b=a._tagListWidget.getValues();a._syncSelectionToNativeSelect(b);
a._syncSelectionToSelectList(b)});this._handleNativeSelect()},_handleSelectedFromSelectList:function(a){a&&a.stopPropagation();this._selectListWidget.hide();this._select(a.selectedValue,a.displayedValue);this._button.trigger("focus");this.$element.trigger(b.Event("selected",{selected:this.getValue()}))},_select:function(a,b){this.options.multiple?(this._tagListWidget.addItem({value:a,display:b}),a=this._tagListWidget.getValues()):(this._buttonText.text(b),this._valueInput.val(a),a=[""+a]);this._syncSelectionToNativeSelect(a);
this._syncSelectionToSelectList(a)},_deselect:function(a){var b=this;if(this.options.multiple){a.forEach(function(a){b._tagListWidget.removeItem(a)});var c=this._tagListWidget.getValues()}else if(-1<a.indexOf(this.getValue())){c=this._getFirstOptionWithoutValues(this._getAllOptions(),a);if(c){a=c.getValue();var d=c.getDisplay();c=[a]}else d=a="",c=[];this._buttonText.text(d);this._valueInput.val(a)}c&&(this._syncSelectionToNativeSelect(c),this._syncSelectionToSelectList(c))},_toggleDisabled:function(a){var b=
"boolean"===typeof a?a:this.options.disabled;this._button.toggleClass("is-disabled",b);this._button.attr("aria-disabled",b);this._button.prop("disabled",b);this._nativeSelect.prop("disabled",b);this._selectList.attr("aria-disabled",b);this._tagListWidget&&this._tagListWidget.set("disabled",b);a&&this._selectListWidget&&this._selectListWidget.hide()},_getFirstOptionWithoutValues:function(a,b){for(var e=0;e<a.length;e++){var c=a[e];if(-1===b.indexOf(c.getValue()))return c}},_getAllOptions:function(){for(var a=
this.getItems(),b=[],c=0;c<a.length;c++){var d=a[c];d instanceof CUI.SelectList.Group?b=b.concat(d.getItems()):b.push(d)}return b}});CUI.Widget.registry.register("select",CUI.Select);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.Select.init(b("[data-init~\x3dselect]",a.target))})})(jQuery,this);
(function(b){function c(a,b,e){void 0!==a&&(e[b]=a)}function d(a,b,e){e[b]=a?!0:!1}function a(a,b,e){e[b]=a||e[b]}function e(a,b,e){void 0!==a&&(e[b]=1*a)}function f(a){return a?moment([a.year(),a.month(),a.date()]):null}function h(a,b,e){return null===b&&null===e?!0:null===b?a<=e:null===e?a>=b:b<=a&&a<=e}function g(a,b){if(a&&b)return a.year()===b.year()&&a.month()===b.month()&&a.date()===b.date()}var k=0;CUI.Datepicker=new Class({toString:"Datepicker",extend:CUI.Widget,defaults:{monthNames:null,
dayNames:null,format:null,type:"date",selectedDateTime:null,startDay:0,disabled:!1,displayedFormat:null,storedFormat:null,headFormat:"MMMM YYYY",forceHTMLMode:!1,required:!1,hasError:!1,minDate:null,maxDate:null},displayDateTime:null,pickerShown:!1,construct:function(){this.guid=k+=1;this._readOptionsFromMarkup();this._parseOptions();this._setupMomentJS();this._adjustMarkup();this._findElements();this._constructPopover();this._initialize()},_readOptionsFromMarkup:function(){var f=this.options,g=this.$element,
h=b(g.find("input").filter("[type^\x3ddate],[type\x3dtime]"));0!==h.length&&(f.type=h.attr("type"));[["disabled","disabled",d],["required","required",d],["displayed-format","displayedFormat",c],["stored-format","storedFormat",c],["force-html-mode","forceHTMLMode",c],["day-names","dayNames",a],["month-names","monthNames",a],["head-format","headFormat",a],["start-day","startDay",e],["min-date","minDate",c],["max-date","maxDate",c]].map(function(a){var b=a[1];(0,a[2])(g.data(a[0]),b,f)})},_parseOptions:function(){var a=
this.options;a.monthNames=a.monthNames||CUI.Datepicker.monthNames;a.dayNames=a.dayNames||CUI.Datepicker.dayNames;a.isDateEnabled="date"===a.type||"datetime"===a.type||"datetime-local"===a.type;a.isTimeEnabled="time"===a.type||"datetime"===a.type||"datetime-local"===a.type;var b=document.createElement("input");b.setAttribute("type",a.type);a.supportsInputType="text"!==b.type;null!==a.minDate&&("today"===a.minDate?a.minDate=moment().startOf("day"):moment(a.minDate,n).isValid()?a.minDate=moment(a.minDate,
n):a.minDate=null);null!==a.maxDate&&("today"===a.maxDate?a.maxDate=moment().startOf("day"):moment(a.maxDate,n).isValid()?a.maxDate=moment(a.maxDate,n):a.maxDate=null);a.storedFormat=a.storedFormat||("time"===a.type?p:t);a.displayedFormat=a.displayedFormat||("time"===a.type?p:q);a.useNativeControls=a.forceHTMLMode;!a.forceHTMLMode&&l&&a.supportsInputType&&(a.useNativeControls=!0);a.useNativeControls&&(a.displayedFormat="date"===a.type?n:"time"===a.type?p:t)},_setupMomentJS:function(){this.options.language=
r+(new Date).getTime();moment.locale(this.options.language,{months:this.options.monthNames,weekdaysMin:this.options.dayNames})},_adjustMarkup:function(){var a=this.$element;if(this.options.useNativeControls)this.$popover=[];else{var e="popguid"+this.guid,c="#"+e+".coral-Popover";this.$popover=b("body").find(c);0===this.$popover.length&&(b("body").append(z.replace("%ID%",e)),this.$popover=b("body").find(c),this.options.isDateEnabled&&this.$popover.find(".coral-Popover-content").append(u))}e=a.find("input[type\x3dhidden]");
0===e.length?a.prepend('\x3cinput type\x3d"hidden"\x3e'):a.prepend(e);a.find("input[type\x3dhidden]").attr("name")||(e=a.find("input").not("[type\x3dhidden]").attr("name"),a.find("input[type\x3dhidden]").attr("name",e),a.find("input").not("[type\x3dhidden]").removeAttr("name"))},_findElements:function(){this.$input=this.$element.find("input").not("[type\x3dhidden]");this.$hiddenInput=this.$element.find("input[type\x3dhidden]");this.$openButton=this.$element.find("button")},_constructPopover:function(){this.$popover.length&&
(this.popover=new m({$element:this.$popover,$trigger:this.$openButton,options:this.options,setDateTimeCallback:this._popoverSetDateTimeCallback.bind(this),hideCallback:this._popoverHideCallback.bind(this)}))},_initialize:function(){this.on("change:disabled",this._toggleDisabled.bind(this));this.options.useNativeControls?(this.displayDateTime=this.options.selectedDateTime=moment(this.$input.val(),this.options.displayedFormat),this.$openButton.hide()):this._switchInputTypeToText(this.$input);this.$openButton.on("click",
this._clickHandler.bind(this));this.$input.on("change"+(l?" blur":""),this._inputChangedHandler.bind(this));this.options.selectedDateTime||this._readInputVal([this.options.storedFormat,this.options.displayedFormat]);this._setDateTime(this.options.selectedDateTime,!0)},_readInputVal:function(a){var b=this.$input.eq(0).val();""!==b?((a=moment(b,a||this.options.displayedFormat))&&a.isValid()||(a=moment(new Date(b))),this.displayDateTime=this.options.selectedDateTime=a,null!==a&&a.isValid()&&(this.displayDateTime=
this.options.selectedDateTime=a)):this.displayDateTime=null},_updateState:function(){this._toggleDisabled();this.options.hasError||!this.options.selectedDateTime&&this.options.required||this.options.selectedDateTime&&!this.options.selectedDateTime.isValid()?(this.$element.addClass("is-invalid"),this.$element.find("input").addClass("is-invalid")):(this.$element.removeClass("is-invalid"),this.$element.find("input").removeClass("is-invalid"))},_toggleDisabled:function(){this.options.disabled?(this.$element.find("input,button").attr("disabled",
"disabled"),this._hidePicker()):this.$element.find("input,button").removeAttr("disabled")},_popoverSetDateTimeCallback:function(){this._setDateTime.apply(this,arguments);!1===this.options.isTimeEnabled&&this._hidePicker()},_popoverHideCallback:function(){this.pickerShown=!1;this.$element.find("input").removeClass("is-highlighted")},_switchInputTypeToText:function(a){var b=a.parent();a.detach().attr("type","text").prependTo(b)},_openNativeInput:function(){this.$input.trigger("click")},_clickHandler:function(a){if(!this.options.disabled)if(this.pickerShown)this._hidePicker();
else{var b=this;setTimeout(function(){b._openPicker()},100)}},_inputChangedHandler:function(){if(!this.options.disabled){if(""!==this.$input.val()){var a=moment(this.$input.val(),this.options.displayedFormat);this.options.hasError=null!==a&&!h(a,this.options.minDate,this.options.maxDate)}else this.options.hasError=!1;this._setDateTime(a,!0)}},_keyPress:function(){},_openPicker:function(){this.options.useNativeControls?this._openNativeInput():(this._readInputVal(),this._showPicker())},_showPicker:function(){this.pickerShown||
(this.$element.find("input").addClass("is-highlighted"),this.popover.show(this.displayDateTime),this.pickerShown=!0)},_hidePicker:function(){this.pickerShown&&(this.$element.find("input").removeClass("is-highlighted"),this.popover.hide(),this.pickerShown=!1)},_setDateTime:function(a,b){(this.options.selectedDateTime=this.displayDateTime=a)?a.isValid()&&this.$input.val(a.locale(this.options.language).format(this.options.displayedFormat)):this.$input.val("");a=a&&a.isValid()?a.locale("en").format(this.options.storedFormat):
"";this.$hiddenInput.val(a);this._updateState();b||this.$input.trigger("change");this.$hiddenInput.trigger("change")}});CUI.Datepicker.monthNames="January February March April May June July August September October November December".split(" ");CUI.Datepicker.dayNames="Su Mo Tu We Th Fr Sa".split(" ");CUI.Widget.registry.register("datepicker",CUI.Datepicker);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.Datepicker.init(b("[data-init~\x3ddatepicker]",a.target))});
var m=new Class({toString:"Popover",extend:Object,construct:function(a){this.$element=a.$element;this.options=a.options;this.setDateTimeCallback=a.setDateTimeCallback;this.hideCallback=a.hideCallback;this.$element.popover();this.popover=this.$element.data("popover");this.popover.set({pointAt:a.$trigger,pointFrom:"bottom"});this._setupListeners()},show:function(a){this.displayDateTime=a;this._renderCalendar();this.options.isTimeEnabled&&this._renderTime();this.popover.show()},hide:function(){this.popover.hide()},
_setupListeners:function(){this.popover.on("hide",this._popupHideHandler.bind(this));this.$element.find(".coral-DatePicker-calendar").on("swipe",this._swipeHandler.bind(this));this.$element.on("mousedown",".coral-DatePicker-nextMonth",this._mouseDownNextHandler.bind(this));this.$element.on("mousedown",".coral-DatePicker-prevMonth",this._mouseDownPrevHandler.bind(this));this.options.isTimeEnabled&&(this.$element.on("selected",".coral-DatePicker-hour, .coral-DatePicker-minute",this._dropdownChangedHandler.bind(this)),
this.$element.on("change",".coral-DatePicker-hour, .coral-DatePicker-minute",this._dropdownChangedHandler.bind(this)))},_popupHideHandler:function(a){this.hideCallback()},_swipeHandler:function(a){a=a.direction;var b=this.displayDateTime.year(),e=this.displayDateTime.month();b=moment([b,e,1]);"left"===a?(b.add(1,"months"),this.displayDateTime=f(b),this._renderCalendar("left")):"right"===a&&(b.subtract(1,"months"),this.displayDateTime=f(b),this._renderCalendar("right"))},_mouseDownNextHandler:function(a){a.preventDefault();
this.displayDateTime&&(a=moment([this.displayDateTime.year(),this.displayDateTime.month(),1]),a.add(1,"months"),this.displayDateTime=f(a),this._renderCalendar("left"))},_mouseDownPrevHandler:function(a){a.preventDefault();this.displayDateTime&&(a=moment([this.displayDateTime.year(),this.displayDateTime.month(),1]),a.subtract(1,"months"),this.displayDateTime=f(a),this._renderCalendar("right"))},_dropdownChangedHandler:function(){var a=this._getHoursFromDropdown(),b=this._getMinutesFromDropdown();this.options.selectedDateTime||
(this.options.selectedDateTime=moment());a=this.options.selectedDateTime.hours(a).minutes(b);this.setDateTimeCallback(a)},_tableMouseDownHandler:function(a){a.preventDefault();a=moment(b(a.target).data("date"),t);if(this.options.isTimeEnabled){var e=this._getHoursFromDropdown(),c=this._getMinutesFromDropdown();a.hours(e).minutes(c)}this.setDateTimeCallback(a);this._renderCalendar()},_renderCalendar:function(a){var b=this.displayDateTime;b&&b.isValid()||(this.displayDateTime=b=moment());var e=b.year();
b=b.month()+1;e=this._renderOneCalendar(b,e);b=this.$element.find(".coral-DatePicker-calendar");e.on("mousedown","a",this._tableMouseDownHandler.bind(this));0<b.find("table").length&&a?this._slideCalendar(e,"left"===a):(b.find("table").remove(),b.find(".coral-DatePicker-calendarSlidingContainer").remove(),b.find(".coral-DatePicker-calendarBody").append(e))},_renderOneCalendar:function(a,e){var c=moment([e,a-1,1]).locale(this.options.language).format(this.options.headFormat);c=b('\x3cdiv class\x3d"coral-DatePicker-calendarHeader"\x3e\x3ch2 class\x3d"coral-Heading coral-Heading--2"\x3e'+
c+"\x3c/h2\x3e\x3c/div\x3e").append(b('\x3cbutton class\x3d"coral-MinimalButton coral-DatePicker-nextMonth"\x3e\x26#x203A;\x3c/button\x3e')).append(b('\x3cbutton class\x3d"coral-MinimalButton coral-DatePicker-prevMonth"\x3e\x26#x2039;\x3c/button\x3e'));var d=this.$element.find(".coral-DatePicker-calendar"),f=d.find(".coral-DatePicker-calendarHeader");0<f.length?f.replaceWith(c):d.prepend(c);c=b("\x3ctable\x3e");c.data("date",e+"/"+a);d="\x3ctr\x3e";for(f=0;7>f;f++){var l=(f+this.options.startDay)%
7;d+="\x3cth\x3e\x3cspan\x3e"+this.options.dayNames[l]+"\x3c/span\x3e\x3c/th\x3e"}c.append("\x3cthead\x3e"+(d+"\x3c/tr\x3e")+"\x3c/thead\x3e");f=(moment([e,a-1,1]).day()-this.options.startDay)%7;0>f&&(f+=7);d="";for(var k=moment(),m=0;6>m;m++){d+="\x3ctr\x3e";for(var n=0;7>n;n++){l=7*m+n-f+1;var p=moment([e,a-1]);p.add(l,"days");l=p.month()+1===parseFloat(a);var q="";g(p,k)&&(q+=" today");g(p,this.options.selectedDateTime)&&(q+=" selected");d=l&&h(p,this.options.minDate,this.options.maxDate)?d+('\x3ctd class\x3d"'+
q+'"\x3e\x3ca href\x3d"#" data-date\x3d"'+p.locale(this.options.language).format(t)+'"\x3e'+p.date()+"\x3c/a\x3e\x3c/td\x3e"):d+('\x3ctd class\x3d"'+q+'"\x3e\x3cspan\x3e'+p.date()+"\x3c/span\x3e\x3c/td\x3e")}d+="\x3c/tr\x3e"}c.append("\x3ctbody\x3e"+d+"\x3c/tbody\x3e");return c},_slideCalendar:function(a,e){this.$element.find(".coral-DatePicker-calendarSlidingContainer table").stop(!0,!0);this.$element.find(".coral-DatePicker-calendarSlidingContainer").remove();var c=this.$element.find("table"),d=
c.width(),f=c.height(),g=b('\x3cdiv class\x3d"coral-DatePicker-calendarSlidingContainer"\x3e');g.css({display:"block",position:"relative",width:d+"px",height:f+"px",overflow:"hidden"});this.$element.find(".coral-DatePicker-calendarBody").append(g);g.append(c).append(a);c.css({position:"absolute",left:0,top:0});c.after(a);a.css({position:"absolute",left:e?d:-d,top:0});c.animate({left:e?-d:d},B,function(){c.remove()});a.animate({left:0},B,function(){0!==g.parents().length&&(a.css({position:"relative",
left:0,top:0}),a.detach(),this.$element.find(".coral-DatePicker-calendarBody").append(a),g.remove())}.bind(this))},_renderTime:function(){for(var a=this.options.selectedDateTime||moment(),e=b(w),c=b('\x3cselect class\x3d"coral-Select-select"\x3e\x3c/select\x3e'),d=0;24>d;d++){var f=b("\x3coption\x3e"+(10>d?"0"+d:d)+"\x3c/option\x3e");a&&d===a.hours()&&f.attr("selected","selected");c.append(f)}c=b(y).append(c);d=b('\x3cselect class\x3d"coral-Select-select"\x3e\x3c/select\x3e');for(f=0;60>f;f++){var g=
b("\x3coption\x3e"+(10>f?"0"+f:f)+"\x3c/option\x3e");a&&f===a.minutes()&&g.attr("selected","selected");d.append(g)}a=b(x).append(d);b(c).css(v);b(c).find("coral-Select").css(A);b(a).css(v);b(a).find("coral-Select").css(A);e.append(c,b("\x3cspan\x3e:\x3c/span\x3e"),a);0===this.$element.find(".coral-DatePicker-timeControls").length?this.$element.find(".coral-Popover-content").append(e):this.$element.find(".coral-DatePicker-timeControls").empty().append(e.children());b(c).select();b(a).select()},_getHoursFromDropdown:function(){return parseInt(this.$element.find(".coral-DatePicker-timeControls .coral-DatePicker-hour .coral-Select-select").val(),
10)},_getMinutesFromDropdown:function(){return parseInt(this.$element.find(".coral-DatePicker-timeControls .coral-DatePicker-minute .coral-Select-select").val(),10)}}),l=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i),n="YYYY-MM-DD",p="HH:mm",t="YYYY-MM-DD[T]HH:mmZ",q="YYYY-MM-DD HH:mm",r="coralui_",u='\x3cdiv class\x3d"coral-DatePicker-calendar"\x3e\x3cdiv class\x3d"coral-DatePicker-calendarHeader"\x3e\x3c/div\x3e\x3cdiv class\x3d"coral-DatePicker-calendarBody"\x3e\x3c/div\x3e\x3c/div\x3e',
z='\x3cdiv class\x3d"coral-Popover coral-Popover--datepicker" style\x3d"display:none" id\x3d"%ID%"\x3e\x3cdiv class\x3d"coral-Popover-content"\x3e\x3c/div\x3e\x3c/div\x3e',w='\x3cdiv class\x3d"coral-DatePicker-timeControls"\x3e\x3ci class\x3d"coral-Icon coral-Icon--clock coral-Icon--small"\x3e\x3c/i\x3e\x3c/div\x3e',y='\x3cdiv class\x3d"coral-Select coral-DatePicker-hour"\x3e\x3cbutton class\x3d"coral-Select-button coral-MinimalButton"\x3e\x3cspan class\x3d"coral-Select-button-text"\x3e\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e',
x='\x3cdiv class\x3d"coral-Select coral-DatePicker-minute"\x3e\x3cbutton class\x3d"coral-Select-button coral-MinimalButton"\x3e\x3cspan class\x3d"coral-Select-button-text"\x3e\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e',v={position:"relative"},A={position:"absolute",left:"1.5rem",top:"1rem"},B=400})(window.jQuery);
(function(b,c,d){CUI.util.color={hex:function(a){return("0"+parseInt(a,10).toString(16)).slice(-2)},HexToRGB:function(a){a=parseInt(-1<a.indexOf("#")?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},RGBAToHex:function(a){a=a.substring(a.indexOf("(")+1,a.lastIndexOf(")")).split(/,\s*/);return"#"+this.hex(a[0])+this.hex(a[1])+this.hex(a[2])},RGBToHex:function(a){return"#"+this.hex(a.r)+this.hex(a.g)+this.hex(a.b)},CMYKtoRGB:function(a){var b={r:0,g:0,b:0},c=parseInt(a.c,10)/100,d=parseInt(a.m,
10)/100,g=parseInt(a.y,10)/100;a=parseInt(a.k,10)/100;b.r=1-Math.min(1,c*(1-a)+a);b.g=1-Math.min(1,d*(1-a)+a);b.b=1-Math.min(1,g*(1-a)+a);b.r=Math.round(255*b.r);b.g=Math.round(255*b.g);b.b=Math.round(255*b.b);return b},RGBtoCMYK:function(a){var b={c:0,m:0,y:0,k:0};if(0===parseInt(a.r,10)&&0===parseInt(a.g,10)&&0===parseInt(a.b,10))return b.k=100,b;var c=parseInt(a.r,10)/255,d=parseInt(a.g,10)/255;a=parseInt(a.b,10)/255;b.k=Math.min(1-c,1-d,1-a);b.c=(1-c-b.k)/(1-b.k);b.m=(1-d-b.k)/(1-b.k);b.y=(1-
a-b.k)/(1-b.k);b.c=Math.round(100*b.c);b.m=Math.round(100*b.m);b.y=Math.round(100*b.y);b.k=Math.round(100*b.k);return b},fixHex:function(a){3===a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));-1===a.indexOf("#")&&(a="#"+a);return/(^#[0-9A-F]{6})|(^#[0-9A-F]{3})$/i.test(a)?a:(this.$element.find("[name\x3d':hex']").val(""),"")},isSameColor:function(a,b){return a&&b&&a===b},isValid:function(a,b){return-1!=b.indexOf(a)?""!==this.fixHex(this.RGBAToHex(b)):!1}}})(jQuery,
this);
(function(b){CUI.Colorpicker=new Class({toString:"Colorpicker",extend:CUI.Widget,defaults:{config:{colors:{},displayModes:{}},disabled:!1,name:null,title:""},palettePageSize:3,colorShadeNo:6,lowerLimit:0,upperLimit:0,colorNames:[],currentPage:0,pages:1,construct:function(c){this._readDataFromMarkup();this._adjustMarkup();if(null===this.options.config||0===this.options.config.colors.length)this.options.disabled=!0;!this.options.disabled&&this.options.config.displayModes.classicPalette&&this.options.config.displayModes.freestylePalette&&(this.options.disabled=
!0);this.options.disabled||0!==this.options.config.displayModes.length&&(this.options.config.displayModes.classicPalette||this.options.config.displayModes.freestylePalette)||(this.options.config.displayModes.classicPalette=!0);this.$openButton=this.$element.find(".coral-ColorPicker-button");this.$hiddenInput=this.$element.find("input[name\x3d'"+this.options.name+"']");this.$element.attr("value")&&(c=this.$element.attr("value"),CUI.util.color.isValid("rgba",c)||CUI.util.color.isValid("rgb",c)?this._setColor(c):
this.$element.removeAttr("value"));this.options.disabled?this.$element.find("\x3e.coral-ColorPicker-button").attr("disabled","disabled"):(this.colorNames=[],b.each(this.options.config.colors,function(b,a){this.colorNames.push(b)}.bind(this)),b(document).off("tap."+this.options.name+" click."+this.options.name).on("tap."+this.options.name+" click."+this.options.name,function(b){this.keepShown||0===this.$popover.has(b.target).length&&this._hidePicker()}.bind(this)),this.$openButton.on("touchstart click",
function(b){try{this.pickerShown?this._hidePicker():this._openPicker(),this.keepShown=!0,setTimeout(function(){this.keepShown=!1}.bind(this),200)}catch(a){}}.bind(this)))},_readDataFromMarkup:function(){this.$element.data("disabled")&&(this.options.disabled=!0);this.$element.data("name")&&(this.options.name=this.$element.data("name"));this.$element.attr("title")&&(this.options.title=this.$element.attr("title"));var b=this.$element;void 0!==b.data("config")&&(this.options.config={},this.options.config.colors=
{},this.options.config.displayModes={},b.data("config").colors?this.options.config.colors=b.data("config").colors:this.options.disabled=!0,b.data("config").pickerModes&&(this.options.config.displayModes=b.data("config").pickerModes))},_adjustMarkup:function(){this.$popover=this.$element.find(".coral-Popover");0===this.$popover.length&&(this.$popover=b('\x3cdiv class\x3d"coral-Popover"\x3e\x3cdiv class\x3d"coral-ColorPicker-popover-inner coral-Popover-content"\x3e\x3c/div\x3e\x3cdiv class\x3d"coral-ColorPicker-popover-arrow coral-Popover-arrow coral-Popover-arrow--up"\x3e\x3c/div\x3e\x3c/div\x3e'),
this.$element.append(this.$popover),this.$element.find(".coral-ColorPicker-popover-inner").append('\x3cdiv class\x3d"colorpicker-holder"\x3e\x3cdiv class\x3d"palette-header"\x3e\x3c/div\x3e\x3cdiv class\x3d"colorpicker-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"colorpicker-footer"\x3e\x3c/div\x3e\x3c/div\x3e'));0===this.$element.find("input[type\x3dhidden]").length&&this.$element.append('\x3cinput type\x3d"hidden" name\x3d"'+this.options.name+'"\x3e');var c=this.$element.find(".coral-ColorPicker-button");
void 0===c.attr("type")&&c.attr("type","button");c.attr("data-toggle","popover");c.attr("data-point-from","bottom")},_openPicker:function(){this._renderPicker("classicMode");this._renderPickerFooter();this.$popover.show();this.pickerShown=!0},_hidePicker:function(){this.currentPage=this.upperLimit=this.lowerLimit=0;this.$element.removeClass("focus");this.$popover.hide();this.pickerShown=!1},_renderPicker:function(b,d,a){if("classicMode"!==b||this._calculatePaletteBoundaries(d,a)){a="classicMode"===
b?this._renderPalette():this._renderEditPalette();var e=this.$element.find(".colorpicker-holder"),c=e.find(".palette-navigator"),h=e.find(".colorpicker-body");d&&0<e.find("table").length?this._slidePicker(a,"left"===d):(e.find("table").remove(),e.find(".sliding-container").remove(),"editMode"===b?(h.append(a),c.remove(),void 0!==this.$hiddenInput.val()&&0<this.$hiddenInput.val().length&&(a.find("div.color").css("background",this.$hiddenInput.val()),b=CUI.util.color.RGBAToHex(this.$hiddenInput.val()),
a.find("input[name\x3d':hex']").val(b),b=CUI.util.color.HexToRGB(b),this._fillRGBFields(b),b=CUI.util.color.RGBtoCMYK(b),this._fillCMYKFields(b))):0<c.length?c.before(a):(h.append(a),this._renderPaletteNavigation()))}},_renderPickerFooter:function(){this.$element.find(".colorpicker-footer").html('\x3cdiv class\x3d"coral-ButtonGroup navigation-bar"\x3e\x3c/div\x3e');if(void 0!==this.options.config.displayModes){if(this.options.config.displayModes.classicPalette||this.options.config.displayModes.freestylePalette){var c=
b("\x3cbutton class\x3d'coral-ButtonGroup-item coral-Button coral-Button--secondary' id\x3d'classicButton'\x3e\x3ci class\x3d\"coral-Icon coral-Icon--viewGrid\"\x3e\x3c/i\x3e\x3c/button\x3e");c.addClass("is-selected");this.$element.find(".navigation-bar").append(c)}if(this.options.config.displayModes.edit)this.$element.find(".navigation-bar").append("\x3cbutton class\x3d'coral-ButtonGroup-item coral-Button coral-Button--secondary' id\x3d'editButton'\x3e\x3ci class\x3d\"coral-Icon coral-Icon--edit\"\x3e\x3c/i\x3e\x3c/button\x3e");
else{this.$element.find(".colorpicker-footer").remove();return}}this.$element.find(".colorpicker-footer button").off("click.button").on("click.button",function(c){c.stopPropagation();c.preventDefault();var a=b(c.target);this.$element.find(".navigation-bar \x3e .is-selected").removeClass("is-selected");"BUTTON"===c.target.nodeName?(a.addClass("is-selected"),c=b(c.target)):(a.parent().addClass("is-selected"),c=a.parent());"editButton"===c.attr("id")?this._renderPicker("editMode"):this._renderPicker("classicMode",
!1,this.currentPage)}.bind(this))},_calculatePaletteBoundaries:function(b,d){var a=this.options.config.displayModes.freestylePalette?this.palettePageSize*this.colorShadeNo:this.palettePageSize;if(b){if("left"===b){if(d=this.currentPage+1,d+1>this.pages)return!1}else if(d=this.currentPage-1,0>d)return!1;this.lowerLimit=a*d;this.upperLimit=this.lowerLimit+a-1;this.currentPage=d}else void 0!==d?(this.lowerLimit=a*d,this.upperLimit=this.lowerLimit+a-1,this.currentPage=d):(this.upperLimit+=a-1,this.currentPage=
this.lowerLimit=0);return!0},_renderPaletteNavigation:function(){this.$element.find(".palette-navigator").remove();var c=b("\x3cdiv\x3e");c.addClass("palette-navigator");this.pages=this.options.config.displayModes.classicPalette?Math.ceil(this.colorNames.length/this.palettePageSize):Math.ceil(this.colorNames.length/(this.palettePageSize*this.colorShadeNo));if(1<this.pages)for(var d=0;d<this.pages;d++)c.append("\x3ci class\x3d'dot coral-Icon coral-Icon--circle' page\x3d'"+d+"'\x3e\x3c/i\x3e");this.$element.find(".colorpicker-body").append(c);
this.$element.find("i[page\x3d'"+this.currentPage+"']").addClass("is-active");this.$element.find(".colorpicker-body").on("swipe",function(a){this._renderPicker("classicMode","left"===a.direction?"left":"right")}.bind(this));this.$element.find(".dot").off("click.dot").on("click.dot",function(a){a.stopPropagation();this.currentPage!==parseInt(b(a.target).attr("page"),10)&&this._renderPicker("classicMode",!1,parseInt(b(a.target).attr("page"),10))}.bind(this))},_slidePicker:function(c,d){this.$element.find(".sliding-container table").stop(!0,
!0);this.$element.find(".sliding-container").remove();var a=this.$element.find("table"),e=a.width(),f=a.height(),h=b('\x3cdiv class\x3d"sliding-container"\x3e');h.css({display:"block",position:"relative",width:e+"px",height:f+"px",overflow:"hidden"});this.$element.find(".palette-navigator").before(h);h.append(a).append(c);a.css({position:"absolute",left:0,top:0});a.after(c);c.css({position:"absolute",left:d?e:-e,top:0});a.animate({left:d?-e:e},400,function(){a.remove()});c.animate({left:0},400,function(){0!==
h.parents().length&&(c.css({position:"relative",left:0,top:0}),c.detach(),this.$element.find(".palette-navigator").before(c),h.remove())}.bind(this))},_renderPaletteHeader:function(){var c=b('\x3cdiv class\x3d"palette-header"\x3e\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"selection"\x3e\x3c/div\x3e\x3c/div\x3e'),d=this.$element.find(".colorpicker-holder");0<d.find(".palette-header").length?d.find(".palette-header").replaceWith(c):d.prepend(c);d.find(".title").html("\x3cspan\x3e"+this.options.title+
"\x3c/span\x3e")},_renderPalette:function(){this._renderPaletteHeader();for(var c=b("\x3ctable\x3e"),d="",a=0;a<this.palettePageSize;a++){d+="\x3ctr\x3e";for(var e=0,f="",h=f="",g=0;g<this.colorShadeNo;g++)this.options.config.displayModes.classicPalette?this.colorNames.length-1<a+this.lowerLimit?d+="\x3ctd\x3e\x3ca\x3e\x3c/a\x3e\x3c/td\x3e":(f=CUI.util.color.HexToRGB(this.options.config.colors[this.colorNames[a+this.lowerLimit]]),h="rgba("+f.r+","+f.g+","+f.b+","+(1-e).toFixed(2)+")",e+=.16,CUI.util.color.isSameColor(h,
this.$hiddenInput.val())?(f="is-selected",this._fillSelectedColor(this.colorNames[a+this.lowerLimit],CUI.util.color.RGBAToHex(h))):f="",d+="\x3ctd class\x3d'filled'\x3e\x3ca style\x3d'background-color:"+h+"' color\x3d'"+h+"' colorName\x3d'"+this.colorNames[a+this.lowerLimit]+"' class\x3d'"+f+"'\x3e\x3c/a\x3e\x3c/td\x3e"):this.colorNames.length-1<a*this.colorShadeNo+g?d+="\x3ctd\x3e\x3ca\x3e\x3c/a\x3e\x3c/td\x3e":(f=CUI.util.color.HexToRGB(this.options.config.colors[this.colorNames[a*this.colorShadeNo+
g]]),h="rgba("+f.r+","+f.g+","+f.b+",1)",f=CUI.util.color.isSameColor(h,this.$hiddenInput.val())?"is-selected":"",d+="\x3ctd class\x3d'filled'\x3e\x3ca style\x3d'background-color:"+h+"' color\x3d'"+h+"' colorName\x3d'"+this.colorNames[a*this.colorShadeNo+g]+"' class\x3d'"+f+"'\x3e\x3c/a\x3e\x3c/td\x3e");d+="\x3c/tr\x3e"}c.append("\x3ctbody\x3e"+d+"\x3c/tbody\x3e");c.find("a").off("click.a").on("click.a",function(a){a.stopPropagation();a.preventDefault();if(!CUI.util.color.isSameColor(this.$hiddenInput.val(),
b(a.target).attr("color"))){var e=this.$element.find("table").find(".is-selected");e.removeClass("is-selected");e.find("i").remove();e=b(a.target);e.addClass("is-selected");e.html('\x3ci class\x3d"coral-Icon coral-Icon--check"\x3e\x3c/i\x3e');b(a.target).addClass("is-selected");e=void 0!==b(a.target).attr("colorName")?b(a.target).attr("colorName"):"";this._fillSelectedColor(e,CUI.util.color.RGBAToHex(b(a.target).attr("color")));this._setColor(b(a.target).attr("color"))}}.bind(this));d=this.$element.find(".palette-navigator");
d.find(".is-active").removeClass("is-active");d.find("i[page\x3d'"+this.currentPage+"']").addClass("is-active");return c},_fillSelectedColor:function(b,d){this.$element.find(".colorpicker-holder").find(".selection").html("\x3cdiv\x3e\x3cspan\x3e"+b+"\x3c/span\x3e\x3cspan\x3e"+d+"\x3c/span\x3e\x3c/div\x3e")},_renderEditPalette:function(){var c=b("\x3ctable\x3e");c.append("\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d'2' rowspan\x3d'2' class\x3d'color-field'\x3e\x3cdiv class\x3d'color'\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d'label'\x3eHEX\x3c/td\x3e\x3ctd colspan\x3d'2'\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':hex'/\x3e\x3c/td\x3e\x3ctd colspan\x3d'2'\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d'label'\x3eRGB\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':rgb_r'/\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':rgb_g'/\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':rgb_b'/\x3e\x3c/td\x3e\x3ctd\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x26nbsp;\x3c/td\x3e\x3ctd class\x3d'label'\x3eCMYK\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':cmyk_c'/\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':cmyk_m'/\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':cmyk_y'/\x3c/td\x3e\x3ctd\x3e\x3cinput class\x3d'coral-Textfield' type\x3d'text' name\x3d':cmyk_k'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'3'\x3e\x26nbsp;\x3c/td\x3e\x3ctd colspan\x3d'4'\x3e\x3cbutton class\x3d'coral-Button coral-Button--primary'\x3eSave Color\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e");
this.$element.find(".palette-header").remove();c.find("input[name^\x3d':rgb_']").each(function(c,a){b(a).attr("maxlength","3");b(a).on("blur",function(a){if(!/^([0]|[1-9]\d?|[1]\d{2}|2([0-4]\d|5[0-5]))$/.test(b(a.target).val().trim())||0<b("input:text[value\x3d''][name^\x3d'rgb_']").length)b(a.target).val(""),this._clearCMYKFields(),this.$element.find("input[name\x3d':hex']").val(""),this.$element.find("div.color").removeAttr("style");else{var e={r:this.$element.find("input[name\x3d':rgb_r']").val(),
g:this.$element.find("input[name\x3d':rgb_g']").val(),b:this.$element.find("input[name\x3d':rgb_b']").val()};a=CUI.util.color.RGBtoCMYK(e);e=CUI.util.color.RGBToHex(e);this._fillCMYKFields(a);this.$element.find("input[name\x3d':hex']").val(e);this.$element.find("div.color").css("background",e)}}.bind(this))}.bind(this));c.find("input[name^\x3d':cmyk_']").each(function(c,a){b(a).attr("maxlength","3");b(a).on("blur",function(a){if(!/^[1-9]?[0-9]{1}$|^100$/.test(b(a.target).val().trim())||0<b("input:text[value\x3d''][name^\x3d'cmyk_']").length)b(a.target).val(""),
this._clearRGBFields(),this.$element.find("input[name\x3d':hex']").val(""),this.$element.find("div.color").removeAttr("style");else{a={c:this.$element.find("input[name\x3d':cmyk_c']").val(),m:this.$element.find("input[name\x3d':cmyk_m']").val(),y:this.$element.find("input[name\x3d':cmyk_y']").val(),k:this.$element.find("input[name\x3d':cmyk_k']").val()};a=CUI.util.color.CMYKtoRGB(a);var e=CUI.util.color.RGBToHex(a);this.$element.find("input[name\x3d':hex']").val(e);this._fillRGBFields(a);this.$element.find("div.color").css("background",
e)}}.bind(this))}.bind(this));c.find("input[name\x3d':hex']").each(function(d,a){b(a).attr("maxlength","7");b(a).on("blur",function(a){a=CUI.util.color.fixHex(b(a.target).val().trim());if(0===a.length)this._clearRGBFields(),this._clearCMYKFields(),this.$element.find("div.color").removeAttr("style");else{var e=CUI.util.color.HexToRGB(a),d=CUI.util.color.RGBtoCMYK(e);this._fillRGBFields(e);this._fillCMYKFields(d);c.find("div.color").css("background",a)}}.bind(this))}.bind(this));c.on("click","input, div",
function(b){b.stopPropagation();b.preventDefault()});c.on("click","button",function(b){b.stopPropagation();b.preventDefault();void 0!==this.$element.find("input[name\x3d':hex']").val()&&0<this.$element.find("input[name\x3d':hex']").val().length&&this._setColor(this.$element.find("input[name\x3d':hex']").val())}.bind(this));return c},_setColor:function(b){this.$hiddenInput.val(b);this.$openButton.css("background-color",this.$hiddenInput.val())},_fillRGBFields:function(b){this.$element.find("input[name\x3d':rgb_r']").val(b.r);
this.$element.find("input[name\x3d':rgb_g']").val(b.g);this.$element.find("input[name\x3d':rgb_b']").val(b.b)},_clearRGBFields:function(){this.$element.find("input[name^\x3d':rgb']").val("")},_fillCMYKFields:function(b){this.$element.find("input[name\x3d':cmyk_c']").val(b.c);this.$element.find("input[name\x3d':cmyk_m']").val(b.m);this.$element.find("input[name\x3d':cmyk_y']").val(b.y);this.$element.find("input[name\x3d':cmyk_k']").val(b.k)},_clearCMYKFields:function(){this.$element.find("input[name^\x3d':cmyk']").val("")}});
CUI.Widget.registry.register("colorpicker",CUI.Colorpicker);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(c){CUI.Colorpicker.init(b("[data-init~\x3dcolorpicker]",c.target))})})(window.jQuery);
(function(b){function c(b){var a={};if(b.originalEvent){var e=b.originalEvent;e.changedTouches&&0<e.changedTouches.length&&(a=e.changedTouches[0]);e.touches&&0<e.touches.length&&(a=e.touches[0])}return{x:a.pageX||b.pageX,y:a.pageY||b.pageY}}CUI.DragAction=new Class({construct:function(b,a,e,c,h){this.sourceElement=a;this.dragElement=e;a:for(a=e;;){a=a.parent();if(0===a.length||a.is("body"))break a;e=a.css("overflow");if("hidden"===e||"auto"===e||"scroll"===e)break a}this.container=a;this.containerHeight=
this.container.get(0).scrollHeight;this.dropZones=c;this.axis=h;this.scrollZone=20;this.dragStart(b)},currentDragOver:null,dragStart:function(d){d.preventDefault();var a=this.dragElement.position(),e=c(d);this.dragElement.css({left:a.left,top:a.top,width:this.dragElement.width()+"px"}).addClass("is-dragging");this.dragStart={x:e.x-a.left,y:e.y-a.top};b(document).on("touchmove.coral-DragAction mousemove.coral-DragAction",this.drag.bind(this));b(document).on("touchend.coral-DragAction mouseup.coral-DragAction",
this.dragEnd.bind(this));this.sourceElement.trigger(this._createEvent("dragstart",d));this.drag(d)},drag:function(b){b.preventDefault();var a=c(b);if(this.container.is("body"))a.y-this.container.scrollTop()<this.scrollZone&&this.container.scrollTop(a.y-this.scrollZone),a.y-this.container.scrollTop()>this.container.height()-this.scrollZone&&this.container.scrollTop(a.y-this.container.height()-this.scrollZone);else{var e=this.container.scrollTop(),d=this.container.offset().top+this.scrollZone;a.y<d&&
this.container.scrollTop(this.container.scrollTop()-(d-a.y));d=this.container.offset().top+this.container.height()-this.scrollZone;a.y>d&&(d=Math.min(this.container.scrollTop()+(a.y-d),Math.max(this.containerHeight-this.container.height(),0)),this.container.scrollTop(d));d=this.container.scrollTop();this.dragStart.y+=e-d}e={};"horizontal"!==this.axis&&(e.top=a.y-this.dragStart.y);"vertical"!==this.axis&&(e.left=a.x-this.dragStart.x);this.dragElement.css(e);this.triggerDrag(b)},dragEnd:function(c){c.preventDefault();
this.dragElement.removeClass("is-dragging");this.dragElement.css({top:"",left:"",width:""});b(document).off(".coral-DragAction");this.triggerDrop(c);this.currentDragOver&&b(this.currentDragOver).trigger(this._createEvent("dragleave",c));this.sourceElement.trigger(this._createEvent("dragend",c))},triggerDrag:function(c){var a=this._getCurrentDropZone(c);a===this.currentDragOver?this.currentDragOver&&b(this.currentDragOver).trigger(this._createEvent("dragover",c)):(this.currentDragOver&&b(this.currentDragOver).trigger(this._createEvent("dragleave",
c)),(this.currentDragOver=a)&&b(this.currentDragOver).trigger(this._createEvent("dragenter",c)))},triggerDrop:function(b){var a=this._getCurrentDropZone(b);a&&a.trigger(this._createEvent("drop",b))},_getCurrentDropZone:function(d){var a=c(d),e=null;b.each(this.dropZones,function(b,c){b=a.x;var d=a.y,f=c.offset();if(b>=f.left&&b<f.left+c.outerWidth()&&d>=f.top&&d<f.top+c.outerHeight())return e=c,!1});return e},_createEvent:function(b,a){a=c(a);b=jQuery.Event(b);b.pageX=a.x;b.pageY=a.y;b.sourceElement=
this.sourceElement;b.item=this.dragElement;return b}})})(jQuery);
(function(b,c){CUI.Multifield=new Class({toString:"Multifield",extend:CUI.Widget,construct:function(c){this.script=this.$element.find(".js-coral-Multifield-input-template");this.ol=this.$element.children(".js-coral-Multifield-list");0===this.ol.length&&(this.ol=b('\x3col class\x3d"js-coral-Multifield-list coral-Multifield-list"\x3e\x3c/ol\x3e').prependTo(this.$element));this._adjustMarkup();this._addListeners()},_adjustMarkup:function(){this.$element.addClass("coral-Multifield");this.ol.children(".js-coral-Multifield-input").append('\x3cbutton type\x3d"button" class\x3d"js-coral-Multifield-remove coral-Multifield-remove coral-Button coral-Button--square coral-Button--quiet"\x3e\x3ci class\x3d"coral-Icon coral-Icon--sizeS coral-Icon--delete coral-Button-icon"\x3e\x3c/i\x3e\x3c/button\x3e',
'\x3cbutton type\x3d"button" class\x3d"js-coral-Multifield-move coral-Multifield-move coral-Button coral-Button--square coral-Button--quiet"\x3e\x3ci class\x3d"coral-Icon coral-Icon--sizeS coral-Icon--moveUpDown coral-Button-icon"\x3e\x3c/i\x3e\x3c/button\x3e');this.ol.after('\x3cbutton type\x3d"button" class\x3d"js-coral-Multifield-add coral-Multifield-add coral-Button"\x3eAdd field\x3c/button\x3e')},_addListeners:function(){var c=this;this.$element.on("click",".js-coral-Multifield-add",function(a){a=
b('\x3cli class\x3d"js-coral-Multifield-input coral-Multifield-input"\x3e\x3cdiv class\x3d"js-coral-Multifield-placeholder"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"js-coral-Multifield-remove coral-Multifield-remove coral-Button coral-Button--square coral-Button--quiet"\x3e\x3ci class\x3d"coral-Icon coral-Icon--sizeS coral-Icon--delete coral-Button-icon"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"js-coral-Multifield-move coral-Multifield-move coral-Button coral-Button--square coral-Button--quiet"\x3e\x3ci class\x3d"coral-Icon coral-Icon--sizeS coral-Icon--moveUpDown coral-Button-icon"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/li\x3e');
a.find(".js-coral-Multifield-placeholder").replaceWith(c.script.html().trim());a.appendTo(c.ol);b(c.ol).trigger("cui-contentloaded")});this.$element.on("click",".js-coral-Multifield-remove",function(a){b(this).closest(".js-coral-Multifield-input").remove()});this.$element.on("taphold mousedown",".js-coral-Multifield-move",function(a){a.preventDefault();var e=b(this).closest(".js-coral-Multifield-input");e.prevAll().addClass("coral-Multifield-input--dragBefore");e.nextAll().addClass("coral-Multifield-input--dragAfter");
c.ol.css({height:c.ol.height()+b(a.item).height()+"px"});new CUI.DragAction(a,c.$element,e,[c.ol],"vertical")}).on("dragenter",function(a){c.ol.addClass("drag-over");c._reorderPreview(a)}).on("dragover",function(a){c._reorderPreview(a)}).on("dragleave",function(a){c.ol.removeClass("drag-over").children().removeClass("coral-Multifield-input--dragBefore coral-Multifield-input--dragAfter")}).on("drop",function(a){c._reorder(b(a.item));c.ol.children().removeClass("coral-Multifield-input--dragBefore coral-Multifield-input--dragAfter")}).on("dragend",
function(a){c.ol.css({height:""})})},_reorder:function(b){var a=this.ol.children(".coral-Multifield-input--dragAfter").first(),c=this.ol.children(".coral-Multifield-input--dragBefore").last();0<a.length&&b.insertBefore(a);0<c.length&&b.insertAfter(c)},_reorderPreview:function(c){this.ol.children(":not(.is-dragging)").each(function(){var a=b(this),e=c.pageY<a.offset().top+a.outerHeight()/2;a.toggleClass("coral-Multifield-input--dragAfter",e);a.toggleClass("coral-Multifield-input--dragBefore",!e)})}});
CUI.Widget.registry.register("multifield",CUI.Multifield);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(c){CUI.Multifield.init(b("[data-init~\x3dmultifield]",c.target))})})(jQuery,window.console);
(function(b,c,d){CUI.ColumnView=new Class({toString:"ColumnView",extend:CUI.Widget,defaults:{multiselect:!1,single:!1},construct:function(){this._handleDocumentKeyUp=this._handleDocumentKeyUp.bind(this);this._handleDocumentKeyDown=this._handleDocumentKeyDown.bind(this);this._activeColumnRequest=0;this.$element.addClass("coral-ColumnView");if(this.get("single")||this.$element.hasClass("coral-ColumnView--single"))this.set("single",!0),this.$element.addClass("coral-ColumnView--single");if(this.get("multiselect")||
this.$element.hasClass("coral-ColumnView--multiselect"))this.set("multiselect",!0),this.$element.addClass("coral-ColumnView--multiselect");this.$element.on("click",".coral-ColumnView-item",this._itemActivateHandler.bind(this));this.$element.on("click",".coral-ColumnView-icon",this._itemSelectHandler.bind(this));this.$element.on("click",".coral-ColumnView-column-content",this._columnContentHandler.bind(this));this.get("src")?this.setSource(this.get("src")):this._loadInnerMarkup();this._makeAccessible()},
destroy:function(){this.$element.removeData("columnView");this.$element.off("click",".coral-ColumnView-item");this.$element.off("click",".coral-ColumnView-icon");this.$element.off("click",".coral-ColumnView-column-content");this.$element.off("keydown");this.$element.find(".coral-ColumnView-column-content").off("scroll");b(document).off("keyup",this._handleDocumentKeyUp);b(document).off("keydown",this._handleDocumentKeyDown);delete this._data;delete this.$element},_handleDocumentKeyUp:function(a){16===
a.which&&this.$element.removeClass("is-unselectable")},_handleDocumentKeyDown:function(a){16===a.which&&this.$element.addClass("is-unselectable")},_makeAccessible:function(){this.$element.attr("tabindex","0");b(document).on("keyup",this._handleDocumentKeyUp);b(document).on("keydown",this._handleDocumentKeyDown);this.$element.on("keydown",function(a){var b=!1,c=this.getSelectedItems(),d=this.$element.data("lastSelected");if(0<c.length)switch(a.which){case 38:b=!0;a.shiftKey?d.item.is(":not(:first-child)")&&
(d.direction&&"up"!==d.direction||(d.item=d.item.prev(),d.item.hasClass("is-selected")&&!d.item.prev().hasClass("is-selected")&&(d.item=d.item.prev())),d.item.find(".coral-ColumnView-icon").trigger("click"),d.item.hasClass("is-selected")&&d.item.prev().hasClass("is-selected")&&(d.item=d.item.prevUntil(":not(.is-selected)").last()),c=this.getSelectedItems(),1===c.length&&c[0].item.is(":first-child")&&(d.item=c[0].item.next()),this.$element.data("lastSelected",{item:d.item,direction:"up"})):0!==c[0].item.prev().length?
c[0].item.prev().trigger("click"):1<c.length&&c[0].item.trigger("click");break;case 40:b=!0;a.shiftKey?d.item.is(":not(:last-child)")&&(d.direction&&"down"!==d.direction||(d.item=d.item.next(),d.item.hasClass("is-selected")&&!d.item.next().hasClass("is-selected")&&(d.item=d.item.next())),d.item.find(".coral-ColumnView-icon").trigger("click"),d.item.hasClass("is-selected")&&d.item.next().hasClass("is-selected")&&(d.item=d.item.nextUntil(":not(.is-selected)").last()),1===c.length&&c[0].item.is(":last-child")&&
(d.item=c[0].item),c=this.getSelectedItems(),1===c.length&&c[0].item.is(":last-child")&&(d.item=c[0].item.prev()),this.$element.data("lastSelected",{item:d.item,direction:"down"})):0!==c[c.length-1].item.next().length?c[c.length-1].item.next().trigger("click",{metaKey:!0}):1<c.length&&c[c.length-1].item.trigger("click");break;case 39:b=!0;c[0].item.hasClass("coral-ColumnView-item--hasChildren")&&(c=this._getActiveColumn(),c.next().find(".coral-ColumnView-item").first().trigger("click"));break;case 37:b=
!0,c=this._getActiveColumn(),c.prev().find(".coral-ColumnView-item.is-active").trigger("click")}else switch(c=this.$element.children(".coral-ColumnView-column").first().find(".coral-ColumnView-item"),a.which){case 38:c=c.last();c.trigger("click");this.$element.data("lastSelected",{item:c,direction:"up"});b=!0;break;case 40:case 39:c=c.first(),c.trigger("click"),this.$element.data("lastSelected",{item:c,direction:"down"}),b=!0}b&&(a.stopImmediatePropagation(),a.preventDefault())}.bind(this))},_loadInnerMarkup:function(){if(0<
this.$element.children().length){var a=this.$element.html();this._data={};this._data["/"]=a;this.$element.empty();var b=++this._activeColumnRequest;this.setNextColumn("/").done(function(a,c){this._setActiveColumn(c,!1,b)}.bind(this))}},setSource:function(a){this.cancelNavigation();var c=b.Deferred();this._data={};this.$element.empty();var d=++this._activeColumnRequest;this.setNextColumn(a).done(function(a,b){this._setActiveColumn(b,!1,d);c.resolve()}.bind(this)).fail(function(){c.reject()});return c.promise()},
setData:function(a,b){if(!a._links||!a._links.self||!a._links.self.href)throw"Invalid data: needs to contain self link (_links.self.href)";var c=a._links.self.href;this._data=b||!this._data?{}:this._data;this._storeData(a);if(b){this.cancelNavigation();this.$element.empty();var e=++this._activeColumnRequest;this.setNextColumn(c).done(function(a,b){this._setActiveColumn(b,!1,e)}.bind(this))}},getSelectedItems:function(){var a=[];this._getColumnContent(this._getActiveColumn()).children(".is-active").each(function(c,
d){c=b(d);a.push({checked:c.hasClass("is-selected"),data:c.data("data"),item:c})});return a},getBreadcrumbItems:function(){var a=[];this._getActiveColumn().prevAll().find(".is-active").each(function(c,d){c=b(d);a.push({checked:c.hasClass("is-selected"),data:c.data("data"),item:c})});return a},getTargetColumn:function(){var a=this._getActiveColumn(),b=this.getSelectedItems().filter(function(a){return!a.checked});return 1===b.length&&b[0].data&&b[0].data.hasChildren?a.next().data("data"):a.data("data")},
navigate:function(a,c){var e=this,d=b.Deferred(),g;c?"active"===c?g=e._getActiveColumn():"string"===typeof c?g=e.$element.children().filter(function(){return b(this).data("href")===c}):c instanceof b&&(g=c):g=e.$element.find(".coral-ColumnView-column:eq(0)");g.nextAll().remove();e.cancelNavigation();e._navigation=e._navigation||{};var k=(e._lastNavigationId||0)+1;e._lastNavigationId=k;e._navigation[k]="pending";if(0<g.length){var m=function(c,f){if("cancel"===e._navigation[k])e._navigation[k]="cancelled",
d.reject();else{var g=a(e._data[c.data("href")],c);if(g){var h=g instanceof b?g:c.find(".coral-ColumnView-item").filter(function(){return b(this).data("href")===(g._links&&g._links.self?g._links.self.href:g)}).eq(0),l=h.data("href");h&&0<h.length&&(e._setActiveColumn(h,!1,f),h.addClass("is-active"));(h||l)&&e.$element.trigger("coral-columnview-item-select",[h.data("data"),h]);var n=++e._activeColumnRequest;l?e.setNextColumn(l,function(){return"pending"===e._navigation[k]}).done(function(a,b){m(b,
n)}).fail(function(){e._navigation[k]="failed";d.reject()}):(e._scrollToColumn(),e._navigation[k]="finished",d.resolve())}else!1===g?(e._scrollToColumn(),e._navigation[k]="finished",d.resolve()):e._loadNext(c).done(function(){m(c,n)}).fail(function(){e._navigation[k]="failed";d.reject()})}};m(g,++e._activeColumnRequest)}else e._navigation[k]="failed",d.reject();g=d.promise();g.navigationId=k;return g},cancelNavigation:function(a){this._navigation=this._navigation||{};if(a)return this._navigation.hasOwnProperty(a)&&
"pending"===this._navigation[a]?(this._navigation[a]="cancel",!0):!1;b.each(this._navigation,function(a,b){"pending"===this._navigation[a]&&(this._navigation[a]="cancel")}.bind(this));return!0},renderColumn:function(a){a=this._data[a];if("object"===b.type(a)){var c=b('\x3cdiv class\x3d"coral-ColumnView-column"\x3e\x3c/div\x3e'),d=b('\x3cdiv class\x3d"coral-ColumnView-column-content"\x3e\x3c/div\x3e').appendTo(c);if(this.get("single")&&a._links&&a._links.up){var h=a._links.self?a._links.self.title:
"";h=b('\x3ca class\x3d"coral-ColumnView-item coral-ColumnView-item--back"\x3e\x3c/a\x3e').append(b('\x3cdiv class\x3d"coral-ColumnView-label"\x3e\x3c/div\x3e').text(h));c.prepend(h)}if(a._embedded&&a._embedded.items)for(;a;){if(a._embedded&&a._embedded.items){h=a._embedded.items;for(var g=0;g<h.length;g++)this.renderItem(h[g]).appendTo(d)}a=this._data[a._links.next]}else(a.properties||a.preview)&&d.append(this.renderPreview(a));return c}return b(a)},renderItem:function(a){var c=b('\x3cdiv class\x3d"coral-ColumnView-item"\x3e\x3c/div\x3e');
a.hasChildren&&c.addClass("coral-ColumnView-item--hasChildren");if(a.icon||a.image){var d=b('\x3cdiv class\x3d"coral-ColumnView-icon"\x3e\x3c/div\x3e').appendTo(c);a.image?b("\x3cimg/\x3e").addClass("coral-ColumnView-thumbnail").attr("src",a.image).appendTo(d):b("\x3ci/\x3e").addClass("coral-Icon coral-Icon--"+a.icon+" coral-Icon--sizeS").appendTo(d)}b('\x3cdiv class\x3d"coral-ColumnView-label"\x3e\x3c/div\x3e').text(a._links.self.title).appendTo(c);return c},renderPreview:function(a){var c=b('\x3cdiv class\x3d"coral-ColumnView-preview"\x3e\x3c/div\x3e');
if(a.preview)if(a.preview.image){var d=b('\x3cdiv class\x3d"coral-ColumnView-preview-icon"\x3e\x3c/div\x3e');b('\x3cimg class\x3d"coral-ColumnView-preview-thumbnail"\x3e').attr("src",a.preview.image).appendTo(d);d.appendTo(c)}else a.preview.icon&&(d=b('\x3cdiv class\x3d"coral-ColumnView-preview-icon"\x3e\x3c/div\x3e'),b("\x3ci\x3e\x3c/i\x3e").addClass("coral-Icon coral-Icon--"+a.preview.icon+" coral-Icon--sizeL").appendTo(d),d.appendTo(c));if(a.properties)for(d=0;d<a.properties.length;d++){var h=
a.properties[d],g=b('\x3cdiv class\x3d"coral-ColumnView-preview-label"\x3e\x3c/div\x3e').text(h.label).appendTo(c),k=b('\x3cdiv class\x3d"coral-ColumnView-preview-value"\x3e\x3c/div\x3e').text(h.value).appendTo(c);h.icon&&(b("\x3ci\x3e\x3c/i\x3e").addClass("coral-Icon coral-Icon--"+h.icon+" coral-Icon--sizeXS").prependTo(k),g.before('\x3cdiv class\x3d"coral-ColumnView-preview-spacer"\x3e\x3c/div\x3e'))}return c},setNextColumn:function(a,c){var e=b.Deferred(),d=function(){if("function"!==b.type(c)||
c()){var d=this.renderColumn(a);this._prepareColumn(d,a);var f=this._getActiveColumn();this.get("single")&&0<f.length&&d.addClass("is-right");f.nextAll().empty().removeClass("is-active");0<f.length&&0<f.next().length?f.next().replaceWith(d):this.$element.append(d);this._loadMoreIfNeeded(d).always(function(){e.resolve(this._data[a],d)}.bind(this))}else e.reject()}.bind(this);this._data[a]?d(a):this._loadData(a).done(d).fail(function(){e.reject()});return e.promise()},setPreviousColumn:function(a,c){var e=
b.Deferred(),d=function(){if("function"!==b.type(c)||c()){var d=this.renderColumn(a);this._prepareColumn(d,a);this.get("single")&&d.addClass("is-left");var f=this._getActiveColumn();0<f.length&&f.prevAll().remove();this.$element.prepend(d);this._loadMoreIfNeeded(d).always(function(){e.resolve(this._data[a],d)}.bind(this))}else e.reject()}.bind(this);this._data[a]?d(a):this._loadData(a).done(d).fail(function(){e.reject()});return e.promise()},addItem:function(a,c,d){var e=c?"string"===b.type(c)?"active"===
c?this._getActiveColumn():this.$element.children().filter(function(){return b(this).data("href")===c}):b(c):this._getActiveColumn();a=a instanceof b?a:this._prepareItem(this.renderItem(a),a);e=this._getColumnContent(e);var f=e.children();0===d?e.prepend(a):0<d&&d<f.length?f.eq(d-1).after(a):e.append(a);return a},_getActiveColumn:function(){return this.$element.children(".is-active")},_getColumnContent:function(a){var c=a.children(".coral-ColumnView-column-content");0===c.length&&(c=b('\x3cdiv class\x3d"coral-ColumnView-column-content"\x3e\x3c/div\x3e').appendTo(a),
c.on("scroll",this._columnScrollHandler.bind(this)));return c},_prepareColumn:function(a,c){var e=this._data[c],d=this._getColumnContent(a);a.data("href",c);if("object"===b.type(e)&&(a.data("data",e),e._links&&e._links.next&&a.data("next",e._links.next.href),e._links&&e._links.up&&a.data("back",e._links.up.href),e._embedded&&e._embedded.items)){var g=e._embedded.items;d.find(".coral-ColumnView-item").each(function(a,c){this._prepareItem(b(c),g[a])}.bind(this))}d.on("scroll",this._columnScrollHandler.bind(this));
return a},_prepareItem:function(a,b){a.data("data",b);b._links&&b._links.self&&a.data("href",b._links.self.href);return a},_storeData:function(a){this._data[a._links.self.href]=a;a._embedded&&a._embedded.items&&b.each(a._embedded.items,function(a,b){(b.properties||b.preview||b._embedded&&b._embedded.items)&&this._storeData(b)}.bind(this))},_loadData:function(a,c){if(this._data&&this._data[a])return b.Deferred().resolve(this._data[a]);this._pendingRequests=this._pendingRequests||{};this._pendingRequests[a]||
(this._pendingRequests[a]=b.ajax({url:a,cache:!1}).done(function(c){this._data=this._data||{};this._data[a]=c;"object"===b.type(c)&&this._storeData(c);this.$element.trigger("coral-columnview-load",[a,c]);delete this._pendingRequests[a]}.bind(this)));return this._pendingRequests[a]},_loadMoreIfNeeded:function(a){var c=b.Deferred(),d=this._getColumnContent(a),h=0;d.children(".coral-ColumnView-item").each(function(a,c){h+=b(c).height()});h<d.height()&&a.data("next")?this._loadNext(a).done(function(){this._loadMoreIfNeeded(a).done(function(){c.resolve()}).fail(function(){c.reject()})}.bind(this)).fail(function(){c.reject()}):
c.resolve();return c.promise()},_columnContentHandler:function(a){if(!this.get("single")){var c=b(a.target);c.hasClass("coral-ColumnView-column-content")&&(this.cancelNavigation(),a.preventDefault(),a=c.closest(".coral-ColumnView-column"),a.nextAll().empty().removeClass("is-active"),a.find(".coral-ColumnView-item").removeClass("is-active"),c=a.prev(),0!==c.length&&c.addClass("is-active"),a.removeClass("is-active"),this._scrollToColumn(),a=c.find(".coral-ColumnView-item.is-active"),this.$element.trigger("coral-columnview-item-select",
[a.data("data"),a]))}},_itemActivateHandler:function(a){this.cancelNavigation();a.preventDefault();var e=b(a.target).closest(".coral-ColumnView-item");a.shiftKey&&(document.selection?document.selection.empty():c.getSelection&&c.getSelection().removeAllRanges&&c.getSelection().removeAllRanges());if(a.metaKey||a.ctrlKey||a.shiftKey)return this._itemSelectHandler(a);var d=e.data("href");a=e.closest(".coral-ColumnView-column");this.$element.data("lastSelected",{item:e});var h=++this._activeColumnRequest;
d?this.get("single")?this.setNextColumn(d).done(function(a,b){setTimeout(function(){this._setActiveColumn(b,!1,h)}.bind(this),30)}.bind(this)):e.hasClass("is-active")&&!e.hasClass("is-selected")&&a[0]===this._getActiveColumn()[0]?(e.removeClass("is-active"),a.nextAll().empty().removeClass("is-active"),d=a.prev(),0!==d.length&&d.addClass("is-active"),a.removeClass("is-active"),this._scrollToColumn()):(this._setActiveColumn(e,!1),e.addClass("is-active"),e.focus(),this.setNextColumn(d).done(function(a,
b){this._scrollToColumn()}.bind(this))):e.hasClass("coral-ColumnView-item--back")&&a.data("back")&&this.setPreviousColumn(a.data("back")).done(function(a,b){setTimeout(function(){this._setActiveColumn(b,!1,h)}.bind(this),30)}.bind(this));this.$element.trigger("coral-columnview-item-select",[e.data("data"),e])},_itemSelectHandler:function(a){if(this.get("multiselect")){a.stopPropagation();a.preventDefault();var c=b(a.target).closest(".coral-ColumnView-item");this._setActiveColumn(c,!0);c.data("href");
c.toggleClass("is-active is-selected");if(0===this.getSelectedItems().length){var d=this._getActiveColumn(),h=d.prev();0!==h.length&&h.addClass("is-active");d.removeClass("is-active")}if(a.shiftKey)if(1===this.getSelectedItems().length){c.is(":not(:first-child)")&&c.siblings().first().addClass("is-active is-selected").nextUntil(c).addClass("is-active is-selected");var g="down"}else this.$element.data("lastSelected").item.index()<c.index()?(this.$element.data("lastSelected").item.nextUntil(c).addClass("is-active is-selected"),
g="down"):(this.$element.data("lastSelected").item.prevUntil(c).addClass("is-active is-selected"),g="up");this.$element.data("lastSelected",{item:c.hasClass("is-selected")?c:c.siblings(".is-selected").first(),direction:g});this._scrollToColumn();this.$element.trigger("coral-columnview-item-select",[c.data("data"),c])}},_columnScrollHandler:function(a){a=b(a.target);var c=a.closest(".coral-ColumnView-column");a[0].scrollTop+a.height()+10>=a[0].scrollHeight&&this._loadNext(c)},_loadNext:function(a){var c=
b.Deferred(),d=a.data("next");if(d){a.removeAttr("data-next");a.removeData("next");var h=this._getColumnContent(a),g=function(){var e=this._data[d],f=!1;if("object"===b.type(e)){if(e._embedded&&e._embedded.items){for(var g=e._embedded.items,n=0;n<g.length;n++){var p=g[n];this._prepareItem(this.renderItem(p),p).appendTo(h)}this._data[a.data("href")]._embedded.items=this._data[a.data("href")]._embedded.items.concat(e._embedded.items)}e._links&&e._links.next?a.data("next",e._links.next.href):f=!0}else e=
b(e),e.data("next")?a.data("next",e.data("next")):f=!0,e.find(".coral-ColumnView-item").appendTo(h);f&&(a.removeAttr("data-next"),a.removeData("next"));c.resolve()}.bind(this);this._data[d]?g(this._data[d]):this._loadData(d,a).done(g).fail(function(){c.reject()})}else c.reject();return c.promise()},_setActiveColumn:function(a,b,c){if(!(c!==d&&c<this._activeColumnRequest)){c=this._getActiveColumn();var e=a.closest(".coral-ColumnView-column"),f=this._getColumnContent(e),k=!1;a.is(".coral-ColumnView-item")&&
(k=!0,!0===b?f.children(".is-active:not(.is-selected)").addClass("is-selected"):f.children(".is-active:not(.is-selected)").removeClass("is-active"),!1!==b&&!1!==e.hasClass("is-active")||f.children(".is-selected").removeClass("is-active is-selected"));c.removeClass("is-active");(0!==c.length||k)&&e.addClass("is-active");this.get("single")?c.index()<e.index()?(c.addClass("is-left"),e.removeClass("is-right")):c.index()>e.index()&&(c.addClass("is-right"),e.removeClass("is-left")):e.nextAll().empty().removeData().removeClass("is-active")}},
_scrollToColumn:function(){var a=this._getActiveColumn();if(0===a.length){var c=0;a=1.5*this.$element.scrollLeft();this.$element.animate({scrollLeft:c},a)}else{var d=1===this.getSelectedItems().filter(function(a){return!a.checked}).length?a.next():a;d.position()&&d.position().left+d.outerWidth()>=this.$element.width()?(d.nextAll().remove(),c=this.$element[0].scrollWidth-this.$element.outerWidth(),a=1.5*(c-this.$element.scrollLeft()),this.$element.animate({scrollLeft:c},a)):a.position()&&0>a.position().left&&
(c=0,a.prevAll().each(function(){c+=b(this).outerWidth()}),a=1.5*(this.$element.scrollLeft()-c),this.$element.animate({scrollLeft:c},a))}}});CUI.Widget.registry.register("columnview",CUI.ColumnView);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){CUI.ColumnView.init(b("[data-init~\x3dcolumnview]",a.target))})})(jQuery,this);
(function(b){var c=0,d=new function(){var a={};return{register:function(b,c){a.hasOwnProperty(b)?a[b].push(c):a[b]=[c]},get:function(c,e){var d=[];e("test","test");return a.hasOwnProperty(c)?"function"===typeof e?b.grep(a[c],e):a[c]:d}}};CUI.PathBrowser=new Class({toString:"PathBrowser",extend:CUI.Widget,construct:function(e){var d=["optionLoader","optionValueReader","optionTitleReader","autocompleteCallback","optionRenderer"];this.guid=c+=1;for(var f=0;f<d.length;f++){var g=this.options[d[f]];e=
this._getHandler(d[f],"cui.pathbrowser."+d[f].toLowerCase()+".default");"function"===typeof g?this[d[f]]=g.bind(this):"string"===typeof g?(g=this._getHandler(d[f],g),this[d[f]]=g?g:e?e:b.noop()):e&&(this[d[f]]=e)}this.options.value&&this.set("value",this.options.value);for(this._render();this.options.optionDisplayStrings.length<this.options.options.length;)this.options.optionDisplayStrings.push(this.options.options[this.options.optionDisplayStrings.length]);this._selectlist=this.$element.find(".coral-SelectList");
0===this._selectlist.length?this._selectlist=b("\x3cul/\x3e",{id:CUI.util.getNextId(),"class":"coral-SelectList"}).appendTo(this.$element):this._selectlist.attr("id")||this._selectlist.attr("id",CUI.util.getNextId());this.inputElement.attr("aria-owns",this._selectlist.attr("id"));this.dropdownList=new CUI.SelectList({element:this._selectlist,relatedElement:this.$element,autofocus:!1,autohide:!0});this.$button=this.$element.find(".js-coral-pathbrowser-button");(this.pickerEnabled=0!==this.$button.length&&
this.options.pickerSrc)&&this._constructPicker();this.$element.on("change:value",this._handleValueChange.bind(this));this.$element.on("change:disabled",this._update.bind(this));this.$element.on("change:placeholder",this._update.bind(this));this.$element.on("change:options",this._changeOptions.bind(this));this.$element.on("input",".js-coral-pathbrowser-input",function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=setTimeout(this._inputChanged.bind(this),
this.options.delay))}.bind(this));this.pickerEnabled&&(this.$button.on("click",this._clickedPickerButton.bind(this)),this.$picker.on("beforehide",this._beforeHidePicker.bind(this)),this.$picker.on(a,this._pickerSelectionConfirmed.bind(this)));this.$element.on("blur",".js-coral-pathbrowser-input",function(){this.options.disabled||(this.typeTimeout&&clearTimeout(this.typeTimeout),this.typeTimeout=null,0<=this.selectedIndex&&(""===this.inputElement.val()?this.setSelectedIndex(-1):this._update()))}.bind(this));
this.$element.on("keydown","input",this._keyPressed.bind(this));this.$element.on("keyup","input",this._keyUp.bind(this));this.dropdownList.on("selected",function(a){a=null!=a.selectedValue?a.selectedValue.toString():null;this.dropdownList.hide(200);this.setSelectedIndex(this.options.options.indexOf(a));this.inputElement.focus()}.bind(this))},defaults:{autocompleteCallback:b.noop(),options:[],optionDisplayStrings:[],optionLoader:b.noop(),optionLoaderRoot:null,optionValueReader:b.noop(),optionTitleReader:b.noop(),
showTitles:!0,rootPath:"/content",delay:200,placeholder:null,optionRenderer:b.noop(),position:"below",autoPosition:!0,pickerSrc:null,pickerAdditionalTabs:null,pickerTitle:"Select path",pickerValueKey:"value",pickerIdKey:"id",crumbRoot:"Content",rootPathValidSelection:!0},dropdownList:null,inputElement:null,typeTimeout:null,selectedIndex:-1,triggeredBackspace:!1,setSelectedIndex:function(a){-1>a||a>=this.options.options.length||(this.selectedIndex=a,this._update())},getSelectedIndex:function(){return this.selectedIndex},
_changeOptions:function(a){a.widget===this&&(this.selectedIndex=-1,this._update())},_render:function(){this._readDataFromMarkup();0<this.$element.find("select option").length&&0===this.options.options.length&&(this.options.options=[],this.options.optionDisplayStrings=[],this.$element.find("select option").each(function(a,c){this.options.options.push(b(c).val());this.options.optionDisplayStrings.push(b.trim(b(c).text()));b(c).attr("selected")&&(this.selectedIndex=a)}.bind(this)));this.inputElement=
this.$element.find(".js-coral-pathbrowser-input");this.$element.removeClass("is-highlighted");this.options.placeholder||(this.options.placeholder=this.inputElement.attr("placeholder"));this._update()},_readDataFromMarkup:function(){for(var a,c,e=[{attr:"data-option-loader",key:"optionLoader"},{attr:"data-option-value-reader",key:"optionValueReader"},{attr:"data-option-title-reader",key:"optionTitleReader"},{attr:"data-autocomplete-callback",key:"autocompleteCallback"},{attr:"data-option-renderer",
key:"optionRenderer"}],d=0;d<e.length;d++)this.$element.attr(e[d].attr)&&(a=this._getHandler(e[d].key,"cui.pathbrowser."+e[d].key.toLowerCase()+".default"),c=this._getHandler(e[d].key,this.$element.attr(e[d].attr)),this[e[d].key]=c?c:a?a:b.noop());this.$element.attr("data-option-loader-root")&&(this.options.optionLoaderRoot=this.$element.attr("data-option-loader-root"));this.$element.attr("data-root-path")&&(this.options.rootPath=this.$element.attr("data-root-path"));this.$element.attr("placeholder")&&
(this.options.placeholder=this.$element.attr("placeholder"));this.$element.attr("data-placeholder")&&(this.options.placeholder=this.$element.attr("data-placeholder"));if(this.$element.attr("disabled")||this.$element.attr("data-disabled"))this.options.disabled=!0},_handleValueChange:function(a){this.options.value&&this._setInputValue(this.options.value)},_update:function(){this.options.placeholder&&this.inputElement.attr("placeholder",this.options.placeholder);this.options.disabled?(this.$element.addClass("is-disabled"),
this.inputElement.add(this.$button).prop("disabled",!0)):(this.$element.removeClass("is-disabled"),this.inputElement.add(this.$button).prop("disabled",!1));if(0<=this.selectedIndex){var a=this.options.options[this.selectedIndex];if(a&&0!==a.indexOf("/")){var b="",c=this.inputElement.val().lastIndexOf("/");0<=c&&(b=this.inputElement.val().substring(0,c+1));a=b+a}this._setInputValue(a,!0)}},_setInputValue:function(a,b){null!=a&&(this.inputElement.val(a),this.inputElement.change(),b&&this.inputElement==
document.activeElement&&CUI.util.selectText(this.inputElement,a.length))},_keyUp:function(a){8===a.keyCode&&(this.triggeredBackspace=!1)},_keyPressed:function(a){var b=a.keyCode;this.dropdownList.get("visible")||40!==b||(this._inputChanged(),a.preventDefault())},_inputChanged:function(){var a=this,b=this.inputElement.val();0<b.length?this.autocompleteCallback(b).done(function(b){a._showAutocompleter(b)}).fail(function(){}):this.dropdownList.hide()},_showAutocompleter:function(a){this.dropdownList.hide();
if(a&&0!==a.length){this._selectlist.empty();for(var b=0;b<a.length;b++)this._selectlist.append(this.optionRenderer(null,a[b]));this.dropdownList.show()}},_rebuildOptions:function(a,c,e){var d=this;if(e=CUI.util.getNested(e,d.options.optionLoaderRoot)){var f=[],g=[];b.each(e,function(a,b){a=d.optionValueReader?d.optionValueReader(b):"object"===typeof b?b.path:b;f.push(a);a="";d.optionTitleReader?a=d.optionTitleReader(b):"object"===typeof b&&(a=b.title);g.push(a)}.bind(d));d.options.options=f;d.options.optionDisplayStrings=
g;c=d._filterOptions(c);a.resolve(c)}else a.reject()},_filterOptions:function(a){var c=[],e=a.split("/");e=e[e.length-1].toLowerCase();b.each(this.options.options,function(a,b){0<=b.toLowerCase().indexOf(e,0)&&c.push(a)}.bind(this));return c},_getHandler:function(a,b){b=function(a){return function(b,c){return b.name===a}}.call(this,b);return(a=d.get(a,b)[0])&&"function"===typeof a.handler?a.handler.bind(this):void 0},_constructPicker:function(){var a="mod-guid-"+this.guid,c="#"+a+".coral-Modal";this.$picker=
b("body").find(c);0===this.$picker.length&&(b("body").append('\x3cdiv class\x3d"coral-Pathbrowser-picker coral-Modal" id\x3d"%ID%"\x3e\x3cdiv class\x3d"coral-Modal-header"\x3e\x3ch2 class\x3d"coral-Modal-title coral-Heading coral-Heading--2"\x3e\x3c/h2\x3e\x3cbutton type\x3d"button" class\x3d"js-coral-pathbrowser-confirm coral-Button coral-Button--square coral-Button--primary" title\x3d"Confirm"\x3e\x3ci class\x3d"coral-Icon coral-Icon-sizeXS coral-Icon--check"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"js-coral-pathbrowser-cancel coral-Button coral-Button--square coral-Button" title\x3d"Cancel"\x3e\x3ci class\x3d"coral-Icon coral-Icon-sizeXS coral-Icon--close"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"coral-Modal-body"\x3e\x3c/div\x3e\x3c/div\x3e'.replace("%ID%",
a)),this.$picker=b("body").find(c));a=b.extend({},this.options,{element:this.$picker});this.picker=new e(a)},_clickedPickerButton:function(){var a=this;if(!a.options.disabled)if(a.picker.columnView)a.picker.startup(a.inputElement.val());else{a.$button.prop("disabled",!0);var c=b('\x3cdiv class\x3d"coral-Wait coral-Wait--large coral-Wait--center"\x3e\x3c/div\x3e').appendTo("body");a.picker.startup(a.inputElement.val()).always(function(){a.$button.prop("disabled",!1);c.remove()})}},_beforeHidePicker:function(){this.pickerShown=
!1;this.inputElement.removeClass("is-highlighted")},_pickerSelectionConfirmed:function(a){a.selectedValue&&(-1!==this.options.options.indexOf(a.selectedValue)?this.setSelectedIndex(a.selectedValue):(this.setSelectedIndex(-1),this._setInputValue(a.selectedValue,!0)),this.inputElement.focus())}});var a="coral-pathbrowser-picker-confirm",e=new Class({toString:"Picker",extend:CUI.Widget,construct:function(a){this.$element.modal({visible:!1});this.modal=this.$element.data("modal");this.modal.backdrop.addClass("coral-Pathbrowser-picker-backdrop");
this._hasTabs=null!=this.options.pickerAdditionalTabs;a=this.$element.find(".coral-Modal-body");var c=this._hasTabs?b('\x3cdiv class\x3d"coral-TabPanel coral-TabPanel--stacked"\x3e\x3cnav class\x3d"coral-TabPanel-navigation"\x3e\x3ca class\x3d"coral-TabPanel-tab is-active" data-toggle\x3d"tab"\x3e\x3ci class\x3d"coral-Icon coral-Icon-sizeXS coral-Icon--compass"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/nav\x3e\x3cdiv class\x3d"coral-TabPanel-content"\x3e\x3csection class\x3d"coral-TabPanel-pane is-active"\x3e\x3cdiv class\x3d"coral-Pathbrowser-pickerBar"\x3e\x3cnav class\x3d"coral-Crumbs"\x3e\x3c/nav\x3e\x3c/div\x3e\x3cdiv class\x3d"coral-Pathbrowser-pickerPanel"\x3e\x3cdiv class\x3d"coral-ColumnView"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3c/div\x3e'):
b('\x3cdiv class\x3d"coral-Pathbrowser-pickerBar"\x3e\x3cnav class\x3d"coral-Crumbs"\x3e\x3c/nav\x3e\x3c/div\x3e\x3cdiv class\x3d"coral-Pathbrowser-pickerPanel"\x3e\x3cdiv class\x3d"coral-ColumnView"\x3e\x3c/div\x3e\x3c/div\x3e');a.append(c);this._selection=this._hasTabs?{}:[];this.$tabPanel=this.$element.find(".coral-TabPanel");this.tabPanel=new CUI.Tabs({element:this.$tabPanel});this._setupAdditionalTabs();this.$columnView=this.$element.find(".coral-ColumnView");this.$crumbs=this.$element.find("."+
f);this.crumbs=new k({element:this.$crumbs});this._setCrumbRootHref(this.options.pickerSrc);this.$cancel=this.$element.find(".js-coral-pathbrowser-cancel");this.$confirm=this.$element.find(".js-coral-pathbrowser-confirm");this._setupListeners()},startup:function(a){var c=b.Deferred(),e=this,d=function(){e._renderPicker();e._showPicker();e.selectPath(a).fail(function(){-1!=a.indexOf("#")&&(a=a.substring(0,a.lastIndexOf("#")),e.selectPath(a).fail(function(){-1!=a.indexOf(".")&&(a=a.substring(0,a.lastIndexOf(".")),
e.selectPath(a).always(function(){e._buildCrumbs(e._determineCrumbs())}))}).always(function(){e._buildCrumbs(e._determineCrumbs());e._updateConfirm()}))}).always(function(){e._buildCrumbs(e._determineCrumbs())})};if(e.columnView)d(),c.resolve(),e.$columnView.focus();else{var f=new CUI.ColumnView({element:e.$columnView,multiselect:e.options.pickerMultiselect||!1});f.setSource(e.options.pickerSrc).done(function(){e.columnView=f;d();c.resolve();e.$columnView.focus()}).fail(function(){c.fail()})}b(document).on("keypress.pathbrowser-confirm",
function(a){13===a.which&&(b(":focus").is(this.$cancel)?this._takeDown():this.$confirm.prop("disabled")||this._selectionConfirmed())}.bind(this));return c.promise()},selectPath:function(a){var c=b.Deferred();a=a.replace(/\/$/,"");var e=this.options.rootPath||"/";if(a&&a.slice(0,e.length)==e){a=a.slice(e.length);a="/"==a.charAt(0)?a.substr(1):a;var d=a.split("/");var f=this.options.pickerIdKey;if(d.length){var g=0;a=function(a,c){if(g==d.length)return!1;a=c.find(".coral-ColumnView-item").filter(function(){var a=
b(this).data("data");return(a=a&&a[f]?a[f]:b(this).data(f))?String(a)===d[g]:!1});g++;if(1==a.length)return a};return this.columnView.navigate(a)}}c.reject();return c},_showPicker:function(){this.modal.show()},_hidePicker:function(){this.modal.hide()},_takeDown:function(){b(document).off("keypress.pathbrowser-confirm");this._hidePicker()},_setupListeners:function(){var a=this;a.$cancel.on("click",a._takeDown.bind(a));a.$confirm.on("click",a._selectionConfirmed.bind(a));a.$columnView.on("coral-columnview-item-select",
a._itemSelected.bind(a));a.$element.on("coral-pathbrowser-picker-select",function(b){a._handleSelection.call(a,b.selectedValue?b.selectedValue:[])});if(this._hasTabs)this.tabPanel._getTabs().on("focus",a._updateConfirm.bind(a))},_setupAdditionalTabs:function(){var a=this.options.pickerAdditionalTabs;if(a&&0<a.length)for(var b=0;b<a.length;b++){var c=a[b];c&&(c.active=!0===c.active,this.tabPanel.addItem(c))}},_setupCrumbListeners:function(a){var c=this;b(a).on("click",function(e){if(!b(this).hasClass(h)&&
!b(this).hasClass(g)){var d=a.data("coral-columnview-item"),f=!0;if(d&&d.item){var l=d.item;var k=function(a,b){if(f)return f=!1,b.find(l).click()}}else k=function(a,b){};(d=b(a).attr("href"))&&c.columnView.navigate(k,d).done(function(){c._buildCrumbs()})}e.preventDefault()})},_itemSelected:function(a){a=this._getSelectedValue(!0);this.$element.trigger(b.Event("coral-pathbrowser-picker-select",{selectedValue:a}));this._buildCrumbs(this._determineCrumbs())},_enableConfirm:function(a){this.$confirm.prop("disabled",
!a)},_updateConfirm:function(){var a=this._getSelection();this._enableConfirm(a&&0<a.length)},_setSelection:function(a){if(this._hasTabs){var b=this._getActivePaneId();this._selection[b]=a}else this._selection=a},_getSelection:function(){if(this._hasTabs){var a=this._getActivePaneId();a=this._selection[a]}else a=this._selection;return a},_handleSelection:function(a){this._setSelection(a);this._updateConfirm()},_getActivePaneId:function(){var a=this.tabPanel.panelist.find(".coral-TabPanel-pane.is-active");
return 0<a.length?a.get(0).id:void 0},_selectionConfirmed:function(){var c=this._getSelection();this.$element.trigger(b.Event(a,{selectedValue:c}));this._takeDown()},_getSelectedValue:function(a){var b=this.columnView.getSelectedItems(),c=!0,e;0<b.length&&(b[0].data&&b[0].data[this.options.pickerValueKey]?e=b[0].data[this.options.pickerValueKey]:b[0].item&&(e=b[0].item.data(this.options.pickerValueKey)),a&&(b[0].data&&b[0].data.invalid?c=!1:b[0].item&&b[0].item.data("invalid")&&(c=!1)));void 0===
e&&this.options.rootPathValidSelection&&(e=this.options.rootPath);if(e&&c)return e},_renderPicker:function(){this.$element.find(".coral-Modal-title").text(this.options.pickerTitle)},_resetPicker:function(){this.columnView.setSource(this.options.pickerSrc);this._updateConfirm();this._buildCrumbs();var a=this._getSelectedValue(!0);this.$element.trigger(b.Event("coral-pathbrowser-picker-select",{selectedValue:a}))},_buildCrumbs:function(a){this.crumbs.removeAllItems();var c=this.crumbs.addItem(this.options.crumbRoot,
this.options.pickerSrc);c.on("click",function(a){a.preventDefault();c.hasClass(h)||c.hasClass(g)||this._resetPicker()}.bind(this));a&&b.each(a,function(a,b){b&&(a=this.crumbs.addItem(b),this._setupCrumbListeners(a))}.bind(this));this.crumbs.truncate()},_determineCrumbs:function(){var a=this.columnView.getBreadcrumbItems(),c=this.columnView.getSelectedItems();b.each(a,function(b,c){a[b]=this._getCrumbFromColumnViewItem(c,!1)}.bind(this));0<c.length&&a.push(this._getCrumbFromColumnViewItem(c[0],!0));
return a},_getCrumbFromColumnViewItem:function(a,c){var e=a.data,d=a.item,f=b("\x3ca\x3e\x3c/a\x3e");f.data("coral-columnview-item",a);f.toggleClass(h,c);if(a=b(d).closest(".coral-ColumnView-column").data("href")){f.attr("href",a);if(e&&e._links&&e._links.self&&e._links.self.title)return f.text(e._links.self.title);if(d)return f.text(d.text().trim())}},_setCrumbRootHref:function(a){b.isPlainObject(this.options.crumbRoot)?this.options.crumbRoot.href=a:this.options.crumbRoot&&this.options.crumbRoot.jquery&&
this.options.crumbRoot.attr("href",a)}}),f="coral-Crumbs",h="coral-Crumbs-item--unavailable",g="coral-Crumbs-item--noNavigation",k=new Class({toString:"Crumbs",extend:CUI.Widget,construct:function(a){this._decorateElement();this._findOrCreateEllipsis();this.truncate()},addItem:function(a,b){a=this._itemFromTitleOrObjectOrElement(a,b);this.$element.append(a);return a},removeAllItems:function(){delete this._firstCrumb;return this.$element.children().remove().not(".coral-Crumbs-item--ellipsis")},truncate:function(){var a=
this.$element.children(),c=this.$element.width()-100;a.removeClass("is-collapsed");this._ellipsis.remove();var e=Array.prototype.reduce.call(a,function(a,c){return a+b(c).outerWidth()},0);if(a.length&&e>c){for(var d=1,f=a.length-1;d<f&&e>c;d++){var g=b(a[d]);e-=g.width();g.addClass("is-collapsed")}this._ellipsis.insertAfter(a[0]).addClass("is-collapsed")}},_ellipsis:b(),_decorateElement:function(){if(!this.$element.is("nav"))throw Error("Crumbs expects to be attached to a nav element");this.$element.addClass(f);
this.$element.children().addClass("coral-Crumbs-item")},_findOrCreateEllipsis:function(){var a=this.$element.find(".coral-Crumbs-item--ellipsis");0===a.length&&(a=b('\x3ca class\x3d"coral-Crumbs-item coral-Crumbs-item--ellipsis" href\x3d"#"\x3e\x3c/a\x3e'));this._ellipsis=a},_itemFromTitleOrObjectOrElement:function(a,c){var e="string"===typeof a?a:void 0,d=b.isPlainObject(a)?a:void 0;(a=a&&a.jquery?a:void 0)?(c=a,c.addClass("coral-Crumbs-item")):c=d?this._constructItemFromObject(d):this._constructItemFromTitleAndRef(e,
c);return c},_constructItemFromTitleAndRef:function(a,c){return b("\x3ca\x3e").attr("href",c).text(a).addClass("coral-Crumbs-item")},_constructItemFromObject:function(a){var c=this._constructItemFromTitleAndRef(a.title,a.href);a.hasOwnProperty("isAvailable")&&!a.isAvailable&&(c.addClass(h),c.attr("tabindex",-1));a.hasOwnProperty("isNavigable")&&!a.isNavigable&&c.addClass(g);if(a.hasOwnProperty("icon")){var e=b('\x3ci class\x3d"coral-Crumbs-item-icon coral-Icon"\x3e\x3c/i\x3e');e.addClass(a.icon);
c.prepend(e)}return c}});CUI.util.plugClass(CUI.PathBrowser);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(a){b("[data-init~\x3d'pathbrowser']",a.target).pathBrowser()});CUI.PathBrowser.register=function(a,b){d.register(a,b)};CUI.PathBrowser.register("optionRenderer",{name:"cui.pathbrowser.optionrenderer.default",handler:function(a,c){a=this.options.options[c];if(0===a.indexOf("/")){var e=a.lastIndexOf("/");a=a.substring(e+1)}e="";this.options.showTitles&&this.options.optionDisplayStrings[c]&&
0<this.options.optionDisplayStrings[c].length&&(e=" "+this.options.optionDisplayStrings[c]);return b("\x3cli\x3e",{"class":"coral-SelectList-item coral-SelectList-item--option","data-value":a}).text(a+e)}});CUI.PathBrowser.register("autocompleteCallback",{name:"cui.pathbrowser.autocompletecallback.default",handler:function(a){var c=this,e=b.Deferred();if(0!==a.indexOf("/"))return e.resolve([]),e.promise();var d=a.substring(0,a.lastIndexOf("/"))||"/";if(d!=this.lastBasePath&&c.optionLoader){var f=
!1;"/"===d&&c.options.rootPath&&(a=c.options.rootPath.replace(/\/$/,""),""!==a?f=!0:a="/");f&&(d=a,a+="/",c._setInputValue(a));f={loadOptions:c.optionLoader};var g=b.Deferred();g.promise(f);f.done(function(d){b.isFunction(d.promise)?d.done(function(b){c._rebuildOptions(e,a,b)}):c._rebuildOptions(e,a,d)});(f=f.loadOptions(d,function(a){g.resolve(a)}))&&g.resolve(f)}else e.resolve(c._filterOptions(a));this.lastBasePath=d;return e.promise()}})})(window.jQuery);
(function(b,c,d){function a(a){return a}function e(a){return decodeURIComponent(a.replace(f," "))}var f=/\+/g,h=b.cookie=function(f,k,m){if(k!==d){m=b.extend({},h.defaults,m);null===k&&(m.expires=-1);if("number"===typeof m.expires){var g=m.expires,n=m.expires=new Date;n.setDate(n.getDate()+g)}k=h.json?JSON.stringify(k):String(k);return c.cookie=[encodeURIComponent(f),"\x3d",h.raw?k:encodeURIComponent(k),m.expires?"; expires\x3d"+m.expires.toUTCString():"",m.path?"; path\x3d"+m.path:"",m.domain?"; domain\x3d"+
m.domain:"",m.secure?"; secure":""].join("")}k=h.raw?a:e;m=c.cookie.split("; ");g=0;for(n=m.length;g<n;g++){var p=m[g].split("\x3d");if(k(p.shift())===f)return f=k(p.join("\x3d")),h.json?JSON.parse(f):f}return null};h.defaults={};b.removeCookie=function(a,c){return null!==b.cookie(a)?(b.cookie(a,null,c),!0):!1}})(jQuery,document);
(function(b,c,d){function a(a,b,c){var e;return function(){var d=this,f=arguments;e?clearTimeout(e):c&&a.apply(d,f);e=setTimeout(function(){c||a.apply(d,f);e=null},b||100)}}function e(a,c){b.cookie(a,c,{expires:7,path:"/"})}function f(){b(".endor-Brand").toggleClass("is-closed");var a=b(".endor-Panel-header.endor-BreadcrumbBar + .endor-Panel-content"),c=function(b){a.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",c);a.removeClass("is-transitioning")};a.toggleClass("is-transitioning").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",
c);return!b(".endor-Panel-header.endor-BreadcrumbBar").toggleClass("is-closed").hasClass("is-closed")}function h(){var a=b(".endor-Crumbs"),c=a.find(".endor-Crumbs-item");a=a.width()-100;c.removeClass("is-collapsed");for(var e=Array.prototype.reduce.call(c,function(a,c){return a+b(c).outerWidth()},0),d=1,f=c.length-1;d<f&&e>a;d++){var g=b(c[d]);e-=g.width();g.addClass("is-collapsed")}}function g(a){var c=b(".js-endor-page"),e=b(".coral-MultiPanel.is-active").first(),d,f;a&&(f=a.data("target"))&&(a=
b(f).first(),e.is(a)||(d=a));a=b(".js-endor-innerrail-toggle").removeClass("is-selected");if(d)return a.filter('[data-target\x3d"'+f+'"]').addClass("is-selected"),e.removeClass("is-active"),d.addClass("is-active"),c.addClass("is-innerRailOpen"),f;e.removeClass("is-active");c.removeClass("is-innerRailOpen")}function k(){var a=b(".endor-Footer"),c=b(".js-endor-content"),e=b(".js-endor-scrollarea");if(0!==a.length&&0!==c.length&&0!==e.length){var d=b(".endor-Footer").outerHeight(!0);c=c.outerHeight();
e=e[0].scrollHeight;!1===a.hasClass("endor-Footer--sticky")&&(d=0);a.toggleClass("endor-Footer--sticky",e+d<c)}}function m(a,b,e){if(c.requestAnimationFrame){var d=null,f=function(g){null===d?(d=g,c.requestAnimationFrame(f.bind(this))):l(a,b,e)};b.removeClass("is-left is-right is-sliding");e?b.addClass("is-left"):b.addClass("is-right");c.requestAnimationFrame(f.bind(this))}else l(a,b,e)}function l(a,c,e){var d=function(a){b(a.currentTarget).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",
d);b(a.currentTarget).removeClass("is-sliding is-left is-right")};a.removeClass("is-left is-right is-active is-sliding");c.removeClass("is-left is-right is-sliding");e?a.addClass("is-right"):a.addClass("is-left");a.addClass("is-sliding");c.addClass("is-sliding");c.addClass("is-active");a.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",d);c.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",d)}function n(a){var c=a.closest(".coral-ColumnView"),e=a.closest(".coral-ColumnView-column"),
d=a.data("coral-columnview-target"),f=a.hasClass("coral-ColumnView-item--back"),g=c.find('.coral-ColumnView-column[data-coral-columnview-id\x3d"'+d+'"]');if(g.length)m(e,g,f);else if(a.prop("href")){var h=b('\x3cdiv class\x3d"coral-Wait coral-Wait--large coral-Wait--center"\x3e\x3c/div\x3e').appendTo(e);b.get(a.prop("href")).done(function(a){(g=b(a).appendTo(c))&&m(e,g,f)}).always(function(){h.remove()})}}c.requestAnimationFrame=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||
c.msRequestAnimationFrame;b(document).on("click",".coral-ColumnView-item[data-coral-columnview-target]",function(a){a.preventDefault();n(b(this))});b(document).on("click",".js-endor-navrail-toggle",function(a){a.preventDefault();a:{a=b(".js-endor-page");var d=b(".js-endor-navrail");if(1024>=c.innerWidth&&a.hasClass("is-innerRailOpen")&&(g(),!d.hasClass("is-closed"))){a=!0;break a}d.toggleClass("is-closed");b(".endor-BreadcrumbBar").toggleClass("is-compact");b(".js-endor-navrail-toggle").toggleClass("is-active");
a=!d.hasClass("is-closed")}e("endor.navrail.open",a)});b(document).on("click",".js-endor-innerrail-toggle",function(a){a.preventDefault();(a=g(b(this)))?e("endor.innerrail.current",a):b.removeCookie("endor.innerrail.current",{path:"/"})});b(document).on("click",".endor-BreadcrumbBar, .endor-BlackBar-title",function(a){b(a.target).closest(".endor-Crumbs-item:not(.endor-Crumbs-item--unavailable)").length||(a.preventDefault(),a=f(),e("endor.breadcrumbbar.open",a))});b(document).on("click",".js-endor-BlackBar-back",
function(a){a.preventDefault();b(".endor-BreadcrumbBar .endor-Crumbs-item").toArray().reverse().some(function(a){if(b(a).hasClass("endor-Crumbs-item--unavailable"))return!1;c.location=a.href;return!0})});b(document).on("transitionend webkitTransitionEnd",".endor-Page-sidepanel",function(a){a=b.Event("resize");a._sidepanel=!0;b(c).trigger(a)});b(c).on("resize load",a(function(a){a._sidepanel||h()},500));b(c).on("resize",a(function(a){k()},100));b(document).on("cui-contentloaded",k);b(document).on("endor-alignfooter",
k)})(jQuery,window);
(function(b,c,d){var a=c.event,e;a.special.smartresize={setup:function(){c(this).bind("resize",a.special.smartresize.handler)},teardown:function(){c(this).unbind("resize",a.special.smartresize.handler)},handler:function(b,c){var d=this,f=arguments;b.type="smartresize";e&&clearTimeout(e);e=setTimeout(function(){a.dispatch.apply(d,f)},"execAsap"===c?0:10)}};c.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])};c.CUIGridLayout=function(a,b,e){this.element=
c(b);this._create(a);this._init(e)};var f=c(b);c.CUIGridLayout.settings={colWidth:240,gutterX:15,gutterY:15,marginLeft:0,marginRight:0,selector:"article"};c.CUIGridLayout.prototype={option:function(a){this.options=c.extend({},c.CUIGridLayout.settings,a)},_create:function(a){this.options=c.extend({},c.CUIGridLayout.settings,a);this.items=[];this.itemsByPath={};this.numCols=-1;this.pendingImages=0;this.update();var b=this;f.bind("smartresize.cui.gridlayout",function(){b.updateDimensions();b.layout()})},
_init:function(a){this.updateDimensions();this.layout(a);setTimeout(function(){this.numCols=-1;this.updateDimensions();this.layout(a);this.element.trigger(c.Event("cui-gridlayout-initialized",{widget:this}))}.bind(this),1)},update:function(){var a=[],b={};this.element.find(this.options.selector).each(function(e){var d=c(this),f=c("img",d);0===f.length&&(f=null);e={path:d.data().path,i:e,$el:d,$img:f};a.push(e);b[e.path]=e});this.items=a.sort(function(a,b){var c=a.$el.data("gridlayout-sortkey")||0;
return(b.$el.data("gridlayout-sortkey")||0)-c||a.i-b.i});this.itemsByPath=b},_imageLoaded:function(){0===--this.pendingImages&&(this.numCols=-1,this.layout())},updateDimensions:function(){var a=this;this.items.every(function(b){var c=b.$el;b.w=c.width();b.h=c.height();b.$img&&(b.$img.width()>b.w&&(b.h=b.h-b.$img.height()+b.$img.height()/b.$img.width()*b.w),0===b.$img.height()?(b.h+=b.w,a.pendingImages++,b.$img.on("load.cui.gridlayout",function(){b.$img=null;b.w=c.width();b.h=c.height();a._imageLoaded()})):
b.$img=null);return!0})},layout:function(){var a=this,b=this.element,e=this.options.colWidth,d=this.options.marginLeft,f=this.options.marginRight,n=this.options.gutterX;if(0!==b.width()&&(e=Math.floor((b.width()-d-f+n)/(e+n)),1>e&&(e=1),e!=this.numCols)){this.numCols=e;for(var p=(b.width()-d-f+n)/e-n,t=[],q=[];t.length<e;)t.push([]),q.push(0);this.items.every(function(b){for(var c=b.h/b.w*p,e=q[0],d=0,f=0;f<q.length;f++){var g=q[f];g<e&&(e=g,d=f)}t[d].push(b);q[d]+=c+a.options.gutterY;return!0});
b.detach(this.options.selector);d=b.contents();for(f=0;f<t.length;f++){n=c('\x3cdiv class\x3d"grid-'+e+'"\x3e\x3c/div\x3e').appendTo(b);for(var r=0;r<t[f].length;r++)n.append(t[f][r].$el)}d.remove();c(document).trigger("cui-gridlayout-layout")}},destroy:function(){f.unbind("smartresize.cui.gridlayout");this.element.removeData("cuigridlayout")}};c.fn.cuigridlayout=function(a,e){if("string"===typeof a){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var e=c.data(this,"cuigridlayout");
e?c.isFunction(e[a])&&"_"!==a.charAt(0)?e[a].apply(e,d):b.console&&b.console.error("no such method '"+a+"' for cuigridlayout instance"):b.console&&b.console.error("cannot call methods on cuigridlayout prior to initialization; attempted to call method '"+a+"'")})}else this.each(function(){var b=c.data(this,"cuigridlayout");b?(b.option(a),b._init(e)):c.data(this,"cuigridlayout",new c.CUIGridLayout(a,this,e))});return this}})(window,jQuery);
(function(b,c,d){var a={threshold:200,applyClassToElement:d},e={rem:function(){e._rem===d&&(e._rem=parseInt(b("body").css("font-size")));return e._rem},em:function(a){return parseFloat(a.css("font-size"))}};b.fn.reflow=function(d,h){return this.each(function(){var f=b(this),k=!1,m=!1;if(d){var l=function(){k=!0;for(var a in d)p.applyClassToElement.toggleClass(a,d[a](f,e))},n=function(){f.is(":visible")&&(m?k=!1:(l(),m=setTimeout(function(){m=!1;!k&&f.is(":visible")&&l()},p.threshold)))};var p=b.extend({},
a,h);p.applyClassToElement=p.applyClassToElement||f;f.on("reflow",n);b(c).on("resize.reflow",n)}f.trigger("reflow")})}})(jQuery,this);
(function(b,c,d){var a={},e=!1,f=b(document);CUI.util.state={config:{serverpersistence:!0},save:function(c,e,d,f){var g=b(c),h=function(b,e){a.global[c]=a.global[c]||{};a.global[c][e]=a.global[c][e]||{};a.global[c][e].val=g.attr(e);a.global[c][e].autorestore=d||!1;a.global[c][e].customEvent=f||null};e&&(b.isArray(e)?b.each(e,h):h(0,e));localStorage.setItem("cui-state",JSON.stringify(a));CUI.util.state.config.serverpersistence&&b.cookie("cui-state",JSON.stringify(a),{expires:7,path:"/"})},restore:function(c,
d){var g=d||function(){return!0},h,l;d=function(c,e){h=c;l=b(h);a.global[h]&&b.each(a.global[h],n)};var n=function(a,b){g(h,a,b)&&(l.attr(a,b.val),b.customEvent&&f.trigger(b.customEvent,[l,b]),f.trigger("cui-state-restore",[l,b]))};e||(e=CUI.util.state.load());c?d(c):b.each(a.global,d)},load:function(){var b=localStorage.getItem("cui-state");a=b?JSON.parse(b):{global:{}};return!0},setSessionItem:function(a,b,c){var e=a;c&&(e=a+":"+c);sessionStorage.setItem(e,JSON.stringify(b))},getSessionItem:function(a,
b){var c=a;b&&(c=a+":"+b);(a=sessionStorage.getItem(c))&&(a=JSON.parse(a));return a},removeSessionItem:function(a,b){var c=a;b&&(c=a+":"+b);sessionStorage.removeItem(c)},clearSessionItems:function(a){if(a){a=":"+a;for(var b=sessionStorage.length,c=[],e=0;e<b;e++){var d=sessionStorage.key(e),f=d.length;f>a.length&&d.substring(f-a.length)===a&&c.push(d)}a=c.length;for(b=0;b<a;b++)sessionStorage.removeItem(c[b])}}};f.ready(function(){CUI.util.state.restore(null,function(a,b,c){return c.autorestore?!0:
!1})})})(jQuery,this);
(function(b){var c={itemSelector:"article",headerSelector:"header",dataContainer:"grid-0",enableImageMultiply:!0,view:{selectedItem:{list:{cls:"selected",prv:"selected-prev"},grid:{cls:"selected",prv:"selected-prev"}},selectedItems:{list:{selector:"article.selected"},grid:{selector:"article.selected"}}},controller:{selectElement:{list:"article \x3e i.select",grid:"article"},moveHandleElement:{list:"article \x3e i.move"},targetToItem:{list:function(a){return a.closest("article")},grid:function(a){return a.closest("article")},
header:function(a){return a.closest("header")}},gridSelect:{cls:"selection-mode"},selectAll:{selector:"header \x3e i.select",cls:"selected"},sort:{columnSelector:".label \x3e *"}}},d=function(a){return a.jquery?a.data("cardView-item"):a},a={equals:function(a,b){return a.length===b.length&&a.length===a.filter(b).length},getWidget:function(a){var c;0<a.length&&(c=b(a[0]).data("cardView"));return c},mixObjects:function(a,b){if(void 0===a)return b;var c={},e;for(e in b)if(void 0===a[e])c[e]=b[e];else{var d=
a[e];"object"!=typeof a[e]||a[e]instanceof String||(d=this.mixObjects(a[e],b[e]));c[e]=d}return c},resolve:function(a,c){var e=[];a.each(function(){e.push.apply(e,c(b(this)).toArray())});return b(e)},multiplyImages:function(a,c){function e(){g<f&&(d(a[g]),g++,setTimeout(e,0))}function d(a){var e=a.naturalWidth,f=a.naturalHeight;if(0===e&&0===f)window.setTimeout(function(){d(a)},200);else try{var g=b("\x3ccanvas width\x3d'"+e+"' height\x3d'"+f+"'\x3e\x3c/canvas\x3e")[0],h=g.getContext("2d");h.drawImage(a,
0,0,e,f);var l=h.getImageData(0,0,e,f),k=l.data;e=0;for(var m=k.length;e<m;e+=4)k[e]*=c[0],k[e+1]*=c[1],k[e+2]*=c[2];h.putImageData(l,0,0);b("\x3cimg class\x3d'"+a.className+" multiplied' width\x3d'"+a.width+"' src\x3d'"+g.toDataURL("image/png")+"'/\x3e").insertBefore(a)}catch(K){}}a=a.filter(function(){var a=b(this);return!a.is(".multiplied")&&!a.prev().is(".multiplied")&&a.is(":visible")});var f=a.length,g=0;e()}},e=new Class({$el:null,$containerEl:null,stepSize:0,iid:void 0,autoMoveOffset:0,maxScrollTop:0,
construct:function(a,b,c){this.$el=a;this.stepSize=b;this.$containerEl=this._getScrollingContainer(a);a=this.$containerEl[0];this.maxScrollTop=Math.max(a.scrollHeight-a.clientHeight,0);this.autoMoveFn=c},_getScrollingContainer:function(a){for(;0<a.length&&!a.is("body");){var c=a.css("overflowY"),e=a.css("position");if(("auto"===c||"visible"===c)&&"absolute"===e)return a;a=a.parent()}return b(window)},_execute:function(){var a=this.$containerEl[0],c=a.clientHeight,e=a.scrollTop,d=b.isWindow(a)?0:this.$containerEl.offset().top;
d=this.$el.offset().top-d;var f=d+this.$el.height(),g=!1;0>=d?0<e&&(e-=this.stepSize,this.autoMoveOffset=-this.stepSize,0>e&&(e=0),a.scrollTop=e,g=!0):f>=c&&e<this.maxScrollTop&&(e+=this.stepSize,this.autoMoveOffset=this.stepSize,e>this.maxScrollTop&&(e=this.maxScrollTop),a.scrollTop=e,g=!0);return g},_autoMove:function(){if(this.autoMoveOffset&&this.autoMoveFn){var a=this.$el.offset();this.autoMoveFn(a.left,a.top+this.autoMoveOffset)}},check:function(){var a=this;this.stop();this._execute()&&(this.iid=
window.setTimeout(function(){a.iid=void 0;a._autoMove()},50))},stop:function(){void 0!==this.iid&&(window.clearTimeout(this.iid),this.autoMoveOffset=0,this.iid=void 0)}}),f=new Class({$listEl:null,$itemEl:null,$items:null,$doc:null,$oldBefore:null,dragCls:null,fixHorizontalPosition:!1,autoScroller:null,construct:function(a){var b=this;this.$listEl=a.$listEl;this.$itemEl=a.$itemEl;this.$items=a.$items;this.dragCls=a.dragCls;this.fixHorizontalPosition=!1!==a.fixHorizontalPosition;this.autoScroller=
a.autoScrolling?new e(this.$itemEl,8,function(a,c){b._autoMove(a,c)}):void 0},_getEventCoords:function(a){return a.originalEvent.touches?0<a.originalEvent.touches.length?{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:0<a.originalEvent.changedTouches.length?{x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}:{x:a.pageX,y:a.pageY}:{x:a.pageX,y:a.pageY}},_limit:function(a,b){b<this.listOffset.left&&(b=this.listOffset.left);a<this.listOffset.top&&
(a=this.listOffset.top);var c=a+this.size.height,e=this.listOffset.left+this.listSize.width,d=this.listOffset-a+this.listSize.height;b+this.size.width>e&&(b=e-this.size.width);c>d&&(a=d-this.size.height);this.fixHorizontalPosition&&(b=this.listOffset.left);return{top:a,left:b}},_getEventPos:function(a){a=this._getEventCoords(a);return{x:a.x-this.delta.left,y:a.y-this.delta.top}},_adjustPosition:function(a,b){this.$itemEl.offset(this._limit(b,a));this.autoScroller&&this.autoScroller.check()},_changeOrderIfRequired:function(){var c=
this.$itemEl.offset(),e=c.left+this.size.width/2,d=c.top+this.size.height/2;c=null;for(var f=!1,g=0;g<this.$items.length;g++){var h=b(this.$items[g]);if(!a.equals(h,this.$itemEl)){var l=h.offset(),k=h.width(),m=h.height();m=l.top+m;if(e>=l.left&&e<l.left+k&&d>=l.top&&d<m){f=d-l.top>m-d;c=h;break}}}c&&(e=this.$itemEl.offset(),f?c.before(this.$itemEl):c.after(this.$itemEl),this.$itemEl.offset(e))},_autoMove:function(a,b){this._adjustPosition(a,b);this._changeOrderIfRequired()},start:function(a){this.$oldPrev=
this.$itemEl.prev();this.$oldNext=this.$itemEl.next();var c=this._getEventCoords(a);this.dragCls&&this.$itemEl.addClass(this.dragCls);var e=this;this.$doc=b(document);this.$doc.on("touchmove.listview.drag mousemove.listview.drag",function(a){e.move(a)});this.$doc.on("touchend.listview.drag mouseup.listview.drag",function(a){e.end(a)});this.offset=this.$itemEl.offset();this.delta={left:c.x-this.offset.left,top:c.y-this.offset.top};this.size={width:this.$itemEl.width(),height:this.$itemEl.height()};
this.listOffset=this.$listEl.offset();this.listSize={width:this.$listEl.width(),height:this.$listEl.height()};a.stopPropagation();a.preventDefault()},move:function(a){var b=this._getEventPos(a);this._adjustPosition(b.x,b.y);this._changeOrderIfRequired();a.stopPropagation();a.preventDefault()},end:function(c){var e=this._getEventPos(c);this._adjustPosition(e.x,e.y);this.dragCls&&this.$itemEl.removeClass(this.dragCls);this.autoScroller&&this.autoScroller.stop();this.$itemEl.css("position","");this.$itemEl.css("top",
"");this.$itemEl.css("left","");this.$doc.off("touchmove.listview.drag");this.$doc.off("mousemove.listview.drag");this.$doc.off("touchend.listview.drag");this.$doc.off("mouseup.listview.drag");e=this.$itemEl.prev();var d=this.$itemEl.next();this.$itemEl.trigger(b.Event("item-moved",{newPrev:e,newNext:d,oldPrev:this.$oldPrev,oldNext:this.$oldNext,hasMoved:!a.equals(e,this.$oldPrev)}));c.stopPropagation();c.preventDefault()}}),h=new Class({$itemEl:null,construct:function(a){this.$itemEl=a;this.reference()},
getItemEl:function(){return this.$itemEl},reference:function(){this.$itemEl.data("cardView-item",this)}}),g=new Class({$headerEl:null,itemRef:null,construct:function(a,b){this.$headerEl=a;this.itemRef=b},getHeaderEl:function(){return this.$headerEl},getItemRef:function(){return this.itemRef},setItemRef:function(a){this.itemRef=a}}),k=new Class({construct:function(a){this.model=a.model;this.comparators=a.comparators;this.selectors=a.selectors;this.columnElement=a.columnElement;this.headerElement=a.columnElement.closest(this.selectors.headerSelector);
a=this.model.getHeaderForEl(this.headerElement);this.items=this.model.getItemsForHeader(a);this.isReverse=this.columnElement.hasClass("sort-asc");this.toNatural=this.columnElement.hasClass("sort-desc");this.fromNatural=!this.headerElement.hasClass("sort-mode");this.comparator=null;if(this.comparators)for(var b in this.comparators)this.columnElement.is(b)&&(this.comparator=this.comparators[b]);this.comparator||(this.comparator=this._readComparatorFromMarkup())},_readComparatorFromMarkup:function(){var a=
this.columnElement.data("sort-selector"),b=this.columnElement.data("sort-attribute"),c=this.columnElement.data("sort-type"),e=this.columnElement.data("ignorecase");return a||b?new CUI.CardView.DefaultComparator(a,b,c,e):null},_adjustMarkup:function(){this.fromNatural&&this.headerElement.addClass("sort-mode");this.toNatural&&this.headerElement.removeClass("sort-mode");this.headerElement.find(this.selectors.controller.sort.columnSelector).removeClass("sort-asc sort-desc");this.columnElement.removeClass("sort-desc sort-asc");
this.toNatural||this.columnElement.addClass(this.isReverse?"sort-desc":"sort-asc");var a=this.toNatural;b.each(this.items,function(){this.getItemEl().find(".move").toggle(a)})},sort:function(){if(this.comparator||this.toNatural){this._adjustMarkup();var a=this.items.slice();if(this.comparator){this.comparator.setReverse(this.isReverse);var c=this.comparator.getCompareFn();this.toNatural||a.sort(c)}c=this.headerElement;b.each(this.items,function(){this.getItemEl().detach()});for(var e=0;e<a.length;e++){var d=
a[e].getItemEl();c.after(d);c=d}}}}),m=new Class({$el:null,items:null,headers:null,selectors:null,construct:function(a,c){this.$el=a;this.items=[];this.selectors=c;a=this.$el.find(c.itemSelector);for(var e=a.length,d=0;d<e;d++)this.items.push(new h(b(a[d])));this.headers=[];a=this.$el.find(c.headerSelector);e=a.length;for(d=0;d<e;d++){var f=b(a[d]),l=f.nextAll(c.itemSelector);l=0<l.length?this.getItemForEl(b(l[0])):void 0;this.headers.push(new g(f,l))}},initialize:function(){var a=this;this.$el.on("item-moved",
this.selectors.itemSelector,function(b){b.hasMoved&&a._reorder(b)})},_reorder:function(a){var c=this.getItemForEl(b(a.target)),e=this.getItemForEl(a.newPrev),d=!1,f;!e&&(f=this.getHeaderForEl(a.newPrev))&&(d=!0,a=this.getItemIndex(f.getItemRef()),0<a&&(e=this.getItemAt(a-1)));a=this.getItemIndex(c);this.items.splice(a,1);var g=this._getHeaderByItemRef(c);g&&g.setItemRef(this.getItemAt(a));e=e?this.getItemIndex(e)+1:0;this.items.splice(e,0,c);d&&f.setItemRef(c)},getItemCount:function(){return this.items.length},
getItemAt:function(a){return this.items[a]},getItemIndex:function(a){for(var b=0;b<this.items.length;b++)if(a===this.items[b])return b;return-1},getItemForEl:function(b){for(var c=this.items.length,e=0;e<c;e++){var d=this.items[e];if(a.equals(d.getItemEl(),b))return d}},insertItemAt:function(c,e,d){b.isArray(c)||(c=c.toArray());for(var f=c.length-1;0<=f;f--){var g=c[f];g.jquery||(g=b(g));g=new h(g);if(void 0===e||null===e)this.items.push(g),e=this.items.length-1;else{var l=this.items[e];this.items.splice(e,
0,g)}for(var k={item:l,mode:"item"},m=this.headers.length,n=0;n<m;n++){var p=this.headers[n];if(p.getItemRef()===l)if(d){k={item:p,mode:"header"};break}else p.setItemRef(g)}this.$el.trigger(b.Event("change:insertitem",{insertPoint:k,followupItem:l,item:g,pos:e,widget:a.getWidget(this.$el),moreItems:0<f}))}},getHeaderCount:function(){return this.headers.length},getHeaderAt:function(a){return this.headers[a]},getHeaders:function(){var a=[];a.push.apply(a,this.headers);return a},getHeaderForEl:function(b){for(var c=
this.headers.length,e=0;e<c;e++){var d=this.headers[e];if(a.equals(d.getHeaderEl(),b))return d}},_getHeaderByItemRef:function(a){for(var b=0;b<this.headers.length;b++)if(this.headers[b].getItemRef()===a)return this.headers[b]},getItemsForHeader:function(a){a=a.getItemRef();for(var b=this.headers.length,c=this.items.length,e=[],d=!1,f=0;f<c;f++){var g=this.items[f];if(d){for(var h=0;h<b;h++)if(this.headers[h].getItemRef()===g){d=!1;break}if(d)e.push(g);else break}else g===a&&(d=!0,e.push(a))}return e},
fromItemElements:function(a){var c=[];a.each(function(){var a=b(this).data("cardView-item");a&&c.push(a)});return c},reference:function(){for(var a=this.items.length,b=0;b<a;b++)this.items[b].reference()},removeAllItemsSilently:function(){for(var a=this.items.length=0;a<this.headers.length;a++)this.headers[a].setItemRef(void 0)}}),l=new Class({$el:null,selectors:null,construct:function(a,b){this.$el=a;this.selectors=b},initialize:function(){var a=this;this.$el.on("change:displayMode",function(b){var c=
b.value;a.cleanupAfterDisplayMode(b.oldValue);a.prepareDisplayMode(c)});this.$el.on("change:insertitem",function(b){a._onItemInserted(b)});this.$el.reflow({small:function(a,b){return a.width()>40*b.rem()&&a.width()<50*b.rem()},xsmall:function(a,b){return a.width()>30*b.rem()&&a.width()<40*b.rem()},xxsmall:function(a,b){return a.width()<30*b.rem()}})},_onItemInserted:function(b){var c=this.$el;this.selectors.dataContainer&&(c=c.find("."+this.selectors.dataContainer));var e=b.item.getItemEl(),d=b.followupItem;
switch(this.getDisplayMode()){case "list":d?(b=b.insertPoint,c=b.item,("item"===b.mode?c.getItemEl():c.getHeaderEl()).before(e)):c.append(e);break;case "grid":b.moreItems||(e=a.getWidget(this.$el),e._restore(),e.layout())}},getDisplayMode:function(){return a.getWidget(this.$el).getDisplayMode()},setSelectionState:function(a,b){var c=this.getDisplayMode(),e=this.selectors.view.selectedItem[c],d=a.getItemEl();e.selector&&(d=d.find(e.selector));"selected"===b?(d.addClass(e.cls).prev().addClass(e.prv),
"grid"===c&&this._drawSelectedGrid(a)):"unselected"===b&&d.removeClass(e.cls).prev().removeClass(e.prv)},getSelectionState:function(a){var b=this.selectors.view.selectedItem[this.getDisplayMode()];a=a.getItemEl();b.selector&&(a=a.find(b.selector));b=b.cls.split(" ");for(var c=0;c<b.length;c++)if(!a.hasClass(b[c]))return"unselected";return"selected"},getSelectedItems:function(){var a=this.selectors.view.selectedItems[this.getDisplayMode()],b=this.$el.find(a.selector);a.resolver&&(b=a.resolver(b));
return b},restore:function(a,c){var e=b("\x3cdiv class\x3d'"+this.selectors.dataContainer+"'\x3e");this.$el.empty();this.$el.append(e);for(var d=a.getItemCount(),f=0;f<d;f++)e.append(a.getItemAt(f).getItemEl());if(c)for(c=a.getHeaderCount(),d=0;d<c;d++){var g=a.getHeaderAt(d);f=g.getHeaderEl();(g=g.getItemRef())?g.getItemEl().before(f):e.append(f)}},prepareDisplayMode:function(a){"grid"===a&&this._drawAllSelectedGrid()},cleanupAfterDisplayMode:function(a){},_drawImage:function(c,e){if(0!==c.length){if(void 0===
this._colorFloat){e=c.closest("a, .card",e[0]).css("background-color");if(!e||0>e.indexOf("rgb("))return;this._colorFloat=b.map(e.match(/(\d+)/g),function(a){return a/255})}a.multiplyImages(c,this._colorFloat)}},_drawAllSelectedGrid:function(){if(this.selectors.enableImageMultiply){var a=this;b(this.selectors.view.selectedItems.grid.selector).each(function(){var c=b(this),e=c.find("img");a._drawImage(e,c);e.load(function(){a._drawImage(b(this),c)})})}},_drawSelectedGrid:function(a){if(this.selectors.enableImageMultiply){var c=
this,e=a.getItemEl();a=e.find("img");this._drawImage(a,e);a.load(function(){c._drawImage(b(this),e)})}},removeAllItemsSilently:function(){this.$el.find(this.selectors.itemSelector).remove()}}),n=new Class({$el:null,selectors:null,comparators:null,selectionModeCount:null,construct:function(a,b,c){this.$el=a;this.selectors=b;this.comparators=c;this.selectionModeCount="multiple"},initialize:function(){this.setDisplayMode(this.$el.hasClass("list")?"list":"grid");var c=this;this.$el.on("click.cardview.select",
this.selectors.controller.selectElement.list,function(b){var e=a.getWidget(c.$el);if("list"===e.getDisplayMode()){var f=d(c.getItemElFromEvent(b));e.toggleSelection(f)&&(b.stopPropagation(),b.preventDefault())}});this.$el.on("click.cardview.select",this.selectors.controller.selectElement.grid,function(b){var e=a.getWidget(c.$el);if("grid"===e.getDisplayMode()&&e.isGridSelectionMode()){var f=d(c.getItemElFromEvent(b));e.toggleSelection(f)&&(b.stopPropagation(),b.preventDefault())}});this.$el.on("click.cardview.selectall",
this.selectors.controller.selectAll.selector,function(e){var d=a.getWidget(c.$el);if("list"===d.getDisplayMode()){var f=c.selectors.controller.selectAll.cls;e=c.selectors.controller.targetToItem.header(b(e.target));var g=d.getModel().getHeaderForEl(e);e.hasClass(f)?d.deselectAll(g):d.selectAll(g)}});this.$el.on("click.cardview.sort",this.selectors.headerSelector+" "+this.selectors.controller.sort.columnSelector,function(e){var d=a.getWidget(c.$el).getModel(),f=b.Event("sortstart");b(e.target).trigger(f);
f.isDefaultPrevented()||((new k({model:d,columnElement:b(e.target),comparators:c.comparators,selectors:c.selectors})).sort(),f=b.Event("sortend"),b(e.target).trigger(f))});this.$el.on("selectstart.cardview",this.selectors.headerSelector+" "+this.selectors.controller.sort.columnSelector,function(a){a.preventDefault()});this.$el.on("touchstart.cardview.reorder mousedown.cardview.reorder",this.selectors.controller.moveHandleElement.list,function(a){var e=c.getItemElFromEvent(a);(new f({$listEl:c.$el,
$itemEl:e,$items:b(c.selectors.itemSelector),dragCls:"dragging",autoScrolling:!0})).start(a)});this.$el.on("change:selection",function(a){a.moreSelectionChanges||c._adjustSelectAllState(a.widget)});this.$el.on("change:insertitem",function(a){a.moreItems||c._adjustSelectAllState(a.widget)})},_adjustSelectAllState:function(a){var b=this.selectors.controller.selectAll.cls;a=a.getHeaderSelectionState().headers;for(var c=a.length,e=0;e<c;e++){var d=a[e],f=d.header.getHeaderEl();d.hasUnselected?f.removeClass(b):
f.addClass(b)}},getItemElFromEvent:function(a){a=b(a.target);var c=this.selectors.controller.targetToItem[this.getDisplayMode()];return b.isFunction(c)?c(a):a.find(c)},isGridSelect:function(){var a=this.selectors.controller.gridSelect,b=this.$el;a.selector&&(b=b.find(a.selector));return b.hasClass(a.cls)},setGridSelect:function(c){if(this.isGridSelect()!==c){var e=this.selectors.controller.gridSelect,d=this.$el;e.selector&&(d=d.find(e.selector));c?d.addClass(e.cls):(d.removeClass(e.cls),a.getWidget(d).clearSelection());
this.$el.trigger(b.Event("change:gridSelect",{widget:this.$el.data("cardView"),oldValue:!c,value:c}))}},getDisplayMode:function(){return this.$el.hasClass("list")?"list":this.$el.hasClass("grid")?"grid":null},isColumnSorted:function(){return"list"==this.getDisplayMode()&&0<this.$el.find(this.selectors.headerSelector).filter(".sort-mode").length},setDisplayMode:function(c){var e=this.getDisplayMode();if(e!==c){var d=a.getWidget(this.$el);d._restore("list"===c);switch(c){case "grid":this.$el.removeClass("list");
this.$el.addClass("grid");if(null!==e){var f=d.getSelection();this.setGridSelect(0<f.length);d.layout()}break;case "list":this.$el.cuigridlayout("destroy"),this.$el.removeClass("grid"),this.$el.addClass("list")}this.$el.trigger(b.Event("change:displayMode",{widget:this.$el.data("cardView"),oldValue:e,value:c}))}},getSelectionModeCount:function(){return this.selectionModeCount},setSelectionModeCount:function(a){this.selectionModeCount=a}}),p=new Class({$el:null,selectors:null,comparators:null,model:null,
view:null,controller:null,construct:function(a,b){this.selectors=a;this.comparators=b},initialize:function(a){this.$el=a;this.setModel(new m(a,this.selectors));this.setView(new l(a,this.selectors));this.setController(new n(a,this.selectors,this.comparators));this.model.initialize();this.view.initialize();this.controller.initialize()},setModel:function(a){this.model=a},getModel:function(){return this.model},setView:function(a){this.view=a},getView:function(){return this.view},setController:function(a){this.controller=
a},getController:function(){return this.controller},isSelected:function(a){return"selected"===this.view.getSelectionState(a)},setSelected:function(a,b){this.view.setSelectionState(a,b?"selected":"unselected")},getSelection:function(a){var b=this.view.getSelectedItems();!0===a&&(b=this.model.fromItemElements(b));return b},getDisplayMode:function(){return this.controller.getDisplayMode()},isColumnSorted:function(){return this.controller.isColumnSorted()},setDisplayMode:function(a){this.controller.setDisplayMode(a)},
isGridSelectionMode:function(){return this.controller.isGridSelect()},setGridSelectionMode:function(a){this.controller.setGridSelect(a)},getSelectionModeCount:function(){return this.controller.getSelectionModeCount()},setSelectionModeCount:function(a){this.controller.setSelectionModeCount(a)},_restore:function(a){this.view.restore(this.model,a);this.model.reference()},removeAllItems:function(){a.getWidget(this.$el).clearSelection();this.model.removeAllItemsSilently();this.view.removeAllItemsSilently()}});
CUI.CardView=new Class({toString:"CardView",extend:CUI.Widget,adapter:null,construct:function(b){var e=a.mixObjects(b.selectorConfig,c);this.adapter=new p(e,b.comparators||null);this.adapter.initialize(this.$element);this.layout(b.gridSettings)},destroy:function(){this.$element.off();this.$element.removeData("cardView");this.$element.data("cuigridlayout")&&this.$element.data("cuigridlayout").destroy();this.adapter=null;delete this.$element},getModel:function(){return this.adapter.getModel()},setModel:function(a){this.adapter.setModel(a)},
isSelected:function(a){return this.adapter.isSelected(a)},getDisplayMode:function(){return this.adapter.getDisplayMode()},isColumnSorted:function(){return this.adapter.isColumnSorted()},setColumnSortable:function(a){},isColumnSortable:function(){},setDisplayMode:function(a){this.adapter.setDisplayMode(a)},isGridSelectionMode:function(){return this.adapter.isGridSelectionMode()},setGridSelectionMode:function(a){this.adapter.setGridSelectionMode(a)},toggleGridSelectionMode:function(){this.setGridSelectionMode(!this.isGridSelectionMode())},
getSelectionModeCount:function(){return this.adapter.getSelectionModeCount()},setSelectionModeCount:function(a){this.adapter.setSelectionModeCount(a)},select:function(a,c){a=d(a);this.adapter.isSelected(a)||("single"===this.getSelectionModeCount()&&0<this.getSelection().length&&this.clearSelection(),this.adapter.setSelected(a,!0),this.$element.trigger(b.Event("change:selection",{widget:this,item:a,isSelected:!0,moreSelectionChanges:!0===c})))},deselect:function(a,c){a=d(a);this.adapter.isSelected(a)&&
(this.adapter.setSelected(a,!1),this.$element.trigger(b.Event("change:selection",{widget:this,item:a,isSelected:!1,moreSelectionChanges:c})))},toggleSelection:function(a,c){a=d(a);var e=b.Event("beforeselect",{selectionCancelled:!1,stopEvent:!1,item:a,cancelSelection:function(a){this.selectionCancelled=!0;this.stopEvent=!0===a}});this.$element.trigger(e);if(e.selectionCancelled)return e.stopEvent;e=this.isSelected(a);!e&&"single"===this.getSelectionModeCount()&&0<this.getSelection().length&&this.clearSelection();
this.adapter.setSelected(a,!e);this.$element.trigger(b.Event("change:selection",{widget:this,item:a,isSelected:!e,moreSelectionChanges:c}));return!0},getSelection:function(a){return this.adapter.getSelection(!0===a)},clearSelection:function(){for(var a=this.getSelection(!0),b=a.length,c=b-1,e=0;e<b;e++)this.deselect(a[e],e<c)},_headerSel:function(a,c,e){var d=this.adapter.getModel();null==a&&(a=d.getHeaders());b.isArray(a)||(a=[a]);for(var f=a.length,g=0;g<f;g++){var h=a[g];h.jquery&&(h=d.getHeaderForEl(h));
h=d.getItemsForHeader(h);for(var l=h.length,k=0;k<l;k++)c.call(this,h[k],!e(k,h))}},selectAll:function(a){if("multiple"===this.getSelectionModeCount()){var b=this;this._headerSel(a,this.select,function(a,c){for(++a;a<c.length;a++)if(!b.isSelected(c[a]))return!1;return!0})}},deselectAll:function(a){var b=this;this._headerSel(a,this.deselect,function(a,c){for(++a;a<c.length;a++)if(b.isSelected(c[a]))return!1;return!0})},getHeaderSelectionState:function(){for(var a=this.getModel(),b=null,c={selected:[],
hasUnselected:!1,headers:[]},e=a.getHeaderCount(),d=a.getItemCount(),f=0;f<d;f++){for(var g=a.getItemAt(f),h=0;h<e;h++){var l=a.getHeaderAt(h);if(l.getItemRef()===g){b={header:l,selected:[],hasUnselected:!1};c.headers.push(b);break}}this.isSelected(g)?null!==b?b.selected.push(g):c.selected.push(g):null!==b?b.hasUnselected=!0:c.hasUnselected=!0}return c},layout:function(a){"grid"===this.getDisplayMode()&&(this.$element.data("cuigridlayout")&&this.$element.cuigridlayout("destroy"),this.$element.cuigridlayout(a))},
relayout:function(){"grid"===this.getDisplayMode()&&this.$element.cuigridlayout("layout")},_restore:function(a){this.adapter._restore(a)},append:function(a){this.adapter.getModel().insertItemAt(a,null,!1)},prepend:function(a){this.adapter.getModel().insertItemAt(a,0,!1)},removeAllItems:function(){this.adapter.removeAllItems();"grid"===this.getDisplayMode()&&this.relayout();this.$element.trigger(b.Event("change:removeAll",{widget:this}))}});CUI.CardView.DefaultComparator=new Class({construct:function(a,
b,c,e){this.selector=a;this.attribute=b;this.ignoreCase=e;this.isNumeric="numeric"==c;this.reverseMultiplier=1},setReverse:function(a){this.reverseMultiplier=a?-1:1},compare:function(a,b){a=a.getItemEl();b=b.getItemEl();a=this.selector?a.find(this.selector):a;b=this.selector?b.find(this.selector):b;this.attribute?"data-"==this.attribute.substr(0,5)?(a=a.data(this.attribute.substr(5)),b=b.data(this.attribute.substr(5))):(a=a.attr(this.attribute),b=b.attr(this.attribute)):(a=this.ignoreCase?a.text().toLowerCase():
a.text(),b=this.ignoreCase?b.text().toLowerCase():b.text());this.isNumeric&&(a*=1,b*=1,isNaN(a)&&(a=0),isNaN(b)&&(b=0));return a>b?1*this.reverseMultiplier:a<b?-1*this.reverseMultiplier:0},getCompareFn:function(){return this.compare.bind(this)}});CUI.CardView.DISPLAY_GRID="grid";CUI.CardView.DISPLAY_LIST="list";CUI.CardView.SELECTION_MODE_COUNT_SINGLE="single";CUI.CardView.SELECTION_MODE_COUNT_MULTI="multiple";CUI.CardView.get=function(b){var c=a.getWidget(b);c||(c=a.getWidget(b.cardView()));return c};
CUI.Widget.registry.register("cardview",CUI.CardView);CUI.options.dataAPI&&b(function(){for(var a=b("body").find('[data-toggle\x3d"cardview"]'),c=0;c<a.length;c++){var e=b(a[c]);e.data("cardview")||CUI.CardView.init(e)}})})(window.jQuery);window.CUI=window.CUI||{};CUI.imageeditor=CUI.imageeditor||{};CUI.imageeditor.actions={};CUI.imageeditor.plugins={};CUI.imageeditor.ui={};CUI.imageeditor.strings={};
CUI.imageeditor.strings["de-DE"]={"control.toolbar.close":"Abbrechen","control.toolbar.finish":"Beenden","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Freihand","crop.aspect_ratios.square":"Quadrat","crop.template.removecrop":"Beschnitt entfernen","crop.toolbar.confirm":"Best\u00e4tigen","crop.toolbar.identifier":"Zuschneiden","crop.toolbar.launch":"Beschnitt beginnen","crop.toolbar.launchwithratio":"Beschnitt beginnen",
"crop.toolbar.unlaunch":"Abbrechen","flip.toolbar.horizontal":"Horizontal spiegeln","flip.toolbar.vertical":"Vertikal spiegeln","fullscreen.toolbar.fullscreen":"In die Vollbildansicht wechseln","fullscreen.toolbar.fullscreenexit":"Vollbildansicht verlassen","history.toolbar.redo":"Wiederherstellen","history.toolbar.undo":"R\u00fcckg\u00e4ngig","map.template.alt_text":"Alt-Text","map.template.confirm":"Best\u00e4tigen","map.template.delete":"L\u00f6schen","map.template.new_tab":"Neuer Tab","map.template.parent_frame":"Parent-Frame",
"map.template.path":"Pfad","map.template.path_picker":"Pfad-Picker","map.template.same_tab":"Selber Tab","map.template.target":"Ziel","map.template.top_frame":"Top-Frame","map.template.unlaunch":"Abbrechen","map.toolbar.circle":"Kreisf\u00f6rmige Karte hinzuf\u00fcgen","map.toolbar.confirm":"Best\u00e4tigen","map.toolbar.launch":"Karte starten","map.toolbar.polygon":"Polygonkarte hinzuf\u00fcgen","map.toolbar.rectangle":"Rechteckige Karte hinzuf\u00fcgen","map.toolbar.unlaunch":"Abbrechen","rotate.toolbar.left":"Nach links drehen",
"rotate.toolbar.right":"Nach rechts drehen","zoom.toolbar.popupslider":"Zoom-Schieberegler \u00f6ffnen","zoom.toolbar.reset100":"Zoom zur\u00fccksetzen"};
CUI.imageeditor.strings["en-US"]={"control.toolbar.close":"Cancel","control.toolbar.finish":"Finish","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Free Hand","crop.aspect_ratios.square":"Square","crop.template.removecrop":"Remove Crop","crop.toolbar.confirm":"Confirm","crop.toolbar.identifier":"Crop","crop.toolbar.launch":"Start Crop","crop.toolbar.launchwithratio":"Start Crop","crop.toolbar.unlaunch":"Cancel",
"flip.toolbar.horizontal":"Flip Horizontally","flip.toolbar.vertical":"Flip Vertically","fullscreen.toolbar.fullscreen":"Enter Fullscreen","fullscreen.toolbar.fullscreenexit":"Exit Fullscreen","history.toolbar.redo":"Redo","history.toolbar.undo":"Undo","map.template.alt_text":"Alt Text","map.template.confirm":"Confirm","map.template.delete":"Delete","map.template.new_tab":"New Tab","map.template.parent_frame":"Parent Frame","map.template.path":"Path","map.template.path_picker":"Path Picker","map.template.same_tab":"Same Tab",
"map.template.target":"Target","map.template.top_frame":"Top Frame","map.template.unlaunch":"Cancel","map.toolbar.circle":"Add Circular Map","map.toolbar.confirm":"Confirm","map.toolbar.launch":"Launch Map","map.toolbar.polygon":"Add Polygon Map","map.toolbar.rectangle":"Add Rectangular Map","map.toolbar.unlaunch":"Cancel","rotate.toolbar.left":"Rotate Left","rotate.toolbar.right":"Rotate Right","zoom.toolbar.popupslider":"Open Zoom Slider","zoom.toolbar.reset100":"Reset Zoom"};
CUI.imageeditor.strings["es-ES"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Manos libres","crop.aspect_ratios.square":"cuadrado","crop.template.removecrop":"Eliminar corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"Cortar","crop.toolbar.launch":"Empezar a cortar","crop.toolbar.launchwithratio":"Empezar a cortar",
"crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Girar horizontalmente","flip.toolbar.vertical":"Girar verticalmente","fullscreen.toolbar.fullscreen":"Ir a pantalla completa","fullscreen.toolbar.fullscreenexit":"Salir de la pantalla completa","history.toolbar.redo":"Rehacer","history.toolbar.undo":"Deshacer","map.template.alt_text":"Texto alternativo","map.template.confirm":"Confirmar","map.template.delete":"Eliminar","map.template.new_tab":"Nueva pesta\u00f1a","map.template.parent_frame":"Marco superior",
"map.template.path":"Ruta","map.template.path_picker":"Seleccionador de ruta","map.template.same_tab":"Misma pesta\u00f1a","map.template.target":"Meta","map.template.top_frame":"Parte superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"A\u00f1adir mapa circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"Iniciar mapa","map.toolbar.polygon":"A\u00f1adir mapa poligonal","map.toolbar.rectangle":"A\u00f1adir mapa rectangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar a la izquierda",
"rotate.toolbar.right":"Girar a la derecha","zoom.toolbar.popupslider":"Abrir zoom deslizante","zoom.toolbar.reset100":"Restablecer zoom"};
CUI.imageeditor.strings["fr-FR"]={"control.toolbar.close":"Annuler","control.toolbar.finish":"Terminer","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Main libre","crop.aspect_ratios.square":"Carr\u00e9","crop.template.removecrop":"Annuler le recadrage","crop.toolbar.confirm":"Confirmer","crop.toolbar.identifier":"Recadrer","crop.toolbar.launch":"Commencer le recadrage","crop.toolbar.launchwithratio":"Commencer le recadrage",
"crop.toolbar.unlaunch":"Annuler","flip.toolbar.horizontal":"Inverser horizontalement","flip.toolbar.vertical":"Inverser verticalement","fullscreen.toolbar.fullscreen":"Passer au mode plein \u00e9cran","fullscreen.toolbar.fullscreenexit":"Quitter le mode plein \u00e9cran","history.toolbar.redo":"Refaire","history.toolbar.undo":"Annuler","map.template.alt_text":"Texte alternatif","map.template.confirm":"Confirmer","map.template.delete":"Supprimer","map.template.new_tab":"Nouvel onglet","map.template.parent_frame":"Cadre parent",
"map.template.path":"Chemin","map.template.path_picker":"S\u00e9lecteur de chemin","map.template.same_tab":"M\u00eame onglet","map.template.target":"Cible","map.template.top_frame":"Cadre sup\u00e9rieur","map.template.unlaunch":"Annuler","map.toolbar.circle":"Ajouter une carte circulaire","map.toolbar.confirm":"Confirmer","map.toolbar.launch":"Lancer la carte","map.toolbar.polygon":"Ajouter une carte polygonale","map.toolbar.rectangle":"Ajouter une carte rectangulaire","map.toolbar.unlaunch":"Annuler",
"rotate.toolbar.left":"Faire pivoter vers la gauche","rotate.toolbar.right":"Faire pivoter vers la droite","zoom.toolbar.popupslider":"Ouvrir le curseur du zoom","zoom.toolbar.reset100":"R\u00e9initialiser le zoom"};
CUI.imageeditor.strings["it-IT"]={"control.toolbar.close":"Annulla","control.toolbar.finish":"Termina","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"Mano Libera","crop.aspect_ratios.square":"Quadrato","crop.template.removecrop":"Rimuovi Ritaglio","crop.toolbar.confirm":"Conferma","crop.toolbar.identifier":"Ritaglia","crop.toolbar.launch":"Avvia Ritaglio","crop.toolbar.launchwithratio":"Avvia Ritaglio",
"crop.toolbar.unlaunch":"Annulla","flip.toolbar.horizontal":"Inverti Orizzontalmente","flip.toolbar.vertical":"Inverti Verticalmente","fullscreen.toolbar.fullscreen":"Attiva Modalit\u00e0 Schermo Intero","fullscreen.toolbar.fullscreenexit":"Disattiva Modalit\u00e0 Schermo Intero","history.toolbar.redo":"Ripeti Ultima Operazione","history.toolbar.undo":"Annulla Ultima Operazione","map.template.alt_text":"Testo Alternativo","map.template.confirm":"Conferma","map.template.delete":"Cancella","map.template.new_tab":"Nuova Scheda",
"map.template.parent_frame":"Riquadro Principale","map.template.path":"Percorso","map.template.path_picker":"Selezionatore Del Percorso","map.template.same_tab":"Stessa Scheda","map.template.target":"Obiettivo","map.template.top_frame":"Riquadro Superiore","map.template.unlaunch":"Annulla","map.toolbar.circle":"Aggiungi Mappa Circolare","map.toolbar.confirm":"Conferma","map.toolbar.launch":"Attiva Mappa","map.toolbar.polygon":"Aggiungi Mappa Poligonale","map.toolbar.rectangle":"Aggiungi Mappa Rettangolare",
"map.toolbar.unlaunch":"Annulla","rotate.toolbar.left":"Ruota A Sinistra","rotate.toolbar.right":"Ruota A Destra","zoom.toolbar.popupslider":"Apri Controllo Zoom","zoom.toolbar.reset100":"Reimposta Zoom"};
CUI.imageeditor.strings["ja-JP"]={"control.toolbar.close":"\u30ad\u30e3\u30f3\u30bb\u30eb","control.toolbar.finish":"\u7d42\u4e86","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","crop.aspect_ratios.square":"\u56db\u89d2","crop.template.removecrop":"\u5207\u308a\u629c\u304d\u3092\u89e3\u9664","crop.toolbar.confirm":"\u627f\u8a8d","crop.toolbar.identifier":"\u5207\u308a\u629c\u304d",
"crop.toolbar.launch":"\u5207\u308a\u629c\u304d\u3092\u958b\u59cb","crop.toolbar.launchwithratio":"\u5207\u308a\u629c\u304d\u3092\u958b\u59cb","crop.toolbar.unlaunch":"\u30ad\u30e3\u30f3\u30bb\u30eb","flip.toolbar.horizontal":"\u5de6\u53f3\u53cd\u8ee2","flip.toolbar.vertical":"\u4e0a\u4e0b\u53cd\u8ee2","fullscreen.toolbar.fullscreen":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u3067\u8868\u793a","fullscreen.toolbar.fullscreenexit":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u3092\u89e3\u9664","history.toolbar.redo":"\u3084\u308a\u76f4\u3059",
"history.toolbar.undo":"\u5143\u306b\u623b\u3059","map.template.alt_text":"\u4ee3\u66ff\u30c6\u30ad\u30b9\u30c8","map.template.confirm":"\u627f\u8a8d","map.template.delete":"\u524a\u9664","map.template.new_tab":"\u65b0\u3057\u3044\u30bf\u30d6","map.template.parent_frame":"\u89aa\u30d5\u30ec\u30fc\u30e0","map.template.path":"\u30d1\u30b9","map.template.path_picker":"\u30d1\u30b9\u30d4\u30c3\u30ab\u30fc","map.template.same_tab":"\u540c\u3058\u30bf\u30d6","map.template.target":"\u30bf\u30fc\u30b2\u30c3\u30c8",
"map.template.top_frame":"\u30c8\u30c3\u30d7\u30d5\u30ec\u30fc\u30e0","map.template.unlaunch":"\u30ad\u30e3\u30f3\u30bb\u30eb","map.toolbar.circle":"\u74b0\u72b6\u30de\u30c3\u30d7\u3092\u8ffd\u52a0","map.toolbar.confirm":"\u627f\u8a8d","map.toolbar.launch":"\u30de\u30c3\u30d7\u3092\u8868\u793a","map.toolbar.polygon":"\u30dd\u30ea\u30b4\u30f3\u30de\u30c3\u30d7\u3092\u8ffd\u52a0","map.toolbar.rectangle":"\u77e9\u5f62\u30de\u30c3\u30d7\u3092\u8ffd\u52a0","map.toolbar.unlaunch":"\u30ad\u30e3\u30f3\u30bb\u30eb",
"rotate.toolbar.left":"\u5de6\u306b\u56de\u8ee2","rotate.toolbar.right":"\u53f3\u306b\u56de\u8ee2","zoom.toolbar.popupslider":"\u30ba\u30fc\u30e0\u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u958b\u304f","zoom.toolbar.reset100":"\u30ba\u30fc\u30e0\u3092\u30ea\u30bb\u30c3\u30c8"};
CUI.imageeditor.strings["ko-KR"]={"control.toolbar.close":"\ucde8\uc18c","control.toolbar.finish":"\ub9c8\uce58\uae30","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"\ud504\ub9ac \ud578\ub4dc","crop.aspect_ratios.square":"\uc815\uc0ac\uac01\ud615","crop.template.removecrop":"\uc790\ub974\uae30 \uc81c\uac70","crop.toolbar.confirm":"\ud655\uc778","crop.toolbar.identifier":"\uc790\ub974\uae30","crop.toolbar.launch":"\uc790\ub974\uae30 \uc2dc\uc791",
"crop.toolbar.launchwithratio":"\uc790\ub974\uae30 \uc2dc\uc791","crop.toolbar.unlaunch":"\ucde8\uc18c","flip.toolbar.horizontal":"\uc0c1\ud558 \ubc18\uc804","flip.toolbar.vertical":"\uc88c\uc6b0 \ubc18\uc804","fullscreen.toolbar.fullscreen":"\uc804\uccb4\ud654\uba74 \ub4e4\uc5b4\uac00\uae30","fullscreen.toolbar.fullscreenexit":"\uc804\uccb4\ud654\uba74 \ub098\uac00\uae30","history.toolbar.redo":"\ub2e4\uc2dc \uc2e4\ud589","history.toolbar.undo":"\uc2e4\ud589 \ucde8\uc18c","map.template.alt_text":"\ub300\uccb4 \ud14d\uc2a4\ud2b8",
"map.template.confirm":"\ud655\uc778","map.template.delete":"\uc0ad\uc81c","map.template.new_tab":"\uc0c8 \ud0ed","map.template.parent_frame":"\ubd80\ubaa8 \ud504\ub808\uc784","map.template.path":"\uacbd\ub85c","map.template.path_picker":"\uacbd\ub85c \uc120\ud0dd\uae30","map.template.same_tab":"\uac19\uc740 \ud0ed","map.template.target":"\ub300\uc0c1","map.template.top_frame":"\uc0c1\uc704 \ud504\ub808\uc784","map.template.unlaunch":"\ucde8\uc18c","map.toolbar.circle":"\uc21c\ud658\ud615 \uc9c0\ub3c4 \ucd94\uac00",
"map.toolbar.confirm":"\ud655\uc778","map.toolbar.launch":"\uc9c0\ub3c4 \uc2e4\ud589","map.toolbar.polygon":"\ub2e4\uac01\ud615 \uc9c0\ub3c4 \ucd94\uac00","map.toolbar.rectangle":"\uc0ac\uac01\ud615 \uc9c0\ub3c4 \ucd94\uac00","map.toolbar.unlaunch":"\ucde8\uc18c","rotate.toolbar.left":"\uc67c\ucabd\uc73c\ub85c \ud68c\uc804","rotate.toolbar.right":"\uc624\ub978\ucabd\uc73c\ub85c \ud68c\uc804","zoom.toolbar.popupslider":"\uc90c \uc2ac\ub77c\uc774\ub354 \uc5f4\uae30","zoom.toolbar.reset100":"\uc90c \uc7ac\uc124\uc815"};
CUI.imageeditor.strings["pt-BR"]={"control.toolbar.close":"Cancelar","control.toolbar.finish":"Terminar","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"M\u00e3o Livre","crop.aspect_ratios.square":"Quadrado","crop.template.removecrop":"Remover Corte","crop.toolbar.confirm":"Confirmar","crop.toolbar.identifier":"Corte\u00cf","crop.toolbar.launch":"Come\u00e7ar Corte","crop.toolbar.launchwithratio":"Come\u00e7ar Corte",
"crop.toolbar.unlaunch":"Cancelar","flip.toolbar.horizontal":"Giro Horizontal","flip.toolbar.vertical":"Giro Vertical","fullscreen.toolbar.fullscreen":"Inserir Tela inteira","fullscreen.toolbar.fullscreenexit":"Sair de Tela inteira","history.toolbar.redo":"Refazer","history.toolbar.undo":"Desfazer","map.template.alt_text":"Texto Alternativo","map.template.confirm":"Confirmar","map.template.delete":"Deletar","map.template.new_tab":"Nova Tabela","map.template.parent_frame":"Quadro Principal","map.template.path":"Caminho",
"map.template.path_picker":"Coletor de Caminho","map.template.same_tab":"Mesma Tabela","map.template.target":"Alvo","map.template.top_frame":"Quadro Superior","map.template.unlaunch":"Cancelar","map.toolbar.circle":"Adicionar Mapa Circular","map.toolbar.confirm":"Confirmar","map.toolbar.launch":"Lan\u00e7ar Mapa","map.toolbar.polygon":"Adicionar Mapa Pol\u00edgono","map.toolbar.rectangle":"Adicionar Mapa Retangular","map.toolbar.unlaunch":"Cancelar","rotate.toolbar.left":"Girar \u00e0 Esquerda","rotate.toolbar.right":"Girar \u00e0 Direita",
"zoom.toolbar.popupslider":"Abrir Zoom Deslizante","zoom.toolbar.reset100":"Restabelecer Zoom"};
CUI.imageeditor.strings["zh-CN"]={"control.toolbar.close":"\u53d6\u6d88","control.toolbar.finish":"\u5b8c\u6210","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"\u5f92\u624b","crop.aspect_ratios.square":"\u65b9\u5f62","crop.template.removecrop":"\u53bb\u9664\u88c1\u526a","crop.toolbar.confirm":"\u786e\u8ba4","crop.toolbar.identifier":"\u88c1\u526a","crop.toolbar.launch":"\u5f00\u59cb\u88c1\u526a","crop.toolbar.launchwithratio":"\u5f00\u59cb\u88c1\u526a",
"crop.toolbar.unlaunch":"\u53d6\u6d88","flip.toolbar.horizontal":"\u6c34\u5e73\u7ffb\u8f6c","flip.toolbar.vertical":"\u5782\u76f4\u7ffb\u8f6c","fullscreen.toolbar.fullscreen":"\u8fdb\u5165\u5168\u5c4f","fullscreen.toolbar.fullscreenexit":"\u9000\u51fa\u5168\u5c4f","history.toolbar.redo":"\u91cd\u505a","history.toolbar.undo":"\u64a4\u9500","map.template.alt_text":"Alt \u6587\u5b57","map.template.confirm":"\u786e\u8ba4","map.template.delete":"\u5220\u9664","map.template.new_tab":"\u65b0\u9009\u9879\u5361",
"map.template.parent_frame":"\u7236\u6846\u67b6","map.template.path":"\u8def\u5f84","map.template.path_picker":"\u8def\u5f84\u9009\u62e9\u5668","map.template.same_tab":"\u540c\u4e00\u9009\u9879\u5361","map.template.target":"\u76ee\u6807","map.template.top_frame":"\u9876\u5c42\u6846\u67b6","map.template.unlaunch":"\u53d6\u6d88","map.toolbar.circle":"\u6dfb\u52a0\u5706\u5f62\u5730\u56fe","map.toolbar.confirm":"\u786e\u8ba4","map.toolbar.launch":"\u542f\u52a8\u5730\u56fe","map.toolbar.polygon":"\u6dfb\u52a0\u591a\u8fb9\u5f62\u5730\u56fe",
"map.toolbar.rectangle":"\u6dfb\u52a0\u77e9\u5f62\u5730\u56fe","map.toolbar.unlaunch":"\u53d6\u6d88","rotate.toolbar.left":"\u5411\u5de6\u65cb\u8f6c","rotate.toolbar.right":"\u5411\u53f3\u65cb\u8f6c","zoom.toolbar.popupslider":"\u6253\u5f00\u7f29\u653e\u6ed1\u5757","zoom.toolbar.reset100":"\u91cd\u7f6e\u7f29\u653e"};
CUI.imageeditor.strings["zh-TW"]={"control.toolbar.close":"\u53d6\u6d88","control.toolbar.finish":"\u5b8c\u6210","crop.aspect_ratios.16_to_9":"16 : 9","crop.aspect_ratios.2_to_3":"2 : 3","crop.aspect_ratios.3_to_5":"3 : 5","crop.aspect_ratios.free_hand":"\u5f92\u624b\u7e6a\u5716","crop.aspect_ratios.square":"\u6b63\u65b9\u578b","crop.template.removecrop":"\u79fb\u9664\u88c1\u5207","crop.toolbar.confirm":"\u78ba\u8a8d","crop.toolbar.identifier":"\u88c1\u5207","crop.toolbar.launch":"\u958b\u59cb\u88c1\u5207",
"crop.toolbar.launchwithratio":"\u958b\u59cb\u88c1\u5207","crop.toolbar.unlaunch":"\u53d6\u6d88","flip.toolbar.horizontal":"\u6c34\u5e73\u7ffb\u8f49","flip.toolbar.vertical":"\u5782\u76f4\u7ffb\u8f49","fullscreen.toolbar.fullscreen":"\u9032\u5165\u5168\u87a2\u5e55\u6a21\u5f0f","fullscreen.toolbar.fullscreenexit":"\u96e2\u958b\u5168\u87a2\u5e55\u6a21\u5f0f","history.toolbar.redo":"\u53d6\u6d88\u5fa9\u539f","history.toolbar.undo":"\u5fa9\u539f","map.template.alt_text":"\u4fee\u6539\u6587\u5b57","map.template.confirm":"\u78ba\u8a8d",
"map.template.delete":"\u522a\u9664","map.template.new_tab":"\u65b0\u5206\u9801","map.template.parent_frame":"\u6bcd\u6846\u67b6","map.template.path":"\u8def\u5f91","map.template.path_picker":"\u8def\u7dda\u9078\u64c7\u5668","map.template.same_tab":"\u540c\u4e00\u5206\u9801","map.template.target":"\u76ee\u6a19","map.template.top_frame":"\u6700\u4e0a\u5c64\u6846\u67b6","map.template.unlaunch":"\u53d6\u6d88","map.toolbar.circle":"\u65b0\u589e\u5713\u5f62\u5730\u5716","map.toolbar.confirm":"\u78ba\u8a8d",
"map.toolbar.launch":"\u767c\u4f48\u5730\u5716","map.toolbar.polygon":"\u65b0\u589e\u591a\u908a\u5f62\u5730\u5716","map.toolbar.rectangle":"\u65b0\u589e\u77e9\u578b\u5730\u5716","map.toolbar.unlaunch":"\u53d6\u6d88","rotate.toolbar.left":"\u5411\u5de6\u65cb\u8f49","rotate.toolbar.right":"\u5411\u53f3\u65cb\u8f49","zoom.toolbar.popupslider":"\u958b\u555f\u7e2e\u653e\u6ed1\u687f","zoom.toolbar.reset100":"\u91cd\u8a2d\u7e2e\u653e"};
(function(b,c,d){var a={en:"en-US","en-us":"en-US",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",pt:"pt-BR","pt-br":"pt-BR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"};CUI.imageeditor.I18nProvider=new Class({toString:"I18nProvider",construct:function(){var b=a[document.documentElement.lang.toLowerCase()]||document.documentElement.lang||
"en-US";b=/^(..)-?(.*)$/gi.exec(b);b="undefined"!==typeof CUI.imageeditor.strings[b[0]]?b[0]:"undefined"!==typeof CUI.imageeditor.strings[a[b[1]]]?a[b[1]]:"en-US";this.translations=CUI.imageeditor.strings[b]},get:function(a){return this.has(a)?this.translations[a]:a},has:function(a){return this.translations.hasOwnProperty(a)}})})(jQuery,this);
(function(b,c,d){CUI.imageeditor.OptionsUtils={loadOptionsAndStartEditing:function(a,c,d){function e(b){"function"===typeof d&&(b=d(b));a.start(b)}var f={},k=c.data("options");c=c.data("options-path");b.isPlainObject(k)?e(k):c?b.ajax({url:c,success:function(a){f=a},complete:function(){e(f)}}):e(f)}}})(jQuery,this);
(function(b,c,d){var a=function(){};CUI.imageeditor.TemplateProvider=new Class({toString:"TemplateProvider",construct:function(a){this.templates=b.extend({},CUI.imageeditor.Templates,a)},get:function(b){return this.has(b)?this.templates[b]:a},has:function(a){return this.templates.hasOwnProperty(a)}});CUI.imageeditor.TemplateProvider.NOOP=a})(jQuery,this);
(function(b,c,d){CUI.imageeditor.Theme={IMAGEEDITOR_HIDDEN_CLASS:"u-coral-hidden",TOOLBARITEM_DISABLED_CLASS:"is-disabled",TOOLBARITEM_SELECTED_CLASS:"is-selected",TOOLBARITEM_MODECHANGER_CLASS:"modechanger"}})(jQuery,this);
(function(b,c,d){CUI.imageeditor.TransformResult=new Class({toString:"TransformResult",result:null,history:null,future:null,construct:function(){this.result={};this.history=[];this.future=[]},registerTransformField:function(a){if(this.result.hasOwnProperty(a))return!1;this.result[a]=null;return!0},setTransformValue:function(a,b,c){!1!==c&&this.storeHistory();return this.result.hasOwnProperty(a)?(this.result[a]=b,!0):!1},setTransformValues:function(a,c){!1!==c&&this.storeHistory();if(b.isPlainObject(a))for(d in a)a.hasOwnProperty(d)&&
this.setTransformValue(d,a[d],!1);else if(b.isArray(a))for(c=0;c<a.length;c++){var e=b.extend({},a[c]);var d=e.transformation;delete e.transformation;b.isEmptyObject(e)||this.setTransformValue(d,e,!1)}},undo:function(){return this.history.length?(this.storeHistory(),this.future.push(this.history.pop()),this.setTransformValues(this.history.pop(),!1),!0):!1},redo:function(){return this.future.length?(this.storeHistory(),this.setTransformValues(this.future.pop(),!1),!0):!1},getTransformValue:function(a){return this.result.hasOwnProperty(a)?
this.result[a]:d},toJSON:function(){var a=[],c;for(c in this.result)this.result.hasOwnProperty(c)&&b.isPlainObject(this.result[c])&&!b.isEmptyObject(this.result[c])&&a.push(b.extend(!0,{transformation:c},this.result[c]));return a},storeHistory:function(){this.history.push(b.extend(!0,{},this.result))}})})(jQuery,this);
(function(b,c,d){CUI.imageeditor.UIUtils={getUIContainer:function(a){a=b(a);return a.is(".imageeditor-container")?a:a.parents(".imageeditor-container").first()},getToolbars:function(a,b){if(!b)throw Error("ArgumentError - missing toolbar type");a=a.hasClass("imageeditor-container")?a:CUI.imageeditor.UIUtils.getUIContainer(a);return a&&a.length?(b=a.find('div[data-type\x3d"'+b+'"] \x3e div.imageeditor-toolbar'))&&b.length?b:null:null},getToolbarContainer:function(a,b){if(!b)throw Error("ArgumentError - missing toolbar type");
b=a.find('.imageeditor-toolbars [data-type\x3d"'+b+'"]');return b.length?b:a.find(".imageeditor-toolbars")},getItem:function(a,b,c){if(!b)throw Error("ArgumentError - missing toolbar type");return c.find('div[data-type\x3d"'+b+'"] button[data-action\x3d"'+a+'"]')},getClippingParent:function(a){for(var c,d,h,g,k=b(document.body);a[0]!==k[0];){d=a.css("overflow");h=a.css("overflowX");g=a.css("overflowY");if("visible"!==h||"visible"!==g||"visible"!==d){c=a;break}a=a.parent()}return c},elementInIframe:function(a){var c=
b(a).prop("ownerDocument"),d=null;b("iframe").each(function(){this.contentDocument===c&&(d=this)});return d},handleTapOrClick:function(a,b,c){c=c||{};var e="";c.timeout||(c.timeout=300);"undefined"===typeof c.clickIgnoredAfterTouchTimeout&&(c.clickIgnoredAfterTouchTimeout=5E3);"undefined"===typeof c.preventIgnoredClickEventDefault&&(c.preventIgnoredClickEventDefault=!0);"undefined"===typeof c.stopIgnoredClickEventImmediatePropagation&&(c.stopIgnoredClickEventImmediatePropagation=!0);"undefined"===
typeof c.preventTouchendDefault&&(c.preventTouchendDefault=!0);"undefined"!==typeof c.eventNamespace&&c.eventNamespace&&(e=0!==c.eventNamespace.indexOf(".")?"."+c.eventNamespace:c.eventNamespace);var d=null;d={lastTouchstartTime:0,lastTouchTime:0,off:function(){a.off("click"+e,d.clickHandler);a.off("touchend"+e,d.touchendHandler);a.off("touchstart"+e,d.touchstartHandler)}};d.outerHandler=b;d.clickHandler=function(a){var b=(new Date).getTime();c.clickIgnoredAfterTouchTimeout>b-d.lastTouchTime?(c.preventIgnoredClickEventDefault&&
a.preventDefault(),c.stopIgnoredClickEventImmediatePropagation&&a.stopImmediatePropagation()):d.outerHandler.apply(a.currentTarget||{},[a])};d.touchstartHandler=function(a){a=(new Date).getTime();d.lastTouchstartTime=a;d.lastTouchTime=d.lastTouchstartTime};d.touchendHandler=function(a){var b=(new Date).getTime();d.lastTouchTime=b;c.timeout<b-d.lastTouchstartTime||(c.preventTouchendDefault&&a.preventDefault(),d.lastTouchstartTime=0,d.outerHandler.apply(a.currentTarget||{},[a]))};a.on("click"+e,d.clickHandler);
a.on("touchstart"+e,d.touchstartHandler);a.on("touchend"+e,d.touchendHandler);return d},installPinchZooming:function(a,b,c,d){this.togglePinchZooming(!0,a,b,c,d)},togglePinchZooming:function(a,b,c,d,g){c=c||".imageeditorzoom";var e="gesturestart"+c,f="gesturechange"+c,h="gestureend"+c;b.off(c);if(a)b.on(e,function(a){var c=d(),e=0,l=null;a.preventDefault();b.off(f);b.on(f,function(a){var b=a.originalEvent.scale,d=1;a.preventDefault();l&&(clearTimeout(l),d=Math.max(1,100-((new Date).getTime()-e)));
l=setTimeout(function(){e=(new Date).getTime();g(b*c,"change");l=null},d)});b.on(h,function(a){var e=a.originalEvent.scale;a.preventDefault();l&&clearTimeout(l);b.off(f);b.off(h);g(e*c,"end")})})},removePinchZooming:function(a,b){this.togglePinchZooming(!1,a,b)},isHavingClassOrParentHavingClass:function(a,c){if(a){a.hasClass||(a=b(a));if(a.hasClass(c))return!0;if(a.length)return this.isHavingClassOrParentHavingClass(a.parent(),c)}return!1},isHavingModalParent:function(a){return this.isHavingClassOrParentHavingClass(a,
"coral-Modal")},getEventCoordinatesPageRelative:function(a){return a.originalEvent&&a.originalEvent.touches?{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:{x:a.pageX,y:a.pageY}}}})(jQuery,this);
(function(b,c,d){CUI.imageeditor.Utils={defer:function(a,b,d,h){var e=a;d?e=function(){h?a.apply(d,h):a.call(d)}:h&&(e=function(){a.apply(c,h)});return c.setTimeout(e,b)},onPluginCreated:function(a){return a},applyDefaults:function(a,b){var c,e;a=a||{};b=b||{};if("object"===typeof a)for(c in b)b.hasOwnProperty(c)&&((e=b[c])&&"object"===typeof e&&!CUI.imageeditor.Utils.isArray(e)?a[c]=this.applyDefaults(a[c],e):"undefined"===typeof a[c]&&(a[c]=e));return a},isArray:function(a){return b.isArray(a)},
isString:function(a){return b.isString(a)},endsWith:function(a,b){return"undefined"===typeof a||null===a||null===b||"undefined"===typeof b||a.length<b.length?!1:a.substring(a.length-b.length)===b},apply:function(a,c,d){return b.extend(a,c,d)},getPagePosition:function(a){a=b(a).offset();return[a.left,a.top]},getWidth:function(a){return b(a).width()},getHeight:function(a){return b(a).height()},jsonDecode:function(a){return b.parseJSON(a)}}})(jQuery,this);
(function(b,c,d){var a=function(a,b){var c=a;if(b)if("object"===typeof a)c=a[b];else return!1;return"number"===typeof c&&0<c?!0:"string"===typeof c?(a=parseFloat(c),!isNaN(a)&&0<a&&(""+a===c||CUI.imageeditor.Utils.endsWith(c,"px"))):!1};CUI.imageeditor.TranslationUtil=function(a){if("object"!==typeof a)throw Error("Sizes need constructor parameter");this.initRotation(a);this.flip=a.flip||{horizontal:!1,vertical:!1};this.naturalDimensionsBeforeRotation={height:a.naturalHeight,width:a.naturalWidth};
this.naturalDimensions=this.rotateDimsIfNecessary(this.naturalDimensionsBeforeRotation);this.cropOnOriginal=a.cropOnOriginal&&a.cropOnOriginal.width&&a.cropOnOriginal.height?{top:a.cropOnOriginal.top||0,left:a.cropOnOriginal.left||0,height:a.cropOnOriginal.height,width:a.cropOnOriginal.width}:{top:0,left:0,height:this.naturalDimensionsBeforeRotation.height,width:this.naturalDimensionsBeforeRotation.width};this.croppedRotatedDim=this.rotateDimsIfNecessary(this.cropOnOriginal);this.determineScaledDimensions(a)};
CUI.imageeditor.TranslationUtil.prototype.determineScaledDimensions=function(b){var c=1,e=1,d=1,k,m;var l=!1;if(a(b,"fixedWidth")||a(b,"fixedHeight"))l=!0;l&&(c=parseInt(b.fixedWidth,10),e=parseInt(b.fixedHeight,10),isNaN(c)?c=e/=this.croppedRotatedDim.height:isNaN(e)?c=e=c/this.croppedRotatedDim.width:(c/=this.croppedRotatedDim.width,e/=this.croppedRotatedDim.height));if(!l){var n=l=k=m=-1;a(b,"minWidth")&&(m=parseInt(b.minWidth,10));a(b,"minHeight")&&(k=parseInt(b.minHeight,10));a(b,"maxWidth")&&
(l=parseInt(b.maxWidth,10));a(b,"maxHeight")&&(n=parseInt(b.maxHeight,10));var p=null;0<m?p=0<k?m/k<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"height":"width":"width":0<k&&(p="height");var t=null;0<l?t=0<n?l/n<this.croppedRotatedDim.width/this.croppedRotatedDim.height?"width":"height":"width":0<n&&(t="height");p&&("height"===p?k>this.croppedRotatedDim.height&&(m=e,e=k/this.croppedRotatedDim.height,c*=e/m):m>this.croppedRotatedDim.width&&(k=c,c=m/this.croppedRotatedDim.width,e*=c/
k));t&&("height"===t?n<this.croppedRotatedDim.height&&(m=e,e=n/this.croppedRotatedDim.height,c*=e/m):l<this.croppedRotatedDim.width&&(k=c,c=l/this.croppedRotatedDim.width,e*=c/k))}this.displayDimensions={height:Math.round(this.croppedRotatedDim.height*e),width:Math.round(this.croppedRotatedDim.width*c)};this.fromNaturalToDisplayScaleFactors={width:c,height:e};b.zoomFactor&&(d=b.zoomFactor);this.zoomFactor=d;this.zoomedDimensions={height:Math.round(this.displayDimensions.height*d),width:Math.round(this.displayDimensions.width*
d)};this.fromNaturalToZoomedScaleFactors={width:c*d,height:e*d};this.fromDisplayToZoomedScaleFactors={width:d,height:d}};CUI.imageeditor.TranslationUtil.prototype.initRotation=function(a){var b=null;if(a.rotation){var c=parseInt(a.rotation,10);isNaN(c)||(b=c)}a.rotation=b;this.rotatedByNinetyDegrees=!1;this.rotation=0;a.rotation&&(this.rotation=a.rotation,90===Math.abs(a.rotation%180)&&(this.rotatedByNinetyDegrees=!0))};CUI.imageeditor.TranslationUtil.prototype.getDisplayDimensions=function(){return this.displayDimensions};
CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensions=function(){return this.naturalDimensions};CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensions=function(){return this.zoomedDimensions};CUI.imageeditor.TranslationUtil.prototype.getZoomedDimensionsBeforeRotation=function(){var a=this.getFromNaturalToZoomedScaleFactors(!0),b=this.getNaturalDimensionsBeforeRotation();return{height:Math.round(b.height*a.height),width:Math.round(b.width*a.width)}};CUI.imageeditor.TranslationUtil.prototype.getZoomedCropBeforeRotation=
function(){var a=this.getCropOnOriginal(),b=this.getFromNaturalToZoomedScaleFactors(!0);return{top:Math.round(a.top*b.height),left:Math.round(a.left*b.width),height:Math.round(a.height*b.height),width:Math.round(a.width*b.width)}};CUI.imageeditor.TranslationUtil.prototype.getNaturalDimensionsBeforeRotation=function(){return this.naturalDimensionsBeforeRotation};CUI.imageeditor.TranslationUtil.prototype.adaptScaleFactorsToUnrotatedImage=function(a){return this.rotatedByNinetyDegrees?{width:a.height,
height:a.width}:a};CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToDisplayScaleFactors=function(a){return a?this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToDisplayScaleFactors):this.fromNaturalToDisplayScaleFactors};CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToNaturalScaleFactors=function(a){a=this.getFromNaturalToDisplayScaleFactors(a);return{width:1/a.width,height:1/a.height}};CUI.imageeditor.TranslationUtil.prototype.getFromNaturalToZoomedScaleFactors=function(a){return a?
this.adaptScaleFactorsToUnrotatedImage(this.fromNaturalToZoomedScaleFactors):this.fromNaturalToZoomedScaleFactors};CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToNaturalScaleFactors=function(a){a=this.getFromNaturalToZoomedScaleFactors(a);return{width:1/a.width,height:1/a.height}};CUI.imageeditor.TranslationUtil.prototype.getFromDisplayToZoomedScaleFactors=function(){return this.fromDisplayToZoomedScaleFactors};CUI.imageeditor.TranslationUtil.prototype.getFromZoomedToDisplayScaleFactors=
function(){return{width:1/this.zoomFactor,height:1/this.zoomFactor}};CUI.imageeditor.TranslationUtil.prototype.getCropOnOriginal=function(){return this.cropOnOriginal};CUI.imageeditor.TranslationUtil.prototype.getCropOnDisplayBeforeRotation=function(){var a=this.getCropOnOriginal(),b=this.getFromNaturalToDisplayScaleFactors(!0);a={top:a.top*b.height,left:a.left*b.width,height:a.height*b.height,width:a.width*b.width};a.right=a.left+a.width;a.bottom=a.top+a.height;return a};CUI.imageeditor.TranslationUtil.prototype.getCompleteImageAfterScalingDimensions=
function(){var a=this.getNaturalDimensions(),b=this.getFromNaturalToDisplayScaleFactors();return{height:a.height*b.height,width:a.width*b.width}};CUI.imageeditor.TranslationUtil.prototype.translateToDisplay=function(a,b,c){c=this.getFromNaturalToDisplayScaleFactors(c);return{w:Math.round(c.width*a),h:Math.round(c.height*b)}};CUI.imageeditor.TranslationUtil.prototype.translateWidthToDisplay=function(a,b){return Math.round(a*this.getFromNaturalToDisplayScaleFactors(b).width)};CUI.imageeditor.TranslationUtil.prototype.translateHeightToDisplay=
function(a,b){return Math.round(a*this.getFromNaturalToDisplayScaleFactors(b).height)};CUI.imageeditor.TranslationUtil.prototype.translateToNatural=function(a,b,c){c=this.getFromDisplayToNaturalScaleFactors(c);return{w:Math.round(c.width*a),h:Math.round(c.height*b)}};CUI.imageeditor.TranslationUtil.prototype.translateNaturalToZoomed=function(a,b,c){c=this.getFromNaturalToZoomedScaleFactors(c);return{w:Math.round(c.width*a),h:Math.round(c.height*b)}};CUI.imageeditor.TranslationUtil.prototype.translateZoomedToNatural=
function(a,b,c){c=this.getFromZoomedToNaturalScaleFactors(c);return{w:Math.round(c.width*a),h:Math.round(c.height*b)}};CUI.imageeditor.TranslationUtil.prototype.applyScaleFactors=function(a,b,c){return{w:Math.round(c.width*a),h:Math.round(c.height*b)}};CUI.imageeditor.TranslationUtil.prototype.translatePoints=function(a,b){var c=[],e;for(e=0;e<a.length;e++){var d=a[e];d="toZoomed"===b?this.translateNaturalToZoomed(d.w,d.h):this.translateZoomedToNatural(d.w,d.h);c.push(d)}return c};CUI.imageeditor.TranslationUtil.prototype.zoomPoints=
function(a,b){var c=[];var e=b?this.getFromZoomedToDisplayScaleFactors():this.getFromDisplayToZoomedScaleFactors();for(b=0;b<a.length;b++){var d=a[b];d=this.applyScaleFactors(d.w,d.h,e);c.push(d)}return c};CUI.imageeditor.TranslationUtil.prototype.translateWidthToNatural=function(a,b){return Math.round(1*a/this.getFromNaturalToDisplayScaleFactors(b).width)};CUI.imageeditor.TranslationUtil.prototype.translateHeightToNatural=function(a,b){return Math.round(1*a/this.getFromNaturalToDisplayScaleFactors(b).height)};
CUI.imageeditor.TranslationUtil.prototype.scaleCropToNatural=function(a,b){return this.applyScaleFactorsToCrop(a,this.getFromZoomedToNaturalScaleFactors(b))};CUI.imageeditor.TranslationUtil.prototype.scaleCropToZoomed=function(a,b){return this.applyScaleFactorsToCrop(a,this.getFromNaturalToZoomedScaleFactors(b))};CUI.imageeditor.TranslationUtil.prototype.applyScaleFactorsToCrop=function(a,b){return a?{top:Math.round(a.top*b.height),left:Math.round(a.left*b.width),height:Math.round(a.height*b.height),
width:Math.round(a.width*b.width)}:null};CUI.imageeditor.TranslationUtil.prototype.rotateDimsIfNecessary=function(a){return a?{height:this.rotatedByNinetyDegrees?a.width:a.height,width:this.rotatedByNinetyDegrees?a.height:a.width}:null};CUI.imageeditor.TranslationUtil.prototype.rotateCropBy90IfNecessary=function(a){return a?{top:this.rotatedByNinetyDegrees?a.left:a.top,left:this.rotatedByNinetyDegrees?a.top:a.left,height:this.rotatedByNinetyDegrees?a.width:a.height,width:this.rotatedByNinetyDegrees?
a.height:a.width}:null};CUI.imageeditor.TranslationUtil.prototype.translate=function(a,c,d){var e=this.rotation,f=this.flip;c=(c||"zoomed").toLowerCase();var h="display"===c?this.getDisplayDimensionsBeforeRotation():"natural"===c?this.getNaturalDimensionsBeforeRotation():this.getZoomedDimensionsBeforeRotation();d=d||b.extend({},a);e=(e%360+360)%360;a.hasOwnProperty("top")&&a.hasOwnProperty("left")&&(0===e%180?(c=0!==e,d.left=f.horizontal^c?h.width-a.width-a.left:a.left,d.top=f.vertical^c?h.height-
a.height-a.top:a.top):(c=90!==e,d.left=f.vertical^c?a.top:h.height-a.height-a.top,d.top=f.horizontal^c?h.width-a.width-a.left:a.left));0!==e%180?(d.width=a.height,d.height=a.width):(d.width=a.width,d.height=a.height);return d}})(jQuery,this);
(function(b,c,d){CUI.imageeditor.actions.Action=new Class({toString:"Action",config:{},construct:function(a,b){this._init(a,b)},_init:function(a,b){this.editor=a;this.actionId=b},notifyPluginConfig:function(a){this.config=a},isAction:function(a){return!1},isUndoable:function(a){return!0},requiresInitializedComponent:function(a){return!0},execute:function(a){},queryState:function(a,b){return!1},toCss:function(a,b,c){return{}},getString:function(a){return this.editor.i18n.get(this.actionId+"."+a)},
getTemplateOptions:function(){var a=this;return{helpers:{i18n:function(b){return a.getString("template."+b)}}}}})})(jQuery,this);(function(b,c,d){CUI.imageeditor.actions.ActionRegistry=function(){var a={};return{register:function(b,c){a[b]=c},createRegisteredActions:function(b){var c,e={};for(c in a)a.hasOwnProperty(c)&&(e[c]=new a[c](b,c));return e}}}()})(jQuery,this);
(function(b,c,d){CUI.imageeditor.actions.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.actions.Action,isAction:function(a){a=a.toLowerCase();return"croplaunch"===a||"croplaunchwithratio"===a||"cropunlaunch"===a||"cropconfirm"===a||"cropremovecrop"===a},execute:function(a){switch(a.action.toLowerCase()){case "croplaunch":return this.launchCrop(a);case "croplaunchwithratio":return this.launchCropWithRatio(a);case "cropunlaunch":return this.unlaunchCrop(a);case "cropconfirm":return this.confirmCrop(a);
case "cropremovecrop":return this.removeCrop(a)}},launchCropWithRatio:function(a){this.popover&&this.popover.get("visible")?this.closeRatioPopover(a):this.openRatioPopover(a)},openRatioPopover:function(a){if(!this.clickTarget){var c=b("\x3cdiv\x3e",{"class":"imageeditor-clicktarget"});b(".imageeditor-controls").append(c);c.on("click",this,this.clickTargetClicked);this.clickTarget=c}this.popover||(c=b("\x3cdiv\x3e",{"class":"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("crop-popover")({aspectRatios:a.value.getAspectRatios()},
this.getTemplateOptions())),b(".imageeditor-controls").append(c),c.trigger("cui-contentloaded"),c.on("click",b.proxy(this.ratioPopoverClicked,this,a.value)),this.popover=new CUI.Popover({element:c,pointFrom:"bottom"}));this.clickTarget.show();this.popover.set("pointAt",a.ui.find(".coral-Icon--crop:visible").closest(".coral-Button")).show()},closeRatioPopover:function(a){this.popover&&this.popover.hide();this.clickTarget&&this.clickTarget.hide()},clickTargetClicked:function(a){a.stopPropagation();
setTimeout(function(){a.data.closeRatioPopover()},300)},ratioPopoverClicked:function(a,c){this.closeRatioPopover();c=b(c.target).val();"removeCrop"===c?a.execute("removecrop"):a.execute("launch",c)},launchCrop:function(a){var b=a.createTranslationUtil(),c=this.getFullCanvasCrop(b),d=this.getCurrent(a.result,b);"fullscreen"!==a.mode||d.top===c.top&&d.left===c.left&&d.width===c.width&&d.height===c.height?(c=d,d=this.getDefaultSelection(a,c)):a.element.css("clip","");c=b.scaleCropToZoomed(c,!0);b=b.scaleCropToZoomed(d,
!0);a.editor.togglePinchZooming(!1);a.element.imageSelect({classPrefix:"imageeditor-imageselect-",parent:a.ui.find(".imageeditor-controls"),applyTransformations:!0,aspectRatio:a.value||0,canvas:{top:c.top,left:c.left,width:c.width,height:c.height},selection:{top:b.top,left:b.left,width:b.width,height:b.height}})},unlaunchCrop:function(a){a.element.imageSelect({call:"destroy"});a.editor.togglePinchZooming(!0);return!0},confirmCrop:function(a){var b=a.element.imageSelect({instance:!0}).getSelection();
this.setCurrent(a.result,a.createTranslationUtil().scaleCropToNatural(b,!0));return this.unlaunchCrop(a)},removeCrop:function(a){this.setCurrent(a.result,null);return!0},toCss:function(a,b,c){if(a=this.getCurrent(a))return a=c.scaleCropToZoomed(a,!0),c=this.findCenter(a),{clip:"rect("+[a.top,a.left+a.width,a.top+a.height,a.left].join("px, ")+"px)","transform-origin":c.x+"px "+c.y+"px"}},findCenter:function(a){return{x:a.left+Math.round(a.width/2),y:a.top+Math.round(a.height/2)}},setCurrent:function(a,
b){var c=null;b&&(c={top:b.top,left:b.left,width:b.width,height:b.height});a.setTransformValue("crop",c)},getCurrent:function(a,c){a=a&&a.getTransformValue("crop");return b.isPlainObject(a)&&a.hasOwnProperty("top")&&a.hasOwnProperty("left")&&a.hasOwnProperty("width")&&a.hasOwnProperty("height")?{top:a.top,left:a.left,width:a.width,height:a.height}:this.getFullCanvasCrop(c)},getFullCanvasCrop:function(a){if(a)return a=a.getNaturalDimensionsBeforeRotation(),{top:0,left:0,width:a.width,height:a.height}},
getDefaultSelection:function(a,b){var c=a.createTranslationUtil();b=c.rotateCropBy90IfNecessary(c.scaleCropToNatural(a.viewportCrop,!1));c=c.getCropOnOriginal();var e="fullscreen"===a.mode;a=.1*b.width;var d=.1*b.height;return{top:(e?b.top:c.top)+d,left:(e?b.left:c.left)+a,width:b.width-2*a,height:b.height-2*d}}})})(jQuery,this);CUI.imageeditor.actions.ActionRegistry.register("crop",CUI.imageeditor.actions.Crop);
(function(b,c,d){CUI.imageeditor.actions.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.actions.Action,isAction:function(a){return"rotateright"===a||"rotateleft"===a},execute:function(a){var b=CUI.imageeditor.actions.Rotate.ROTATION_ANGLE,c=this.getCurrent(a.result);"rotateleft"===a.action&&(b=-b);this.setCurrent(a.result,c+b);return!0},setCurrent:function(a,b){a.setTransformValue("rotate",{angle:b})},getCurrent:function(a){a=a.getTransformValue("rotate");return b.isPlainObject(a)?a.angle||
0:0},toCss:function(a,b,c){return{transform:"rotate("+this.getCurrent(a)+"deg)"}}})})(jQuery,this);CUI.imageeditor.actions.Rotate.ROTATION_ANGLE=90;CUI.imageeditor.actions.ActionRegistry.register("rotate",CUI.imageeditor.actions.Rotate);
(function(b,c,d){CUI.imageeditor.actions.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.actions.Action,isAction:function(a){return"fliphorizontal"===a||"flipvertical"===a},execute:function(a){var b=this.getCurrent(a.result),c=0!==a.rotation%180;switch(a.action){case "fliphorizontal":c=c?"vertical":"horizontal";break;case "flipvertical":c=c?"horizontal":"vertical";break;default:return!1}b[c]=!b[c];this.setCurrent(a.result,b);return!0},setCurrent:function(a,b){a.setTransformValue("flip",b)},
getCurrent:function(a){a=a.getTransformValue("flip");return b.isPlainObject(a)?{vertical:!!a.vertical,horizontal:!!a.horizontal}:{vertical:!1,horizontal:!1}},toCss:function(a,b,c){a=this.getCurrent(a);return{transform:" scaleX("+(a.horizontal?"-1":"1")+") scaleY("+(a.vertical?"-1":"1")+")"}}})})(jQuery,this);CUI.imageeditor.actions.ActionRegistry.register("flip",CUI.imageeditor.actions.Flip);
(function(b,c,d){var a=function(a,c){c.find("[name]").each(function(){var c=b(this),e=c.attr("type"),d=c.attr("name"),f=c.val();"radio"===e||"checkbox"===e?c.prop("checked")&&(a[d]=f):a[d]=f})},e=function(a,c){c.find("[name]").each(function(){var c=b(this),e=c.attr("type"),d=c.attr("name");d=a[d]||"";"radio"===e||"checkbox"===e?(c.attr("value")===d?c.prop("checked",!0):c.prop("checked",!1),c.change()):(c.val(d).change(),c.is("select")&&(c=c.closest(".coral-Select").data("select"))&&c._handleNativeSelect())})};
CUI.imageeditor.actions.Map=new Class({toString:"Map",extend:CUI.imageeditor.actions.Action,MIN_SIZE:40,isAction:function(a){return"maplaunch"===a||"mapunlaunch"===a||"mapconfirm"===a||"maprectangle"===a||"mapcircle"===a||"mappolygon"===a},execute:function(a){switch(a.action){case "maplaunch":return this.launchMap(a);case "mapunlaunch":return this.unlaunchMap(a);case "mapconfirm":return this.confirmMap(a);case "maprectangle":return this.startRectangleArea(a);case "mapcircle":return this.startCircleArea(a);
case "mappolygon":return this.startPolygonArea(a)}},launchMap:function(a){this.isActive=!0;a.editor.togglePinchZooming(!1);this.areas=this.getCurrent(a.result);this.drawAreas(a);a.ui.on("click.map deselect_click.map",b.proxy(this.tryToSelectAreaOrUnselect,this,a));a.ui.on("second_click.map",b.proxy(this.togglePopover,this,a));this.getMapCont(a.element).on("update.map",b.proxy(this.closePopover,this))},unlaunchMap:function(a){this.isActive=!1;this.unselectCurrentArea(a);this.areas=[];this.drawAreas(a);
a.ui.off(".map");this.getMapCont(a.element).off(".map");a.editor.togglePinchZooming(!0)},confirmMap:function(a){this.unselectCurrentArea(a);this.setCurrent(a.result,this.areas);this.unlaunchMap(a)},startRectangleArea:function(a){this.unselectCurrentArea(a);this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(a),shape:"rect"};this.selectCurrentArea(a)},startCircleArea:function(a){this.unselectCurrentArea(a);this.currentArea={alt:"",href:"",target:"",selection:this.getDefaultNewSelection(a),
shape:"circle"};this.selectCurrentArea(a)},startPolygonArea:function(a){this.unselectCurrentArea(a);this.currentArea={alt:"",href:"",target:"",points:this.getDefaultNewPoints(a),shape:"polygon"};this.selectCurrentArea(a)},getDefaultNewSelection:function(a){a=a.createTranslationUtil().scaleCropToNatural(a.viewportCrop,!0);var b=.2*a.width,c=.2*a.height;return{top:a.top+c,left:a.left+b,width:a.width-2*b,height:a.height-2*c}},getDefaultNewPoints:function(a){a=a.createTranslationUtil().scaleCropToNatural(a.viewportCrop,
!0);var b=.2*a.width,c=.2*a.height;return[{w:a.left+.5*a.width,h:a.top+c},{w:a.left+(a.width-b),h:a.top+(a.height-c)},{w:a.left+b,h:a.top+(a.height-c)}]},getCurrent:function(a){return(a=a.getTransformValue("map"))&&a.areas?b.map(a.areas,function(a){return b.extend(!0,{},a)}):[]},setCurrent:function(a,b){b?a.setTransformValue("map",{areas:b}):a.setTransformValue("map",null)},getMapCont:function(a){return a.parent().find(".imageeditor-controls-map-areas")},drawAreas:function(a){var c=a.createTranslationUtil(),
e=this.getMapCont(a.element),f,m=c.translate(c.getZoomedCropBeforeRotation(),"zoomed"),l=this.getPolygonOutlineStyling(a);e.html("");if(this.areas)for(e.css({width:m.width,height:m.height}).position({of:a.element,my:"left top",at:"left+"+m.left+" top+"+m.top,collision:"none"}),f=0;f<this.areas.length;f++){var n=this.areas[f];if("polygon"===n.shape){a=b("\x3ccanvas/\x3e",{"class":"imageeditor-map-canvas",width:m.width,height:m.height});a[0].width=m.width;a[0].height=m.height;n=n.points;n=c.translatePoints(n,
"toZoomed");var p=a.polygon().data("polygon");p.paintPolygonWithPoints(a,n,l);e.append(a)}else a=b("\x3cdiv/\x3e",{"class":"imageeditor-controls-map-area"}),e.append(a),p=c.scaleCropToZoomed(n.selection),a.css({top:p.top,left:p.left,width:p.width,height:p.height,borderRadius:"circle"===n.shape?"50%":d})}},getPolygonOutlineStyling:function(a){a=b(this.getMapCont(a.element).parent()).find(".imageeditor-imagemap-polygon-helper");var c=a.css("border-top-width");c=b("\x3cdiv/\x3e",{width:c}).width();return{strokeStyle:a.css("border-top-color"),
lineWidth:c}},isCurrentlySelectedArea:function(a){return this.currentImageSelect&&this.currentArea===a},tryToSelectAreaOrUnselect:function(a,c){if(!c||!b(c.target).parents(".imageeditor-popover").length)if(!c||!b(c.target).parents(".imageeditor-imagemap-holder").length){var e=!1,d=a.createTranslationUtil(),f=b("\x3cdiv/\x3e").polygon().data("polygon"),h=CUI.imageeditor.UIUtils.getEventCoordinatesPageRelative(c),n=this.getMapCont(a.element).offset(),p=h.x-n.left;h=h.y-n.top;c.preventDefault();c.stopPropagation();
for(n=0;n<this.areas.length;n++)if(c=this.areas[n],"polygon"===c.shape?(e=f.pointsToVectors(d.translatePoints(c.points,"toZoomed")),e=f.isPointInsideOrOnEdgeOfPolygon([p,h],e)):(e=d.scaleCropToZoomed(c.selection),e=f.isCoordsInBoundingBox(e,p,h)),e){this.isCurrentlySelectedArea(c)||this.createSelectionFromArea(n,a);break}e||this.unselectCurrentArea(a)}},createSelectionFromArea:function(a,b){var c=this.areas[a];this.unselectCurrentArea(b);this.currentArea=c;this.areas.splice(a,1);this.drawAreas(b);
this.selectCurrentArea(b)},selectCurrentArea:function(a){var b=a.createTranslationUtil();if("polygon"===this.currentArea.shape)b={instance:!0,classPrefix:"imageeditor-imagemap-",parent:a.element.parent().find(".imageeditor-controls"),points:b.translatePoints(this.currentArea.points,"toZoomed")},this.currentImageSelect=this.getMapCont(a.element).imageSelectPolygon(b);else{b={instance:!0,classPrefix:"imageeditor-imagemap-",parent:a.element.parent().find(".imageeditor-controls"),min:this.MIN_SIZE,selection:b.scaleCropToZoomed(this.currentArea.selection)};
switch(this.currentArea.shape){case "rect":b.shape="rectangle";break;case "circle":b.shape="ellipse",b.aspectRatio=1}this.currentImageSelect=this.getMapCont(a.element).imageSelect(b)}},unselectCurrentArea:function(a){this.currentImageSelect&&("polygon"===this.currentArea.shape?this.currentArea.points=a.createTranslationUtil().translatePoints(this.currentImageSelect.getPoints(),"toNatural"):this.currentArea.selection=a.createTranslationUtil().scaleCropToNatural(this.currentImageSelect.getSelection()),
this.areas.push(this.currentArea),this.removeCurrentSelection(a))},removeCurrentSelection:function(a){this.currentImageSelect&&(this.currentImageSelect.destroy(),this.currentImageSelect=null,this.closePopover(),this.drawAreas(a))},togglePopover:function(a){this.currentImageSelect&&(this.currentPopover||this.createPopover(a),this.currentPopover.get("visible")?this.closePopover():this.openPopover(a))},createPopover:function(a){a={};var c=!1;var e=b.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS,
this.config);e.pathbrowser=b.extend({},CUI.imageeditor.actions.Map.DEFAULT_OPTIONS.pathbrowser,e.pathbrowser);e.pathbrowser.type&&("picker"===e.pathbrowser.type?c=a.pathbrowserPicker=!0:"autocomplete"===e.pathbrowser.type&&(c=a.pathbrowserAutocomplete=!0));c?a.pathbrowser=b.extend({},e.pathbrowser):a.noPathbrowser=!0;c=b("\x3cdiv\x3e",{"class":"imageeditor-popover"}).html(this.editor.templates.get("map-popover")(a,this.getTemplateOptions()));b(".imageeditor-controls").append(c);e=b(b(c).find(".pathbrowser"));
e.length&&e.pathBrowser(a.pathbrowser);c.trigger("cui-contentloaded");this.currentPopover=new CUI.Popover({element:c,pointFrom:"top",preventAutoHide:!0})},updateAndGetBoundingBoxDiv:function(a){var c=this.currentImageSelect.getBoundingBox();a=this.getMapCont(a.element);var e=a.find(".imageeditor-map-polygon-bounding-box");e.length||(e=b("\x3cdiv/\x3e",{"class":"imageeditor-map-polygon-bounding-box"}),e.css({position:"absolute"}),a.append(e));e.css({top:c.top,left:c.left,width:c.width,height:c.height});
return e},openPopover:function(a){if(this.currentPopover&&this.currentImageSelect){var c="polygon"===this.currentArea.shape?this.updateAndGetBoundingBoxDiv(a):this.currentImageSelect.$selection;this.currentPopover.set("pointAt",c).show();c=this.currentPopover.get("element");e(this.currentArea,c);c.on("click.map",".imageeditor-map-delete",b.proxy(this.removeCurrentSelection,this,a)).on("click.map",".imageeditor-map-unlaunch",b.proxy(this.metaDataAbort,this)).on("click.map",".imageeditor-map-confirm",
b.proxy(this.metaDataConfirm,this))}},closePopover:function(){this.currentPopover&&(this.currentPopover.get("element").off(".map").find(":focus").blur(),this.closeSelect(),this.currentPopover.hide())},metaDataConfirm:function(b){if(this.currentPopover&&this.currentArea){b=this.currentArea;var c=this.currentPopover.get("element");a(b,c);this.closePopover()}},metaDataAbort:function(a){this.closePopover()},closeSelect:function(){var a=this.currentPopover.get("element").find(".coral-SelectList");a.length&&
a.data("selectList").hide()},reposition:function(a){this.getMapCont(a).position({of:a,my:"left top",at:"left top",collision:"none"});this.currentPopover&&this.currentPopover.get("visible")&&this.currentPopover.hide().show()},toCss:function(a,b,c){this.isActive&&this.reposition(b)}});CUI.imageeditor.actions.Map.DEFAULT_OPTIONS={pathbrowser:{type:null,rootPath:"/",showTitles:!1,optionLoader:function(a){return[]},optionLoaderRoot:null,optionValueReader:function(a){return""+a},optionTitleReader:function(a){return""+
a},pickerSrc:"/libs/wcm/core/content/common/pathbrowser/column.html/?predicate\x3dhierarchyNotFile",pickerTitle:"Choose a target path",picketCrumbRoot:{title:"Root",icon:"coral-Icon-home"}}}})(jQuery,this);CUI.imageeditor.actions.ActionRegistry.register("map",CUI.imageeditor.actions.Map);
(function(b,c,d){CUI.imageeditor.actions.History=new Class({toString:"History",extend:CUI.imageeditor.actions.Action,isAction:function(a){return"undo"===a||"redo"===a},execute:function(a){switch(a.action){case "undo":a.result.undo();break;case "redo":a.result.redo()}return!0},toCss:function(a,b,c){}})})(jQuery,this);CUI.imageeditor.actions.ActionRegistry.register("history",CUI.imageeditor.actions.History);
(function(b,c,d){CUI.imageeditor.actions.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.actions.Action,isAction:function(a){return"fullscreen"===a||"fullscreenexit"===a},execute:function(a){return!0},toCss:function(a,b,c){}})})(jQuery,this);CUI.imageeditor.actions.ActionRegistry.register("fullscreen",CUI.imageeditor.actions.Fullscreen);
(function(b,c,d){CUI.imageeditor.actions.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.actions.Action,isAction:function(a){a=a.toLowerCase();return"zoompopupslider"===a||"zoomreset100"===a},execute:function(a){switch(a.action.toLowerCase()){case "zoompopupslider":return this.popupSlider(a);case "zoomreset100":return this.reset100(a)}},popupSlider:function(a){this.popover&&this.popover.get("visible")?this.closeSliderPopover(a):this.openSliderPopover(a)},openSliderPopover:function(a){if(!this.clickTarget){var c=
b("\x3cdiv\x3e",{"class":"imageeditor-clicktarget"});b(".imageeditor-controls").append(c);c.on("click",this,this.clickTargetClicked);this.clickTarget=c}this.popover||(c=b("\x3cdiv\x3e",{"class":"imageeditor-popover imageeditor-toolbar-popover coral-Popover"}).html(this.editor.templates.get("zoomslider-popover")(this.getZoomLimits(a))),b(".imageeditor-controls").append(c),c.trigger("cui-contentloaded"),this.popover=new CUI.Popover({element:c,pointFrom:"bottom"}),this.getSlider().on("change",b.proxy(this.sliderChanged,
this,a.value)));this.clickTarget.show();this.getSlider().setValue(Math.round(100*a.editor.getZoomFactor()));this.popover.set("pointAt",a.ui.find(".coral-Icon--search:visible").closest(".coral-Button")).show()},getZoomLimits:function(a){a=a.editor.getZoomLimits();return{zoomMin:Math.round(100*a[0]),zoomMax:Math.round(100*a[1])}},getSlider:function(){return b(this.popover.$element.find("div.coral-Slider")).data("slider")},closeSliderPopover:function(a){this.popover&&this.popover.hide();this.clickTarget&&
this.clickTarget.hide()},clickTargetClicked:function(a){a.stopPropagation();setTimeout(function(){a.data.closeSliderPopover()},300)},reset100:function(a){a.editor.zoom(1)},sliderChanged:function(a,c){c=b(c.target).val();a.editor.zoom(.01*c)},toCss:function(a,b,c){}});CUI.imageeditor.actions.ActionRegistry.register("zoom",CUI.imageeditor.actions.Zoom)})(jQuery,this);
(function(b,c,d){CUI.imageeditor.plugins.Plugin=new Class({features:null,pluginId:null,editor:null,config:null,construct:function(a,b){this._init(a,b)},_init:function(a,b){this.editor=a;this.pluginId=b},notifyPluginConfig:function(a){this.config=a},getFeatures:function(){return this.features},isFeatureEnabled:function(a){return-1===b.inArray(a,this.getFeatures())?!1:this.config&&this.config.features?b.isArray(this.config.features)?-1!==b.inArray(a,this.config.features):"*"===this.config.features?
!0:"-"===this.config.features?!1:!0:!0},initializeUI:function(a){},execute:function(a,b,c){},registerTransformFields:function(a){return null},getString:function(a){return this.editor.i18n.get(this.pluginId+"."+a)},getTooltip:function(a){return this.getString("toolbar."+a)}})})(jQuery,this);
(function(b,c,d){CUI.imageeditor.plugins.PluginRegistry=function(){var a={};return{register:function(b,c){a[b]=c},createRegisteredPlugins:function(b){var c={},e;for(e in a)if(a.hasOwnProperty(e)){var d=new a[e](b,e);d=CUI.imageeditor.Utils.onPluginCreated(d);c[e]=d}return c}}}()})(jQuery,this);
(function(b,c,d){CUI.imageeditor.plugins.Crop=new Class({toString:"Crop",extend:CUI.imageeditor.plugins.Plugin,features:["launch","launchwithratio","unlaunch","confirm"],initializeUI:function(a){if(this.isFeatureEnabled("launch")){var b=a.createItem("launch",this.getTooltip("launch"),this);a.registerItem(b,"crop")}this.isFeatureEnabled("launchwithratio")&&(b=a.createItem("launchwithratio",this.getTooltip("launchwithratio"),this),a.registerItem(b,"crop"));b=a.createItem("identifier",this.getTooltip("identifier"),
this);a.registerItem(b,"crop",CUI.imageeditor.Theme.TOOLBARITEM_SELECTED_CLASS);this.isFeatureEnabled("unlaunch")&&(b=a.createItem("unlaunch",this.getTooltip("unlaunch"),this),a.registerItem(b,"close"));this.isFeatureEnabled("confirm")&&(b=a.createItem("confirm",this.getTooltip("confirm"),this),a.registerItem(b,"check"))},execute:function(a,c){"launch"===a&&(b.each(this.editor.toolbars,function(a,b){b.switchToolbar(CUI.imageeditor.plugins.Crop.TOOLBAR_ID)}),this.editor.relayAction("croplaunch",c));
"launchwithratio"===a&&this.editor.relayAction("croplaunchwithratio",this);"unlaunch"===a&&(b.each(this.editor.toolbars,function(a,b){this.switchToPrimaryToolbar()}),this.editor.relayAction("cropunlaunch",c));"confirm"===a&&(b.each(this.editor.toolbars,function(a,b){this.switchToPrimaryToolbar()}),this.editor.relayAction("cropconfirm",c));"removecrop"===a&&this.editor.relayAction("cropremovecrop",c)},getAspectRatios:function(){if(b.isPlainObject(this.config)&&b.isArray(this.config.aspectRatios))return this.config.aspectRatios;
var a=this;return b.map(CUI.imageeditor.plugins.Crop.ASPECT_RATIOS,function(b){return{ratio:b.ratio,name:a.getString("aspect_ratios."+b.name)}})},registerTransformFields:function(a){a.registerTransformField("crop")}})})(jQuery,this);CUI.imageeditor.plugins.Crop.TOOLBAR_ID="crop";CUI.imageeditor.plugins.Crop.ASPECT_RATIOS=[{name:"free_hand",ratio:0},{name:"2_to_3",ratio:.67},{name:"3_to_5",ratio:.6},{name:"16_to_9",ratio:.5625},{name:"square",ratio:1}];
CUI.imageeditor.plugins.PluginRegistry.register("crop",CUI.imageeditor.plugins.Crop);
(function(b,c,d){CUI.imageeditor.plugins.Rotate=new Class({toString:"Rotate",extend:CUI.imageeditor.plugins.Plugin,features:["left","right"],initializeUI:function(a){if(this.isFeatureEnabled("left")){var b=a.createItem("left",this.getTooltip("left"),this);a.registerItem(b,"rotateLeft")}this.isFeatureEnabled("right")&&(b=a.createItem("right",this.getTooltip("right"),this),a.registerItem(b,"rotateRight"))},execute:function(a,b){"right"===a&&this.editor.relayAction("rotateright",b);"left"===a&&this.editor.relayAction("rotateleft",
b)},registerTransformFields:function(a){a.registerTransformField("rotate")}})})(jQuery,this);CUI.imageeditor.plugins.PluginRegistry.register("rotate",CUI.imageeditor.plugins.Rotate);
(function(b,c,d){CUI.imageeditor.plugins.Flip=new Class({toString:"Flip",extend:CUI.imageeditor.plugins.Plugin,features:["horizontal","vertical"],initializeUI:function(a){if(this.isFeatureEnabled("horizontal")){var b=a.createItem("horizontal",this.getTooltip("horizontal"),this);a.registerItem(b,"reflectHorizontal")}this.isFeatureEnabled("vertical")&&(b=a.createItem("vertical",this.getTooltip("vertical"),this),a.registerItem(b,"reflectVertical"))},execute:function(a,b){switch(a){case "horizontal":this.editor.relayAction("fliphorizontal",
b);break;case "vertical":this.editor.relayAction("flipvertical",b)}},registerTransformFields:function(a){a.registerTransformField("flip")}})})(jQuery,this);CUI.imageeditor.plugins.PluginRegistry.register("flip",CUI.imageeditor.plugins.Flip);
(function(b,c,d){CUI.imageeditor.plugins.Map=new Class({toString:"Map",extend:CUI.imageeditor.plugins.Plugin,features:"launch unlaunch confirm rectangle circle polygon".split(" "),initializeUI:function(a){if(this.isFeatureEnabled("launch")){var b=a.createItem("launch",this.getTooltip("launch"),this);a.registerItem(b,"imageMap")}this.isFeatureEnabled("rectangle")&&(b=a.createItem("rectangle",this.getTooltip("rectangle"),this),a.registerItem(b,"imageMapRectangle"));this.isFeatureEnabled("circle")&&
(b=a.createItem("circle",this.getTooltip("circle"),this),a.registerItem(b,"imageMapCircle"));this.isFeatureEnabled("polygon")&&(b=a.createItem("polygon",this.getTooltip("polygon"),this),a.registerItem(b,"imageMapPolygon"));this.isFeatureEnabled("unlaunch")&&(b=a.createItem("unlaunch",this.getTooltip("unlaunch"),this),a.registerItem(b,"close"));this.isFeatureEnabled("confirm")&&(b=a.createItem("confirm",this.getTooltip("confirm"),this),a.registerItem(b,"check"))},execute:function(a,c){"launch"===a?
(b.each(this.editor.toolbars,function(a,b){b.switchToolbar(CUI.imageeditor.plugins.Map.TOOLBAR_ID)}),this.editor.relayAction("maplaunch",c)):"unlaunch"===a||"confirm"===a?(b.each(this.editor.toolbars,function(a,b){this.switchToPrimaryToolbar()}),this.editor.relayAction("map"+a,c)):"rectangle"===a?this.editor.relayAction("maprectangle",c):"circle"===a?this.editor.relayAction("mapcircle",c):"polygon"===a&&this.editor.relayAction("mappolygon",c)},registerTransformFields:function(a){a.registerTransformField("map",
[])}})})(jQuery,this);CUI.imageeditor.plugins.Map.TOOLBAR_ID="map";CUI.imageeditor.plugins.PluginRegistry.register("map",CUI.imageeditor.plugins.Map);
(function(b,c,d){CUI.imageeditor.plugins.Control=new Class({toString:"Control",extend:CUI.imageeditor.plugins.Plugin,features:["close","finish"],initializeUI:function(a){if(this.isFeatureEnabled("close")){var b=a.createItem("close",this.getTooltip("close"),this);a.registerItem(b,"close",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)}this.isFeatureEnabled("finish")&&(b=a.createItem("finish",this.getTooltip("finish"),this),a.registerItem(b,"check",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},
execute:function(a,b,c){"close"===a?this.editor.cancel():"finish"===a&&this.editor.finish()}})})(jQuery,this);CUI.imageeditor.plugins.PluginRegistry.register("control",CUI.imageeditor.plugins.Control);
(function(b,c,d){CUI.imageeditor.plugins.Fullscreen=new Class({toString:"Fullscreen",extend:CUI.imageeditor.plugins.Plugin,features:["fullscreen","fullscreenexit"],initializeUI:function(a){if(this.isFeatureEnabled("fullscreen")){var b=a.createItem("fullscreen",this.getTooltip("fullscreen"),this);a.registerItem(b,"fullScreen",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS)}this.isFeatureEnabled("fullscreenexit")&&(b=a.createItem("fullscreenexit",this.getTooltip("fullscreenexit"),this),a.registerItem(b,
"fullScreenExit",CUI.imageeditor.Theme.TOOLBARITEM_MODECHANGER_CLASS))},execute:function(a,b){"fullscreen"===a?this.editor.switchToFullscreen():"fullscreenexit"===a&&this.editor.switchToInline()}})})(jQuery,this);CUI.imageeditor.plugins.PluginRegistry.register("fullscreen",CUI.imageeditor.plugins.Fullscreen);
(function(b,c,d){CUI.imageeditor.plugins.History=new Class({toString:"History",extend:CUI.imageeditor.plugins.Plugin,features:["undo","redo"],initializeUI:function(a){if(this.isFeatureEnabled("undo")){var b=a.createItem("undo",this.getTooltip("undo"),this);this.notifyToolbarDecorator(b);a.registerItem(b,"undo",CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS)}this.isFeatureEnabled("redo")&&(b=a.createItem("redo",this.getTooltip("redo"),this),this.notifyToolbarDecorator(b),a.registerItem(b,"redo",
CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS));this.transformResultDecorator()},execute:function(a,b){"undo"===a&&this.editor.relayAction("undo",b);"redo"===a&&this.editor.relayAction("redo",b)},transformResultDecorator:function(){var a=this,b=CUI.imageeditor.TransformResult.prototype.setTransformValue;if(this.isFeatureEnabled("undo")||this.isFeatureEnabled("redo"))CUI.imageeditor.TransformResult.prototype.setTransformValue=function(){var c;b.apply(this,arguments);for(c=a._observeHistory.undo.length-
1;0<=c;c--)a._observeHistory.undo[c].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.history.length);for(c=a._observeHistory.redo.length-1;0<=c;c--)a._observeHistory.redo[c].toggleClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS,!this.future.length)}},notifyToolbarDecorator:function(a){var b=a.notifyToolbar,c=this;this._observeHistory=this._observeHistory||{};this._observeHistory[a.id]=this._observeHistory[a.id]||[];a.notifyToolbar=function(){b.apply(this,arguments);c._observeHistory[a.id].push(this.$ui)};
return a}})})(jQuery,this);CUI.imageeditor.plugins.PluginRegistry.register("history",CUI.imageeditor.plugins.History);
(function(b,c,d){CUI.imageeditor.plugins.Zoom=new Class({toString:"Zoom",extend:CUI.imageeditor.plugins.Plugin,features:["popupslider","reset100"],initializeUI:function(a){if(this.isFeatureEnabled("popupslider")){var b=a.createItem("popupslider",this.getTooltip("popupslider"),this);a.registerItem(b,"search")}this.isFeatureEnabled("reset100")&&(b=a.createItem("reset100",this.getTooltip("reset100"),this),a.registerItem(b,"compare"))},execute:function(a,b){"popupslider"===a&&this.editor.relayAction("zoompopupslider",
this);"reset100"===a&&this.editor.relayAction("zoomreset100",this)},registerTransformFields:function(a){}});CUI.imageeditor.plugins.Zoom.TOOLBAR_ID="zoom";CUI.imageeditor.plugins.PluginRegistry.register("zoom",CUI.imageeditor.plugins.Zoom)})(jQuery,this);
(function(b,c,d){CUI.imageeditor.ui.ToolbarBuilder=new Class({toString:"ToolbarBuilder",groups:null,$editable:null,construct:function(a){this.registeredItems={};this.templates=a.templates},createItem:function(a,b,c){return new CUI.imageeditor.ui.ToolbarItem(a,b,c)},registerItem:function(a,c,d){a=b.extend({},a,{icon:c,addClasses:d});this.registeredItems[a.action]=a},createToolbar:function(a,b){var c=a.$editable,e=this.getUIOptions(a,b),d;if(!b)throw Error("ArgumentError - missing toolbar type");if(!e)return null;
(a=CUI.imageeditor.UIUtils.getToolbars(c,b))&&0!==a.length||this._buildToolbar(c,e,b);b=new CUI.imageeditor.ui.Toolbar(c,b);for(d in this.registeredItems)this.registeredItems.hasOwnProperty(d)&&this.registeredItems[d].notifyToolbar(b);return b},_buildToolbar:function(a,c,d){var e=this.templates.get("toolbar"),f=this.templates.get("toolbar-item");var k=[];var m=c.replacementToolbars,l;for(l in m)if(m.hasOwnProperty(l)){var n=m[l];k.push(e({ref:n.ref||l,toolbarItems:this.getToolbarItemHTML(n.items||
n,f)}))}c=b(this.templates.get("toolbars")({type:d,toolbar:e({ref:"primary",toolbarItems:this.getToolbarItemHTML(c.toolbar,f)}),replacementToolbars:k}));a=CUI.imageeditor.UIUtils.getUIContainer(a);d=CUI.imageeditor.UIUtils.getToolbarContainer(a,d);b(d).append(c)},getUIOptions:function(a,b){return a&&a.ui?a.ui[b]:CUI.imageeditor.ui.DEFAULT_OPTIONS[b]},getToolbarItemHTML:function(a,c){var e;if(b.isArray(a))if(b.isArray(a[0])){var d=a[0];var g=1<a.length?a[1]:[]}else d=a,g=[];else if(d=a.left?a.left:
[],g=a.right?a.right:[],!b.isArray(a.left)||!b.isArray(a.right))throw Error("Argument error: Expecting object {left:[], right:[]}");var k={left:[],right:[]};for(a=0;a<d.length;a++)(e=this.registeredItems[d[a]])&&k.left.push(b.trim(c(e)));for(a=0;a<g.length;a++)(e=this.registeredItems[g[a]])&&k.right.push(b.trim(c(e)));return k}})})(jQuery,this);
CUI.imageeditor.ui.DEFAULT_OPTIONS={inline:{toolbar:"crop#launch rotate#left rotate#right flip#vertical flip#horizontal history#undo history#redo fullscreen#fullscreen control#close".split(" "),replacementToolbars:{crop:["crop#identifier","crop#unlaunch","crop#confirm"]}},fullscreen:{toolbar:{left:"crop#launchwithratio rotate#left rotate#right flip#vertical flip#horizontal map#launch zoom#reset100 zoom#popupslider".split(" "),right:["history#undo","history#redo","fullscreen#fullscreenexit"]},replacementToolbars:{crop:{left:["crop#identifier"],
right:["crop#unlaunch","crop#confirm"]},map:{left:["map#rectangle","map#circle","map#polygon"],right:["map#unlaunch","map#confirm"]}}}};
(function(b,c,d){CUI.imageeditor.ui.Toolbar=new Class({toString:"Toolbar",$ui:null,$editable:null,$container:null,$toolbars:null,construct:function(a,b){if(!b)throw Error("ArgumentError - missing toolbar type");this.tbType=b;this.$editable=a;this.$ui=CUI.imageeditor.UIUtils.getUIContainer(this.$editable);this.$container=CUI.imageeditor.UIUtils.getToolbarContainer(this.$ui,b);this.$toolbars=CUI.imageeditor.UIUtils.getToolbars(this.$editable,this.tbType);this.autoSetToolbarWidths();this.switchToPrimaryToolbar()},
autoSetToolbarWidths:function(){var a=this;this.$toolbars.each(function(){var c=b(this).data("id");c!==d&&a.autoSetToolbarWidth(c)})},autoSetToolbarWidth:function(a){this.showToolbar(a);this.setToolbarWidth(a,this.calcToolbarWidth(a));this.hideToolbar(a)},setToolbarWidth:function(a,b){a=this.getToolbar(a);null!==a&&a.width(b)},calcToolbarWidth:function(a){var c=0;this.getToolbar(a).children().each(function(){c+=b(this).outerWidth(!0)});return c},show:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},
hide:function(){this.$container.addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},isHidden:function(){return this.$container.hasClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},getContainer:function(){return this.$container},getToolbar:function(a){var c=null;this.$toolbars.each(function(){b(this).data("id")===a&&(c=b(this))});return c},getToolbars:function(){return this.$toolbars},switchToPrimaryToolbar:function(){this.switchToolbar(CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID)},switchToolbar:function(a){this.hideToolbars();
this.showToolbar(a)},showToolbar:function(a){a=this.getToolbar(a);null!==a&&b(a).removeClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbar:function(a){a=this.getToolbar(a);null!==a&&b(a).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)},hideToolbars:function(){this.$toolbars.each(function(){b(this).addClass(CUI.imageeditor.Theme.IMAGEEDITOR_HIDDEN_CLASS)})},startEditing:function(){this.show()},finishEditing:function(){this.hide()}})})(jQuery,this);
CUI.imageeditor.ui.Toolbar.PRIMARY_TOOLBAR_ID="primary";
(function(b,c,d){CUI.imageeditor.ui.ToolbarItem=new Class({toString:"ToolbarItem",$ui:null,id:null,plugin:null,title:null,toolbar:null,construct:function(a,b,c){this._init.apply(this,arguments)},_init:function(a,b,c){this.id=a;this.title=b;this.plugin=c;this.action=this.plugin.pluginId+"#"+this.id},notifyToolbar:function(a){var c=this,d=null;this.toolbar=a;d=b(a.getContainer());this.$ui=d.find('button[data-action\x3d"'+this.action+'"]');this.tapOrClickHandler=CUI.imageeditor.UIUtils.handleTapOrClick(this.$ui,
function(a){a.stopImmediatePropagation();c.$ui.hasClass(CUI.imageeditor.Theme.TOOLBARITEM_DISABLED_CLASS)||c.plugin.execute(c.id);this.blur()},{eventNamespace:"imageeditor-handler"})},createToolbarDef:function(){return{id:this.id,element:this}},destroy:function(){this.tapOrClickHandler&&this.tapOrClickHandler.off()}})})(jQuery,this);
jQuery.fn.polygon=function(b){var c=function(b,a){this.$element=b;this.loadOpts(a)};c.prototype.defaults={points:[]};c.prototype.loadOpts=function(c){this.options=b.extend({},this.defaults,c);this.options.points&&(this.points=this.readPoints(this.options.points))};c.prototype.readPoints=function(b){var a=[],c;if(b&&b.length)for(c=0;c<b.length;c++){var d=b[c];isNaN(d.w)||isNaN(d.h)||(d={w:parseInt(d.w,10),h:parseInt(d.h,10)},a.push(d))}return a};c.prototype.clearCanvas=function(b){var a=this.getCanvas(b);
this.get2dContext(b).clearRect(0,0,a.width,a.height)};c.prototype.get2dContext=function(b){return this.getCanvas(b).getContext("2d")};c.prototype.getCanvas=function(b){var a=this.$element;b&&(a=b);return a.length?a[0]:a};c.prototype.paintPolygon=function(b){this.paintPolygonWithPoints(null,null,b)};c.prototype.paintPolygonWithPoints=function(c,a,e){c=this.getCanvas(c);c=this.get2dContext(c);var d=!1,h;a=a||this.points;e=b.extend({strokeStyle:"#000",fillStyle:null,lineWidth:1,lineJoin:"round"},e);
if(a&&a.length){c.beginPath();var g=a[0];c.moveTo(g.w,g.h);d=!0;for(h=1;h<a.length;h++)g=a[h],c.lineTo(g.w,g.h);c.closePath()}d&&(e.strokeStyle&&(c.lineWidth=e.lineWidth,c.strokeStyle=e.strokeStyle,c.lineJoin=e.lineJoin,c.stroke()),e.fillStyle&&(c.fillStyle=e.fillStyle,c.fill()))};c.prototype.getPoints=function(){return this.points.slice()};c.prototype.setPoints=function(b){this.points=b};c.prototype.isCoordsInBoundingBox=function(b,a,c){b=b&&"undefined"!==typeof b.left?b:this.getBoundingBox(b);return a>=
b.left&&a<=b.left+b.width&&c>=b.top&&c<=b.top+b.height};c.prototype.getBoundingBox=function(b){b=b||this.points;var a={top:Number.MAX_VALUE,bottom:Number.MIN_VALUE,left:Number.MAX_VALUE,right:Number.MIN_VALUE},c;if(!b||1>b.length)throw Error("Cannot define bounding box if there are no points, handle this case differently");for(c=0;c<b.length;c++){var d=b[c];d.w<a.left&&(a.left=d.w);d.w>a.right&&(a.right=d.w);d.h<a.top&&(a.top=d.h);d.h>a.bottom&&(a.bottom=d.h)}a.width=a.right-a.left;a.height=a.bottom-
a.top;return a};c.prototype.isPointInsideOrOnEdgeOfPolygon=function(b,a){var c,d=[[-6E7,b[1]],b];if(!a||3>a.length)return!1;var h=0;var g=a[a.length-1];for(c=0;c<a.length;c++){g=[g,a[c]];if(this.isPointOnLineSegment(b,g[0],g[1]))return!0;g=this.intersectSegments(d,g);null!=g&&h++;g=a[c]}return 0<h&&1===h%2};c.prototype.intersectSegments=function(b,a){var c=b[0],d=b[1],h=a[0],g=a[1],k=this.intersectLines(b,a);return null==k?null:!0===k?this.isWithin(h,c,g)?this.isWithin(h,d,g)?[c,d]:this.isWithin(c,
h,d)?[c,h]:[c,g]:this.isWithin(h,d,g)?this.isWithin(c,h,d)?[d,h]:[d,g]:this.isWithin(c,h,d)?this.isWithin(c,g,d)?[h,g]:this.isWithin(h,c,g)?[h,c]:[h,d]:this.isWithin(c,g,d)?this.isWithin(h,c,g)?[c,g]:[d,g]:null:this.isPointOnLineSegment(k,b[0],b[1])&&this.isPointOnLineSegment(k,a[0],a[1])?k:null};c.prototype.intersectLines=function(b,a){if(2!==b.length||2!==a.length)throw Error("Arguments invalid: Please pass 2 arrays of two vectors each");var c=b[0],d=b[1];b=a[0];var h=a[1],g=[d[0]-c[0],d[1]-c[1]];
a=[h[0]-b[0],h[1]-b[1]];var k=this.vectorsEqual(g,[0,0]),m=this.vectorsEqual(a,[0,0]);if(k)return m?this.vectorsEqual(c,b)?c:null:this.isThreePointsOnOneLine(b,h,c)?c:null;if(m)return this.isThreePointsOnOneLine(c,d,b)?b:null;if(0===g[0]&&0===a[0]||0===g[1]&&0===a[1]||this.floatsEqual(g[0]/a[0],g[1]/a[1]))return this.isThreePointsOnOneLine(c,d,b)?!0:null;c=(g[0]*(c[1]-b[1])+g[1]*(b[0]-c[0]))/(g[0]*a[1]-g[1]*a[0]);return[b[0]+c*a[0],b[1]+c*a[1]]};c.prototype.filterLineSegmentsNextToPointAndSortByDistance=
function(b,a){var c=[],d;for(d=0;d<a.length;d++){var h=a[d];var g=this.projectPointOntoLine(b,h[0],h[1]);if(this.isPointOnLineSegment(g,h[0],h[1])){var k=[g[0]-b[0],g[1]-b[1]];c.push({line:h,projection:g,distance:this.vectorNorm(k)})}}c.sort(function(a,b){return a.distance-b.distance});return c};c.prototype.projectPointOntoLine=function(b,a,c){if(a[0]===c[0]&&a[1]===c[1])return[a[0]-b[0],a[1]-b[1]];c=[a[0]-c[0],a[1]-c[1]];var e=0===c[1]?[0,1]:[1,c[0]/c[1]*-1];b=(e[1]*(a[0]-b[0])+e[0]*(b[1]-a[1]))/
(e[0]*c[1]-e[1]*c[0]);return[a[0]+b*c[0],a[1]+b*c[1]]};c.prototype.isPointOnLineSegment=function(b,a,c){return this.isThreePointsOnOneLine(b,a,c)?a[0]!==c[0]?this.isWithin(a[0],b[0],c[0]):this.isWithin(a[1],b[1],c[1]):!1};c.prototype.isThreePointsOnOneLine=function(b,a,c){return this.floatsEqual((a[0]-b[0])*(c[1]-b[1]),(c[0]-b[0])*(a[1]-b[1]))};c.prototype.isWithin=function(b,a,c){return b<=a&&a<=c||c<=a&&a<=b};c.prototype.floatsEqual=function(b,a,c){"undefined"===typeof c&&(c=1E-9);return b===a?
!0:Math.abs((b-a)/a)<=c};c.prototype.vectorNorm=function(b){return Math.sqrt(this.dotProduct(b,b))};c.prototype.dotProduct=function(b,a){var c=0,d;if(b.length!==a.length)throw new Exception("a and b have differing length");for(d=0;d<b.length;d++)c+=b[d]*a[d];return c};c.prototype.pointsToVectors=function(b){var a;if("object"===typeof b){if("undefined"!==typeof b.length){var c=[];for(a=0;a<b.length;a++)c.push(this.pointsToVectors(b[a]));return c}return"undefined"!==typeof b.w?[b.w,b.h]:[b.x,b.y]}};
c.prototype.vectorsEqual=function(b,a){var c;if(b.length!==a.length)return!1;for(c=0;c<b.length;c++)if(!this.floatsEqual(b[c],a[c]))return!1;return!0};c.prototype.pointsToLineSegmentsWithVectors=function(b){var a=this.pointsToVectors(b),c=[];if(!a||2>a.length)return[];if(2===a.length)return c.push([a[0],a[1]]),c;for(b=1;b<a.length;b++)c.push([a[b-1],a[b]]);c.push([a[a.length-1],a[0]]);return c};return function(d){d=d||{};this.each(function(){var a=b(this),e=a.data("polygon");d.call?e&&e[d.call].call(e,
d):e?e.loadOpts(d):(e=new c(a,d),a.data("polygon",e))});return d&&d.instance?this.eq(0).data("polygon"):this}}(jQuery);
jQuery.fn.imageSelect=function(b){var c=["rectangle","ellipse"],d=function(a){a.stopPropagation();a.preventDefault();return!1},a=function(a){return a.originalEvent.touches?{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:{x:a.pageX,y:a.pageY}},e=function(a,b,c,e){a.width=Math.min(b.width,a.width);a.height=Math.min(b.height,a.height);"undefined"!==typeof c&&(a.width=Math.max(c.width,a.width),a.height=Math.max(c.height,a.height));"undefined"!==typeof e&&0!==e&&(a.height>Math.round(a.width*
e)?a.height=Math.floor(a.width*e):a.width=Math.floor(a.height/e));a.left=Math.max(b.left,a.left);a.left=Math.min(b.left+b.width-a.width,a.left);a.top=Math.max(b.top,a.top);a.top=Math.min(b.top+b.height-a.height,a.top);return a},f=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,h=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,g=function(a){a=parseFloat(a);if(isNaN(a))throw Error("Number is not a float");
return Math.round(a)},k=function(a){a=b(a).css("transform");var c;try{if(c=a.match(f))return[[g(c[1]),g(c[2])],[g(c[3]),g(c[4])]];if(c=a.match(h))return[[g(c[1]),g(c[5])],[g(c[2]),g(c[6])]];if("none"===a)return[[1,0],[0,1]]}catch(q){}window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",a);return[[1,0],[0,1]]},m=function(a,c){if(2!==a.length||2!==a[0].length||2!==a[1].length)throw Error("Expecting 2x2 matrix");if(void 0===c.x||void 0===c.y)throw Error("Expecting point to be object like {x: 0, y: 0}");
return b.extend({},c,{x:c.x*a[0][0]+c.y*a[0][1],y:c.x*a[1][0]+c.y*a[1][1]})},l=function(a,b){this.$element=a;this.open(b)};l.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,selection:null};l.prototype.init=function(a){this.options=b.extend({},this.defaults,a);this.matrix=k(this.$element);this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()};this.readSelectionFromOptions();this.readAspectRatioFromOptions();e(this.selection,
this.canvas,this.min,this.aspectRatio)};l.prototype.readSelectionFromOptions=function(){-1===b.inArray(this.options.shape,c)?this.shape=c[0]:this.shape=this.options.shape;var a=this.options.selection;!a||isNaN(a.top)||isNaN(a.height)||isNaN(a.left)||isNaN(a.width)?this.selection=this.selection||{top:this.canvas.top+50,left:this.canvas.left+50,width:this.canvas.width-100,height:this.canvas.height-100}:this.selection={top:parseInt(a.top,10),left:parseInt(a.left,10),width:parseInt(a.width,10),height:parseInt(a.height,
10)}};l.prototype.readAspectRatioFromOptions=function(){var a=this.options.min;this.options.aspectRatio&&(this.aspectRatio=parseFloat(this.options.aspectRatio));this.aspectRatio||(this.aspectRatio=0);this.min=(this.fixedAspectRatio=0!==this.aspectRatio)?1<this.aspectRatio?{width:a,height:a*this.aspectRatio}:{width:a/this.aspectRatio,height:a}:{width:a,height:a}};l.prototype.cssClass=function(a){return this.options.classPrefix+a};l.prototype.createDiv=function(a){return b("\x3cdiv\x3e").addClass(this.cssClass(a))};
l.prototype.buildUI=function(){this.$holder=this.createDiv("holder").css({width:this.$element.width(),height:this.$element.height()}).addClass(this.cssClass(this.shape));this.$backdrop=this.createDiv("backdrop").css({width:this.canvas.width,height:this.canvas.height,top:this.canvas.top,left:this.canvas.left});this.$holder.append(this.$backdrop);this.$selection=this.createDiv("selection");this.$holder.append(this.$selection);this.handleDragging(this.$selection,this.handleCenter);if("rectangle"===this.shape){var a=
this.createDiv("guideline").addClass(this.cssClass("guideline-vertical"));this.$selection.append(a);a=this.createDiv("guideline").addClass(this.cssClass("guideline-horizontal"));this.$selection.append(a);this.fixedAspectRatio||(this.createHandle({top:"0",left:"50%"},this.handleTop),this.createHandle({top:"50%",left:"100%"},this.handleRight),this.createHandle({top:"100%",left:"50%"},this.handleBottom),this.createHandle({top:"50%",left:"0"},this.handleLeft));this.createHandle({top:"0",left:"100%"},
this.handleTopRight);this.createHandle({top:"100%",left:"100%"},this.handleBottomRight);this.createHandle({top:"100%",left:"0"},this.handleBottomLeft);this.createHandle({top:"0",left:"0"},this.handleTopLeft)}else"ellipse"===this.shape&&this.createHandle({top:"86%",left:"86%"},this.handleBottomRight);this.updateUI(!1);this.options.parent?b(this.options.parent).append(this.$holder):this.$element.after(this.$holder);this.repositionUI();this.options.applyTransformations&&this.applyTransformationsToUI();
this.$element.trigger("open",this);this.$backdrop.on("click.imageSelect",d);this.$selection.on("click.imageSelect",this,d);b(window).on("resize.imageSelect",this,this.repositionUI)};l.prototype.repositionUI=function(a){a=a?a.data:this;a.$holder.position({of:a.$element,at:"center",my:"center"})};l.prototype.applyTransformationsToUI=function(a){a:{a=this.$element.css("transform");try{var b=a.match(/matrix\(([^)]+)\)/);if(b){var c=b[1].split(/, ?/);b=[];for(var e=0;e<c.length;e++){var d=c[e];if(-1<d.indexOf("e")||
-1<d.indexOf("E")){var f=parseFloat(d);if(isNaN(f))throw Error("Not a number: '"+d+"'");b.push(""+f.toFixed(19))}else b.push(d)}var g="matrix("+b.join(", ")+")";break a}}catch(y){}g=a}this.$holder.css({transform:g,"-webkit-transform":g});0===m(this.matrix,{x:1,y:0}).x&&(g=(this.$element.width()-this.$element.height())/2,this.$holder.css({"margin-top":+g,"margin-right":-g,"margin-bottom":+g,"margin-left":-g}))};l.prototype.ensureSelectionIsInReasonableBounds=function(a){a.width=Math.max(this.min.width,
a.width);a.width=Math.min(this.canvas.width,a.width);a.height=Math.max(this.min.height,a.height);a.height=Math.min(this.canvas.height,a.height);a.top=Math.max(this.canvas.top,a.top);a.top=Math.min(this.canvas.top+this.canvas.height-a.height,a.top);a.left=Math.max(this.canvas.left,a.left);a.left=Math.min(this.canvas.left+this.canvas.width-a.width,a.left)};l.prototype.enforceAspectRatio=function(a,b){if(!this.fixedAspectRatio)return a;a.height>Math.round(a.width*this.aspectRatio)?a.height=Math.floor(a.width*
this.aspectRatio):a.width=Math.floor(a.height/this.aspectRatio);b&&b.call(this);return a};l.prototype.updateUI=function(a){this.previousSelection&&this.previousSelection.top===this.selection.top&&this.previousSelection.left===this.selection.left&&this.previousSelection.width===this.selection.width&&this.previousSelection.height===this.selection.height||(this.$backdrop&&this.$backdrop.css({"border-top-width":this.selection.top-this.canvas.top,"border-right-width":this.canvas.left+this.canvas.width-
(this.selection.left+this.selection.width),"border-bottom-width":this.canvas.top+this.canvas.height-(this.selection.top+this.selection.height),"border-left-width":this.selection.left-this.canvas.left}),this.$selection&&this.$selection.css({top:this.selection.top-2+"px",left:this.selection.left-2+"px",width:this.selection.width+"px",height:this.selection.height+"px"}),this.previousSelection=b.extend({},this.selection),!1!==a&&this.$element.trigger("update",this.getSelection()))};l.prototype.createHandle=
function(a,b){a=this.createDiv("handle").css(a);this.$selection.append(a);this.handleDragging(a,b)};l.prototype.handleDragging=function(c,e){var d=this;c.on("touchstart.imageSelect mousedown.imageSelect",function(f){if(1===f.which||0===f.which){f.preventDefault();f.stopPropagation();var g={},h=a(f),l=b.extend({},d.selection);b("body").on("touchmove.imageSelect mousemove.imageSelect",function(b){b.preventDefault();b=a(b);g.x=b.x-h.x;g.y=b.y-h.y;g.timeout||(g.timeout=setTimeout(function(){delete g.timeout;
g.moved=!0;d.handleDrag(m(d.matrix,g),l,e)},50))}).one("touchend.imageSelect touchcancel.imageSelect mouseup.imageSelect",function(){b(this).off("touchmove.imageSelect mousemove.imageSelect").off("touchend.imageSelect touchcancel.imageSelect mouseup.imageSelect");d.showAllHandles();g.moved||d.$element.trigger("second_click",d)});d.hideOtherHandles(c)}})};l.prototype.hideOtherHandles=function(a){this.$selection.find("."+this.cssClass("handle")).not(a).addClass(this.cssClass("handle-other"));a.addClass(this.cssClass("handle-selected"))};
l.prototype.showAllHandles=function(){this.$selection.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))};l.prototype.handleDrag=function(a,b,c){if(a=c.call(this,a,b))this.selection.top=Math.round(a.top),this.selection.left=Math.round(a.left),this.selection.width=Math.round(a.width),this.selection.height=Math.round(a.height),this.updateUI()};l.prototype.handleTop=function(a,c){var e=b.extend({},c);e.top+=a.y;e.top=Math.max(this.canvas.top,
e.top);e.top=Math.min(c.top+c.height-this.min.height,e.top);e.height=c.top+e.height-e.top;return e};l.prototype.handleTopRight=function(a,b){var c=this.handleTop(a,this.handleRight(a,b));this.enforceAspectRatio(c,function(){c.top=b.top-(c.height-b.height)});return c};l.prototype.handleRight=function(a,c){var e=b.extend({},c);e.width+=a.x;e.width=Math.max(this.min.width,e.width);e.width=Math.min(this.canvas.left+this.canvas.width-c.left,e.width);return e};l.prototype.handleBottomRight=function(a,b){a=
this.handleBottom(a,this.handleRight(a,b));this.enforceAspectRatio(a);return a};l.prototype.handleBottom=function(a,c){var e=b.extend({},c);e.height+=a.y;e.height=Math.max(this.min.height,e.height);e.height=Math.min(this.canvas.top+this.canvas.height-c.top,e.height);return e};l.prototype.handleBottomLeft=function(a,b){var c=this.handleBottom(a,this.handleLeft(a,b));this.enforceAspectRatio(c,function(){c.left=b.left-(c.width-b.width)});return c};l.prototype.handleLeft=function(a,c){var e=b.extend({},
c);e.left+=a.x;e.left=Math.max(this.canvas.left,e.left);e.left=Math.min(c.left+c.width-this.min.width,e.left);e.width=c.left+e.width-e.left;return e};l.prototype.handleTopLeft=function(a,b){var c=this.handleTop(a,this.handleLeft(a,b));this.enforceAspectRatio(c,function(){c.left=b.left-(c.width-b.width);c.top=b.top-(c.height-b.height)});return c};l.prototype.handleCenter=function(a,c){var e=b.extend({},c);e.top+=a.y;e.top=Math.max(this.canvas.top,e.top);e.top=Math.min(this.canvas.top+this.canvas.height-
c.height,e.top);e.left+=a.x;e.left=Math.max(this.canvas.left,e.left);e.left=Math.min(this.canvas.left+this.canvas.width-c.width,e.left);return e};l.prototype.destroyUI=function(){b(window).off("resize.imageSelect");void 0!==this.$holder&&(this.$holder.off("click.imageSelect"),this.$holder.remove());delete this.$holder;delete this.$backdrop;delete this.$selection;delete this.previousSelection};l.prototype.open=function(a){a=a||{};this.opened&&this.destroyUI();this.init(a);this.buildUI();this.opened=
!0};l.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger("close",this))};l.prototype.destroy=function(){this.close();this.$element.data("image-select",null)};l.prototype.getSelection=function(){return{top:this.selection.top,left:this.selection.left,width:this.selection.width,height:this.selection.height}};var n=function(a){a=a||{};this.each(function(){var c=b(this),e=c.data("image-select");a.call?e&&e[a.call].call(e,a):e?e.open(a):(e=new l(c,a),c.data("image-select",
e))});return a&&a.instance?this.eq(0).data("image-select"):this};n.moveSelectionIntoCanvas=e;return n}(jQuery);
jQuery.fn.imageSelectPolygon=function(b){var c=["polygon"],d=function(a){return a.originalEvent.touches?{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}:{x:a.pageX,y:a.pageY}},a=/matrix\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,e=/matrix3d\(([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+), ([^,]+)\)/,f=function(a){a=parseFloat(a);if(isNaN(a))throw Error("Number is not a float");
return Math.round(a)},h=function(c){c=b(c).css("transform");var d;try{if(d=c.match(a))return[[f(d[1]),f(d[2])],[f(d[3]),f(d[4])]];if(d=c.match(e))return[[f(d[1]),f(d[5])],[f(d[2]),f(d[6])]];if("none"===c)return[[1,0],[0,1]]}catch(n){}window.console&&window.console.log&&window.console.log("ImageEditor: Could not parse matrix string",c);return[[1,0],[0,1]]},g=function(a,c){if(2!==a.length||2!==a[0].length||2!==a[1].length)throw Error("Expecting 2x2 matrix");if(void 0===c.x||void 0===c.y)throw Error("Expecting point to be object like {x: 0, y: 0}");
return b.extend({},c,{x:c.x*a[0][0]+c.y*a[0][1],y:c.x*a[1][0]+c.y*a[1][1]})},k=function(a,b){this.$element=a;this.open(b)};k.prototype.defaults={classPrefix:"image-select-",parent:null,min:40,points:[]};k.prototype.init=function(a){this._ignoreHolderClickUntil=null;this.distanceFromLineForAddPointDetection=10;this.options=b.extend({},this.defaults,a);this.matrix=h(this.$element);this.canvas=this.options.canvas||this.canvas||{top:0,left:0,width:this.$element.width(),height:this.$element.height()};
this.readSelectionFromOptions()};k.prototype.readSelectionFromOptions=function(){-1===b.inArray(this.options.shape,c)?this.shape=c[0]:this.shape=this.options.shape;var a=this.readPoints(this.options.points);this.points=a&&a.length?a:this.points||[{w:this.canvas.left+Math.round(.5*this.canvas.width),h:this.canvas.top+Math.round(1*this.canvas.height/3)},{w:this.canvas.left+Math.round(2*this.canvas.width/3),h:this.canvas.top+Math.round(2*this.canvas.height/3)},{w:this.canvas.left+Math.round(1*this.canvas.width/
3),h:this.canvas.top+Math.round(2*this.canvas.height/3)}]};k.prototype.readPoints=function(a){var b=[],c;if(a&&a.length)for(c=0;c<a.length;c++){var e=a[c];isNaN(e.w)||isNaN(e.h)||(e={w:parseInt(e.w,10),h:parseInt(e.h,10)},b.push(e))}return b};k.prototype.cssClass=function(a){return this.options.classPrefix+a};k.prototype.createDiv=function(a){return b("\x3cdiv\x3e").addClass(this.cssClass(a))};k.prototype.buildUI=function(){var a=this,c=this.createDiv("polygon-helper").css({});this.$holder=this.createDiv("holder").css({width:this.$element.width(),
height:this.$element.height()}).addClass(this.cssClass(this.shape));this.$holder.append(c);this.$drawCanvas=b("\x3ccanvas/\x3e").css({width:this.canvas.width+"px",height:this.canvas.height+"px",top:this.canvas.top,left:this.canvas.left});this.$drawCanvas[0].height=this.canvas.height;this.$drawCanvas[0].width=this.canvas.width;this.$holder.append(this.$drawCanvas);this.polygonTool=this.$drawCanvas.polygon().data("polygon");this.movePolygonIntoCanvas();this.updateUI(!1);this.options.parent?b(this.options.parent).append(this.$holder):
this.$element.after(this.$holder);this.handleDragging(this.$drawCanvas,function(b,c){a.updatePoints(b,c)});this.$holder.on("click",function(b){a._ignoreHolderClickUntil&&(new Date).getTime()<=a._ignoreHolderClickUntil&&(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),a._ignoreHolderClickUntil=null)});this.repositionUI();this.options.applyTransformations&&this.applyTransformationsToUI();this.$element.trigger("open",this);b(window).on("resize.imageSelect",this,this.repositionUI)};
k.prototype.repositionUI=function(a){a=a?a.data:this;a.$holder.position({of:a.$element,at:"center",my:"center"})};k.prototype.applyTransformationsToUI=function(a){a:{a=this.$element.css("transform");try{var b=a.match(/matrix\(([^)]+)\)/);if(b){var c=b[1].split(/, ?/);b=[];for(var e=0;e<c.length;e++){var d=c[e];if(-1<d.indexOf("e")||-1<d.indexOf("E")){var f=parseFloat(d);if(isNaN(f))throw Error("Not a number: '"+d+"'");b.push(""+f.toFixed(19))}else b.push(d)}var h="matrix("+b.join(", ")+")";break a}}catch(u){}h=
a}this.$holder.css({transform:h,"-webkit-transform":h});0===g(this.matrix,{x:1,y:0}).x&&(h=(this.$element.width()-this.$element.height())/2,this.$holder.css({"margin-top":+h,"margin-right":-h,"margin-bottom":+h,"margin-left":-h}))};k.prototype.ensureSelectionIsInReasonableBounds=function(a){a.width=Math.max(this.min.width,a.width);a.width=Math.min(this.canvas.width,a.width);a.height=Math.max(this.min.height,a.height);a.height=Math.min(this.canvas.height,a.height);a.top=Math.max(this.canvas.top,a.top);
a.top=Math.min(this.canvas.top+this.canvas.height-a.height,a.top);a.left=Math.max(this.canvas.left,a.left);a.left=Math.min(this.canvas.left+this.canvas.width-a.width,a.left)};k.prototype.updateUI=function(a){if(this.$holder){var c=this,e=a,d=this.$holder.find("."+this.cssClass("polygon-helper")),f=d.css("border-top-width");var g=null;g=b("\x3cdiv/\x3e",{width:f}).width();d={strokeStyle:d.css("border-top-color"),fillStyle:d.css("background-color"),lineWidth:g};if(null==g||1>g)a=!1,setTimeout(function(){c.updateUI(e)},
10);this.polygonTool.clearCanvas();this.polygonTool.paintPolygonWithPoints(this.$drawCanvas,this.points,d);if(this.points.length!==this.getAllHandles().length&&(this.removeAllHandles(),this.points&&this.points.length))for(g=0;g<this.points.length;g++)this.createHandle(g);!1!==a&&this.$element.trigger("update",this.points)}};k.prototype.createHandle=function(a){var b=this;var c=this.points[a];c=this.createDiv("handle").css({top:c.h,left:c.w});this.$holder.append(c);this.handleDragging(c,function(c,
e){b.updatePoint(c,e,a)})};k.prototype.removeAllHandles=function(){this.getAllHandles().remove()};k.prototype.getAllHandles=function(){return this.$holder.find("."+this.cssClass("handle"))};k.prototype.isHandleOrHasHandleParent=function(a){var c=this.cssClass("handle");a=b(a);return a.hasClass(c)||0<a.parents("."+c).length};k.prototype.handleDragging=function(a,c){var e=this;a.on("touchstart.imageSelect mousedown.imageSelect",function(f){if(1===f.which||0===f.which){f.preventDefault();f.stopPropagation();
var h={},l=d(f),k=e.points.slice(),n=e.isHandleOrHasHandleParent(f.target),m=e.isPageCoordsOnPolygon(l);if(n||m)b("body").on("touchmove.imageSelect mousemove.imageSelect",function(a){a.preventDefault();a=d(a);h.x=a.x-l.x;h.y=a.y-l.y;h.timeout||(h.timeout=setTimeout(function(){delete h.timeout;h.moved=!0;e.handleDrag(g(e.matrix,h),k,c)},50))});b("body").one("touchend.imageSelect touchcancel.imageSelect mouseup.imageSelect",function(a){var c;b(this).off("touchmove.imageSelect mousemove.imageSelect").off("touchend.imageSelect touchcancel.imageSelect mouseup.imageSelect");
"undefined"===typeof a.pageX&&(a.pageX=l.x,a.pageY=l.y);e.showAllHandles();h.moved||(n?e.$element.trigger("second_click",e):(c=e.getClosestLineSegmentResult(e.pageToRelative(a.pageX,a.pageY)))&&c.distance<e.distanceFromLineForAddPointDetection?(e.addPoint(c.projection,c.line),e.updateUI()):m?e.$element.trigger("second_click",e):e.$element.trigger(b.Event("deselect_click",{originalEvent:a,pageX:a.pageX,pageY:a.pageY})));e._ignoreHolderClickUntil=(new Date).getTime()+20});e.hideOtherHandles(a)}})};
k.prototype.hideOtherHandles=function(a){this.$holder.find("."+this.cssClass("handle")).not(a).addClass(this.cssClass("handle-other"));a.addClass(this.cssClass("handle-selected"))};k.prototype.showAllHandles=function(){this.$holder.find("."+this.cssClass("handle")).removeClass(this.cssClass("handle-other")).removeClass(this.cssClass("handle-selected"))};k.prototype.handleDrag=function(a,b,c){c.call(this,a,b);this.updateUI()};k.prototype.pageToRelative=function(a,b){var c=this.$holder.offset();return{w:a-
c.left,h:b-c.top}};k.prototype.vectorToPoint=function(a){return{w:a[0],h:a[1]}};k.prototype.addPoint=function(a,b){var c=null,e=this.polygonTool.pointsToVectors(this.points),d=this.vectorToPoint(a);if(2>this.points.length)this.points.push(d);else if(b){for(a=0;a<e.length;a++){var f=e[a];if(this.polygonTool.vectorsEqual(f,b[0])){var g=a===e.length-1?0:a+1;if(this.polygonTool.vectorsEqual(e[g],b[1])){c=g;break}f=0===a?e.length-1:a-1;if(this.polygonTool.vectorsEqual(e[f],b[1])){c=f;break}}}null==c?this.points.push(d):
this.points.splice(g,0,d)}else this.points.push(d)};k.prototype.updatePoints=function(a,b){var c;for(c=0;c<b.length;c++)this.updatePoint(a,b,c)};k.prototype.updatePoint=function(a,c,e){var d=this.$drawCanvas.position();if(c=c[e])c={w:Math.round(c.w+a.x),h:Math.round(c.h+a.y)},c.h=Math.max(d.top,c.h),c.h=Math.min(d.top+this.$drawCanvas.height(),c.h),c.w=Math.max(d.left,c.w),c.w=Math.min(d.left+this.$drawCanvas.width(),c.w),this.points[e]=c,a=b(this.getAllHandles()[e]),a.css({top:c.h,left:c.w});return c};
k.prototype.destroyUI=function(){b(window).off("resize.imageSelect");void 0!==this.$holder&&(this.$holder.off("click.imageSelect"),this.$holder.remove());delete this.$holder;delete this.$drawCanvas;delete this.$selection};k.prototype.open=function(a){a=a||{};this.opened&&this.destroyUI();this.init(a);this.buildUI();this.opened=!0};k.prototype.close=function(){this.opened&&(this.destroyUI(),this.opened=!1,this.$element.trigger("close",this))};k.prototype.destroy=function(){this.close();this.$element.data("image-select",
null)};k.prototype.getPoints=function(){return this.points.slice()};k.prototype.getClosestLineSegmentResult=function(a){a=this.polygonTool.pointsToVectors(a);a=this.polygonTool.filterLineSegmentsNextToPointAndSortByDistance(a,this.polygonTool.pointsToLineSegmentsWithVectors(this.points));return a.length?a[0]:null};k.prototype.isPageCoordsOnPolygon=function(a){"undefined"!==typeof a.x&&(a={w:a.x,h:a.y});a=this.pageToRelative(a.w,a.h);return this.polygonTool.isPointInsideOrOnEdgeOfPolygon([a.w,a.h],
this.polygonTool.pointsToVectors(this.points))};k.prototype.getBoundingBox=function(){return this.polygonTool.getBoundingBox(this.points)};k.prototype.movePolygonIntoCanvas=function(){var a=this.polygonTool.getBoundingBox(this.points),c=b.extend({},a),e=this.canvas;c.width=Math.min(e.width,c.width);c.height=Math.min(e.height,c.height);c.left=Math.max(e.left,c.left);c.left=Math.min(e.left+e.width-c.width,c.left);c.top=Math.max(e.top,c.top);c.top=Math.min(e.top+e.height-c.height,c.top);e=c.left-a.left;
var d=c.top-a.top,f=c.width/a.width;a=c.height/a.height;var g;for(g=0;g<this.points.length;g++){var h=this.points[g];h.w+=e;h.h+=d;h.w=c.left+(h.w-c.left)*f;h.h=c.top+(h.h-c.top)*a}};return function(a){a=a||{};this.each(function(){var c=b(this),e=c.data("image-select");a.call?e&&e[a.call].call(e,a):e?e.open(a):(e=new k(c,a),c.data("image-select",e))});return a&&a.instance?this.eq(0).data("image-select"):this}}(jQuery);this.CUI=this.CUI||{};this.CUI.imageeditor=this.CUI.imageeditor||{};
this.CUI.imageeditor.Templates=this.CUI.imageeditor.Templates||{};
this.CUI.imageeditor.Templates["crop-popover"]=Handlebars.template({1:function(b,c,d,a,e){d=b.lambda;b=b.escapeExpression;return'    \x3cbutton class\x3d"coral-Button popover-button" name\x3d"aspectRatio" value\x3d"'+b(d(null!=c?c.ratio:c,c))+'"\x3e'+b(d(null!=c?c.name:c,c))+"\x3c/button\x3e\x3cbr/\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f;a=null!=c?c:b.nullContext||{};return'\x3cdiv class\x3d"coral-Popover-content imageeditor-popover-content"\x3e\n  \x3cbutton class\x3d"coral-Button popover-button" name\x3d"aspectRatio" value\x3d"removeCrop"\x3e'+b.escapeExpression((d.i18n||
c&&c.i18n||d.helperMissing).call(a,"removecrop",{name:"i18n",hash:{},data:e}))+"\x3c/button\x3e\x3cbr/\x3e\n"+(null!=(f=d.each.call(a,null!=c?c.aspectRatios:c,{name:"each",hash:{},fn:b.program(1,e,0),inverse:b.noop,data:e}))?f:"")+"\x3c/div\x3e\n"},useData:!0});
this.CUI.imageeditor.Templates.imageeditor=Handlebars.template({compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){return'\x3cdiv class\x3d"imageeditor-container"\x3e\n  \x3cdiv class\x3d"imageeditor-toolbars icongroup"\x3e\x3c/div\x3e\n  \x3cdiv class\x3d"imageeditor-controls"\x3e\n    \x3cdiv class\x3d"imageeditor-imagemap-polygon-helper"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"imageeditor-controls-map-areas"\x3e\x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n'},useData:!0});
this.CUI.imageeditor.Templates["map-popover"]=Handlebars.template({1:function(b,c,d,a,e){return'    \x3cinput class\x3d"coral-Textfield" name\x3d"href" type\x3d"url" placeholder\x3d"'+b.escapeExpression((d.i18n||c&&c.i18n||d.helperMissing).call(null!=c?c:b.nullContext||{},"path",{name:"i18n",hash:{},data:e}))+'" /\x3e\n'},3:function(b,c,d,a,e){var f;a=null!=c?c:b.nullContext||{};var h=d.helperMissing,g=b.escapeExpression;return'    \x3cspan class\x3d"coral-PathBrowser pathbrowser" data-placeholder\x3d"'+
g((d.i18n||c&&c.i18n||h).call(a,"path",{name:"i18n",hash:{},data:e}))+'" data-root-path\x3d"'+g(b.lambda(null!=(f=null!=c?c.pathbrowser:c)?f.rootPath:f,c))+'"\x3e\n      \x3cspan class\x3d"coral-InputGroup"\x3e\n        \x3cinput class\x3d"coral-InputGroup-input js-coral-pathbrowser-input coral-Textfield" type\x3d"text" name\x3d"href"\x3e\n        \x3cspan class\x3d"coral-InputGroup-button"\x3e\n          \x3cbutton class\x3d"coral-Button coral-Button--secondary coral-Button--square js-coral-pathbrowser-button" type\x3d"button" title\x3d"'+
g((d.i18n||c&&c.i18n||h).call(a,"path_picker",{name:"i18n",hash:{},data:e}))+'"\x3e\n            \x3ci class\x3d"coral-Icon coral-Icon--sizeS coral-Icon--folderSearch"\x3e\x3c/i\x3e\n          \x3c/button\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e\n'},5:function(b,c,d,a,e){var f;a=b.escapeExpression;return'    \x3cspan class\x3d"coral-DecoratedTextfield pathbrowser" data-placeholder\x3d"'+a((d.i18n||c&&c.i18n||d.helperMissing).call(null!=c?c:b.nullContext||{},"path",{name:"i18n",
hash:{},data:e}))+'" data-root-path\x3d"'+a(b.lambda(null!=(f=null!=c?c.pathbrowser:c)?f.rootPath:f,c))+'"\x3e\n      \x3cinput class\x3d"js-coral-pathbrowser-input coral-Textfield" type\x3d"text" name\x3d"href"\x3e\n    \x3c/span\x3e\n'},compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f;a=null!=c?c:b.nullContext||{};var h=d.helperMissing,g=b.escapeExpression;return'\x3cdiv class\x3d"imageeditor-map-toolbar toolbar"\x3e\n'+(null!=(f=d["if"].call(a,null!=c?c.noPathbrowser:c,{name:"if",hash:{},
fn:b.program(1,e,0),inverse:b.noop,data:e}))?f:"")+(null!=(f=d["if"].call(a,null!=c?c.pathbrowserPicker:c,{name:"if",hash:{},fn:b.program(3,e,0),inverse:b.noop,data:e}))?f:"")+(null!=(f=d["if"].call(a,null!=c?c.pathbrowserAutocomplete:c,{name:"if",hash:{},fn:b.program(5,e,0),inverse:b.noop,data:e}))?f:"")+'  \x3cinput class\x3d"coral-Textfield" name\x3d"alt" type\x3d"text" placeholder\x3d"'+g((d.i18n||c&&c.i18n||h).call(a,"alt_text",{name:"i18n",hash:{},data:e}))+'" /\x3e\n  \x3cspan class\x3d"coral-Select" data-init\x3d"select"\x3e\n    \x3cbutton class\x3d"coral-Select-button coral-MinimalButton" type\x3d"button"\x3e\n      \x3cspan class\x3d"coral-Select-button-text"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n    \x3cselect class\x3d"coral-Select-select" name\x3d"target"\x3e\n      \x3coption value\x3d""\x3e'+
g((d.i18n||c&&c.i18n||h).call(a,"target",{name:"i18n",hash:{},data:e}))+'\x3c/option\x3e\n      \x3coption value\x3d"_self"\x3e'+g((d.i18n||c&&c.i18n||h).call(a,"same_tab",{name:"i18n",hash:{},data:e}))+'\x3c/option\x3e\n      \x3coption value\x3d"_blank"\x3e'+g((d.i18n||c&&c.i18n||h).call(a,"new_tab",{name:"i18n",hash:{},data:e}))+'\x3c/option\x3e\n      \x3coption value\x3d"_parent"\x3e'+g((d.i18n||c&&c.i18n||h).call(a,"parent_frame",{name:"i18n",hash:{},data:e}))+'\x3c/option\x3e\n      \x3coption value\x3d"_top"\x3e'+
g((d.i18n||c&&c.i18n||h).call(a,"top_frame",{name:"i18n",hash:{},data:e}))+'\x3c/option\x3e\n    \x3c/select\x3e\n  \x3c/span\x3e\n  \x3cspan class\x3d"actions"\x3e\n    \x3cbutton class\x3d"coral-Button coral-Button--square coral-Button--warning imageeditor-map-delete" title\x3d"'+g((d.i18n||c&&c.i18n||h).call(a,"delete",{name:"i18n",hash:{},data:e}))+'"\x3e\n      \x3ci class\x3d"coral-Icon coral-Icon--delete"\x3e\x3c/i\x3e\n    \x3c/button\x3e\n    \x3cbutton class\x3d"coral-Button coral-Button--square imageeditor-map-unlaunch" title\x3d"'+
g((d.i18n||c&&c.i18n||h).call(a,"unlaunch",{name:"i18n",hash:{},data:e}))+'"\x3e\n      \x3ci class\x3d"coral-Icon coral-Icon--close"\x3e\x3c/i\x3e\n    \x3c/button\x3e\n    \x3cbutton class\x3d"coral-Button coral-Button--square coral-Button--primary imageeditor-map-confirm" title\x3d"'+g((d.i18n||c&&c.i18n||h).call(a,"confirm",{name:"i18n",hash:{},data:e}))+'"\x3e\n      \x3ci class\x3d"coral-Icon coral-Icon--check"\x3e\x3c/i\x3e\n    \x3c/button\x3e\n  \x3c/span\x3e\n\x3c/div\x3e\n'},useData:!0});
this.CUI.imageeditor.Templates["toolbar-item"]=Handlebars.template({compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f;a=null!=c?c:b.nullContext||{};var h=d.helperMissing;b=b.escapeExpression;return'\x3cbutton data-action\x3d"'+b((f=null!=(f=d.action||(null!=c?c.action:c))?f:h,"function"===typeof f?f.call(a,{name:"action",hash:{},data:e}):f))+'" title\x3d"'+b((f=null!=(f=d.title||(null!=c?c.title:c))?f:h,"function"===typeof f?f.call(a,{name:"title",hash:{},data:e}):f))+'"\n        class\x3d"coral-Button coral-Button--quiet coral-Button--square '+
b((f=null!=(f=d.addClasses||(null!=c?c.addClasses:c))?f:h,"function"===typeof f?f.call(a,{name:"addClasses",hash:{},data:e}):f))+'"\x3e\n  \x3ci class\x3d"coral-Icon coral-Icon--'+b((f=null!=(f=d.icon||(null!=c?c.icon:c))?f:h,"function"===typeof f?f.call(a,{name:"icon",hash:{},data:e}):f))+'"\x3e\x3c/i\x3e\n\x3c/button\x3e\n'},useData:!0});
this.CUI.imageeditor.Templates.toolbar=Handlebars.template({1:function(b,c,d,a,e){var f;return null!=(f=d["if"].call(null!=c?c:b.nullContext||{},c,{name:"if",hash:{},fn:b.program(2,e,0),inverse:b.noop,data:e}))?f:""},2:function(b,c,d,a,e){var f,h;a=null!=c?c:b.nullContext||{};return'      \x3cdiv class\x3d"imageeditor-toolbar-'+b.escapeExpression((h=null!=(h=d.key||e&&e.key)?h:d.helperMissing,"function"===typeof h?h.call(a,{name:"key",hash:{},data:e}):h))+'-hand-side"\x3e\n        '+(null!=(f=d.each.call(a,
c,{name:"each",hash:{},fn:b.program(3,e,0),inverse:b.noop,data:e}))?f:"")+"\n      \x3c/div\x3e\n"},3:function(b,c,d,a,e){var f;return null!=(f=b.lambda(c,c))?f:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f,h;a=null!=c?c:b.nullContext||{};return'\x3cdiv data-id\x3d"'+b.escapeExpression((h=null!=(h=d.ref||(null!=c?c.ref:c))?h:d.helperMissing,"function"===typeof h?h.call(a,{name:"ref",hash:{},data:e}):h))+'" class\x3d"imageeditor-toolbar"\x3e\n'+(null!=(f=d.each.call(a,null!=c?c.toolbarItems:
c,{name:"each",hash:{},fn:b.program(1,e,0),inverse:b.noop,data:e}))?f:"")+"\x3c/div\x3e\n"},useData:!0});
this.CUI.imageeditor.Templates.toolbars=Handlebars.template({1:function(b,c,d,a,e){var f;return"    "+(null!=(f=b.lambda(c,c))?f:"")+"\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f,h;a=null!=c?c:b.nullContext||{};var g=d.helperMissing;return'\x3cdiv data-type\x3d"'+b.escapeExpression((h=null!=(h=d.type||(null!=c?c.type:c))?h:g,"function"===typeof h?h.call(a,{name:"type",hash:{},data:e}):h))+'"\x3e\n  '+(null!=(f=(h=null!=(h=d.toolbar||(null!=c?c.toolbar:c))?h:g,"function"===typeof h?
h.call(a,{name:"toolbar",hash:{},data:e}):h))?f:"")+"\n"+(null!=(f=d.each.call(a,null!=c?c.replacementToolbars:c,{name:"each",hash:{},fn:b.program(1,e,0),inverse:b.noop,data:e}))?f:"")+"\x3c/div\x3e\n"},useData:!0});
this.CUI.imageeditor.Templates["zoomslider-popover"]=Handlebars.template({compiler:[7,"\x3e\x3d 4.0.0"],main:function(b,c,d,a,e){var f;a=null!=c?c:b.nullContext||{};var h=d.helperMissing;b=b.escapeExpression;return'\x3cdiv class\x3d"coral-Popover-content imageeditor-popover-content"\x3e\n  \x3cdiv class\x3d"coral-Slider popover-slider" data-init\x3d"slider"\x3e\n    \x3cinput type\x3d"range" value\x3d"100" min\x3d"'+b((f=null!=(f=d.zoomMin||(null!=c?c.zoomMin:c))?f:h,"function"===typeof f?f.call(a,
{name:"zoomMin",hash:{},data:e}):f))+'" max\x3d"'+b((f=null!=(f=d.zoomMax||(null!=c?c.zoomMax:c))?f:h,"function"===typeof f?f.call(a,{name:"zoomMax",hash:{},data:e}):f))+'" step\x3d"1"\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n'},useData:!0});
(function(b,c,d,a){var e=function(a){return 0===b(a.target).closest(".imageeditor-container").length};CUI.ImageEditor=new Class({toString:"ImageEditor",extend:CUI.Widget,CSS_LAYOUT_CONSTRAINTS:{"min-height":"minHeight","min-width":"minWidth","max-height":"maxHeight","max-width":"maxWidth"},ZOOM_MIN:.1,ZOOM_MAX:3,registeredActions:null,registeredPlugins:null,defaults:{},elementContext:{},$ui:{},construct:function(a){this.options=a||{};this.i18n=new CUI.imageeditor.I18nProvider},configurePluginsAndActions:function(a){a=
a.plugins||{};var b;for(b in this.registeredPlugins)if(this.registeredPlugins.hasOwnProperty(b)){var c=this.registeredPlugins[b];c.notifyPluginConfig(a[b])}for(var e in this.registeredActions)this.registeredActions.hasOwnProperty(e)&&(c=this.registeredActions[e],c.notifyPluginConfig(a[e]))},bindUIListener:function(a,c,e){c=e?b.proxy(c,e):c;this.$ui.on(a,c)},isAnimated:function(){return!!this._isAnimated},toggleAnimation:function(a){this._isAnimated=a;this.$element&&(this.$element.position(),this.$element.toggleClass("imageeditor-editable-animate",
a));this.$ui&&(this.$ui.position(),this.$ui.toggleClass("imageeditor-container-animate",a),this.$ui.copy&&(this.$ui.copy.position(),this.$ui.copy.toggleClass("imageeditor-editable-copy-animate",a)))},withoutAnimation:function(a){if(!this.isAnimated())return a.call(this);this.toggleAnimation(!1);a=a.call(this);this.toggleAnimation(!0);return a},start:function(a){a=a||{};this.setupTemplates(a.templates);this.setupElementContext();this._zoomFactor=a.zoomFactor;this._zoomFactor||(this._zoomFactor=this.options.zoomFactor);
this._zoomFactor||(this._zoomFactor=1);this.createUI();this.preferCopy()?(this.options.image=b(this.options.image),this.$ui.copy=this.options.image.addClass("imageeditor-editable-copy")):this.$ui.copy=this.$element.clone().addClass("imageeditor-editable-copy");this.$ui.copy.css("margin",0);this.$ui.prepend(this.$ui.copy);this.registeredActions=CUI.imageeditor.actions.ActionRegistry.createRegisteredActions(this);this.registeredPlugins=CUI.imageeditor.plugins.PluginRegistry.createRegisteredPlugins(this);
this.configurePluginsAndActions(a);this.transformResult=this.createTransformResult(a.result);this.installUI();this.createToolbar(a);"fullscreen"===this.options.mode?this.switchToFullscreen():this.switchToInline();this.setupEventHandling();this.$element.trigger("editing-start")},preferCopy:function(){this.options.image&&b(this.options.image).length?this.preferCopy=function(){return!0}:this.preferCopy=function(){return!1};return this.preferCopy()},cancel:function(){this.destroyEventHandling();this.destroyUI();
this.$element.trigger("editing-cancelled")},finish:function(){this.destroyEventHandling();this.destroyUI();this.$element.trigger("editing-finished",{result:this.transformResult.toJSON()})},getImageNaturalSize:function(a){var b={},c=new Image;c.src=a.attr("src");b.w=c.width;b.h=c.height;return b},createToolbar:function(a){var c,e=this.createToolbarBuilder();a=b.extend({},{$editable:this.$ui},a);for(c in this.registeredPlugins)if(this.registeredPlugins.hasOwnProperty(c)){var d=this.registeredPlugins[c];
d.initializeUI(e,a)}this.toolbars={};this.$ui.toolbars={};if(c=e.createToolbar(a,"inline"))this.toolbars.inline=c,this.$ui.toolbars.inline=this.toolbars.inline.getToolbars();if(c=e.createToolbar(a,"fullscreen"))this.toolbars.fullscreen=c,this.$ui.toolbars.fullscreen=this.toolbars.fullscreen.getToolbars()},getToolbarHeight:function(){var a=0;this.$ui.find(".imageeditor-toolbar").each(function(c,e){c=b(e).height();c>a&&(a=c)});return a},createToolbarBuilder:function(){return new CUI.imageeditor.ui.ToolbarBuilder({templates:this.templates})},
createTransformResult:function(a){var b,c=new CUI.imageeditor.TransformResult,e=this.registeredPlugins;for(b in e)if(e.hasOwnProperty(b)){var d=e[b];d.registerTransformFields(c)}a&&c.setTransformValues(a,!1);return c},setupEventHandling:function(){var a=this;this.$element.parents("body").add(document.body).on("tap.imageeditor-ooa click.imageeditor-ooa",function(b){e(b)&&!CUI.imageeditor.UIUtils.isHavingModalParent(b.target)&&a.finish()});b(c).on("resize.imageeditor orientationchange.imageeditor",
function(){a.withoutAnimation(function(){a.updatePreview()})});this.bindUIListener("requestclose",this.finish,this)},destroyEventHandling:function(){this.$element.parents("body").add(document.body).off(".imageeditor-ooa");b(c).off(".imageeditor")},submit:function(){b.ajax({type:"POST",url:"action",data:JSON.stringify(this.transformResult.toJSON()),success:function(){},error:function(){}})},createUI:function(){var a=this.templates.get("imageeditor");this.$ui=b(a({}));"dark"===this.options.theme?(this.$ui.attr("data-theme",
"dark"),this.$ui.addClass("coral--dark")):(this.$ui.removeAttr("data-theme"),this.$ui.removeClass("coral--dark"))},getMode:function(){return"fullscreen"===this.$ui.attr("data-mode")?"fullscreen":"inline"},setMode:function(a){"fullscreen"===a?this.switchToFullscreen():"inline"===a&&this.switchToInline()},switchToFullscreen:function(a){if(!this.toolbars.fullscreen&&!a)return this.switchToInline(!0);this.$ui.attr("data-mode","fullscreen");this.togglePinchZooming(!0);this.withoutAnimation(function(){this.updatePreview();
this.scaleToFitForFullscreen()})},switchToInline:function(a){if(!this.toolbars.inline&&!a)return this.switchToFullscreen(!0);this.$ui.attr("data-mode","inline");this.togglePinchZooming(!1);this.withoutAnimation(function(){this.$element.css(this.createTranslationUtil().getZoomedDimensions());this.updatePreview()})},installStylesheet:function(){var a,b=/\.imageeditor-editable(-animate)?/;var c=this.$element.parents("html").get(0).parentNode;if(!c.getElementById("imageeditor-editable-stylesheet")){var e=
c.createElement("style");e.id="imageeditor-editable-stylesheet";c.getElementsByTagName("head")[0].appendChild(e);for(a=0;a<c.styleSheets.length;a++)if(c.styleSheets[a].ownerNode===e){var m=c.styleSheets[a];break}if(null!==document.styleSheets&&null!==m)for(a=0;a<document.styleSheets.length;a++){c=document.styleSheets[a];try{var l=c.cssRules}catch(n){continue}if(null!==l)for(c=0;c<l.length;c++)e=l[c],e.type===d.STYLE_RULE&&b.test(e.selectorText)&&m.insertRule(e.cssText,m.cssRules.length)}}},installUI:function(){this.options.parent?
b(this.options.parent).append(this.$ui):this.$element.after(this.$ui);this.$clipParent=CUI.imageeditor.UIUtils.getClippingParent(this.$ui);this.uiClipped=this.$clipParent!==a;this.$element.addClass("imageeditor-editable");var c=this.preferCopy()?{width:this.$ui.copy.width(),height:this.$ui.copy.height()}:{width:this.$element.width(),height:this.$element.height()};this.options.overrides&&this.options.overrides.naturalHeight&&this.options.overrides.naturalWidth&&(c={height:this.options.overrides.naturalHeight,
width:this.options.overrides.naturalWidth});this._naturalDimensions=c;this.$ui.copy.data("imageeditor-dimensions",c);this._layoutConstraints={"max-width":this.$ui.copy.css("max-width"),"max-height":this.$ui.copy.css("max-height"),"min-width":this.$ui.copy.css("min-width"),"min-height":this.$ui.copy.css("min-height")};this.$element.css(this.getBaseCssPropertiesForElement());this.$ui.copy.css("margin",0);this.$ui.copy.css(this.getBaseCssPropertiesForCopy());this.$ui.css({height:c.height+"px",width:c.width+
"px"});null!==this.elementContext.iframe&&this.installStylesheet();this.toggleAnimation(!0)},positionUI:function(a){var c=b.proxy(function(c,e){if(this.elementContext.iframe){e=b(this.elementContext.iframe);var d=b(this.elementContext.iframe).offset();c.left+=d.left+parseInt(e.css("border-left-width"),10);c.top+=d.top+parseInt(e.css("border-top-width"),10)}c.top=Math.max(c.top,this.$ui.toolbars.inline.height());b.isFunction(a)?a.call(this,c):this.$ui.css(c)},this);this.$ui.position({using:c,of:this.$element,
my:"left top",at:"left top",collision:"none"})},togglePinchZooming:function(a){var b=this;CUI.imageeditor.UIUtils.removePinchZooming(b.$ui,".imageeditorzoom");a&&CUI.imageeditor.UIUtils.installPinchZooming(b.$ui,".imageeditorzoom",function(){return b.getZoomFactor()},function(a,c){"change"===c?b.zoom(a,!1):b.zoom(a,!0)})},getBaseCssPropertiesForCopy:function(){var a=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{"max-width":"9999px","max-height":"9999px","min-width":"0px",
"min-height":"0px",height:""+a.height+"px",width:""+a.width+"px",clip:"rect(0px, "+a.width+"px, "+a.height+"px, 0px)","transform-origin":"50% 50%",transform:"scale(1)"}},getBaseCssPropertiesForElement:function(){var a=this.createTranslationUtil().getZoomedDimensionsBeforeRotation();return{width:a.width,height:a.height}},destroyUI:function(){var a=this.$ui.copy.data("imageeditor-dimensions");this.$ui.remove();this.toggleAnimation(!1);this.$element.removeClass("imageeditor-editable");this.$element.css(a)},
setupElementContext:function(){this.elementContext=this.elementContext||{};this.elementContext.iframe=CUI.imageeditor.UIUtils.elementInIframe(this.$element);null===this.elementContext.iframe?(this.elementContext.win=c,this.elementContext.doc=document):(this.elementContext.win=this.elementContext.iframe.contentWindow,this.elementContext.doc=this.elementContext.iframe.contentWindow.document)},getCustomAction:function(a){var b,c;if(c=this.registeredActions[a])return c;for(b in this.registeredActions)if(c=
this.registeredActions[b],c.isAction(a))return c;return null},relayAction:function(a,b){CUI.imageeditor.Utils.defer(function(){this.execAction(a,b)},10,this)},execAction:function(a,c){var e=this.getCustomAction(a),d=this,f,h=this.getRotation(),n=this.getImageDisplayDimensions(),p=this.getToolbarHeight(),t=this.getViewportCrop(),q=this.getCrop(),r=this.getFlip();delete q.right;delete q.bottom;a={action:a,value:c,element:this.$ui.copy,editor:this,ui:this.$ui,result:this.transformResult,mode:this.getMode(),
dimensions:n,viewportCrop:t,toolbarHeight:p,canvas:q,rotation:h,flip:r,translate:function(a){var c=h;var e=b.extend({},a);c=(c%360+360)%360;if(a.hasOwnProperty("top")&&a.hasOwnProperty("left"))if(0===c%180){var d=0!==c;e.left=r.horizontal^d?n.width-a.width-a.left:a.left;e.top=r.vertical^d?n.height-a.height-a.top:a.top}else d=90!==c,e.left=r.vertical^d?a.top:n.height-a.height-a.top,e.top=r.horizontal^d?n.width-a.width-a.left:a.left;0!==c%180?(e.width=a.height,e.height=a.width):(e.width=a.width,e.height=
a.height);return e},createTranslationUtil:function(){return d.createTranslationUtil()}};e&&(f=e.execute(a));f&&this.updatePreview();return f},getViewportCrop:function(){var a=this.createTranslationUtil();var e=this.$ui.width();var d=this.$ui.height();var k=b(c);var m=a.rotateDimsIfNecessary(a.getZoomedCropBeforeRotation());var l="fullscreen"===this.getMode()?this.getToolbarHeight():0;if("inline"===this.getMode()){e=a.translate(a.getZoomedCropBeforeRotation());l=this.$ui.copy.offset();m=l.left+e.left;
l=l.top+e.top;a=e.width;e=e.height;d=k.scrollTop();var n=k.scrollLeft();var p=k.width();k=k.height();k={left:Math.max(n,m),top:Math.max(d,l),right:Math.min(n+p,m+a),bottom:Math.min(d+k,l+e)};k={left:Math.max(0,k.left-m),top:Math.max(0,k.top-l),width:Math.max(0,k.right-k.left),height:Math.max(0,k.bottom-k.top)}}else k={width:Math.min(m.width,e),height:Math.min(m.height,d-l)},k.left=k.width<m.width?(m.width-k.width)/2:0,k.height<m.height?(l=Math.max(0,Math.min(l,m.height-k.height)),k.top=l+(m.height-
k.height-l)/2):k.top=0;return k},getImageDisplayDimensions:function(a){return{width:this.$ui.copy.width(),height:this.$ui.copy.height()}},createTranslationUtil:function(){var a=b.extend({},this.options);a.flip=this.getFlip();a.rotation=this.getRotation();a.zoomFactor="inline"===this.getMode()?1:this.getZoomFactor();a.naturalWidth=this._naturalDimensions.width;a.naturalHeight=this._naturalDimensions.height;a.cropOnOriginal=this.getCrop();this.availableButNotFalse(a,"ignoreCssLayoutConstraints")||this.copyIfAvailable(a,
this._layoutConstraints,this.CSS_LAYOUT_CONSTRAINTS);this.copyIfAvailable(a,this.options,this.CSS_LAYOUT_CONSTRAINTS);this.copyIfAvailable(a,this.options,{width:"fixedWidth",height:"fixedHeight"});return new CUI.imageeditor.TranslationUtil(a)},copyIfAvailable:function(a,c,e){var d,f,g;b.isPlainObject(e)||(e={namesMapping:e});for(f in e)e.hasOwnProperty(f)&&((g=e[f])||(g=f),(d=c[f])||(d=c[f.toLowerCase()]),d||(d=c[g]),d||(d=c[g.toLowerCase()]),d&&(a[g]=d))},availableButNotFalse:function(a,b){return a&&
a.hasOwnProperty(b)?(a=a[b],"string"===typeof a&&a.toLowerCase()in["no","false"]?!1:!0):!1},getCssPropertiesForCopy:function(){var a=this.getBaseCssPropertiesForCopy(),b=this.createTranslationUtil(),c,e,d;for(e in this.registeredActions)if(this.registeredActions.hasOwnProperty(e)&&(c=this.registeredActions[e].toCss(this.transformResult,this.$ui.copy,b)))for(d in c)c.hasOwnProperty(d)&&(a[d]="transform"===d?a[d]+(" "+c[d]):c[d]);return a},getCrop:function(){var a;this.registeredActions.crop&&(a=this.registeredActions.crop.getCurrent(this.transformResult));
a||(a=this._naturalDimensions,a={top:0,left:0,width:a.width,height:a.height});return a},getRotation:function(){var a;this.registeredActions.rotate&&(a=this.registeredActions.rotate.getCurrent(this.transformResult));isNaN(a)&&(a=0);return a},getFlip:function(){var a;this.registeredActions.flip&&(a=this.registeredActions.flip.getCurrent(this.transformResult));a||(a={horizontal:!1,vertical:!1});return a},getZoomFactor:function(){return this._zoomFactor},getZoomLimits:function(){return[this.ZOOM_MIN,
this.ZOOM_MAX]},zoom:function(a,b){a=Math.min(this.ZOOM_MAX,Math.max(this.ZOOM_MIN,a));var c=this;a=Math.round(100*a)/100;a!==this._zoomFactor&&(this._zoomFactor=a,b?this.updatePreview():this.withoutAnimation(function(){c.updatePreview()}))},getCssPropertiesForElement:function(a){var b=this.createTranslationUtil(),c=b.getZoomedDimensionsBeforeRotation(),e={};b=b.getZoomedCropBeforeRotation();var d=this.getRotation();e.width=b.width;e.height=b.height;a["margin-top"]=-b.top;a["margin-right"]=-(c.width-
(b.left+b.width));a["margin-bottom"]=-(c.height-(b.top+b.height));a["margin-left"]=-b.left;0!==d%180&&(c=e.width,e.width=e.height,e.height=c,c=(e.width-e.height)/2,a["margin-left"]+=c,a["margin-right"]+=c,a["margin-top"]-=c,a["margin-bottom"]-=c);"fullscreen"===this.getMode()&&(a["margin-top"]-=Math.floor(e.height/2),a["margin-right"]-=Math.floor(e.width/2),a["margin-bottom"]-=Math.floor(e.height/2),a["margin-left"]-=Math.floor(e.width/2));return e},getCssPropertiesForContainer:function(a){return"fullscreen"===
this.getMode()?this.getCssPropertiesForContainerFullscreen(a):this.getCssPropertiesForContainerInline(a)},getCssPropertiesForContainerFullscreen:function(a){return{left:"",top:""}},getCssPropertiesForContainerInline:function(a){var b,c={width:this.$element.width(),height:this.$element.height()};this.withoutAnimation(function(){this.$element.css(a);this.positionUI(function(a){b=a});this.$element.css(c)});return b},updatePreview:function(){var a=this.getCssPropertiesForCopy(),b=this.getCssPropertiesForElement(a),
c=this.getCssPropertiesForContainer(b);this.$element.css(b);b=navigator&&navigator.userAgent?/.*OS 7.{0,4} like Mac OS X.*/.test(navigator.userAgent):void 0;b?this.updateClipForIosV7(a):this.$ui.copy.css(a);this.$ui.css(c)},scaleToFitForFullscreen:function(){var a=this.getViewportCrop(),b=this.createTranslationUtil(),c=b.translate(b.getZoomedCropBeforeRotation(),"zoomed");b=1;c.width>a.width&&(b=a.width/c.width);c.height>a.height&&(a=a.height/c.height,a<b&&(b=a));this.zoom(this.getZoomFactor()*b,
!0)},updateClipForIosV7:function(a){var b=this.$ui.copy,c=a.clip||"",e=b.css("clip");c.replace(/, ?/g," ")===e||"rect(0px, 0px, 0px, 0px)"===c&&"auto"===e?b.css(a):(a.clip="rect(0px, 0px, 0px, 0px);",b.css(a),setTimeout(function(){b.css("clip",c)},1E3))},setupTemplates:function(a){a&&b.isFunction(a.get)?this.templates=a:b.isPlainObject(a)?this.templates=new CUI.imageeditor.TemplateProvider(a):this.templates||(this.templates=new CUI.imageeditor.TemplateProvider)}});CUI.util.plugClass(CUI.ImageEditor,
"imageEditor",function(a){CUI.imageeditor.OptionsUtils.loadOptionsAndStartEditing(a,b(this))});CUI.options.dataAPI&&b(function(){b(document.body).on("click.imageeditor.data-api",'img[data-editable\x3d"true"],img[data-editable\x3d""]',function(a){e(a)&&!CUI.imageeditor.UIUtils.isHavingModalParent(a.target)&&b(this).imageEditor()})})})(jQuery,this,window.CSSRule);window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.commons=window.Coral.templates.commons||{};window.Coral.templates.commons.resizeListener=function(b){b=document.createElement("object");b.setAttribute("aria-hidden","true");b.setAttribute("tabindex","-1");b.setAttribute("style","display:block; position:absolute; top:0; left:0; height:100%; width:100%; opacity:0; overflow:hidden; z-index:-100;");b.textContent="\u200b";return b};
(function(){"hidden"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(b){b?this.setAttribute("hidden",""):this.removeAttribute("hidden")},configurable:!0})})();
(function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=b.length;0<=--c&&b.item(c)!==this;);return-1<c})})();
(function(){Element.prototype.closest||(Element.prototype.closest=function(b){for(var c=this;c;){if(c.matches(b))return c;c=c.parentElement}return null})})();
"undefined"==typeof WeakMap&&!function(){var b=Object.defineProperty,c=Date.now()%1E9,d=function(){this.name="__st"+(1E9*Math.random()>>>0)+(c++ +"__")};d.prototype={set:function(a,c){var e=a[this.name];return e&&e[0]===a?e[1]=c:b(a,this.name,{value:[a,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}};window.WeakMap=
d}();
(function(b){function c(){r=!1;var a=u;u=[];a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();d(a);c.length&&(a.callback_(c,a),b=!0)});b&&c()}function d(a){a.nodes_.forEach(function(b){(b=n.get(b))&&b.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function a(a,b){for(var c=a;c;c=c.parentNode){var e=n.get(c);if(e)for(var d=0;d<e.length;d++){var f=e[d],g=f.options;(c===a||g.subtree)&&(g=b(g))&&f.enqueue(g)}}}function e(a){this.callback_=a;
this.nodes_=[];this.records_=[];this.uid_=++z}function f(a,b){this.type=a;this.target=b;this.addedNodes=[];this.removedNodes=[];this.oldValue=this.attributeNamespace=this.attributeName=this.nextSibling=this.previousSibling=null}function h(a,b){return l=new f(a,b)}function g(a){if(m)a=m;else{var b=l,c=new f(b.type,b.target);a=(m=(c.addedNodes=b.addedNodes.slice(),c.removedNodes=b.removedNodes.slice(),c.previousSibling=b.previousSibling,c.nextSibling=b.nextSibling,c.attributeName=b.attributeName,c.attributeNamespace=
b.attributeNamespace,c.oldValue=b.oldValue,c),m.oldValue=a,m)}return a}function k(a,b,c){this.observer=a;this.target=b;this.options=c;this.transientObservedNodes=[]}var m,l;if(!b.JsMutationObserver){var n=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))var p=setTimeout;else if(window.setImmediate)p=window.setImmediate;else{var t=[],q=String(Math.random());window.addEventListener("message",function(a){a.data===q&&(a=t,t=[],a.forEach(function(a){a()}))});p=function(a){t.push(a);window.postMessage(q,
"*")}}var r=!1;var u=[];var z=0;e.prototype={observe:function(a,b){if(a=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a,!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var c=n.get(a);c||n.set(a,c=[]);for(var e,d=0;d<c.length;d++)if(c[d].observer===this){e=c[d];e.removeListeners();e.options=b;break}e||(e=new k(this,a,b),
c.push(e),this.nodes_.push(a));e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){a=n.get(a);for(var b=0;b<a.length;b++){var c=a[b];if(c.observer===this){c.removeListeners();a.splice(b,1);break}}},this);this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};k.prototype={enqueue:function(a){var b=this.observer.records_,e=b.length;if(0<b.length){var d=b[e-1];if(d=d===a?d:!m||d!==m&&d!==l?null:m)return void(b[e-1]=d)}else u.push(this.observer),r||
(r=!0,p(c));b[e]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0);b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.addEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&
a.removeEventListener("DOMAttrModified",this,!0);b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.removeEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a);this.transientObservedNodes.push(a);var b=n.get(a);b||n.set(a,b=[]);b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=
[];a.forEach(function(a){this.removeListeners_(a);a=n.get(a);for(var b=0;b<a.length;b++)if(a[b]===this){a.splice(b,1);break}},this)},handleEvent:function(b){switch(b.stopImmediatePropagation(),b.type){case "DOMAttrModified":var c=b.attrName,e=b.relatedNode.namespaceURI,d=b.target,f=new h("attributes",d);f.attributeName=c;f.attributeNamespace=e;var k=b.attrChange===MutationEvent.ADDITION?null:b.prevValue;a(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(c)||
-1!==a.attributeFilter.indexOf(e)))return a.attributeOldValue?g(k):f});break;case "DOMCharacterDataModified":d=b.target;f=h("characterData",d);k=b.prevValue;a(d,function(a){if(a.characterData)return a.characterDataOldValue?g(k):f});break;case "DOMNodeRemoved":this.addTransientObserver(b.target);case "DOMNodeInserted":var n,p=b.target;"DOMNodeInserted"===b.type?(d=[p],n=[]):(d=[],n=[p]);var q=p.previousSibling;p=p.nextSibling;f=h("childList",b.target.parentNode);f.addedNodes=d;f.removedNodes=n;f.previousSibling=
q;f.nextSibling=p;a(b.relatedNode,function(a){if(a.childList)return f})}l=m=void 0}};b.JsMutationObserver=e;b.MutationObserver||(b.MutationObserver=e,e._isPolyfilled=!0)}})(self);
(function(b){if(!window.performance||!window.performance.now){var c=Date.now();window.performance={now:function(){return Date.now()-c}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var a=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return a?function(b){return a(function(){b(performance.now())})}:function(a){return window.setTimeout(a,1E3/60)}}());window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||
window.mozCancelAnimationFrame||function(a){clearTimeout(a)}}());if(!function(){var a=document.createEvent("Event");return a.initEvent("foo",!0,!0),a.preventDefault(),a.defaultPrevented}()){var d=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(d.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}b=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||b&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=
function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail),c},window.CustomEvent.prototype=window.Event.prototype),!window.Event||b&&"function"!=typeof window.Event)b=window.Event,window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");return c.initEvent(a,!!b.bubbles,!!b.cancelable),c},window.Event.prototype=b.prototype})(window.WebComponents);window.CustomElements=window.CustomElements||{flags:{}};
(function(b){var c=b.flags,d=[];b.addModule=function(a){d.push(a)};b.initializeModules=function(){d.forEach(function(a){a(b)})};b.hasNative=!!document.registerElement;b.isIE=/Trident/.test(navigator.userAgent);b.useNative=!c.register&&b.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)})(window.CustomElements);
window.CustomElements.addModule(function(b){function c(b,c){d(b,function(b){return!!c(b)||void a(b,c)});a(b,c)}function d(a,b,c){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)!0!==b(e,c)&&d(e,b,c),e=e.nextElementSibling;return null}function a(a,b){for(a=a.shadowRoot;a;)c(a,b),a=a.olderShadowRoot}function e(a,b,c){if(a=window.wrap(a),!(0<=c.indexOf(a))){c.push(a);for(var d,g=a.querySelectorAll("link[rel\x3d"+f+"]"),h=0,k=g.length;h<k&&
(d=g[h]);h++)d["import"]&&e(d["import"],b,c);b(a)}}var f=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";b.forDocumentTree=function(a,b){e(a,b,[])};b.forSubtree=c});
window.CustomElements.addModule(function(b){function c(b,c){return d(b,c)||a(b,c)}function d(a,c){return!!b.upgrade(a,c)||void(c&&h(a))}function a(a,b){u(a,function(a){if(d(a,b))return!0})}function e(a){x.push(a);y||(y=!0,setTimeout(f))}function f(){y=!1;for(var a,b=x,c=0,e=b.length;c<e&&(a=b[c]);c++)a();x=[]}function h(a){w?e(function(){g(a)}):g(a)}function g(a){a.__upgraded__&&!a.__attached&&(a.__attached=!0,a.attachedCallback&&a.attachedCallback())}function k(a){m(a);u(a,function(a){m(a)})}function m(a){w?
e(function(){l(a)}):l(a)}function l(a){a.__upgraded__&&a.__attached&&(a.__attached=!1,a.detachedCallback&&a.detachedCallback())}function n(a){for(var b=window.wrap(document);a;){if(a==b)return!0;a=a.parentNode||a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host}}function p(a,b){var e;if(r.dom){var d=b[0];if(d&&"childList"===d.type&&d.addedNodes&&d.addedNodes){for(e=d.addedNodes[0];e&&e!==document&&!e.host;)e=e.parentNode;e=e&&(e.URL||e._URL||e.host&&e.host.localName)||"";e=e.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",
b.length,e||"")}var f=n(a);b.forEach(function(a){"childList"===a.type&&(v(a.addedNodes,function(a){a.localName&&c(a,f)}),v(a.removedNodes,function(a){a.localName&&k(a)}))});r.dom&&console.groupEnd()}function t(a){if(!a.__observer){var b=new MutationObserver(p.bind(this,a));b.observe(a,{childList:!0,subtree:!0});a.__observer=b}}function q(a){a=window.wrap(a);r.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop());var b=a===window.wrap(document);c(a,b);t(a);r.dom&&console.groupEnd()}var r=
b.flags,u=b.forSubtree,z=b.forDocumentTree,w=window.MutationObserver._isPolyfilled&&r["throttle-attached"];b.hasPolyfillMutations=w;b.hasThrottledAttached=w;var y=!1,x=[],v=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Element.prototype.createShadowRoot;A&&(Element.prototype.createShadowRoot=function(){var a=A.call(this);return window.CustomElements.watchShadow(this),a});b.watchShadow=function(a){if(a.shadowRoot&&!a.shadowRoot.__watched)for(r.dom&&console.log("watching shadow-root for: ",
a.localName),a=a.shadowRoot;a;)t(a),a=a.olderShadowRoot};b.upgradeDocumentTree=function(a){z(a,q)};b.upgradeDocument=q;b.upgradeSubtree=a;b.upgradeAll=c;b.attached=h;b.takeRecords=function(a){for((a=window.wrap(a))||(a=window.wrap(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(p(a,b.takeRecords()),f())}});
window.CustomElements.addModule(function(b){function c(c,f,h){a.upgrade&&console.group("upgrade:",c.localName);f.is&&c.setAttribute("is",f.is);d(c,f);c.__upgraded__=!0;c.createdCallback&&c.createdCallback();return h&&b.attached(c),b.upgradeSubtree(c,h),a.upgrade&&console.groupEnd(),c}function d(a,b){if(!Object.__proto__)for(var c=b["native"],e={},d=b.prototype;d!==c&&d!==HTMLElement.prototype;){for(var f,l=Object.getOwnPropertyNames(d),n=0;f=l[n];n++)e[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(d,
f)),e[f]=1);d=Object.getPrototypeOf(d)}a.__proto__=b.prototype}var a=b.flags;b.upgrade=function(a,d){if("template"===a.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(a),!a.__upgraded__&&a.nodeType===Node.ELEMENT_NODE){var e=a.getAttribute("is"),f=b.getRegisteredDefinition(a.localName)||b.getRegisteredDefinition(e);if(f&&(e&&f.tag==a.localName||!e&&!f["extends"]))return c(a,f,d)}};b.upgradeWithDefinition=c;b.implementPrototype=d});
window.CustomElements.addModule(function(b){function c(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){d.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){d.call(this,a,null,c)};a.setAttribute._polyfilled=!0}}function d(a,b,c){a=a.toLowerCase();var e=this.getAttribute(a);c.apply(this,arguments);var d=this.getAttribute(a);this.attributeChangedCallback&&d!==e&&this.attributeChangedCallback(a,e,d)}function a(b){return(b=e(b))?a(b["extends"]).concat([b]):
[]}function e(a){if(a)return q[a.toLowerCase()]}function f(a){return function(){return l(r(a.tag),a)}}function h(a,b){a&&(a=a.toLowerCase());b&&(b=b.toLowerCase());var c=e(b||a);if(c&&(a==c.tag&&b==c.is||!b&&!c.is))return new c.ctor;var d;return b?(d=h(a),d.setAttribute("is",b),d):(d=r(a),0<=a.indexOf("-")&&n(d,HTMLElement),d)}function g(a,b){var c=a[b];a[b]=function(){var a=c.apply(this,arguments);return m(a),a}}var k=(b.isIE,b.upgradeDocumentTree),m=b.upgradeAll,l=b.upgradeWithDefinition,n=b.implementPrototype;
var p=b.useNative;var t="annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "),q={},r=document.createElement.bind(document),u=document.createElementNS.bind(document);p=Object.__proto__||p?function(a,b){return a instanceof b}:function(a,b){if(a instanceof b)return!0;for(;a;){if(a===b.prototype)return!0;a=a.__proto__}return!1};g(Node.prototype,"cloneNode");g(document,"importNode");document.registerElement=function(d,g){g=g||{};if(!d)throw Error("document.registerElement: first argument `name` must not be empty");
if(0>d.indexOf("-"))throw Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(d)+"'.");var h;a:{for(h=0;h<t.length;h++)if(d===t[h]){h=!0;break a}h=void 0}if(h)throw Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(d)+"'. The type name is invalid.");if(e(d))throw Error("DuplicateDefinitionError: a type with name '"+String(d)+"' is already registered");g.prototype||(g.prototype=Object.create(HTMLElement.prototype));
g.__name=d.toLowerCase();g["extends"]&&(g["extends"]=g["extends"].toLowerCase());g.lifecycle=g.lifecycle||{};g.ancestry=a(g["extends"]);h=g["extends"];for(var l=0;d=g.ancestry[l];l++)h=d.is&&d.tag;g.tag=h||g.__name;h&&(g.is=g.__name);if(!Object.__proto__){d=HTMLElement.prototype;g.is&&(d=document.createElement(g.tag),d=Object.getPrototypeOf(d));l=g.prototype;for(var n=!1;l;)l==d&&(n=!0),(h=Object.getPrototypeOf(l))&&(l.__proto__=h),l=h;n||console.warn(g.tag+" prototype not found in prototype chain for "+
g.is);g["native"]=d}c(g.prototype);q[g.__name]=g;return g.ctor=f(g),g.ctor.prototype=g.prototype,g.prototype.constructor=g.ctor,b.ready&&k(document),g.ctor};document.createElement=h;document.createElementNS=function(a,b,c){return"http://www.w3.org/1999/xhtml"===a?h(b,c):u(a,b)};b.registry=q;b["instanceof"]=p;b.reservedTagList=t;b.getRegisteredDefinition=e;document.register=document.registerElement});
(function(b){function c(){e(window.wrap(document));window.CustomElements.ready=!0;(window.requestAnimationFrame||function(a){setTimeout(a,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now();window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime);document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var d=b.useNative,a=b.initializeModules;b.isIE;d?(d=function(){},b.watchShadow=d,b.upgrade=
d,b.upgradeAll=d,b.upgradeDocumentTree=d,b.upgradeSubtree=d,b.takeRecords=d,b["instanceof"]=function(a,b){return a instanceof b}):a();var e=b.upgradeDocumentTree,f=b.upgradeDocument;(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(a){return a}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(a){a["import"]&&f(wrap(a["import"]))}),"complete"===document.readyState||
b.flags.eager)?c():"interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready?window.addEventListener(window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded",c):c()})(window.CustomElements);
(function(){var b=document.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var c=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,e=arguments.length;for(c=0;c<e;c++)a=arguments[c],b.call(this,a)}};c("add");c("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)===!b?b:d.call(this,a)}}b=null})();
(function(b){function c(){this._ventPropagationStopped=!0;Event.prototype.stopPropagation.call(this)}function d(){this._ventImmediatePropagationStopped=!0;Event.prototype.stopImmediatePropagation.call(this)}function a(a){if(this===b)throw Error("Vent must be invoked with the new keyword");this.root="string"===typeof a?document.querySelector(a):a;this._listenersByType=Object.create(null);this._allListeners=[];this._executeCaptureListeners=this._executeCaptureListeners.bind(this);this._executeBubbleListeners=
this._executeBubbleListeners.bind(this);this._id=this._id||e++}var e=0,f=/^\s*(>|:scope\s*>)/,h=function(){var a=Element.prototype;a=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;if(!a)throw Error("Vent: Browser does not support matchesSelector");return a}();a.prototype._listenerMatchesRootTarget=function(a,b){return null===a.selector&&b===this.root};a.prototype._listenerMatchesDelegateTarget=function(a,b){return b!==document&&
b!==this.root&&null!==a.selector&&(a.isScoped?h.call(b,'[__vent-id__\x3d"'+this._id+'"] '+a.selector):h.call(b,a.selector))};a.prototype._listenerMatchesEventPhase=function(a,b){return a.useCapture===b};a.prototype._executeListenersAtElement=function(a,b,c,e){var d=0;a:for(;d<b.length;d++){var f=b[d];if(("click"!==c.type||!0!==a.disabled)&&(this._listenerMatchesRootTarget(f,a)||this._listenerMatchesDelegateTarget(f,a))&&this._listenerMatchesEventPhase(f,e)&&(c.matchedTarget=a,f=f.handler.call(a,c),
!1===f&&(c.preventDefault(),c.stopPropagation()),c._ventImmediatePropagationStopped))break a}};a.prototype._executeCaptureListeners=function(a){var b=this._listenersByType[a.type];if(!b)throw Error("Vent: _executeListeners called in response to "+a.type+", but we are not listening to it");if(b.length){b=b.slice();this._decorateEvent(a);var c=this._getPath(a),e=c.length-1;a:for(;0<=e;e--){if(!b.length)break a;this._executeListenersAtElement(c[e],b,a,!0);if(a._ventImmediatePropagationStopped||a._ventPropagationStopped)break a}}this._undecorateEvent(a)};
a.prototype._executeBubbleListeners=function(a){var b=this._listenersByType[a.type];if(!b)throw Error("Vent: _executeListeners called in response to "+a.type+", but we are not listening to it");if(b.length){b=b.slice();this._decorateEvent(a);var c="focus"!==a.type&&"blur"!==a.type,e=this._getPath(a),d=0;a:for(;d<e.length;d++){if(!b.length)break a;this._executeListenersAtElement(e[d],b,a,!1);if(a._ventImmediatePropagationStopped||a._ventPropagationStopped)break a;if(!c)break a}}this._undecorateEvent(a);
a["_ventPath"+this._id]=null};a.prototype._decorateEvent=function(a){a.stopPropagation=c;a.stopImmediatePropagation=d};a.prototype._undecorateEvent=function(a){a.stopPropagation=Event.prototype.stopPropagation;a.stopImmediatePropagation=Event.prototype.stopImmediatePropagation};a.prototype._getPath=function(a){if(a["_ventPath"+this._id])return a["_ventPath"+this._id];var b=a.target;b.nodeType===Node.TEXT_NODE&&(b=b.parentNode);var c=[];for(;b&&b!==this.root;)c.push(b),b=b.parentNode;c.push(this.root);
return a["_ventPath"+this._id]=c};a.prototype.on=function(a,b,c,e){"function"===typeof b&&(e=c,c=b,b=null);if("function"!==typeof c)throw Error("Vent: Cannot add listener with non-function handler");b||(b=null);"undefined"===typeof e&&(e="focus"===a||"blur"===a?!0:!1);var d=null,g=a.indexOf(".");-1!==g&&(d=a.slice(g+1).split("."),a=a.slice(0,g));g=this._listenersByType[a];g||(g=this._listenersByType[a]=[],this.root.addEventListener(a,this._executeCaptureListeners,!0),this.root.addEventListener(a,
this._executeBubbleListeners,!1));var h=b&&f.test(b);h&&(b=b.replace(f,"\x3e"),this.root.setAttribute("__vent-id__",this._id));a={eventName:a,handler:c,namespaces:d,selector:b,useCapture:e,isScoped:h};g.push(a);this._allListeners.push(a)};a.prototype.off=function(a,b,c,e){"function"===typeof b&&(e=c,c=b,b=null);"undefined"===typeof a&&(a=null);"undefined"===typeof b&&(b=null);"undefined"===typeof c&&(c=null);"undefined"===typeof e&&(e=null);var d=null;if(a){var f=a.indexOf(".");-1!==f&&(d=a.slice(f+
1).split("."),a=a.slice(0,f))}""===a&&(a=null);for(var g,h=this._allListeners,l=0;l<h.length;l++){f=h[l];if((g=(null===a||f.eventName===a)&&(null===b||f.selector===b)&&(null===c||f.handler===c)&&(null===e||f.useCapture===e))&&!(g=null===d)&&(g=f.namespaces))a:{g=f.namespaces;for(var k=d,m=0;m<k.length;m++)if(-1===g.indexOf(k[m])){g=!1;break a}g=!0}if(g){this._allListeners.splice(l,1);l--;if(!this._listenersByType[f.eventName])throw Error("Vent: Missing listenersByType for "+f.eventName);g=this._listenersByType[f.eventName].indexOf(f);
if(-1!==g)k=this._listenersByType[f.eventName],k.splice(g,1),0===k.length&&(this.root.removeEventListener(f.eventName,this._executeCaptureListeners,!0),this.root.removeEventListener(f.eventName,this._executeBubbleListeners,!1),this._listenersByType[f.eventName]=null);else throw Error("Vent: Event existed in allEvents, but did not exist in listenersByType");}}return this};a.prototype.dispatch="function"===typeof CustomEvent?function(a,b){b=b||{};"undefined"===typeof b.bubbles&&(b.bubbles=!0);"undefined"===
typeof b.cancelable&&(b.cancelable=!0);a=new CustomEvent(a,b);this.root.dispatchEvent(a);return a}:function(a,b){b=b||{};"undefined"===typeof b.bubbles&&(b.bubbles=!0);"undefined"===typeof b.cancelable&&(b.cancelable=!0);var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);a=!this.root.dispatchEvent(c);a!==c.defaultPrevented&&(c=Object.create(c),Object.defineProperty(c,"defaultPrevented",{value:a}));return c};a.prototype.destroy=function(){this.destroyed||
(this.off(),this.root=this._allListeners=this._listenersByType=null,this.destroyed=!0)};b.Vent=a})(window);var Coral=window.Coral=window.Coral||{};Coral.strings=Coral.strings||{};Coral.strings.generic=Coral.strings.generic||{};Coral.events=new Vent(window);Coral.commons=Coral.commons||{};Coral.commons.extend=function(){for(var b=arguments[0],c=1,d=arguments.length;c<d;c++){var a=arguments[c],e;for(e in a)b[e]=a[e]}return b};
Coral.commons.augment=function(){var b=arguments[0],c=arguments.length,d=arguments[c-1];if("function"===typeof d){var a=d;c--}for(d=1;d<c;d++){var e=arguments[d],f;for(f in e)if("undefined"!==typeof b[f]){if("function"===typeof a){var h=a(b[f],e[f],f,b,e);"undefined"!==typeof h&&(b[f]=h)}}else b[f]=e[f]}return b};Coral.commons.swapKeysAndValues=function(b){var c={},d;for(d in b)c[b[d]]=d;return c};
Coral.commons.nextFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return window.setTimeout(b,1E3/60)}).bind(window);
Coral.commons.transitionEnd=function(b,c){var d=jQuery(b),a,e=!1,f=null,h={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},g=null,k=function(a){a="undefined"===typeof a;e||(e=!0,clearTimeout(g),b.removeEventListener(f,k),c({target:b,cssTransitionSupported:!0,transitionStoppedByTimeout:a}))};for(a in h)if(void 0!==b.style[a]){f=h[a];break}null!==f?(b.addEventListener(f,k),g=setTimeout(k,1E3*parseFloat(d.css("transition-duration"))+
100)):c({target:b,cssTransitionSupported:!1,transitionStoppedByTimeout:!1})};(function(){function b(a,b){window.CustomElements.upgradeAll(a);Coral.commons.nextFrame(function(){b(a)})}var c=[],d=!1;window.addEventListener("WebComponentsReady",function e(){d=!0;for(var f,h=0,g=c.length;h<g;h++)f=c[h],b(f.element,f.callback);c.splice(0,g);window.removeEventListener("WebComponentsReady",e)});Coral.commons.ready=function(e,f){"function"===typeof e&&(f=e,e=window);d?b(e,f):c.push({element:e,callback:f})}})();
Coral.commons.setSubProperty=function(b,c,d){var a=c.split(".");if(1===a.length)b[c]=d;else{for(;1<a.length;){var e=a.shift();if(b[e])b=b[e];else throw Error("Coral.commons.setSubProperty: could not set "+c+", part "+e+" not found");}b[a.shift()]=d}};
Coral.commons.getSubProperty=function(b,c){var d=c.split(".");if(1===d.length)return b[c];for(;d.length;){var a=d.shift();if(0===d.length||"undefined"!==typeof b[a])b=b[a];else throw Error("Coral.commons.getSubProperty: could not get "+c+", part "+a+" not found");}return b};
(function(){function b(b,d,a){var c=typeof d;if("function"===c)d(b,a);else if("object"===c&&null!==d)Coral.commons.extend(b,d);else throw Error("Coral.commons.mixin: Cannot mix in "+c+" to "+b.toString());}Coral.commons.mixin=function(c,d,a){if(Array.isArray(d))for(var e=0;e<d.length;e++)b(c,d[e],a);else b(c,d,a)}})();(function(){var b=0;Coral.commons.getUID=function(){return"coral-id-"+b++}})();
(function(){function b(){}function c(a,b){return function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}}function d(a){return"function"===typeof a}Coral.commons.callAll=function(){var a=arguments[arguments.length-1];"number"!==typeof a&&(a=0);var e=arguments[a],f=Array.prototype.filter.call(arguments,d);if(2===f.length&&0===a)return c(f[0],f[1]);if(1===f.length)return f[0];if(0===f.length)return b;"function"!==typeof e&&(e=f[0]);return function(){for(var a,b,c,d=0;d<f.length;d++)c=
f[d],b=c.apply(this,arguments),c===e&&(a=b);return a}}})();
(function(){function b(){var a=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/);this.useNativeResizeSupport=document.attachEvent&&!a}var c;b.prototype._addTriggerElement=function(a,b){"static"===getComputedStyle(a).position&&(a.style.position="relative");c||(c=Coral.templates.commons.resizeListener.call());var e=c.cloneNode(!0);a._resizeTriggerElement=e;e.onload=function(c){c=this.contentDocument;var e=c.defaultView,d=c.documentElement;e._originalElement=a;e._listenerFunction=
b;e.addEventListener("resize",b);d.lang="en";c.title="\u200b";b({target:e})};e.type="text/html";a.appendChild(e);e.data="about:blank"};b.prototype._removeTriggerElement=function(a){if(a._resizeTriggerElement){var b=a._resizeTriggerElement;b.contentDocument&&b.contentDocument.defaultView&&b.contentDocument.defaultView.removeEventListener("resize",b.contentDocument.defaultView._listenerFunction);a._resizeTriggerElement=!a.removeChild(a._resizeTriggerElement)}};b.prototype._fireResizeListeners=function(a){var b=
a.target||a.srcElement,c=b._originalElement||b;c._resizeListeners.forEach(function(b){b.call(c,a)})};b.prototype.addResizeListener=function(a,b){a&&(this.useNativeResizeSupport?a.addEventListener("resize",b):(a._resizeListeners&&0!==a._resizeListeners.length||(a._resizeListeners=[],this._addTriggerElement(a,this._fireResizeListeners.bind(this))),a._resizeListeners.push(b)))};b.prototype.removeResizeListener=function(a,b){a&&(this.useNativeResizeSupport?a.removeEventListener("resize",b):a._resizeListeners&&
a._resizeTriggerElement&&(b=a._resizeListeners.indexOf(b),-1!==b&&(a._resizeListeners.splice(b,1),a._resizeListeners.length||this._removeTriggerElement(a))))};var d=new b;Coral.commons.addResizeListener=d.addResizeListener.bind(d);Coral.commons.removeResizeListener=d.removeResizeListener.bind(d)})();Coral.transform={};Coral.transform.boolean=function(b){return!!b};Coral.transform.booleanAttr=function(b){return!(null===b||"undefined"===typeof b)};
Coral.transform.number=function(b){b=parseFloat(b);return isNaN(b)?null:b};Coral.transform.float=function(b){return/^(\-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(b)?Number(b):null};Coral.transform.string=function(b){return null===b||"undefined"===typeof b?"":"string"===typeof b?b:String(b)};Coral.validate={};Coral.validate.valueMustChange=function(b,c){return b!==c};Coral.validate.enumeration=function(b){var c=Coral.commons.swapKeysAndValues(b);return function(b,a){return"undefined"!==typeof c[b]}};
Coral.property={};
Coral.property.proxy=function(b){function c(b,c){Coral.commons.setSubProperty(this,a,b)}function d(){return Coral.commons.getSubProperty(this,a)}var a=b.path,e=function(e,h){var f="_"+h;b.needsDOMSync?(b.sync=function(){Coral.commons.setSubProperty(this,a,this[f]);this[f]=void 0},b.set=function(a,b){this[f]=a},b.get=function(){return"undefined"===typeof this[f]?Coral.commons.getSubProperty(this,a):this[f]}):(b.set=c,b.get=d,b.sync=null);return b};e.override="undefined"!==typeof b.override?b.override:
!0;return e};Coral.property.proxyAttr=function(b){var c=b.attribute,d=b.handle,a=function(a,f){return Coral.commons.extend({attribute:c,set:function(a){this._elements[d][!1===a||null===a?"removeAttribute":"setAttribute"](c,a)},get:function(){return this._elements[d].getAttribute(c)}},b)};a.override="undefined"!==typeof b.override?b.override:!0;return a};
Coral.property.contentZone=function(b){var c=b.handle,d=b.tagName,a=b.set,e=b.get,f=b.insert;return function(h,g){b.defaultContentZone&&Object.defineProperty(h,"defaultContentZone",{set:function(a){this[g]=a},get:function(){return this[g]}});return Coral.commons.extend({},b,{contentZone:!0,set:function(b){if(b){if(!(b instanceof HTMLElement))throw Error('DOMException: Failed to set the "'+g+'" property on "'+this.toString()+'": The provided value is not of type "HTMLElement".');if(d&&b.tagName.toLowerCase()!==
d)throw Error('DOMException: Failed to set the "'+g+'" property on "'+this.toString()+'": The new '+g+' element is of type "'+b.tagName+'". It must be a "'+d.toUpperCase()+'" element.');var e=this._elements[c];f?(e&&e.parentNode&&e.parentNode.removeChild(e),f.call(this,b)):e&&e.parentNode?(console.warn(this._componentName+" does not define an insert method for content zone "+c+", falling back to replace."),this._elements[c].parentNode.replaceChild(b,this._elements[c])):(console.error(this._componentName+
" does not define an insert method for content zone "+c+", falling back to append."),this.appendChild(b))}else(e=this._elements[c])&&e.parentNode&&e.parentNode.removeChild(e);this._elements[c]=b;"function"===typeof a&&a.call(this,b)},get:e||function(){return this._elements[c]}})}};Coral=window.Coral=window.Coral||{};"undefined"!==typeof exports&&("undefined"!==typeof module&&module.exports&&(exports=module.exports=Coral),exports=Coral);
(function(){function b(){}function c(a){return a}function d(a,c){if(!c.reflectAttribute)return b;var e=c.attribute||a;return function(a,b){!1===a||null===a?this.removeAttribute(e):(!0===a&&(a=""),this.getAttribute(e)!==a&&this.setAttribute(e,a))}}function a(a){return a?"function"===typeof a?a:function(b,c){return this.trigger(a,{oldValue:c,value:b})}:b}function e(a,c){var e=c.alsoSync;return c.sync||e?e?(Array.isArray(e)?e.unshift(a):e=[a,e],function(a){this._queueSync.apply(this,e)}):function(b){this._queueSync(a)}:
b}function f(b,f,g){if("function"===typeof g.triggerBefore||"string"===typeof g.triggerBefore)var h=g.triggerBefore;else if(!0===g.triggerBefore)if("string"===typeof g.trigger&&-1!==g.trigger.indexOf(":"))h=g.trigger.replace(":",":before");else throw Error('Coral.register: Cannot automatically set "before" event name unless descriptor.trigger is a string that conatins a colon');g.set=g.set||m(f);g.get=g.get||k(f);var l=g._methods;g._methods={};if(l)for(var n in l)g._methods[n]=l[n];g._methods.triggerBefore=
a(h);g._methods.trigger=a(g.trigger);g._methods.transform=g.transform||c;g._methods.attributeTransform=g.attributeTransform||c;g._methods.reflectAttribute=d(f,g);g._methods.queueSync=e(f,g);h=g._methods;l=g.validate?Array.isArray(g.validate)?g.validate:[g.validate]:[Coral.validate.valueMustChange];h.validate=l;b._attributes[g.attribute]=g.attribute?f:null;b._properties[f]=g}function h(a){return function(){return this._properties[a].get.call(this)}}function g(a){return function(b,c){var e=this._properties[a],
d=e._methods,f=d.transform.call(this,b,this._properties[a].default),g=this[a],h=this;if(!d.validate.some(function(a){return!a.call(h,f,g)})){if(!c&&(b=d.triggerBefore.call(this,f,g))&&b.defaultPrevented)return;e.set.call(this,f,c);d.reflectAttribute.call(this,f);d.queueSync.call(this);c||d.trigger.call(this,f,g);this._setProps[a]=!0}}}function k(a){var b="_"+a;return function(){return this[b]}}function m(a){var b="_"+a;return function(a){this[b]=a}}function l(a,b){for(var c in b)b[c]&&n(a,c,b[c])}
function n(a,b,c){if("function"===typeof c&&(c=c(a,b),!c))throw Error("Coral.register.defineProperty: Property function did not return a descriptor for "+b);f(a,b,c);var e=c._methods.set=g(b);c=c._methods.get=h(b);Object.defineProperty(a,b,{enumerable:!0,configurable:!1,set:e,get:c})}function p(a){u[a]=u[a]||Object.getPrototypeOf(document.createElement(a));return u[a]}function t(a,b,c){switch(c){case "sync":case "set":return q(b,a);default:return a}}function q(a,b){return function(){a.apply(this,
arguments);b.apply(this,arguments)}}var r={extend:!0,properties:!0,events:!0,_elements:!0,name:!0,tagName:!0,baseTagName:!0,className:!0},u={};Coral.register=function(a){a.extend&&!a.extend.prototype._methods&&(a.extend=Coral.Component);var b=(a.extend||Coral.Component).prototype,c=b,e=a.properties?Coral.commons.extend({},a.properties):{};a.baseTagName&&(c=p(a.baseTagName));var d=Object.create(c);d._proto=b;if(a.baseTagName){c=[];for(var g=b;g&&g._methods;)c.unshift(g),g=g._proto;for(;g=c.shift();)for(var h in g._methods)d[h]=
g[h]}d._attributes=Coral.commons.extend({},b._attributes);d._properties={};d._events=Coral.commons.extend({},b._events,a.events);d._elements=Coral.commons.extend({},b._elements,a._elements);d._componentName=a.name;d._className=a.className;h=d._methods={};for(var k in a)r[k]||(d[k]=h[k]=a[k]);a.mixins&&Coral.commons.mixin(d,a.mixins,{properties:e});Coral.commons.augment(d._properties,b._properties,e,function(a,b,c){if(!b)return null;if(!0===b.override)return b;a=Coral.commons.augment({},b,a,t);f(d,
c,a);e[c]=void 0;return a});for(var n in d._properties)d._properties[n]||delete d._properties[n];a.baseTagName?l(d,d._properties):l(d,e);b={prototype:d};a.baseTagName&&(b.extends=a.baseTagName);b=document.registerElement(a.tagName,b);Coral.commons.setSubProperty(Coral,a.name,b);return b};Coral.register.defineProperties=l;Coral.register.defineProperty=n;Coral.register.augmentProperties=function(a,b,c){Coral.commons.augment(a,b,function(a,b,e){return!0===a.override?a:Coral.commons.augment({},a,b,c||
t)})}})();Coral.mixin=Coral.mixin||{};
(function(b){function c(a){a=a.target;var b=n[a.tagName];return!a.isContentEditable&&!b}function d(a){a=a.toLowerCase();var b=m[a]||f[a];if(!b&&1<a.length)throw Error("Coral.Keys: Key "+a+" not recognized");return b||a.toUpperCase().charCodeAt(0)}function a(a){return a.toString().split("+").map(d).sort().join("+")}function e(b,d){function n(a){clearTimeout(J);J=setTimeout(x,Coral.Keys.sequenceTime);var b=a.keyCode;b=k[b]||b;h[b]||(-1===D.indexOf(b)&&(D.push(b),m(a)),w.call(this,a),a.metaKey&&v(),
a.target.parentNode||v())}function m(a){for(var b=[],c=0;c<g.length;c++){var e=g[c];a[e]&&b.push(f[e.slice(0,-3)])}F=D.concat(b).sort().join("+")}function p(a){var b=a.keyCode;b=k[b]||b;h[b]?v():(b=D.indexOf(b),-1!==b&&(D.splice(b,1),m(a),w.call(this,a,!0)))}function t(){var a=[];C.forEach(function(b){b.parts[b.currentPart]===F?b.currentPart++:b.currentPart=0;b.currentPart===b.parts.length&&(a.push(b),b.currentPart=0)});return a}function w(a,b){if(F&&I(a)){var c=a.target||a.srcElement,e=[],d=E[F],
f;b||(f=t());d&&d.length&&(e=e.concat(d));f&&f.length&&(e=e.concat(f));if(e&&e.length){for(b=0;b<e.length;b++)if(d=e[b],!d.selector||(d.needsContext?0<=jQuery(d.selector,this).index(c):jQuery.find(d.selector,this,null,[c]).length))a.data=d.data,a.matchedTarget=c,d.listener.call(H||this,a);L&&a.preventDefault();K&&a.stopPropagation()}}}function y(a,b,c,e){var d=E[a];if(d&&d.length)if("undefined"===typeof c&&"undefined"===typeof e&&"undefined"===typeof b)d.length=0;else if("undefined"===typeof e)for(a=
0;a<d.length;a++)d[a].selector===c&&d[a].namespace===b&&(d.splice(a,1),a--);else for(a=0;a<d.length;a++)d[a].listener===e&&d[a].selector===c&&d[a].namespace===b&&(d.splice(a,1),a--)}function x(){clearTimeout(J);C.forEach(function(a){a.currentPart=0})}function v(){D=[];F="";return this}function A(){D=[];F="";E={};C=[];B.addEventListener("keydown",n);window.addEventListener("keyup",p,!0);window.addEventListener("focus",v);return this}d=d||{};if("undefined"===typeof b)throw Error("Coral.Keys: Cannot create a combo handler for "+
b);var B="string"===typeof b?document.querySelector(b):b,H=d.context,I=d.filter||c,L=d.preventDefault||!1,K=d.stopPropagation||!1,E,C,D,F,J;this instanceof e&&A();return{on:function(b,c,e,d){if("object"===typeof b){"string"!==typeof c&&(e=e||c,c=void 0);for(var f in b)this.on(f,c,e,b[f]);return this}"undefined"===typeof e&&"undefined"===typeof d?(d=c,e=c=void 0):"undefined"===typeof d&&("string"===typeof c?(d=e,e=void 0):(d=e,e=c,c=void 0));if("function"!==typeof d)throw Error("Coral.Keys: Cannot add listener of type "+
typeof d);if(f=l.exec(b)){b=f[1];var g=f[2]}f=c?jQuery.expr.match.needsContext.test(d.selector):!1;if(-1!==b.toString().indexOf("-")){var h=b.toString().split("-").map(a);C.push({originalString:b,currentPart:0,parts:h,needsContext:f,selector:c,listener:d,data:e,namespace:g})}else b=a(b),(E[b]=E[b]||[]).push({needsContext:c?jQuery.expr.match.needsContext.test(d.selector):!1,selector:c,listener:d,data:e,namespace:g});return this},off:function(b,c,e){"undefined"===typeof e&&(e=c,c=void 0);var d;if(d=
l.exec(b)){b=d[1];var f=d[2]}if(""===b&&void 0!==f){for(b in E)y(b,f,c,e);for(d=0;d<C.length;d++)C[d].namespace===f&&(C.splice(d,1),d--);return this}if(-1!==b.indexOf("-"))for(d=0;d<C.length;d++)void 0!==b&&C[d].originalString!==b||void 0!==e&&C[d].listener!==e||void 0!==c&&C[d].selector!==c||void 0!==f&&C[d].namespace!==f||(C.splice(d,1),d--);else b=a(b),y(b,f,c,e);return this},reset:v,init:A,destroy:function(){F=D=E=null;B.removeEventListener("keydown",n);window.removeEventListener("keyup",p,!0);
window.removeEventListener("focus",v);return this}}}var f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91,meta:91},h={16:!0,17:!0,18:!0,91:!0},g=["shiftKey","ctrlKey","altKey","metaKey"],k={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57},m={backspace:8,tab:9,"return":13,enter:13,pause:19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,"delete":46,
";":186,"\x3d":187,"*":106,plus:107,minus:189,".":190,period:190,"/":191,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,numlock:144,scroll:145,",":188,"`":192,"[":219,"\\":220,"]":221,"'":222},l=/(.*?)(\..+)$/,n={INPUT:!0,SELECT:!0,TEXTAREA:!0};Coral.Keys=e;Coral.Keys.filterInputs=c;Coral.Keys.keyToCode=d;Coral.Keys.sequenceTime=1500;Coral.keys=new Coral.Keys(document.documentElement,{stopPropagation:!0,
preventDefault:!0})})(jQuery);
(function(){var b=function(b){b=b||{};b.locale&&(this._locale=b.locale)};b.prototype._locale="en-US";Object.defineProperty(b.prototype,"locale",{set:function(b){this._locale=b},get:function(){return this._locale}});b.prototype._evaluate=/(\{.+?\})/g;b.prototype.set=function(){Coral.strings.generic[this._locale]=Coral.strings.generic[this._locale]||{};var b;if(0===arguments.length)return"";if(1===arguments.length)if(arguments[0])if("object"===typeof arguments[0]&&"object"===typeof arguments[0][0])for(var a=
0;a<arguments[0].length;a++){var c=arguments[0][a][0];var f=arguments[0][a][1];(b=arguments[0][a][2])&&(c=c+"/[translation hint:"+b.replace(/&period;/g,".")+"]");Coral.strings.generic[this._locale][c]=f}else throw Error("Coral.i18n.set: Single argument must be an array of key-value pairs.");else throw Error("Coral.i18n.set: Single argument must be an array of arrays of key/value/(translation hint).");else if(2===arguments.length)if("string"===typeof arguments[0]&&arguments[0]&&"string"===typeof arguments[1]&&
arguments[1])c=arguments[0],f=arguments[1],Coral.strings.generic[this._locale][c]=f;else throw Error("Coral.i18n.set: Both arguments must be non-empty string values.");else if(3===arguments.length)if("string"===typeof arguments[0]&&"string"===typeof arguments[1]&&"string"===typeof arguments[2])c=arguments[0],f=arguments[1],b=arguments[2],"null"!==b&&(c=c+"/[translation hint:"+b.replace(/&period;/g,".")+"]"),Coral.strings.generic[this._locale][c]=f;else throw Error("Coral.i18n.set: All arguments must be of string type.");
else throw Error("Coral.i18n.set: Too many arguments provided.");return this};b.prototype.get=function(){if(0===arguments.length)return"";var b=arguments[0].replace(".","\x26period;"),a=b.match(this._evaluate),c=a?a.length:0,f="",h={},g=0,k;if(null!==arguments[1]&&"object"===typeof arguments[1]){h=arguments[1];g="";for(k=0;k<a.length;k++)if(g=a[k].slice(1).slice(0,-1),null===h[g]||"undefined"===typeof h[g])throw Error('Coral.i18n.get: Named key "'+g+'" not present in provided object.');"string"===
typeof arguments[2]&&(f=arguments[2])}else{g=arguments.length-1;if(g===c+1)f=arguments[arguments.length-1];else if(g!==c)throw Error("Coral.i18n.get: Number of variable placeholders ("+c+") does not match number of variables ("+g+").");for(k=0;k<g;k++)h[k]=arguments[k+1]}f&&(b=b+"/[translation hint:"+f+"]");a=b;for(var m in Coral.strings)"undefined"!==typeof Coral.strings[m]&&"undefined"!==typeof Coral.strings[m][this._locale]&&(a=Coral.strings[m][this._locale][b]||a);return 0===c?a:a.replace(this._evaluate,
function(a){a=a.slice(1).slice(0,-1);return h[a]})};var c={en:"en-US","en-us":"en-US",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",nl:"nl-NL","nl-nl":"nl-NL",pt:"pt-BR","pt-br":"pt-BR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"}[document.documentElement.lang.toLowerCase()]||"en-US";Coral.i18n=new b({locale:c})})();
(function(){var b=jQuery,c=/^(\S+)\s*(.*)$/,d=Node.ELEMENT_NODE;Coral.Component=function(){throw Error("Coral.Component is not meant to be invoked directly. Inherit from its prototype instead.");};Coral.Component.prototype=Object.create(HTMLElement.prototype);Coral.Component.prototype._properties={};Coral.Component.prototype.toString=function(){return"Coral."+this._componentName};Coral.Component.prototype._events={};Coral.Component.prototype.createdCallback=function(){this.toString!==Coral.Component.prototype.toString&&
(this.toString=Coral.Component.prototype.toString);this._setProps={};this._syncQueue=[];this._syncDOM=this._syncDOM.bind(this);this.$=b(this);this._vent=new Vent(this);this._className&&this.classList.add.apply(this.classList,this._className.split(" "));this._elements={};"function"===typeof this._render&&this._render();var a;this._contentZones={};var c={};for(a in this._properties){var d=this._properties[a];d.contentZone&&(this._contentZones[d.tagName]&&console.warn('Coral.Component: content zone for "%s" is already defined',
d.tagName),this._contentZones[d.tagName]=a);var g=d.attribute||a;c[a]=this.getAttribute(g)}for(a in this._properties){d=this._properties[a];var k=d._methods;g=c[a];if(null!==g&&(k.attributeTransform&&(g=k.attributeTransform.call(this,g,d.default)),d.transform&&(g=k.transform.call(this,g,d.default)),k.validate))for(var m=0;m<k.validate.length;m++)if(!k.validate[m].call(this,g)){g=null;break}if(null===g){if(this._setProps[a])continue;g="function"===typeof d.default?d.default.call(this):d.default;if("undefined"===
typeof g)continue}this.set(a,g,!0)}this._delegateEvents();"function"===typeof this._initialize&&this._initialize();Object.keys(this._contentZones).length&&(this._observer=new MutationObserver(this._handleContentZones.bind(this)),this._observer.observe(this,{childList:!0,subtree:!1}));this._componentReady=!0};Coral.Component.prototype._handleContentZones=function(a){for(var b,c,e,k,m=0,l=a.length;m<l;m++){b=a[m];c=b.addedNodes;e=b.removedNodes;for(var n=0,p=e.length;n<p;n++)b=e[n],b.nodeType===d&&
(k=b.tagName.toLowerCase(),(k=this._contentZones[k])&&this[k]===b&&null===b.parentNode&&(this[k]=void 0));e=0;for(n=c.length;e<n;e++)b=c[e],b.nodeType===d&&(k=b.tagName.toLowerCase(),(k=this._contentZones[k])&&this[k]!==b&&(this[k]=b))}};Coral.Component.prototype._filterKeys=function(){return!0};Coral.Component.prototype.attachedCallback=function(){this.trigger("coral-component:attached");this._delegateGlobalEvents()};Coral.Component.prototype.detachedCallback=function(){this.trigger("coral-component:detached");
this._undelegateGlobalEvents()};Coral.Component.prototype.attributeChangedCallback=function(a,b,c){a=this._attributes[a]||a;var e=this._properties[a];if("undefined"!==typeof e){if(null===e.attribute)return;["attributeTransform","transform"].forEach(function(a){(a=e._methods[a])&&(c=a.call(this,c,e.default))},this);c!==this[a]&&(this[a]=c)}this._properties["_"+a]&&this._properties["_"+a].set.call(this,c)};Coral.Component.prototype._queueSync=function(){for(var a=0,b=arguments.length;a<b;a++){var c=
arguments[a],d=this._syncQueue.indexOf(c);-1!==d&&this._syncQueue.splice(d,1);this._syncQueue.push(c)}this._syncPending||(Coral.commons.nextFrame(this._syncDOM),this._syncPending=!0)};Coral.Component.prototype._syncProp=function(a,b){var c=this._properties[a].sync;c?c.call(this):console.warn("Coral.Component: sync method for %s is not defined",a);b||(a=this._syncQueue.indexOf(a),-1!==a&&this._syncQueue.splice(a,1))};Coral.Component.prototype._syncDOM=function(){for(var a;a=this._syncQueue.shift();)this._syncProp(a,
!0);this._syncPending=!1};Coral.Component.prototype._delegateEvents=function(){var a,b,d,g,k;for(a in this._events){var m=this._events[a];var l=a.match(c);var n=l[1]+".CoralComponent";l=l[2];""===l&&(l=void 0);if("function"!==typeof m)if("string"===typeof m){if(!this[m])throw Error("Coral.Component: Unable to add "+n+" listener for "+this.toString()+", method "+m+" not found");m=this[m];if("function"!==typeof m)throw Error("Coral.Component: Unable to add "+n+" listener for "+this.toString()+", listener is a "+
typeof m+" but should be a function");}else{if(m)throw Error("Coral.Component: Unable to add "+n+" listener for "+this.toString()+", "+m+" is neither a method name or a function");m=null}if(m){m=m.bind(this);(b=0===n.indexOf("global:"))&&(n=n.substr(7));(k=0===n.indexOf("capture:"))&&(n=n.substr(8));if(d=0===n.indexOf("key:")){if(k)throw Error("Coral.Keys does not currently support listening to key events with capture");n=n.substr(4)}if((g=0===n.indexOf("resize"))&&k)throw Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");
if(b)d?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:n,selector:l,listener:m})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:n,selector:l,listener:m,isCapture:k}));else if(d)this._keys=this._keys||new Coral.Keys(this,{filter:this._filterKeys,context:this}),this._keys.on(n,l,m);else if(g)if(l)for(n=document.querySelectorAll(l),l=0;l<n.length;++l)Coral.commons.addResizeListener(n[l],m);else Coral.commons.addResizeListener(this,m);else this._vent.on(n,
l,m,k)}}};Coral.Component.prototype._undelegateGlobalEvents=function(){var a;if(this._globalEvents)for(a=0;a<this._globalEvents.length;a++){var b=this._globalEvents[a];Coral.events.off(b.eventName,b.selector,b.listener,b.isCapture)}if(this._globalKeys)for(a=0;a<this._globalKeys.length;a++)b=this._globalKeys[a],Coral.keys.off(b.keyCombo,b.selector,b.listener);return this};Coral.Component.prototype._delegateGlobalEvents=function(){var a;if(this._globalEvents)for(a=0;a<this._globalEvents.length;a++){var b=
this._globalEvents[a];Coral.events.on(b.eventName,b.selector,b.listener,b.isCapture)}if(this._globalKeys)for(a=0;a<this._globalKeys.length;a++)b=this._globalKeys[a],Coral.keys.on(b.keyCombo,b.selector,b.listener);return this};Coral.Component.prototype.on=function(a,b,c,d){this._vent.on(a,b,c,d);return this};Coral.Component.prototype.off=function(a,b,c,d){this._vent.off(a,b,c,d);return this};Coral.Component.prototype.trigger=function(a,b,c,d){b=new CustomEvent(a,{bubbles:c||void 0===c,cancelable:d||
void 0===d,detail:b});a=!1;try{a=!this.dispatchEvent(b)}catch(k){}a!==b.defaultPrevented&&(b=Object.create(b),Object.defineProperty(b,"defaultPrevented",{value:a}));return b};Coral.Component.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)};Coral.Component.prototype._doSet=function(a,b,c){var e=this._properties&&this._properties[a];e?!e.contentZone||b instanceof HTMLElement||!this[a].set?e.contentZone&&!(b instanceof HTMLElement)&&"object"===typeof b&&this[a]instanceof
HTMLElement?Object.keys(b).forEach(function(a){this[a]=b[a]},this[a]):e._methods&&e._methods.set?e._methods.set.call(this,b,!!c):this[a]=b:this[a].set(b):this[a]=b};Coral.Component.prototype.set=function(a,b,c){var e;if("string"===typeof a)this._doSet(a,b,c);else for(e in c=b,a)b=a[e],this._doSet(e,b,c);return this};Coral.Component.prototype.get=function(a){return this[a]};Coral.Component.prototype.show=function(){if(!this.hidden)return this;this.hidden=!1;return this};Coral.Component.prototype.hide=
function(){if(this.hidden)return this;this.hidden=!0;return this};Coral.Component.prototype._methods={};for(var a in Coral.Component.prototype)Coral.Component.prototype.hasOwnProperty(a)&&(Coral.Component.prototype._methods[a]=Coral.Component.prototype[a])})();
(function(){function b(a){for(var b=[],c=0,e=b.length=a.length;c<e;c++)b[c]=a[c];return b}function c(a,b){return"function"!==typeof b||b(a)}var d=0;Coral.Collection=function(a){a=a||{};this._id=d++;this._host=a.host;this._itemTagName=a.itemTagName;this._itemBaseTagName=a.itemBaseTagName;var b;if(!(b=a.itemSelector)){b=this._itemTagName;var c=this._itemBaseTagName;b=c?c+'[is\x3d"'+b+'"]':b}this._itemSelector=b;this._container=a.container||this._host;this._filter=a.filter;this._handleItems=!1;this._itemSelector&&
0===this._itemSelector.indexOf(":scope \x3e ")?(this._container.id=this._container.id||"coral-collection-id-"+this._id,this._allItemsSelector=this._itemSelector.replace(":scope \x3e ","#"+this._container.id+" \x3e "),this._itemSelector=this._itemSelector.replace(":scope \x3e ",""),this._itemSelector===this._itemTagName&&(this._useItemTagName=this._itemSelector.toUpperCase())):(this._allItemsSelector=this._itemSelector,this._container&&this._allItemsSelector===this._itemTagName&&(this._liveCollection=
!0,this._useItemTagName=this._allItemsSelector.toUpperCase()));this._onItemAdded=a.onItemAdded;this._onItemRemoved=a.onItemRemoved;this._onCollectionChange=a.onCollectionChange};var a={length:{get:function(){return this.getAll().length}}};Coral.Collection.prototype=Object.create(Object.prototype,a);Coral.Collection.prototype._properties=a;Coral.Collection.prototype.add=function(a,b){if(this._container&&this._itemTagName)return a instanceof HTMLElement||(a=this._itemBaseTagName?document.createElement(this._itemBaseTagName,
this._itemTagName).set(a,!0):document.createElement(this._itemTagName).set(a,!0)),this._container.insertBefore(a,b||null),!this._handleItems&&"function"===typeof this._onItemAdded&&this._host&&c(a,this._filter)&&this._onItemAdded.call(this._host,a),a;throw Error("Please provide host and itemTagName or override add() to provide your own implementation.");};Coral.Collection.prototype.clear=function(){for(var a=this.getAll(),b=[],c=a.length-1;-1<c;c--)b.push(this.remove(a[c]));return b};Coral.Collection.prototype.getAll=
function(){if(this._container&&this._allItemsSelector){var a=this._liveCollection?b(this._container.getElementsByTagName(this._allItemsSelector)):b(this._container.querySelectorAll(this._allItemsSelector));this._filter&&(a=a.filter(this._filter));return a}throw Error("Please provide host and itemTagName or override getAll() to provide your own implementation.");};Coral.Collection.prototype.remove=function(a){a.parentNode&&(a.parentNode.removeChild(a),!this._handleItems&&"function"===typeof this._onItemRemoved&&
this._host&&c(a,this._filter)&&this._onItemRemoved.call(this._host,a));return a};Coral.Collection.prototype.first=function(){return this.getAll()[0]||null};Coral.Collection.prototype.last=function(){var a=this.getAll();return a[a.length-1]||null};Coral.Collection.prototype._isPartOfCollection=function(a){return!(a instanceof Text)&&c(a,this._filter)&&(this._useItemTagName?this._useItemTagName===a.tagName:a.matches(this._itemSelector))};Coral.Collection.prototype._onItemAttached=function(a){"function"===
typeof this._onItemAdded&&this._onItemAdded.call(this._host,a);this._host.trigger("coral-collection:add",{item:a})};Coral.Collection.prototype._onItemDetached=function(a){"function"===typeof this._onItemRemoved&&this._onItemRemoved.call(this._host,a);this._host.trigger("coral-collection:remove",{item:a})};Coral.Collection.prototype._startHandlingItems=function(a){if(this._host&&this._container)this._observer=this._observer||new MutationObserver(this._handleMutation.bind(this)),this._handleItems=!0,
Coral.commons.ready(this._container,function(){this._observer.observe(this._container,{childList:!0,subtree:!0});if(!0!==a){var b=0;if("function"===typeof this._onItemAdded||"function"===typeof this._onCollectionChange){var c=this.getAll();b=c.length}if("function"===typeof this._onItemAdded)for(var e=0;e<b;e++)this._onItemAdded.call(this._host,c[e]);0<b&&"function"===typeof this._onCollectionChange&&this._onCollectionChange.call(this._host,c,[])}}.bind(this));else throw Error("Please provide options.host and/or options.container to enable handling the items.");
};Coral.Collection.prototype._stopHandlingItems=function(){this._observer&&this._observer.disconnect()};Coral.Collection.prototype._handleMutation=function(a){for(var b,c=a.length,e,d,m,l=[],n=[],p=0,t=0;t<c;t++){b=a[t];d=b.addedNodes;m=d.length;for(var q=0;q<m;q++)e=d[q],this._isPartOfCollection(e)&&(p++,l.push(e),this._onItemAttached(e));b=b.removedNodes;d=b.length;for(m=0;m<d;m++)e=b[m],this._isPartOfCollection(e)&&(p++,n.push(e),this._onItemDetached(e))}0!==p&&"function"===typeof this._onCollectionChange&&
this._host&&this._onCollectionChange.call(this._host,l,n)}})();
(function(){Coral.SelectableCollection=function(b){Coral.Collection.apply(this,arguments);this._filter&&console.warn("Coral.SelectableCollection does not support the options.filter");this._selectableItemSelector=this._itemSelector+":not([disabled])";this._deselectAllExceptSelector=this._selectedItemSelector=this._itemSelector+"[selected]"};Coral.SelectableCollection.prototype=Object.create(Coral.Collection.prototype);Coral.SelectableCollection.prototype._getFirstSelectable=function(){return this._host.querySelector(this._selectableItemSelector)||
null};Coral.SelectableCollection.prototype._getLastSelectable=function(){var b=this._host.querySelectorAll(this._selectableItemSelector);return b[b.length-1]||null};Coral.SelectableCollection.prototype._getFirstSelected=function(b){var c=this._selectedItemSelector;"string"===typeof b&&(c=c.replace("[selected]","["+b+"]"));return this._host.querySelector(c)||null};Coral.SelectableCollection.prototype._getLastSelected=function(b){var c=this._selectedItemSelector;"string"===typeof b&&(c=c.replace("[selected]",
"["+b+"]"));b=this._host.querySelectorAll(c);return b[b.length-1]||null};Coral.SelectableCollection.prototype._getAllSelected=function(b){var c=this._selectedItemSelector;"string"===typeof b&&(c=c.replace("[selected]","["+b+"]"));b=this._host.querySelectorAll(c);c=[];for(var d=0,a=c.length=b.length;d<a;d++)c[d]=b[d];return c};Coral.SelectableCollection.prototype._deselectAllExceptFirst=function(b){var c=this._deselectAllExceptSelector,d=b||"selected";"string"===typeof b&&(c=c.replace("[selected]",
"["+b+"]"));b=this._host.querySelectorAll(c);c=b.length;for(var a=1;a<c;a++)b[a].removeAttribute(d)};Coral.SelectableCollection.prototype._deselectAllExceptLast=function(b){var c=this._deselectAllExceptSelector,d=b||"selected";"string"===typeof b&&(c=c.replace("[selected]","["+b+"]"));b=this._host.querySelectorAll(c);c=b.length-1;for(var a=0;a<c;a++)b[a].removeAttribute(d)};Coral.SelectableCollection.prototype._deselectAllExcept=function(b,c){var d=this._deselectAllExceptSelector;if("string"===typeof b){var a=
null;b=b||"selected";d=d.replace("[selected]","["+b+"]")}else a=b,b=c||"selected","string"===typeof c&&(d=d.replace("[selected]","["+b+"]"));c=this._host.querySelectorAll(d);d=c.length;for(var e=0;e<d;e++)a!==c[e]&&c[e].removeAttribute(b)}})();
(function(){function b(){if(l&&l._isOpen){r.some(function(a){if(a.backdrop)return!0})?c():d();var a=r.top();a&&a.instance.trapFocus===n.ON&&a.instance._requestedBackdrop?a&&a.instance.trapFocus===n.ON&&a.instance._requestedBackdrop&&g():k&&(k.style.display="none",m.style.display="none")}}function c(){var a=r.top();if(a){for(var b=q.length-1;-1<b;b--)if(q[b].backdrop){l.style.zIndex=q[b].zIndex-1;break}f(a.instance)}}function d(){document.body.classList.remove("u-coral-noscroll");Coral.commons.nextFrame(function(){l.classList.remove("is-open");
clearTimeout(u);u=setTimeout(function(){l.style.display="none"},Coral.mixin.overlay.FADETIME)});l._isOpen=!1;h()}function a(a,b){document.body.classList.add("u-coral-noscroll");l||(l=document.createElement("div"),l.className="coral-Backdrop",document.body.appendChild(l),l.addEventListener("click",e));l.style.zIndex=a-1;l._isOpen=!0;l.style.display="";Coral.commons.nextFrame(function(){l.classList.add("is-open");clearTimeout(u)});f(b)}function e(a){r.forEach(function(b){"function"===typeof b.instance.backdropClickedCallback&&
b.instance.backdropClickedCallback(a)})}function f(a){for(var b=document.body.children,c=0;c<b.length;c++){var e=b[c];if(e!==a&&!e.contains(a)){var d=e.getAttribute("aria-hidden");if(d){if(e._previousAriaHidden=e._previousAriaHidden||d,"true"===d)continue}else e._previousAriaHidden="false";e.setAttribute("aria-hidden","true")}}a.setAttribute("aria-hidden","false")}function h(){for(var a=document.body.children,b=0;b<a.length;b++){var c=a[b];c.setAttribute("aria-hidden",c._previousAriaHidden||"false")}}
function g(){k?(document.body.firstElementChild!==k&&document.body.insertBefore(k,document.body.firstChild),document.body.lastElementChild!==m&&document.body.appendChild(m)):(k=document.createElement("div"),k.setAttribute("coral-tabcapture",""),k.tabIndex=0,document.body.insertBefore(k,document.body.firstChild),k.addEventListener("focus",function(a){(a=r.top())&&a.instance.trapFocus===n.ON&&a.instance.$.find(":tabbable").not("[coral-tabcapture]").first().focus()}),m=document.createElement("div"),
m.setAttribute("coral-tabcapture",""),m.tabIndex=0,document.body.appendChild(m),m.addEventListener("focus",function(a){(a=r.top())&&a.instance.trapFocus===n.ON&&a.instance.$.find(":tabbable").not("[coral-tabcapture]").last().focus()}));k.style.display="inline";m.style.display="inline"}var k,m,l,n={ON:"on",OFF:"off"},p={ON:"on",OFF:"off"},t={ON:"on",OFF:"off"},q=[],r={pop:function(a){a=this.indexOf(a);if(-1===a)return null;var b=q[a];q.splice(a,1);return b},push:function(a){var b=this.pop(a)||{instance:a},
e=this.getHighestZIndex()+10;b.zIndex=e;a.style.zIndex=e;q.push(b);b.backdrop&&c();return b},indexOf:function(a){for(var b=0;b<q.length;b++)if(q[b].instance===a)return b;return-1},get:function(a){a=this.indexOf(a);return-1===a?null:q[a]},top:function(){var a=q.length;return 0===a?null:q[a-1]},getHighestZIndex:function(){var a=this.top();return a?a.zIndex:1E4},some:function(){return q.some.apply(q,arguments)},forEach:function(){return q.forEach.apply(q,arguments)}},u,z={trapFocus:{attribute:"trapfocus",
default:n.OFF,validate:Coral.validate.enumeration(n),set:function(a){a===n.ON?(0>this.tabIndex&&(this.tabIndex=0),this._elements.topTabCapture=document.createElement("div"),this._elements.topTabCapture.setAttribute("coral-tabcapture","top"),this._elements.topTabCapture.tabIndex=0,this.insertBefore(this._elements.topTabCapture,this.firstElementChild),this._elements.intermediateTabCapture=document.createElement("div"),this._elements.intermediateTabCapture.setAttribute("coral-tabcapture","intermediate"),
this._elements.intermediateTabCapture.tabIndex=0,this.appendChild(this._elements.intermediateTabCapture),this._elements.bottomTabCapture=document.createElement("div"),this._elements.bottomTabCapture.setAttribute("coral-tabcapture","bottom"),this._elements.bottomTabCapture.tabIndex=0,this.appendChild(this._elements.bottomTabCapture),this._handleTabCaptureFocus=this._handleTabCaptureFocus.bind(this),this._handleRootKeypress=this._handleRootKeypress.bind(this),this._vent.on("keydown",this._handleRootKeypress),
this._vent.on("focus","[coral-tabcapture]",this._handleTabCaptureFocus)):this.trapFocus===n.ON&&(this.removeChild(this._elements.topTabCapture),this.removeChild(this._elements.intermediateTabCapture),this.removeChild(this._elements.bottomTabCapture),this._elements.topTabCapture=null,this._elements.intermediateTabCapture=null,this._elements.bottomTabCaptureEl=null,this._vent.off("keydown",this._handleRootKeypress),this._vent.off("focus","[coral-tabcapture]",this._handleTabCaptureFocus));this._trapFocus=
a}},returnFocus:{attribute:"returnfocus",default:p.OFF,validate:Coral.validate.enumeration(p)},focusOnShow:{attribute:"focusonshow",default:t.OFF,validate:[Coral.validate.valueMustChange,function(a){return"string"===typeof a||a instanceof HTMLElement}]},open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:function(a,b){return this.trigger(a?"coral-overlay:beforeopen":"coral-overlay:beforeclose")},set:function(a,b){this._open=
a;this._openSilently=!!b;this.open?this.setAttribute("aria-hidden","false"):this.setAttribute("aria-hidden","true");if(this.parentNode)if(this.open)this._pushOverlay(),this.returnFocus===p.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||(document.activeElement===document.body?null:document.activeElement));else if(this._popOverlay(),this.returnFocus===p.ON&&this._elementToFocusWhenHidden&&(!document.activeElement||this.contains(document.activeElement))){try{this._elementToFocusWhenHidden._ignoreTabCapture=
!0,this._elementToFocusWhenHidden.focus(),this._elementToFocusWhenHidden._ignoreTabCapture=!1}catch(v){}this._elementToFocusWhenHidden=null}},sync:function(){var a=this;if(this.open)if(this.trapFocus!==n.ON||this._elements.topTabCapture===this.firstElementChild&&this._elements.bottomTabCapture===this.lastElementChild&&this._elements.bottomTabCapture.previousElementSibling===this._elements.intermediateTabCapture||(this.insertBefore(this._elements.intermediateTabCapture,this.firstElementChild),this.appendChild(this._elements.intermediateTabCapture),
this.appendChild(this._elements.bottomTabCapture)),this.style.display="block",Coral.commons.nextFrame(function(){a.classList.add("is-open");var b=function(){a.open&&!a._openSilently&&a.trigger("coral-overlay:open")};a._overlayAnimationTime?Coral.commons.transitionEnd(a,b):b()}),this.focusOnShow===t.ON)this.focus();else{if(this.focusOnShow!==t.OFF){var b=this.focusOnShow instanceof HTMLElement?this.focusOnShow:this.querySelector(this.focusOnShow);b&&b.focus()}}else Coral.commons.nextFrame(function(){a.classList.remove("is-open");
var b=function(){a.open||(a.style.display="none",a._openSilently||a.trigger("coral-overlay:close"))};a._overlayAnimationTime?Coral.commons.transitionEnd(a,b):b()})}}},w={detachedCallback:function(){this.open&&(this._popOverlay(),this._requestedBackdrop&&(this._showBackdropOnAttached=!0))},attachedCallback:function(){this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop())},show:function(){this.open=!0;return this},hide:function(){this.open=!1;return this},returnFocusTo:function(a){this.returnFocus===
p.OFF&&(this.returnFocus=p.ON);0>a.tabIndex&&(a.tabIndex=0);this._elementToFocusWhenHidden=a;return this},_isTopOverlay:function(){var a=r.top();return a&&a.instance===this},_pushOverlay:function(){r.push(this)},_popOverlay:function(){r.pop(this);b()},_showBackdrop:function(){var b=r.get(this);b&&(b.backdrop=!0,a(b.zIndex,this));this._requestedBackdrop=!0;this.parentNode||(this._showBackdropOnAttached=!0);this.trapFocus===n.ON&&g()},_hideBackdrop:function(){var a=r.get(this);a&&(a.backdrop=!1,b());
this._requestedBackdrop=!1},_handleRootKeypress:function(a){a.target===this&&9===a.keyCode&&(this._focusOn("first"),a.preventDefault())},_handleTabCaptureFocus:function(a){this._ignoreTabCapture?this._ignoreTabCapture=!1:this._focusOn(a.target===this._elements.intermediateTabCapture?"first":"last")},_focusOn:function(a){"first"===a||"last"===a?(a=this.$.find(":tabbable").not("[coral-tabcapture]")[a](),a.length&&a.focus()):this.focus()}};Coral.mixin.overlay=function(a,b){Coral.register.augmentProperties(b.properties,
z);Coral.commons.augment(a,w,function(a,b,c){return"hide"===c||"show"===c?b:Coral.commons.callAll(b,a)})};Coral.mixin.overlay.prototype=w;Coral.mixin.overlay.FADETIME=350;Coral.mixin.overlay.trapFocus=n;Coral.mixin.overlay.returnFocus=p;Coral.mixin.overlay.focusOnShow=t})();
(function(){var b=function(a){var b=a.itemTagName,c=a.itemBaseTagName;a=(a.itemSelectors||[c?c+'[is\x3d"'+b+'"]':b]).join(",");b={};b["coral-component:attached "+a]="_onItemAttached";return b},c=function(a){var b=a.itemTagName,c=a.itemBaseTagName,d=(a.itemSelectors||[c?c+'[is\x3d"'+b+'"]':b]).join(","),g=a.containerSelector,k={selectedItem:{get:function(){return this.multiple?this.items.getFirstSelected():this.items.getLastSelected()},set:function(){}},selectedItems:{get:function(){return this.items.getSelected()},
set:function(){}},items:{get:function(){if(!this._items){var a=this.querySelector(g);this._items=this._constructCollection({itemTagName:b,itemBaseTag:c,itemSelector:d,container:a})}return this._items},set:function(){}},multiple:{default:!1,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-multiselectable",this.multiple);this._mutateSelection(function(){this.multiple||this.items.deselectAllExceptLast()})}}};"undefined"===typeof a.supportMultiple||
a.supportMultiple||(delete k.selectedItems,k.multiple.get=function(){return!1},k.multiple.set=function(){});return k},d=function(a){var b=a.itemTagName,c=a.itemBaseTagName,d=(a.itemSelectors||[c?c+'[is\x3d"'+b+'"]':b]).join(","),g=a.role||"listbox",k=a.tabIndex,m=a.allowSingleModeDeselect,l=a.forceSelection;return{_onItemAttached:function(a){a=a.target;a.$.is(d)&&a.$.closest(this.tagName.toLowerCase()).is(this)&&(this._boundOnItemDetached||(this._boundOnItemDetached=this._onItemDetached.bind(this)),
a.on("coral-component:detached",this._boundOnItemDetached),this._validateSelection(),this.trigger("coral-collection:add",{item:a}))},_onItemDetached:function(a){var b=a.target;b===a.currentTarget&&(b.off("coral-component:detached",this._boundOnItemDetached),b.selected&&(this._oldSelection=this._getSelection(),this._validateSelection(b)),this.trigger("coral-collection:remove",{item:b}))},_selectItem:function(a){a.disabled||this._mutateSelection(function(){a.selected=m||this.multiple?!a.selected:!0})},
_onItemSelected:function(a){this._mutateSelection(function(){this.multiple||this.items.deselectAllExcept(a)})},_onItemDeselected:function(a){this._mutateSelection(function(){this._validateSelection(a)})},_initialize:function(){this.setAttribute("role",g);"undefined"!==typeof k&&this.setAttribute("tabindex",k);this._validateSelection();this._oldSelection=this._getSelection()},attachedCallback:function(){this.multiple||this.items.deselectAllExceptLast()},_constructCollection:function(a){a.host=this;
return new Coral.mixin.selectionList.Collection(a)},_mutateSelection:function(a){this._increaseMutationCounter();a.call(this);this._decreaseMutationCounter();0===this._mutatingSelection&&(a=this._getSelection(),this._selectionDiffersFromOldSelection(a)&&(this._onSelectionChange(a,this._oldSelection),this._oldSelection=a))},_onSelectionChange:function(a,b){this.trigger(this.tagName.toLowerCase()+":change",{oldSelection:b,selection:a})},_selectionDiffersFromOldSelection:function(a){if(this._isEmptySelection(a)&&
this._isEmptySelection(this._oldSelection))return!1;var b=$.isArray(this._oldSelection),c=$.isArray(a);return b||c?b&&c?this._oldSelection.length!==a.length||0!==$(this._oldSelection).not(a).length:!0:a!==this._oldSelection},_isEmptySelection:function(a){return null===a||"undefined"===typeof a||0===a.length},_getSelection:function(){return this.multiple?this.selectedItems:this.selectedItem},_validateSelection:function(a){l&&0===this.items.getSelected().length&&(a=this.items.getNextSelectable(a))&&
a.setAttribute("selected",!0)},_increaseMutationCounter:function(){"undefined"===typeof this._mutatingSelection?this._mutatingSelection=1:this._mutatingSelection++},_decreaseMutationCounter:function(){this._mutatingSelection--}}};Coral.mixin.selectionList=function(a){return function(e,f){Coral.commons.augment(e,d(a),function(a,b,c){return Coral.commons.callAll(b,a)});e._events=Coral.commons.augment({},e._events,b(a));Coral.register.augmentProperties(f.properties,c(a))}}})();
(function(){var b=function(b){this._host=b.host;this.$host=this._host.$;this._itemTagName=b.itemTagName;this._itemBaseTag=b.itemBaseTag;var c;if(!(c=b.itemSelector)){c=this._itemTagName;var a=this._itemBaseTag;c=a?a+'[is\x3d"'+c+'"]':c}this._itemSelector=c;this._nonNestedItemSelector=this._host.tagName.toLowerCase()+" "+this._itemSelector;this._container=b.container||this._host};b.prototype=Object.create(Coral.Collection.prototype);b.prototype.createElement=function(b,d){return d?document.createElement(d,
b):document.createElement(b)};b.prototype.add=function(b,d){if(!(b instanceof HTMLElement)){var a=b;b=this.createElement(this._itemTagName,this._itemBaseTag,b)}var c=a&&a.selected;a&&(delete a.selected,b.set(a,!0));this._container.insertBefore(b,d||null);c&&(b.selected=c);return b};b.prototype.getAll=function(){return this._getNonNestedItems().toArray()};b.prototype.getNextSelectable=function(b,d){var a=this._getSelectableItems(),c=a.index(b);c=b?c+1:0;return d?a.eq(c%a.length).get(0)||null:c===a.length&&
0!==c?b:a.eq(c).get(0)||null};b.prototype.getPreviousSelectable=function(b,d){var a=this._getSelectableItems(),c=a.index(b);c=b&&-1!==c?c-1:0;return d?a.eq(c).get(0)||null:-1===c?b:a.eq(c).get(0)||null};b.prototype.getFirstSelectable=function(){return this._getSelectableItems().first().get(0)||null};b.prototype.getLastSelectable=function(){return this._getSelectableItems().last().get(0)||null};b.prototype.getSelected=function(){return this._getSelectedItems().toArray()};b.prototype.getFirstSelected=
function(){return this._getSelectedItems().first().get(0)||null};b.prototype.getLastSelected=function(){return this._getSelectedItems().last().get(0)||null};b.prototype.deselectAll=function(){this._getNonNestedItems().filter("[selected]").each(function(){this.removeAttribute("selected")})};b.prototype.deselectAllExcept=function(b){this._getNonNestedItems().filter("[selected]").each(function(){this!==b&&this.removeAttribute("selected")})};b.prototype.deselectAllExceptLast=function(){this._getNonNestedItems().filter("[selected]:not(:last)").each(function(){this.removeAttribute("selected")})};
b.prototype._getNonNestedItems=function(){return this.$host.find(this._itemSelector).not(this.$host.find(this._nonNestedItemSelector))};b.prototype._getSelectableItems=function(){return this._getNonNestedItems().filter(":not([disabled],[hidden])")};b.prototype._getSelectedItems=function(){return this._getNonNestedItems().filter("[selected]:not([disabled])")};Coral.mixin.selectionList.Collection=b})();
(function(){var b=function(b){var a={selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(a){return!a||!this.disabled}],trigger:function(a,b){if(b=this._getSelectionList())a=a?b._onItemSelected:b._onItemDeselected,$.isFunction(a)&&a.call(b,this);return!1},set:function(a,b){this._selected=a},sync:function(){this.$.toggleClass("is-selected",this.selected).attr("aria-selected",this.selected)}},
disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a,b){this._disabled=a;this.selected&&a&&(this.selected=!1)},sync:function(){this.$.toggleClass("is-disabled",this.disabled).attr("aria-disabled",this.disabled)}}};b.alwaysEnabled&&delete a.disabled;return a},c=function(b){var a=b.role||"option",c=b.tabIndex,d=b.listSelector;return{_initialize:function(){this.setAttribute("role",a);"undefined"!==typeof c&&this.setAttribute("tabindex",
c)},_getSelectionList:function(){return this.$.closest(d).get(0)}}};Coral.mixin.selectionList.Item=function(d){return function(a,e){Coral.commons.augment(a,c(d),function(a,b,c){return Coral.commons.callAll(b,a)});Coral.register.augmentProperties(e.properties,b(d))}}})();
(function(){var b="button,input:not([type\x3dhidden]),keygen,meter,output,progress,select,textarea";if(-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/"))b="button,keygen,meter,output,progress,select,textarea,","text password submit reset radio checkbox button color date datetime-local email month number range search tel time url week".split(" ").forEach(function(a){b+='input[type\x3d"'+a+'"],'}),b=b.slice(0,-1);var c={disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,
attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-disabled",this.disabled)}},invalid:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-invalid",this.invalid)}},name:{default:"",reflectAttribute:!0,transform:Coral.transform.string},readOnly:{default:!1,reflectAttribute:!0,attribute:"readonly",transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this.setAttribute("aria-readonly",this.readOnly)}},required:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-required",this.required)}},value:{default:"",transform:Coral.transform.string},labelledBy:{attribute:"labelledby",transform:Coral.transform.string,get:function(){return this._getLabellableElement().getAttribute("aria-labelledby")},set:function(a){var c=this._getLabellableElement(),
d=c.id=c.id||Coral.commons.getUID(),e=c.getAttribute("aria-labelledby");e&&e!==a&&this._updateForAttributes(e,d,!0);a?(c.setAttribute("aria-labelledby",a),c.matches(b)&&this._updateForAttributes(a,d)):c.removeAttribute("aria-labelledby")}}},d={_getLabellableElement:function(){return this.querySelector(b)||this},_getTargetChangeInput:function(){return this._targetChangeInput||(this._targetChangeInput=this._getLabellableElement().matches("input:not([type\x3dhidden])")?this._getLabellableElement():null)},
_onInputChange:function(a){a.stopPropagation();this[this._componentTargetProperty]=a.target[this._eventTargetProperty];this._triggerChangeEvent&&this.trigger("change")},_onFormReset:function(a){a.target.contains(this)&&this.reset()},_onTargetInputChange:function(a){var b=this._getTargetChangeInput();b!==a.target&&null!==b||this._onInputChange(a)},_updateForAttributes:function(a,b,c){a.split(/\s+/).forEach(function(a){if((a=document.getElementById(a))&&"LABEL"===a.tagName){var d=a.getAttribute("for");
c?d===b&&a.removeAttribute("for"):a.setAttribute("for",b)}})},clear:function(){this.value=""},reset:function(){this.value=Coral.transform.string(this.getAttribute("value"))}},a={"capture:change input":"_onTargetInputChange","global:reset":"_onFormReset"},e=["name","value"],f=["disabled","name","required","readOnly","value"],h={_componentTargetProperty:"value",_eventTargetProperty:"value",_triggerChangeEvent:!0};Coral.mixin.formField=function(b,k){Coral.commons.augment(b,d,function(a,b,c){return"reset"===
c||"clear"===c||"_onTargetInputChange"===c||"_onInputChange"===c||"_getTargetChangeInput"===c||"_getLabellableElement"===c?a:Coral.commons.callAll(b,a)});b._events=Coral.commons.augment({},b._events,a);Coral.commons.augment(b,h);for(var g={},l,n=!1;b;){if(b===HTMLInputElement.prototype||b===HTMLTextAreaElement.prototype){n=!0;break}b=Object.getPrototypeOf(b)}for(l in c)n&&-1!==f.indexOf(l)||(g[l]=c[l]);n||e.forEach(function(a){if(g[a]&&(!k.properties[a]||"function"!==typeof k.properties[a].set||"function"!==
typeof k.properties[a].get))throw Error("Coral.mixin.formField: You must implement properties."+a+".set() and properties."+a+".get()");});Coral.register.augmentProperties(k.properties,g)}})();
(function(){var b=/[\s?]coral-Icon--(?!size(XXS|XS|S|M|L))\w+/g,c=/\/|:|\./g,d=/([a-z0-9])([A-Z])/g,a={EXTRA_EXTRA_SMALL:"XXS",EXTRA_SMALL:"XS",SMALL:"S",MEDIUM:"M",LARGE:"L",EXTRA_LARGE:"XL",EXTRA_EXTRA_LARGE:"XXL"},e=[],f;for(f in a)e.push("coral-Icon--size"+a[f]);Coral.register({name:"Icon",tagName:"coral-icon",className:"coral-Icon",properties:{icon:{default:"",reflectAttribute:!0,transform:function(a){return Coral.transform.string(a).trim()},sync:function(){this.className=this.className.replace(b,
"").trim();if(this.icon)if(this.icon.match(c)){this.classList.add("is-image");var a=this._elements.image=this._elements.image||document.createElement("img");a.className=this._className+"-image";a.src=this.icon;this.appendChild(a)}else this._elements.image&&this._elements.image.parentNode===this&&(this.removeChild(this._elements.image),this.classList.remove("is-image")),this.classList.add(this._className+"--"+this._icon)},alsoSync:"alt"},size:{default:a.SMALL,reflectAttribute:!0,transform:function(a){return"string"===
typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.classList.remove.apply(this.classList,e);this.classList.add(this._className+"--size"+this.size)}},alt:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._alt||""},sync:function(){this._updateAltText()}}},_updateAltText:function(){var a=this.classList.contains("is-image");this._alt||(this.removeAttribute("aria-label"),a&&this._elements.image.setAttribute("alt",
""));var b=this._alt||this.hasAttribute("alt")?this.alt:this.getAttribute("title")||(a?"":this.icon.replace(d,"$1 $2").toLowerCase()),c=this.getAttribute("role");(c=c&&"presentation"!==c&&"img"!==c)||this.setAttribute("role",a?"presentation":"img");a?(this.removeAttribute("aria-label"),this._elements.image.setAttribute("alt",b)):""===b?(this.removeAttribute("aria-label"),c||this.removeAttribute("role")):this.setAttribute("aria-label",b)},_initialize:function(){this._queueSync()},attributeChangedCallback:function(a,
b,c){a=a.toLowerCase();"title"===a?this._updateAltText():(Coral.Component.prototype.attributeChangedCallback.apply(this,arguments),"alt"===a&&(null===c||null===b&&""===c)&&this._updateAltText())}});Coral.Icon.size=a})();
(function(){var b={CTA:"cta",PRIMARY:"primary",SECONDARY:"secondary",DEFAULT:"secondary",QUIET:"quiet",WARNING:"warning",MINIMAL:"minimal"},c=[],d;for(d in b)c.push("coral-Button--"+b[d]);var a={MEDIUM:"M",LARGE:"L"};Coral.register({name:"Button",tagName:"coral-button",baseTagName:"button",extend:HTMLButtonElement,className:"coral-Button",events:{mousedown:"_onMouseDown"},properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-button-label",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),
icon:{get:function(){var a=this._elements.icon;return a?a.icon:""},set:function(a){var b=this._getIconElement();b.icon=a;""===this.icon?b.remove():b.parentNode||this.insertBefore(b,this.firstChild);this._makeAccessible()}},iconSize:{attribute:"iconsize",get:function(){var a=this._elements.icon;return a?a.size:Coral.Icon.size.SMALL},set:function(a){this._getIconElement().size=a}},size:{default:a.MEDIUM,reflectAttribute:!0,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(a)],set:function(b){this._size=b;this.classList.toggle("coral-Button--large",this.size===a.LARGE)}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._selected=a;this.classList.toggle("is-selected",this.selected)}},block:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._block=a;this.classList.toggle(this._className+
"--block",this.block)}},variant:{default:b.SECONDARY,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(a){this._variant=a;this.classList.remove.apply(this.classList,c);this.classList.add(this._className+"--"+this.variant)}}},_onMouseDown:function(a){var b=a.matchedTarget;Coral.commons.nextFrame(function(){b!==document.activeElement&&b.focus()})},_makeAccessible:function(){var a=0<this.label.textContent.length;if(""!==this.icon)this._elements.icon[a?
"setAttribute":"removeAttribute"]("alt","")},_initialize:function(){this._observer=new MutationObserver(this._makeAccessible.bind(this));this._observer.observe(this.label,{childList:!0,characterData:!0,subtree:!0})},_getIconElement:function(){this._elements.icon||(this._elements.icon=document.createElement("coral-icon"));return this._elements.icon},_render:function(){var a=document.createDocumentFragment(),b=this.querySelector("coral-button-label")||document.createElement("coral-button-label");for(b.parentNode&&
this.removeChild(b);this.firstChild;){var c=this.firstChild;"CORAL-ICON"===c.tagName?(this._elements.icon=c,a.appendChild(c)):b.appendChild(c)}this.appendChild(a);this.label=b}});Coral.Button.Label=function(){return document.createElement("coral-button-label")};Coral.Button.variant=b;Coral.Button.size=a})();
(function(){Coral.register({name:"AnchorButton",tagName:"coral-anchorbutton",baseTagName:"a",extend:HTMLAnchorElement,className:Coral.Button.prototype._className,events:{keydown:"_onKeyDown",keyup:"_onKeyUp"},properties:Coral.commons.extend({},Coral.Button.prototype._properties,{label:Coral.property.contentZone({handle:"label",tagName:"coral-anchorbutton-label",defaultContentZone:!0,insert:function(b){this.appendChild(b)}}),disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,
attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-disabled",this.disabled);this.setAttribute("tabindex",this.disabled?"-1":"0");this.setAttribute("aria-disabled",this.disabled)}}}),_makeAccessible:Coral.Button.prototype._makeAccessible,_getIconElement:Coral.Button.prototype._getIconElement,_onKeyDown:function(b){32===b.keyCode&&(b.preventDefault(),this.click(),this.classList.add("is-selected"))},_onKeyUp:function(b){32===b.keyCode&&(b.preventDefault(),this.classList.remove("is-selected"))},
_onClick:function(b){this.disabled&&b.preventDefault()},_initialize:function(){Coral.Button.prototype._initialize.call(this);this.setAttribute("role","button");this.setAttribute("tabindex","0");this.addEventListener("click",this._onClick.bind(this))},_render:function(){for(var b=document.createDocumentFragment(),c=this.querySelector("coral-anchorbutton-label")||document.createElement("coral-anchorbutton-label");this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE?c.appendChild(d):"CORAL-ICON"===
d.tagName?(this._elements.icon=d,b.appendChild(d)):this.removeChild(d)}this.appendChild(b);this.label=c}});Coral.AnchorButton.Label=function(){return document.createElement("coral-anchorbutton-label")}})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Progress=window.Coral.templates.Progress||{};
window.Coral.templates.Progress.base=function(b){b=document.createDocumentFragment();var c=document.createElement("div");c.className+=" coral-Progress-bar";var d=document.createTextNode("\n  ");c.appendChild(d);d=this.status=document.createElement("div");d.className+=" coral-Progress-status";d.setAttribute("handle","status");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){var b={SMALL:"S",MEDIUM:"M",LARGE:"L"},c={LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},d={S:"small",M:"medium",L:"large"},a=[],e;for(e in b)a.push("coral-Progress--"+d[b[e]]);var f=[],h;for(h in c)f.push("coral-Progress--"+c[h]+"Label");Coral.register({name:"Progress",tagName:"coral-progress",className:"coral-Progress",properties:{value:{default:0,reflectAttribute:!0,trigger:"coral-progress:change",transform:function(a){a=Coral.transform.number(a);null===a&&(a=0);100<a?a=100:0>a&&(a=0);
return a},sync:function(){this._elements.status.style.width=this.value+"%";this.indeterminate||(this.setAttribute("aria-valuenow",this.value),!0===this.showPercent&&this._setLabelContent(this.value+"%"))},get:function(){return this.indeterminate?0:this._value}},indeterminate:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,alsoSync:"value",sync:function(){this.indeterminate?(this.classList.add(this._className+"--indeterminate"),this.removeAttribute("aria-valuenow"),
this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax")):(this.classList.remove(this._className+"--indeterminate"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"))}},size:{default:b.MEDIUM,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.classList.remove.apply(this.classList,a);this.classList.add(this._className+"--"+d[this.size])}},showPercent:{attribute:"showpercent",
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){!0===this.showPercent?(this._setLabelContent(this.indeterminate?"":this.value+"%"),this._showLabel()):this.label.innerHTML=""}},label:Coral.property.contentZone({handle:"label",tagName:"coral-progress-label",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),labelPosition:{default:c.RIGHT,attribute:"labelposition",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],
sync:function(){this.classList.remove.apply(this.classList,f);0<this._elements.label.textContent.length&&this.classList.add(this._className+"--"+this.labelPosition+"Label")}}},_initialize:function(){this.setAttribute("role","progressbar");this.setAttribute("aria-valuenow","0");this.setAttribute("aria-valuemin","0");this.setAttribute("aria-valuemax","100");this._observer=new MutationObserver(this._toggleLabelBasedOnContent.bind(this));this._observer.observe(this._elements.label,{characterData:!0,childList:!0,
subtree:!0})},_render:function(){var a=this.querySelector("coral-progress-label"),b=a||document.createElement("coral-progress-label");if(!a)for(;this.firstChild;)b.appendChild(this.firstChild);this.appendChild(Coral.templates.Progress.base.call(this._elements));this.label=b;this._toggleLabelBasedOnContent()},_toggleLabelBasedOnContent:function(){0<this._elements.label.textContent.length?this._showLabel():this._hideLabel()},_hideLabel:function(){this._elements.label.hidden=!0;this.classList.remove.apply(this.classList,
f);this.classList.add(this._className+"--noLabel");this.removeAttribute("aria-valuetext")},_showLabel:function(){this._elements.label.hidden=!1;this.classList.remove(this._className+"--noLabel");this.classList.add(this._className+"--"+this.labelPosition+"Label");!1===this.showPercent&&this.setAttribute("aria-valuetext",this.label.textContent)},_setLabelContent:function(a){this._elements.label.textContent=a;!0===this.showPercent?this.removeAttribute("aria-valuetext"):this.setAttribute("aria-valuetext",
this.label.textContent)}});Coral.register({name:"Progress.Label",tagName:"coral-progress-label",className:"coral-Progress-label"});Coral.Progress.size=b;Coral.Progress.labelPosition=c})();
(function(){var b={DEFAULT:"default",DOTS:"dots"},c={SMALL:"S",MEDIUM:"M",LARGE:"L"},d=[],a;for(a in b)d.push("coral-Wait--"+b[a]);Coral.register({name:"Wait",tagName:"coral-wait",className:"coral-Wait",properties:{size:{default:c.SMALL,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],set:function(a){this._size=a;this.classList.toggle(this._className+"--large",this.size===c.LARGE);this.classList.toggle(this._className+
"--medium",this.size===c.MEDIUM)}},centered:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--centered",this.centered)}},variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(a){this._variant=a;this.classList.remove.apply(this.classList,d);this.variant!==b.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}}});
Coral.Wait.size=c;Coral.Wait.variant=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.ButtonGroup=window.Coral.templates.ButtonGroup||{};window.Coral.templates.ButtonGroup.base=function(b){b=this.nativeSelect=document.createElement("select");b.className+=" coral-ButtonGroup-select";b.setAttribute("tabindex","-1");b.setAttribute("handle","nativeSelect");return b};
(function(){var b={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},c=function(b){var a=b.getAttribute("value");return null!==a?a:b.textContent.replace(/\s{2,}/g," ").trim()};Coral.register({name:"ButtonGroup",tagName:"coral-buttongroup",className:"coral-ButtonGroup",mixins:[Coral.mixin.formField],events:{'click button[is\x3d"coral-button"]':"_onButtonClick",'capture:focus button[is\x3d"coral-button"]':"_onButtonFocus",'capture:blur button[is\x3d"coral-button"]':"_onButtonBlur",'key:up button[is\x3d"coral-button"]':"_onButtonKeyUpLeft",
'key:left button[is\x3d"coral-button"]':"_onButtonKeyUpLeft",'key:down button[is\x3d"coral-button"]':"_onButtonKeyDownRight",'key:right button[is\x3d"coral-button"]':"_onButtonKeyDownRight",'key:home button[is\x3d"coral-button"]':"_onButtonKeyHome",'key:end button[is\x3d"coral-button"]':"_onButtonKeyEnd"},properties:{items:{get:function(){this._items||(this._items=new Coral.SelectableCollection({host:this,itemBaseTagName:"button",itemTagName:"coral-button",itemSelector:'button[is\x3d"coral-button"]',
onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange}));return this._items},set:function(){}},selectionMode:{default:b.NONE,attribute:"selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(c){this._selectionMode=c;this._elements.nativeSelect.multiple=this._selectionMode===b.MULTIPLE},sync:function(){this.selectionMode===b.SINGLE?(this.setAttribute("role","radiogroup"),this._syncItemOptions(),this._validateSelection()):
this.selectionMode===b.MULTIPLE?(this.setAttribute("role","group"),this._syncItemOptions()):(this.setAttribute("role","group"),this._removeItemOptions())}},name:{get:function(b){return this._elements.nativeSelect.name},set:function(b){this._elements.nativeSelect.name=b}},value:{get:function(){return this._elements.nativeSelect.value},set:function(c){this.selectionMode!==b.NONE&&this._selectItemByValue([c])}},selectedItems:{get:function(){if(this.selectionMode===b.MULTIPLE)return this.items._getAllSelected();
var c=this.selectedItem;return c?[c]:[]},set:function(){}},selectedItem:{get:function(){return this.selectionMode===b.MULTIPLE?this.items._getFirstSelected():this.items._getLastSelected()},set:function(){}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(b){return Array.isArray(b)}],set:function(c){this.selectionMode!==b.NONE&&(this.selectionMode!==b.MULTIPLE&&1<c.length&&(c=[c[0]]),this._selectItemByValue(c))},get:function(){for(var b=[],a=this._elements.nativeSelect.querySelectorAll(":checked"),
c=0,f=a.length;c<f;c++)b.push(a[c].value);return b}},disabled:{sync:function(){var b=this.disabled||this.readOnly;this._elements.nativeSelect.disabled=b;this.items.getAll().forEach(function(a){a.disabled=b});this.setAttribute("aria-disabled",b)}},readOnly:{sync:function(){var b=this;this._elements.nativeSelect.disabled=this.readOnly||this.disabled;this.items.getAll().forEach(function(a){a.disabled=b.disabled||b.readOnly&&!a.hasAttribute("selected");b.readOnly?a.setAttribute("aria-disabled",!0):a.removeAttribute("aria-disabled")});
this.removeAttribute("aria-readonly")}},required:{sync:function(){this._elements.nativeSelect.required=this.required;this.selectionMode!==b.SINGLE&&this.removeAttribute("aria-required")}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},labelledBy:{sync:function(){this._elements.nativeSelect.setAttribute("aria-labelledby",this.labelledBy)}}},reset:function(){this.values=this._initalSelectedValues},_onButtonClick:function(c){var a=c.matchedTarget;this._onButtonFocus(c);this.readOnly?
(c.preventDefault(),c.stopImmediatePropagation()):this.selectionMode===b.SINGLE?(c.preventDefault(),c=this.items._getAllSelected(),0!==c.length&&c[0]!==a&&this._toggleItemSelection(c[0],!1),this._toggleItemSelection(a,!0),c[0]!==a&&this.trigger("change")):this.selectionMode===b.MULTIPLE&&(c.preventDefault(),this._toggleItemSelection(a),this.trigger("change"))},_onButtonFocus:function(b){b=b.matchedTarget;for(var a=this.items.getAll(),c=a.length,d,h=0;h<c;h++)d=a[h],d.setAttribute("tabindex",d===b?
0:-1)},_onButtonBlur:function(c){c=c.matchedTarget;for(var a=this.items.getAll(),d=a.length,f,h,g=this.selectedItems.length,k=this.items._getFirstSelectable(),m=0;m<d;m++)f=a[m],h=f.hasAttribute("selected"),h=this.selectionMode===b.SINGLE?h?0:-1:this.selectionMode===b.MULTIPLE?!g&&0===m||h&&f===c||!c.hasAttribute("selected")&&f===(this.selectedItems[g-1]||k)?0:-1:f===k?0:-1,f.setAttribute("tabindex",h)},_onButtonKeyUpLeft:function(c){c.preventDefault();c=c.matchedTarget;for(var a=c.previousElementSibling;!a||
a.disabled||"BUTTON"!==a.nodeName;)a=a?a.previousElementSibling:this.items._getLastSelectable();a!==c&&(this.selectionMode===b.SINGLE&&a.click(),this._setFocusToButton(a))},_onButtonKeyDownRight:function(c){c.preventDefault();c=c.matchedTarget;for(var a=c.nextElementSibling;!a||a.disabled||"BUTTON"!==a.nodeName;)a=a?a.nextElementSibling:this.items._getFirstSelectable();a!==c&&(this.selectionMode===b.SINGLE&&a.click(),this._setFocusToButton(a))},_onButtonKeyHome:function(c){c.preventDefault();c=c.matchedTarget;
var a=this.items._getFirstSelectable();a!==c&&(this.selectionMode===b.SINGLE&&a.click(),this._setFocusToButton(a))},_onButtonKeyEnd:function(c){c.preventDefault();c=c.matchedTarget;var a=this.items._getLastSelectable();a!==c&&(this.selectionMode===b.SINGLE&&a.click(),this._setFocusToButton(a))},_setFocusToButton:function(b){b&&b.focus()},_onItemAdded:function(c){c.classList.add("coral-ButtonGroup-item");this.selectionMode!==b.NONE?(this.selectionMode===b.SINGLE?(c.setAttribute("role","radio"),c.setAttribute("tabindex",
c.hasAttribute("selected")?0:-1)):c.setAttribute("role","checkbox"),c.setAttribute("aria-checked",c.hasAttribute("selected"))):c.removeAttribute("role");c.disabled=this.disabled||this.readOnly&&!c.hasAttribute("selected");this.readOnly?c.setAttribute("aria-disabled",!0):c.removeAttribute("aria-disabled");this._addItemOption(c);this._validateSelection(c.hasAttribute("selected")?c:null)},_onItemRemoved:function(b){b.classList.remove("coral-ButtonGroup-item");b.removeAttribute("role");var a=this;Coral.commons.nextFrame(function(){if(!b.parentNode){var c=
a._initalSelectedValues.indexOf(b.value);-1!==c&&a._initalSelectedValues.splice(c,1)}});b.option&&(b.option.parentNode.removeChild(b.option),b.option=void 0)},_onCollectionChange:function(b,a){this._validateSelection()},_handleMutations:function(d){for(var a=0,e=d.length;a<e;a++){var f=d[a].target,h=d[a].attributeName;"value"===h?f.matches('button[is\x3d"coral-button"]')&&(f.option.value=c(f)):"selected"===h&&f.matches('button[is\x3d"coral-button"]')&&(h=f.hasAttribute("selected"),this.selectionMode===
b.SINGLE?this._validateSelection(h?f:null):this._toggleItemSelection(f,h))}},_toggleItemSelection:function(c,a){var e=c.getAttribute("aria-checked"),d=c.getAttribute("tabindex");(a="undefined"!==typeof a?a:!c.hasAttribute("selected"))?(c.hasAttribute("selected")||c.setAttribute("selected",""),"true"!==e&&c.setAttribute("aria-checked",!0),this.selectionMode===b.SINGLE&&"0"!==d&&c.setAttribute("tabindex",0)):a||(c.hasAttribute("selected")&&c.removeAttribute("selected"),this.selectionMode!==b.NONE?("false"!==
e&&c.setAttribute("aria-checked",!1),this.selectionMode===b.SINGLE&&"-1"!==d&&c.setAttribute("tabindex",-1)):(c.removeAttribute("aria-checked"),c.removeAttribute("tabindex")));c.option&&(c.option.selected=a)},_selectItemByValue:function(b){for(var a=this.items.getAll(),e,d=0,h=a.length;d<h;d++)e=a[d],this._toggleItemSelection(e,-1!==b.indexOf(c(e)))},_addItemOption:function(d){if(this.selectionMode!==b.NONE&&!d.option){var a=document.createElement("option");a.value=c(d);-1!==this._initalSelectedValues.indexOf(a.value)&&
a.setAttribute("selected","");d.option=a;this._elements.nativeSelect.add(a);this._toggleItemSelection(d,d.hasAttribute("selected"))}},_removeItemOptions:function(){for(var b=this.items.getAll(),a,c=0,f=b.length;c<f;c++)a=b[c],a.removeAttribute("role"),a.removeAttribute("aria-checked"),a.hasAttribute("selected")&&this._toggleItemSelection(a,!1),a.option&&(a.option.parentNode.removeChild(a.option),delete a.option)},_syncItemOptions:function(){var c=this.items.getAll(),a=c.length,e=0,f=this.selectionMode===
b.SINGLE?"radio":this.selectionMode===b.MULTIPLE?"checkbox":null;for(e;e<a;e++)this._addItemOption(c[e]);for(e=a-1;0<=e;e--){a=c[e];var h=a.hasAttribute("selected");a.option.selected=h;a.setAttribute("aria-checked",h);f?a.setAttribute("role",f):a.removeAttribute("role")}},_validateSelection:function(c){if(this.selectionMode===b.SINGLE){var a=this.items._getAllSelected(),e=a.length;if(0===e)(c=this.items._getFirstSelectable())&&this._toggleItemSelection(c,!0);else if(1<e){c=c||a[0];this._toggleItemSelection(c,
!0);for(var d=0;d<e;d++)a[d]!==c&&this._toggleItemSelection(a[d],!1)}}},_getLabellableElement:function(){return this},_templateHandleNames:["nativeSelect"],_render:function(){var b=document.createDocumentFragment();for(b.appendChild(Coral.templates.ButtonGroup.base.call(this._elements));this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(a.getAttribute("handle"))?b.appendChild(a):this.removeChild(a)}this.appendChild(b)},_initialize:function(){this._observer=
new MutationObserver(this._handleMutations.bind(this));this._observer.observe(this,{attributes:!0,subtree:!0,attributeFilter:["selected","value"]});this._initalSelectedValues=[];for(var b=0,a=this.selectedItems.length;b<a;b++)this._initalSelectedValues.push(this.selectedItems[b].value);this.items._startHandlingItems()}});Coral.ButtonGroup.selectionMode=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.Checkbox=window.Coral.templates.Checkbox||{};
window.Coral.templates.Checkbox.base=function(b){b=document.createDocumentFragment();var c=this.input=document.createElement("input");c.setAttribute("type","checkbox");c.setAttribute("handle","input");c.className+=" coral-Checkbox-input";c.id=Coral.commons.getUID();b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.checkbox=document.createElement("span");c.className+=" coral-Checkbox-checkmark";c.setAttribute("handle","checkbox");b.appendChild(c);c=document.createTextNode("\n");
b.appendChild(c);c=this.labelWrapper=document.createElement("label");c.className+=" coral-Checkbox-description";c.setAttribute("handle","labelWrapper");c.setAttribute("for",this.input.id);b.appendChild(c);return b};
(function(){var b=-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")||-1!==window.navigator.userAgent.indexOf("Edge");Coral.register({name:"Checkbox",tagName:"coral-checkbox",className:"coral-Checkbox",mixins:[Coral.mixin.formField],events:{click:"_onClick",mousedown:"_onMouseDown"},properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(b){this._checked=b;this._elements.input.checked=
b}},indeterminate:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._elements.input.indeterminate=this.indeterminate;this._elements.input[this.indeterminate?"setAttribute":"removeAttribute"]("aria-checked","mixed")}},label:Coral.property.contentZone({handle:"label",tagName:"coral-checkbox-label",defaultContentZone:!0,insert:function(b){this._elements.labelWrapper.appendChild(b)}}),value:{default:"on",set:function(b){this._elements.input.value=
b},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(b){this._elements.input.name=b}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=!1},reset:function(){this.checked=this._initialCheckedState},
_onInputChange:function(c){c.stopPropagation();this[this._componentTargetProperty]=c.target[this._eventTargetProperty];this.indeterminate=!1;this._triggerChangeEvent&&(b?Coral.commons.nextFrame(function(){this.trigger("change")}.bind(this)):this.trigger("change"))},_onClick:function(c){b&&this.indeterminate?(this.checked=!this.checked,this._onInputChange(c)):c.target===this&&(this.indeterminate=!1,this.checked=!this.checked,this.trigger("change"))},_onMouseDown:function(){var b=this._elements.input;
Coral.commons.nextFrame(function(){b!==document.activeElement&&b.focus()})},_templateHandleNames:["input","checkbox","labelWrapper"],_render:function(){var b=document.createDocumentFragment();b.appendChild(Coral.templates.Checkbox.base.call(this._elements));var d=this.querySelector("coral-checkbox-label")||document.createElement("coral-checkbox-label");d&&d.parentNode&&d.parentNode.removeChild(d);for(this._elements.labelWrapper.hidden=!0;this.firstChild;){var a=this.firstChild;a.nodeType===Node.TEXT_NODE||
-1===this._templateHandleNames.indexOf(a.getAttribute("handle"))?d.appendChild(a):this.removeChild(a)}this.appendChild(b);this.label=d},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this));this._observer.observe(this._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0});this._initialCheckedState=this.checked},_hideLabelIfEmpty:function(){var b=this._elements.label;b=0===b.children.length&&""===b.textContent.replace(/\s*/g,"");b!==this._elements.labelWrapper.hidden&&
(this._elements.labelWrapper.hidden=b)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this._hideLabelIfEmpty()}});Coral.Checkbox.Label=function(){return document.createElement("coral-checkbox-label")}})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Radio=window.Coral.templates.Radio||{};
window.Coral.templates.Radio.base=function(b){b=document.createDocumentFragment();var c=this.input=document.createElement("input");c.setAttribute("type","radio");c.setAttribute("handle","input");c.className+=" coral-Radio-input";c.id=Coral.commons.getUID();b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.checkmark=document.createElement("span");c.className+=" coral-Radio-checkmark";c.setAttribute("handle","checkmark");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);
c=this.labelWrapper=document.createElement("label");c.className+=" coral-Radio-description";c.setAttribute("handle","labelWrapper");c.setAttribute("for",this.input.id);b.appendChild(c);return b};
(function(){Coral.register({name:"Radio",tagName:"coral-radio",className:"coral-Radio",mixins:[Coral.mixin.formField],events:{click:"_onClick",mousedown:"_onMouseDown"},properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(b){this._checked=b;this._elements.input.checked=b;this._syncRelatedRadios()}},label:Coral.property.contentZone({handle:"label",tagName:"coral-radio-label",defaultContentZone:!0,insert:function(b){this._elements.labelWrapper.appendChild(b)}}),
value:{default:"on",set:function(b,c){this._elements.input.value=b},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(b){this._elements.input.name=b}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=
!1},reset:function(){this.checked=this._initialCheckedState},_syncRelatedRadios:function(){if(null!==this.parentNode&&this.name&&this.checked)for(var b=document.querySelectorAll(this.tagName+"[name\x3d"+JSON.stringify(this.name)+"]"),c=b.length,d=0;d<c;d++)b[d]!==this&&Coral.commons.ready(b[d],function(a){a.set("checked",!1,!0)})},_hideLabelIfEmpty:function(){var b=this.label;b=0===b.children.length&&""===b.textContent.replace(/\s*/g,"");b!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=
b)},_onClick:function(b){b.target!==this||this.checked||(this.checked=!0,this.trigger("change"))},_onMouseDown:function(){var b=this._elements.input;Coral.commons.nextFrame(function(){b!==document.activeElement&&b.focus()})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this._syncRelatedRadios();this._hideLabelIfEmpty()},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this));this._observer.observe(this._elements.labelWrapper,
{childList:!0,characterData:!0,subtree:!0});this._initialCheckedState=this.checked},_templateHandleNames:["input","checkmark","labelWrapper"],_render:function(){var b=document.createDocumentFragment();b.appendChild(Coral.templates.Radio.base.call(this._elements));var c=this.querySelector("coral-radio-label")||document.createElement("coral-radio-label");c&&c.parentNode&&c.parentNode.removeChild(c);for(this._elements.labelWrapper.hidden=!0;this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE||
-1===this._templateHandleNames.indexOf(d.getAttribute("handle"))?c.appendChild(d):this.removeChild(d)}this.appendChild(b);this.label=c}});Coral.Radio.Label=function(){return document.createElement("coral-radio-label")}})();
(function(){var b={DEFAULT:"default",QUIET:"quiet"},c=[],d;for(d in b)c.push("coral-Textfield--"+b[d]);Coral.register({name:"Textfield",tagName:"coral-textfield",baseTagName:"input",extend:HTMLInputElement,className:"coral-Textfield",mixins:[Coral.mixin.formField],properties:{invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.classList.remove.apply(this.classList,
c);this.variant!==Coral.Textfield.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}}});Coral.Textfield.variant=b})();
(function(){var b={DEFAULT:"default",QUIET:"quiet"},c=[],d;for(d in b)c.push("coral-Textfield--"+b[d]);Coral.register({name:"Textarea",tagName:"coral-textarea",baseTagName:"textarea",extend:HTMLTextAreaElement,className:"coral-Textfield coral-Textfield--multiline",mixins:[Coral.mixin.formField],events:{input:"_onInput"},properties:{invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid)}},variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],
sync:function(){this.classList.remove.apply(this.classList,c);this.variant!==b.DEFAULT&&this.classList.add("coral-Textfield--"+this.variant);this.variant===b.QUIET?this._defaultHeight=this.style.height:this.style.height=this._defaultHeight;this._onInput()}}},reset:function(){this.value=this.textContent},_onInput:function(){this.variant===b.QUIET&&(this.style.height="auto",this.style.height=this.scrollHeight+"px")}});Coral.Textarea.variant=b})();window.Coral=window.Coral||{};
window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Accordion=window.Coral.templates.Accordion||{};
window.Coral.templates.Accordion.item=function(b){b=document.createDocumentFragment();var c=this.acHeader=document.createElement("div");c.className+=" coral3-Accordion-header";c.setAttribute("role","tab");c.id=Coral.commons.getUID();c.setAttribute("handle","acHeader");var d=document.createTextNode("\n  ");c.appendChild(d);d=this.icon=document.createElement("coral-icon");d.className+=" coral3-Accordion-icon";d.setAttribute("size","xs");d.setAttribute("handle","icon");d.setAttribute("icon","chevronRight");
d.setAttribute("alt","");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=this.labelContainer=document.createElement("div");d.className+=" coral3-Accordion-label";d.setAttribute("handle","labelContainer");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.acContent=document.createElement("div");c.className+=" coral3-Accordion-content";c.setAttribute("handle","acContent");c.id=Coral.commons.getUID();
c.setAttribute("role","tabpanel");b.appendChild(c);return b};
(function(){var b={DEFAULT:"default",QUIET:"quiet",LARGE:"large"},c=[],d;for(d in b)c.push("coral3-Accordion--"+b[d]);Coral.register({name:"Accordion",tagName:"coral-accordion",className:"coral3-Accordion",mixins:[Coral.mixin.selectionList({role:"tablist",itemTagName:"coral-accordion-item",allowSingleModeDeselect:!0})],events:{'click [handle\x3d"acHeader"]':"_onItemClick",'key:space [handle\x3d"acHeader"]':"_onToggleItemKey",'key:return [handle\x3d"acHeader"]':"_onToggleItemKey",'key:pageup [handle\x3d"acHeader"]':"_focusPreviousItem",
'key:left [handle\x3d"acHeader"]':"_focusPreviousItem",'key:up [handle\x3d"acHeader"]':"_focusPreviousItem",'key:pagedown [handle\x3d"acHeader"]':"_focusNextItem",'key:right [handle\x3d"acHeader"]':"_focusNextItem",'key:down [handle\x3d"acHeader"]':"_focusNextItem",'key:home [handle\x3d"acHeader"]':"_onHomeKey",'key:end [handle\x3d"acHeader"]':"_onEndKey",'keydown [handle\x3d"acContent"]':"_onItemContentKeyDown"},properties:{variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],
sync:function(){this.classList.remove.apply(this.classList,c);this.variant!==Coral.Accordion.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}},_tabTarget:{default:null,sync:function(){var a=this._tabTarget;this.items.getAll().forEach(function(b){b._isTabTarget=b===a})}}},_onHomeKey:function(a){a.preventDefault();a.stopPropagation();this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(a){a.preventDefault();a.stopPropagation();this._focusItem(this.items.getLastSelectable())},
_onItemContentKeyDown:function(a){var b=parseFloat(a.keyCode),c=a.matchedTarget.parentNode;switch(b){case 38:case 37:(a.metaKey||a.ctrlKey)&&Coral.Keys.filterInputs(a)&&(a.preventDefault(),a.stopPropagation(),this._focusItem(c));break;case 33:if(a.metaKey||a.ctrlKey)a.preventDefault(),a.stopPropagation(),a=this.items.getPreviousSelectable(c),this._selectItem(a),this._focusItem(a);break;case 34:if(a.metaKey||a.ctrlKey)a.preventDefault(),a.stopPropagation(),a=this.items.getNextSelectable(c),this._selectItem(a),
this._focusItem(a)}},_focusPreviousItem:function(a){a.preventDefault();a.stopPropagation();this._focusItem(this.items.getPreviousSelectable(a.target.parentNode))},_focusNextItem:function(a){a.preventDefault();a.stopPropagation();this._focusItem(this.items.getNextSelectable(a.target.parentNode))},_onItemClick:function(a){if(!a.target.hasAttribute("coral-interactive")&&!a.target.closest("[coral-interactive]")){var b=a.target.closest("coral-accordion-item");b&&(a.preventDefault(),a.stopPropagation(),
this._selectItem(b),this._focusItem(b))}},_onToggleItemKey:function(a){a.preventDefault();a.stopPropagation();a=a.target.parentNode;this._selectItem(a);this._focusItem(a)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){this._resetTabTargetScheduled||(this._resetTabTargetScheduled=!0,Coral.commons.nextFrame(function(){this._resetTabTargetScheduled=
!1;var a=this.items._getNonNestedItems().filter("[selected]:not([disabled],[hidden])");this._tabTarget=a.length?a[0]:this.items.getFirstSelectable()}.bind(this)))},_focusItem:function(a){a&&a.focus();this._tabTarget=a},_initialize:function(){this.setAttribute("aria-multiselectable","true")}});Coral.Accordion.variant=b})();
(function(){var b={"true":"chevronDown","false":"chevronRight"};Coral.register({name:"Accordion.Item",tagName:"coral-accordion-item",className:"coral3-Accordion-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-accordion",role:"presentation"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-accordion-item-label",insert:function(b){this._elements.labelContainer.appendChild(b)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-accordion-item-content",
defaultContentZone:!0,insert:function(b){this._elements.acContent.appendChild(b)}}),selected:{sync:function(){this.classList.toggle("is-selected",this.selected);this.removeAttribute("aria-selected");this._elements.acHeader.setAttribute("aria-selected",this.selected);this._elements.acHeader.setAttribute("aria-expanded",this.selected);this._elements.acContent.setAttribute("aria-hidden",!this.selected);this._elements.icon.icon=b[this.selected];var c=this._elements.acContent;this._animate?this.selected?
(c.classList.remove("is-closed"),c.classList.add("is-collapsing"),c.style.height=this._elements.acContent.scrollHeight+"px"):(c.style.height=this._elements.acContent.scrollHeight+"px",c.classList.add("is-collapsing"),c.classList.remove("is-open"),c.style.height=0):(this._animate=!0,this.selected?c.classList.add("is-open"):(c.classList.add("is-closed"),c.style.height="0"))}},disabled:{alsoSync:["_isTabTarget"],sync:function(){this.classList.toggle("is-disabled",this.disabled);this.removeAttribute("aria-disabled");
this._elements.acHeader.setAttribute("aria-disabled",this.disabled)}},_isTabTarget:{default:!1,sync:function(){this.disabled?this._elements.acHeader.removeAttribute("tabindex"):this._elements.acHeader.setAttribute("tabindex",this.__isTabTarget?"0":"-1")}}},focus:function(){this._elements.acHeader.focus()},_onCollapsed:function(){var b=this._elements.acContent;b.classList.remove("is-collapsing");b.classList.add("is-closed");this._selected?(b.classList.add("is-open"),b.classList.remove("is-closed"),
b.style.height=""):(b.classList.add("is-closed"),b.classList.remove("is-open"))},_initialize:function(){var b=this._elements.acHeader,d=this;b.setAttribute("aria-controls",this._elements.acContent.id);this._elements.acContent.setAttribute("aria-labelledby",b.id);this._elements.acContent.addEventListener("transitionend",function(){d._onCollapsed()})},_templateHandleNames:["acHeader","icon","labelContainer","acContent"],_render:function(){var b=Coral.templates.Accordion.item.call(this._elements),d=
this.querySelector("coral-accordion-item-label")||document.createElement("coral-accordion-item-label"),a=this.querySelector("coral-accordion-item-content")||document.createElement("coral-accordion-item-content");this.label=d;for(this.content=a;this.firstChild;)d=this.firstChild,d.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(d.getAttribute("handle"))?a.appendChild(d):this.removeChild(d);this.appendChild(b)}});Coral.Accordion.Item.Content=function(){return document.createElement("coral-accordion-item-content")};
Coral.Accordion.Item.Label=function(){return document.createElement("coral-accordion-item-label")}})();
(function(){function b(){this.open&&this._position()}function c(a){return"string"===typeof a?a.toLowerCase():a}var d={LEFT_TOP:"left top",LEFT_CENTER:"left center",LEFT_BOTTOM:"left bottom",CENTER_TOP:"center top",CENTER_CENTER:"center center",CENTER_BOTTOM:"center bottom",RIGHT_TOP:"right top",RIGHT_CENTER:"right center",RIGHT_BOTTOM:"right bottom"},a={FLIP:"flip",FIT:"fit",FLIP_FIT:"flipfit",NONE:"none"},e={PREVIOUS:"_prev",NEXT:"_next"},f={LEFT:"left",RIGHT:"right",BOTTOM:"bottom",TOP:"top"},h=
{ON:"on",OFF:"off"};Coral.register({name:"Overlay",tagName:"coral-overlay",className:"coral-Overlay",mixins:[Coral.mixin.overlay],events:{"global:resize":"_position","global:key:escape":"_handleEscape","click [coral-close]":"_handleCloseClick"},properties:{target:{default:null,validate:function(a){return null===a||"string"===typeof a||a instanceof Node},set:function(a){this._target=a;this.target&&this.open&&(this._position(),this._returnFocus===Coral.mixin.overlay.returnFocus.ON&&this.returnFocusTo(this._getTarget()))}},
alignMy:{attribute:"alignmy",default:d.CENTER_CENTER,transform:c,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:b},alignAt:{attribute:"alignat",default:d.CENTER_CENTER,transform:c,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:b},offset:{default:0,transform:Coral.transform.number,validate:function(a){return"number"===typeof a},set:function(a){this._offset=a;this.open&&this._position()}},placement:{transform:c,validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(f)],set:function(a){var b=this._placementAlignValues[a];this.alignMy=b.alignMy;this.alignAt=b.alignAt;this._placement=a}},within:{default:window,sync:b},collision:{default:a.FLIP_FIT,sync:b},open:{sync:function(){this.open&&this._position()}},interaction:{default:h.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(h)]}},_overlayAnimationTime:0,_initialize:function(){this.style.display="none"},_getTarget:function(a){a=a||this.target;if(a instanceof Node)return a;
var b=null;"string"===typeof a&&(b=a===e.PREVIOUS?this.previousElementSibling:a===e.NEXT?this.nextElementSibling:document.querySelector(a));return b},_placementAlignValues:{right:{alignMy:"left center",alignAt:"right center"},left:{alignMy:"right center",alignAt:"left center"},top:{alignMy:"center bottom",alignAt:"center top"},bottom:{alignMy:"center top",alignAt:"center bottom"}},reposition:b,_position:function(){if(this.open){var a=this._getTarget();if(a){this._beforePosition();var b=this.offset,
c=[],e=this.alignMy,d=this.alignAt,f=e.split(" "),h=d.split(" ");c[0]=0<b?"+"+b:b;c[1]=0<b?"-"+b:"+"+-b;b&&("top"!==f[1]||"bottom"!==h[1]&&"top"!==h[1]?"bottom"!==f[1]||"top"!==h[1]&&"bottom"!==h[1]?"left"!==f[0]||"right"!==h[0]&&"left"!==h[0]?"right"!==f[0]||"left"!==h[0]&&"right"!==h[0]||(e=f.join(c[1]+" ")):e=f.join(c[0]+" "):e+=c[1]:e+=c[0]);this.$.position({my:e,at:d,using:this._positionCallback,of:a,collision:this.collision,within:this.within})}}},_beforePosition:function(){var a=window.innerWidth;
if(0===this.alignMy.indexOf("left")||0===this.alignMy.indexOf("right")){this.style.display="block";var b=this._getTarget().getBoundingClientRect();this.style.maxWidth=Math.max(b.left,a-(b.left+b.width))+"px";this.style.display=""}else this.style.maxWidth=a+"px";this.style.left="-9999px";this.style.top="-9999px"},_positionCallback:function(a,b){this._applyPosition(a,b);this.trigger("coral-overlay:positioned",b)},_applyPosition:function(a,b){this.style.top=a.top+"px";this.style.left=a.left+"px"},_handleCloseClick:function(a){var b=
a.matchedTarget.getAttribute("coral-close");if(!b||this.$.is(b))this.hide(),a.stopPropagation()},_handleEscape:function(a){this.interaction===h.ON&&this.open&&this._isTopOverlay()&&this.hide()}});Coral.Overlay.align=d;Coral.Overlay.collision=a;Coral.Overlay.target=e;Coral.Overlay.placement=f})();
(function(){function b(a){for(;;){a=a.parentNode;if(!a||a.matches("body"))return a;var b=window.getComputedStyle(a),c=b.overflow,e=b.overflowX;b=b.overflowY;if(("hidden"===c||"auto"===c||"scroll"===c)&&c===e&&c===b)return a}}function c(a){if("string"===typeof a)return Array.prototype.slice.call(document.querySelectorAll(a));if(a instanceof HTMLElement)return[a];if("[object NodeList]"===Object.prototype.toString.call(a))return Array.prototype.slice.call(a)}function d(a){var b={};a.changedTouches&&
0<a.changedTouches.length?b=a.changedTouches[0]:a.touches&&0<a.touches.length&&(b=a.touches[0]);return{x:b.pageX||a.pageX,y:b.pageY||a.pageY}}function a(a){var b=null;a._dropZones&&a._dropZones.length&&a._dropZones.some(function(c){var e=a._scrollingElement,d=a._dragElement.getBoundingClientRect(),f=c.getBoundingClientRect(),g=e.scrollTop,h=e.scrollLeft;e=d.left+h;h=f.left+h;var t=h+f.width,q=d.top+g,r=q+d.height;g=f.top+g;f=g+f.height;if(!(h>e+d.width||t<e||g>r||f<q))return b=c,!0});return b}var e=
{FREE:"free",VERTICAL:"vertical",HORIZONTAL:"horizontal"};Coral.DragAction=function(a){if(!a)throw Error("Coral.DragAction: dragElement is missing");var b=null;if(a instanceof HTMLElement)b=a;else if("string"===typeof a&&(b=document.querySelector(a),!b))throw Error("Coral.DragAction: dragElement is null");this._id=Coral.commons.getUID();this._dragElementValue=a;this._dragElement=b;this._dragElement.dragAction&&this._dragElement.dragAction.destroy();a=window.getComputedStyle(this._dragElement);this._initialPosition=
{position:a.position,left:a.left,top:a.top};this._dragEvents=new window.Vent(this._dragElement);this.handle=this._dragElement.getAttribute("coral-dragaction-handle");this.dropZone=this._dragElement.getAttribute("coral-dragaction-dropzone");this.axis=this._dragElement.getAttribute("coral-dragaction-axis");this.scroll=this._dragElement.matches("[coral-dragaction-scroll]");this.containment=this._dragElement.matches("[coral-dragaction-containment]");this._drag=this._drag.bind(this);this._dragEnd=this._dragEnd.bind(this);
Coral.events.on("touchmove.CoralDragAction"+this._id,this._drag);Coral.events.on("mousemove.CoralDragAction"+this._id,this._drag);Coral.events.on("touchend.CoralDragAction"+this._id,this._dragEnd);Coral.events.on("mouseup.CoralDragAction"+this._id,this._dragEnd);this._dragElement.dragAction=this};Coral.DragAction.prototype={};Object.defineProperty(Coral.DragAction.prototype,"_scrollingElement",{get:function(){return document.scrollingElement||document.documentElement}});Object.defineProperty(Coral.DragAction.prototype,
"dragElement",{get:function(){return this._dragElementValue},set:function(a){}});Object.defineProperty(Coral.DragAction.prototype,"handle",{get:function(){return this._handle},set:function(a){if(Coral.validate.valueMustChange(a,this._handle))if(this._handle=a,this._dragEvents.off(".CoralDragAction"),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach(function(a){a._dragEvents.off(".CoralDragAction");
a.classList.remove("u-coral-openHand")}):this._dragElement.classList.remove("u-coral-openHand"),"string"===typeof a||a instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(a))if((this._handles=c(a))&&this._handles.length){var b=this;this._handles.forEach(function(a){a._dragEvents=a._dragEvents||new window.Vent(a);a._dragEvents.on("mousedown.CoralDragAction",b._dragStart.bind(b));a._dragEvents.on("touchstart.CoralDragAction",b._dragStart.bind(b));a.classList.add("u-coral-openHand")})}else this._dragEvents.on("touchstart.CoralDragAction",
this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand");else this._handles=[],this._dragEvents.on("touchstart.CoralDragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand")}});Object.defineProperty(Coral.DragAction.prototype,"dropZone",{get:function(){return this._dropZone},set:function(a){Coral.validate.valueMustChange(a,
this._dropZone)&&(this._dropZone=a,this._dropZoneEntered=!1,"string"===typeof a||a instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(a)?this._dropZones=c(a):this._dropZones=[])}});Object.defineProperty(Coral.DragAction.prototype,"axis",{get:function(){return this._axis},set:function(a){a=Coral.transform.string(a);Coral.validate.valueMustChange(a,this._axis)&&(Coral.validate.enumeration(e)(a)?this._axis=a:this._axis=e.FREE)}});Object.defineProperty(Coral.DragAction.prototype,
"scroll",{get:function(){return this._scroll},set:function(a){a=Coral.transform.boolean(a);Coral.validate.valueMustChange(a,this._scroll)&&(this._scroll=a)}});Object.defineProperty(Coral.DragAction.prototype,"containment",{get:function(){return this._containment},set:function(a){a=Coral.transform.boolean(a);Coral.validate.valueMustChange(a,this._containment)&&(this._containment=a)}});Coral.DragAction.prototype._dragStart=function(a){this._container=b(this._dragElement);"IMG"===a.target.tagName&&a.preventDefault();
Coral.events.on("touchmove.CoralDragAction",function(a){a.preventDefault()});document.body._overflow=getComputedStyle(document.body).overflow;document.body.style.overflow="hidden";this._container.matches("body")||(this._container._overflow=getComputedStyle(this._container).overflow,this._container.style.overflow=this.scroll?"scroll":"hidden");var c=d(a),e=this._dragElement.getBoundingClientRect();this._dragPosition=d(a);this._dragPosition.y-=e.top+this._scrollingElement.scrollTop;this._dragPosition.x-=
e.left+this._scrollingElement.scrollLeft;document.body.classList.add("u-coral-closedHand");this._handles&&this._handles.length?this._handles.forEach(function(a){a.classList.remove("u-coral-openHand")}):this._dragElement.classList.remove("u-coral-openHand");this._dragElement.classList.add("is-dragging");"static"===window.getComputedStyle(this._dragElement).position&&(this._dragElement.style.position="relative");this._dragEvents.dispatch("coral-dragaction:dragstart",{detail:{dragElement:this._dragElement,
pageX:c.x,pageY:c.y}})};Coral.DragAction.prototype._drag=function(b){if(this._dragElement.classList.contains("is-dragging")){b=d(b);var c=this._scrollingElement.scrollTop,e=this._scrollingElement.scrollLeft,f=this._dragElement.getBoundingClientRect(),m=f.height,l=f.width,n=f.top+c,p=f.left+e,t=window.getComputedStyle(this._dragElement),q=parseFloat(t.top)||0;t=parseFloat(t.left)||0;var r=this._container.getBoundingClientRect(),u=r.width,z=r.height,w=r.top+c,y=r.left+e;this._dragEvents.dispatch("coral-dragaction:drag",
{detail:{dragElement:this._dragElement,pageX:b.x,pageY:b.y}});document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();this.scroll&&(this._container===document.body?(20>f.top?this._scrollingElement.scrollTop=c-10:f.top+f.height>window.innerHeight-20&&n+f.height+20<this._scrollingElement.scrollHeight&&(this._scrollingElement.scrollTop=c+10),20>f.left?this._scrollingElement.scrollLeft=e-10:f.left+f.width>window.innerWidth-
20&&p+f.width+20<this._scrollingElement.scrollWidth&&(this._scrollingElement.scrollLeft=e+10)):(20>f.top-r.top?this._container.scrollTop-=10:f.top-r.top+f.height>r.height-20&&f.top-r.top+f.height<r.height&&(this._container.scrollTop+=10),20>f.left-r.left?this._container.scrollLeft-=10:f.left-r.left+f.width>r.width-20&&f.left-r.left+f.width<r.width&&(this._container.scrollLeft+=10)));var x,v;"horizontal"!==this.axis&&(c=b.y-this._dragPosition.y,this.containment?c>=w&&c+m<=w+z?x=c:b.y<=w?x=w:b.y>=w+
z&&(x=w+z-m):x=c);"vertical"!==this.axis&&(m=b.x-this._dragPosition.x,this.containment?m>=y&&m+l<=y+u?v=m:b.x<=y?v=y:b.x>=y+u&&(v=y+u-l):v=m);this._dragElement.style.top=x-n+q+"px";this._dragElement.style.left=v-p+t+"px";(x=a(this))?(this._dropElement=x,this._dropZoneEntered||(this._dropZoneEntered=!0,this._dragEvents.dispatch("coral-dragaction:dragenter",{detail:{dragElement:this._dragElement,pageX:b.x,pageY:b.y,dropElement:this._dropElement}})),this._dragEvents.dispatch("coral-dragaction:dragover",
{detail:{dragElement:this._dragElement,pageX:b.x,pageY:b.y,dropElement:this._dropElement}})):this._dropZoneEntered&&(this._dragEvents.dispatch("coral-dragaction:dragleave",{detail:{dragElement:this._dragElement,pageX:b.x,pageY:b.y,dropElement:this._dropElement}}),this._dropZoneEntered=!1)}};Coral.DragAction.prototype._dragEnd=function(b){if(this._dragElement.classList.contains("is-dragging")){b=d(b);document.body.style.overflow=document.body._overflow;document.body._overflow=void 0;this._container.matches("body")||
(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0);document.body.classList.remove("u-coral-closedHand");this._dragElement.classList.remove("is-dragging");this._handles&&this._handles.length?this._handles.forEach(function(a){a.classList.add("u-coral-openHand")}):this._dragElement.classList.add("u-coral-openHand");if(this._dropZoneEntered){var c=a(this);c&&(this._dropElement=c,this._dragEvents.dispatch("coral-dragaction:drop",{detail:{dragElement:this._dragElement,
pageX:b.x,pageY:b.y,dropElement:this._dropElement}}))}this._dragEvents.dispatch("coral-dragaction:dragend",{detail:{dragElement:this._dragElement,pageX:b.x,pageY:b.y}})}};Coral.DragAction.prototype.destroy=function(a){document.body.classList.remove("u-coral-closedHand");this._dragElement.classList.remove("is-dragging");this._handles&&this._handles.length?this._handles.forEach(function(a){a._dragEvents.off(".CoralDragAction");a.classList.remove("u-coral-openHand")}):(this._dragEvents.off(".CoralDragAction"),
this._dragElement.classList.remove("u-coral-openHand"));Coral.events.off(".CoralDragAction"+this._id);document.body._overflow&&(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0);this._container&&!this._container.matches("body")&&this._container._overflow&&(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0);a&&(this._dragElement.style.position=this._initialPosition.position,this._dragElement.style.top=this._initialPosition.top,
this._dragElement.style.left=this._initialPosition.left);this._dragElement.dragAction=void 0};Coral.DragAction.axis=e;document.addEventListener("DOMContentLoaded",function(){Array.prototype.forEach.call(document.body.querySelectorAll("[coral-dragaction]"),function(a){new Coral.DragAction(a)})})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-dialog"]={"en-US":{Close:"Close"},"de-DE":{Close:"Schlie\u00dfen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"\u9589\u3058\u308b"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"\ub2eb\uae30"},"zh-CN":{Close:"\u5173\u95ed"},"zh-TW":{Close:"\u95dc\u9589"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.Dialog=window.Coral.templates.Dialog||{};
window.Coral.templates.Dialog.header=function(b){b=document.createDocumentFragment();var c=Coral.i18n.get("Close"),d=document.createTextNode("\n");b.appendChild(d);d=this.icon=document.createElement("coral-icon");d.setAttribute("handle","icon");d.setAttribute("size","S");d.className+=" coral-Dialog-typeIcon";b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.headerContent=document.createElement("div");d.setAttribute("handle","headerContent");d.className+=" coral-Dialog-title coral-Heading coral-Heading--2";
d.setAttribute("role","heading");d.setAttribute("aria-level","2");b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.closeButton=document.createElement("button","coral-button");d.setAttribute("handle","closeButton");d.className+=" coral-Dialog-closeButton";d.setAttribute("type","button");d.setAttribute("is","coral-button");d.setAttribute("variant","minimal");d.setAttribute("icon","close");d.setAttribute("iconsize","XS");d.setAttribute("aria-label",c);d.setAttribute("title",c);
d.setAttribute("coral-close","");b.appendChild(d);return b};
(function(){var b={ON:"on",OFF:"off"},c={ON:"on",OFF:"off"},d={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},a={NONE:"none",MODAL:"modal",STATIC:"static"},e={error:"alert",warning:"alert",success:"checkCircle",help:"helpCircle",info:"infoCircle"},f=[],h;for(h in d)f.push("coral-Dialog--"+d[h]);Coral.register({name:"Dialog",tagName:"coral-dialog",className:"coral-Dialog",mixins:[Coral.mixin.overlay],events:{"click [coral-close]":"_handleCloseClick",click:"_handleClick",
"global:resize":"center","global:key:escape":"_handleEscape"},properties:{interaction:{default:c.ON,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)]},trapFocus:{default:Coral.mixin.overlay.trapFocus.ON},returnFocus:{default:Coral.mixin.overlay.returnFocus.ON},header:Coral.property.contentZone({handle:"header",tagName:"coral-dialog-header",insert:function(a){this._elements.headerContent.appendChild(a)},set:function(a){this._observeHeader();this._hideHeaderIfEmpty()}}),content:Coral.property.contentZone({handle:"content",
tagName:"coral-dialog-content",defaultContentZone:!0,insert:function(a){this._elements.contentZoneTarget.insertBefore(a,this.footer)}}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-dialog-footer",insert:function(a){this._elements.contentZoneTarget.appendChild(a)}}),backdrop:{default:a.MODAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){var b=this.backdrop!==a.NONE;this.open&&b&&this._showBackdrop();this.classList.toggle("coral-Dialog--backdropNone",
!b)}},variant:{default:d.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:function(){this.classList.remove.apply(this.classList,f);this.variant===Coral.Dialog.variant.DEFAULT?(this._elements.icon.icon="",this.setAttribute("role","dialog")):(this._elements.icon.icon=e[this.variant],this.classList.add("coral-Dialog--"+this.variant),this.setAttribute("role","alertdialog"))}},fullscreen:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
set:function(a){a&&(this.movable=!1);this._fullscreen=a},sync:function(){this.fullscreen?(this.classList.add("coral-Dialog--fullscreen"),this._elements.wrapper.style.top="",this._elements.wrapper.style.left="",this._elements.wrapper.style.marginLeft="",this._elements.wrapper.style.marginTop="",this._elements.closeButton.iconSize="S"):(this.classList.remove("coral-Dialog--fullscreen"),this._elements.closeButton.iconSize="XS",this._center())}},open:{sync:function(){this.open&&(this._open=!1,this.parentNode!==
document.body&&document.body.insertBefore(this,document.body.lastElementChild),this._open=!0,this._center(),this.backdrop!==a.NONE&&this._showBackdrop(),this.focus())}},icon:Coral.property.proxy({path:"_elements.icon.icon"}),closable:{default:b.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.classList.toggle(this._className+"--closable",this.closable===b.ON);this._elements.closeButton.style.display=this.closable===b.ON?"":"none"}},
movable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){a&&(this.fullscreen=!1);this._movable=a},sync:function(){var a=this._elements.wrapper;this.movable?(a.style.width=a.getBoundingClientRect().width+"px",(new Coral.DragAction(a)).handle=this._elements.headerWrapper):(a.style.width="",a.dragAction&&a.dragAction.destroy(),this._center())}}},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,_initialize:function(){this._center=
this._center.bind(this);this.style.display="none";this._headerObserver=new MutationObserver(this._hideHeaderIfEmpty.bind(this));this._observeHeader()},_observeHeader:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))},_hideHeaderIfEmpty:function(){var a=this._elements.header,b=this._elements.headerContent;0===a.children.length||""===a.textContent.replace(/\s*/g,"")?(b.removeAttribute("role"),
b.removeAttribute("aria-level")):(b.setAttribute("role","heading"),b.setAttribute("aria-level","2"))},_handleEscape:function(a){this.interaction===Coral.Dialog.interaction.ON&&this.open&&this._isTopOverlay()&&this.hide()},_handleCloseClick:function(a){var b=a.matchedTarget.getAttribute("coral-close");if(!b||this.matches(b))this.hide(),a.stopPropagation()},_handleClick:function(b){b.target===this&&this.backdrop===a.MODAL&&this._isTopOverlay()&&this.hide()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,
arguments);this.open&&this._center()},_render:function(){var a=this.querySelector("coral-dialog-header"),b=this.querySelector("coral-dialog-content"),c=this.querySelector("coral-dialog-footer"),e=b||c||a,d=this.querySelector(".coral-Dialog-wrapper");if(d)Array.prototype.filter.call(this.children,function(a){return a.hasAttribute("coral-tabcapture")}).forEach(function(a){this.removeChild(a)}.bind(this)),this._elements.headerWrapper=this.querySelector(".coral-Dialog-header"),this._elements.headerContent=
this.querySelector(".coral-Dialog-title"),this._elements.closeButton=this.querySelector(".coral-Dialog-closeButton"),this._elements.icon=this.querySelector(".coral-Dialog-typeIcon"),this._elements.wrapper=d,this._elements.contentZoneTarget=e.parentNode;else{a=a||document.createElement("coral-dialog-header");b=b||document.createElement("coral-dialog-content");c=c||document.createElement("coral-dialog-footer");d=document.createElement("div");d.className="coral-Dialog-wrapper";var f=Coral.templates.Dialog.header.call(this._elements),
h=this._elements.headerWrapper=document.createElement("div");h.className="coral-Dialog-header";h.appendChild(f);this._elements.wrapper=d;if(e){for(this._elements.contentZoneTarget=e.parentNode===this?d:e.parentNode;this.firstChild;)d.appendChild(this.firstChild);this._elements.contentZoneTarget.appendChild(h)}else{for(this._elements.contentZoneTarget=d;this.firstChild;)b.appendChild(this.firstChild);d.appendChild(h);d.appendChild(b);d.appendChild(c)}this.appendChild(d)}this.header=a;this.content=
b;this.footer=c},center:function(){if(!this.fullscreen)return this._centered&&Coral.commons.nextFrame(this._center),this._centered=!1,this},_center:function(){var a=this._elements.wrapper,b=this.style.display;this.style.display="block";a.style.position="absolute";a.style.left=0;a.style.top=0;var c=a.offsetWidth,e=a.offsetHeight;e<window.innerHeight-20?(a.style.top="50%",a.style.marginTop=-(e/2)+"px"):(a.style.top="",a.style.marginTop="");this.fullscreen?(a.style.marginLeft="",a.style.left=""):(a.style.marginLeft=
-(c/2)+"px",a.style.left="50%");this.style.display=b;this._centered=!0}});Coral.register({name:"Dialog.Header",tagName:"coral-dialog-header"});Coral.register({name:"Dialog.Footer",tagName:"coral-dialog-footer",className:"coral-Dialog-footer"});Coral.register({name:"Dialog.Content",tagName:"coral-dialog-content",className:"coral-Dialog-content"});Coral.Dialog.interaction=c;Coral.Dialog.variant=d;Coral.Dialog.backdrop=a;Coral.Dialog.closable=b})();
(function(){var b={ON:"on",OFF:"off"},c={ON:"on",OFF:"off"};Coral.register({name:"Popover",tagName:"coral-popover",className:"coral3-Popover",extend:Coral.Overlay,events:{"global:capture:click":"_handleClick","click [coral-close]":"_handleCloseClick"},properties:{trapFocus:{default:Coral.mixin.overlay.trapFocus.ON},returnFocus:{default:Coral.mixin.overlay.returnFocus.ON},content:Coral.property.contentZone({handle:"content",tagName:"coral-popover-content",defaultContentZone:!0,insert:function(b){this._elements.contentWrapper.appendChild(b)}}),
header:Coral.property.contentZone({handle:"header",tagName:"coral-popover-header",insert:function(b){this._elements.headerContent.appendChild(b)},set:function(b){this._observeHeader();this._hideHeaderIfEmpty()}}),alignMy:{default:Coral.Overlay.align.LEFT_CENTER},alignAt:{default:Coral.Overlay.align.RIGHT_CENTER},offset:{default:5},open:{sync:function(){this.open&&this.focus();var b=$(this._getTarget());this.open?(this._targetWasSelected=b.hasClass("is-selected"))||b.addClass("is-selected"):this._targetWasSelected||
b.removeClass("is-selected")}},target:{sync:function(){this.target&&this.open&&Coral.commons.nextFrame(function(){this.focus()}.bind(this))}},interaction:{default:c.ON},variant:Coral.Dialog.prototype._properties.variant,closable:{default:b.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this._elements.closeButton.style.display=this.closable===b.ON?"":"none"}},icon:Coral.property.proxy({path:"_elements.icon.icon"})},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,
_observeHeader:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))},_hideHeaderIfEmpty:function(){var b=this._elements.header,a=this._elements.headerWrapper,c=this._elements.headerContent;b=0===b.children.length&&""===b.textContent.replace(/\s*/g,"");b!==a.hidden&&((a.hidden=b)?(c.removeAttribute("role"),c.removeAttribute("aria-level")):(c.setAttribute("role","heading"),c.setAttribute("aria-level",
"2")),this.reposition())},_handleCloseClick:function(b){var a=b.matchedTarget.getAttribute("coral-close");if(!a||this.$.is(a))this.hide(),b.stopPropagation()},_handleClick:function(b){if(this.interaction!==c.OFF){b=b.target;var a=this._getTarget();a&&a.contains(b)?this.open||a.disabled?this.hide():this.show():this.open&&!this.contains(b)&&this.hide()}},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop(),
this.reposition())},_render:function(){var b=document.createDocumentFragment(),a=this._elements.headerWrapper=document.createElement("div");a.className="coral-Dialog-header coral-Popover-header";var c=this._elements.contentWrapper=document.createElement("div");c.className="coral3-Popover-content";var f=Coral.templates.Dialog.header.call(this._elements);a.appendChild(f);var h=(f=this.querySelector("coral-popover-header"))||document.createElement("coral-popover-header"),g=this.querySelector("coral-popover-content")||
document.createElement("coral-popover-content");this.header=h;this.content=g;f||(a.hidden=!0);b.appendChild(a);for(b.appendChild(c);this.firstChild;)g.appendChild(this.firstChild);this.appendChild(b)},_initialize:function(){this.setAttribute("role","dialog");this.setAttribute("aria-live","assertive");this._headerObserver=new MutationObserver(this._hideHeaderIfEmpty.bind(this));this._observeHeader()}});Coral.register({name:"Popover.Content",tagName:"coral-popover-content"});Coral.register({name:"Popover.Header",
tagName:"coral-popover-header"});Coral.register({name:"Popover.Separator",tagName:"coral-popover-separator",className:"coral-Popover-separator"});Coral.Popover.closable=b;Coral.Popover.interaction=c;Coral.Popover.variant={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"}})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-actionbar"]={"en-US":{More:"More"},"de-DE":{More:"Mehr"},"fr-FR":{More:"Plus"},"it-IT":{More:"Altro"},"ja-JP":{More:"\u305d\u306e\u4ed6"},"es-ES":{More:"M\u00e1s"},"ko-KR":{More:"\uc790\uc138\ud788"},"zh-CN":{More:"\u66f4\u591a"},"zh-TW":{More:"\u66f4\u591a"},"pt-BR":{More:"Mais"},"nl-NL":{More:"Meer"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.ActionBar=window.Coral.templates.ActionBar||{};
window.Coral.templates.ActionBar.moreButton=function(b){b=this.moreButton=document.createElement("button","coral-button");b.setAttribute("is","coral-button");b.setAttribute("handle","moreButton");b.setAttribute("type","button");b.setAttribute("variant","quiet");b.setAttribute("icon","more");b.setAttribute("coral-actionbar-more","");b.setAttribute("aria-expanded","false");b.setAttribute("aria-haspopup","true");return b};
window.Coral.templates.ActionBar.morePopover=function(b){b=this.popover=document.createElement("coral-popover");b.setAttribute("handle","popover");b.setAttribute("alignmy","left top");b.setAttribute("alignat","left bottom");b.setAttribute("coral-actionbar-popover","");return b};
window.Coral.templates.ActionBar.popovercontent=function(b){var c=document.createElement("ul");c.className+=" coral-List coral-List--minimal";var d=document.createTextNode("\n  ");c.appendChild(d);d=0;for(var a=b.length;d<a;d++){var e=b[d],f=document.createTextNode("\n    ");c.appendChild(f);f=document.createElement("li");f.className+=" coral-List-item";var h=document.createTextNode("\n      ");f.appendChild(h);f.appendChild(e);c.appendChild(f);e=document.createTextNode("\n  ");c.appendChild(e)}b=
document.createTextNode("\n");c.appendChild(b);return c};
(function(){Coral.register({name:"ActionBar",tagName:"coral-actionbar",className:"coral-ActionBar",events:{"key:up":"_onFocusPreviousItem","key:left":"_onFocusPreviousItem","key:down":"_onFocusNextItem","key:right":"_onFocusNextItem","global:resize":"_onResizeWindow"},properties:{primary:Coral.property.contentZone({handle:"primary",tagName:"coral-actionbar-primary",defaultContentZone:!0,insert:function(b){this.insertBefore(b,this.secondary)}}),secondary:Coral.property.contentZone({handle:"secondary",
tagName:"coral-actionbar-secondary",insert:function(b){this.appendChild(b)}})},_render:function(){for(var b=this.querySelectorAll("object"),c=0;c<b.length;++c){var d=b[c];d.parentNode===this&&this.removeChild(d)}b=this.querySelector("coral-actionbar-primary");c=this.querySelector("coral-actionbar-secondary");d=null!==b;b=b||document.createElement("coral-actionbar-primary");c=c||document.createElement("coral-actionbar-secondary");for(var a=Array.prototype.slice.call(this.getElementsByTagName("coral-actionbar-container")),
e,f,h=0,g=a.length;h<g;h++){e=a[h];0===h?(f=b,d=!0):1===h&&(f=c);if(f)for(e.hasAttribute("threshold")&&f.setAttribute("threshold",e.getAttribute("threshold")),e.hasAttribute("morebuttontext")&&f.setAttribute("morebuttontext",e.getAttribute("morebuttontext"));e.firstChild;)f.appendChild(e.firstChild);this.removeChild(e)}if(!d)for(;this.firstChild;)b.appendChild(this.firstChild);this.primary=b;this.secondary=c},_recalculateLayoutOnMutation:function(){var b=this;Coral.commons.nextFrame(function(){b._observer=
new MutationObserver(function(){b._onLayout()});b._observer.observe(b,{attributes:!0,childList:!0,characterData:!0,subtree:!0})})},_initialize:function(){this._onLayout=this._onLayout.bind(this);var b=this;Coral.commons.nextFrame(function(){b._onLayout();b._recalculateLayoutOnMutation()})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments);var b=this;Coral.commons.nextFrame(function(){Coral.commons.addResizeListener(b,b._onLayout);Coral.commons.addResizeListener(b.primary,
b._onLayout);Coral.commons.addResizeListener(b.secondary,b._onLayout)})},detachedCallback:function(){Coral.Component.prototype.detachedCallback.apply(this,arguments);Coral.commons.removeResizeListener(this,this._onLayout);Coral.commons.removeResizeListener(this.primary,this._onLayout);Coral.commons.removeResizeListener(this.secondary,this._onLayout)},_onFocusPreviousItem:function(b){b.preventDefault();b=this._getPreviousSelectableWrappedItem(b.target);null!==b&&b.focus()},_onFocusNextItem:function(b){b.preventDefault();
b=this._getNextSelectableWrappedItem(b.target);null!==b&&b.focus()},_onResizeWindow:function(){for(var b=this.querySelectorAll("coral-popover"),c=0;c<b.length;c++)b[c].open=!1;this._onLayout()},_onLayout:function(){if(this.primary&&this.primary._elements.popover&&this.secondary&&this.secondary._elements.popover&&!0!==this.primary._elements.popover.open&&!0!==this.secondary._elements.popover.open){var b=document.activeElement;this!==b&&this.contains(b)||(b=null);b&&b.parentNode&&"coral-actionbar-item"===
b.parentNode.tagName.toLowerCase()&&(b=b.parentNode);var c=this.primary.items.getAll(),d=this.secondary.items.getAll().reverse(),a=this._newWidthCache(),e=0<c.length?a.getOuterWidth(this.primary._elements.moreButton):0,f=0<d.length?a.getOuterWidth(this.secondary._elements.moreButton):0;var h=this.primary.offsetWidth-this.primary.getBoundingClientRect().width;var g=this.secondary.offsetWidth-this.secondary.getBoundingClientRect().width;for(var k=this.offsetWidth-this.primary.offsetLeft-(this.offsetWidth-
(this.secondary.offsetLeft+this.secondary.offsetWidth))-e-f-h-g-25,m=0,l=0,n=0,p=!1,t=!1,q,r=0,u=0;u<c.length||u<d.length;u++)h=u<c.length?c[u]:null,g=u<d.length?d[u]:null,q=!1,null!==h&&(h.hidden||"none"===h.style.display?this._moveToScreen(h):(!p&&(0>=this.primary.threshold||l<this.primary.threshold)&&(r=a.getOuterWidth(h),m+r<k?q=!0:l===c.length-1&&m+r<k+e&&(q=!0)),this._makeItemTabEnabled(h,q&&0===u),q?(l+=1,m+=r,this._moveToScreen(h)):(this._hideItem(h),p=!0),l===c.length&&(k+=e,p=!1))),q=!1,
null!==g&&(g.hidden||"none"===g.style.display?this._moveToScreen(g):(!t&&(0>=this.secondary.threshold||n<this.secondary.threshold)&&(r=a.getOuterWidth(g),m+r<k?q=!0:n===d.length-1&&m+r<k+f&&(q=!0)),this._makeItemTabEnabled(g,q&&u===d.length-1),q?(n+=1,m+=r,this._moveToScreen(g)):(this._hideItem(g),t=!0),n===d.length&&(k+=f,t=!1)));this._moveToScreen(this.primary._elements.moreButton,p);this._moveToScreen(this.secondary._elements.moreButton,t);this._makeItemTabEnabled(this.primary._elements.moreButton,
1>l);this._makeItemTabEnabled(this.secondary._elements.moreButton,n<d.length);b&&b.hasAttribute&&b.hasAttribute("coral-actionbar-offscreen")&&(b=Coral.ActionBar._getFirstSelectableWrappedItem(this._getAllSelectableItems()[0]))&&b.focus()}},_getNextSelectableWrappedItem:function(b){"coral-actionbar-item"===b.parentNode.tagName.toLowerCase()&&(b=b.parentNode);var c=this._getAllSelectableItems(b);b=c.indexOf(b);return 0<=b&&c.length>b+1?Coral.ActionBar._getFirstSelectableWrappedItem(c[b+1]):null},_getPreviousSelectableWrappedItem:function(b){"coral-actionbar-item"===
b.parentNode.tagName.toLowerCase()&&(b=b.parentNode);var c=this._getAllSelectableItems(b);b=c.indexOf(b);return 0<b?Coral.ActionBar._getFirstSelectableWrappedItem(c[b-1]):null},_getAllSelectableItems:function(b){var c=[];if(!0===this.primary._elements.popover.open||!0===this.secondary._elements.popover.open){b=!0===this.primary._elements.popover.open?this.primary._itemsInPopover:this.secondary._itemsInPopover;for(var d,a=0;a<b.length;a++)d=b[a],d.hasAttribute("disabled")||d.hasAttribute("hidden")||
"none"===d.style.display||!Coral.ActionBar._getFirstSelectableWrappedItem(d)||c.push(d)}else d=this.primary.items._getAllSelectable(),a=this.secondary.items._getAllSelectable(),b?0<=d.indexOf(b)?c=d:0<=a.indexOf(b)&&(c=a):c=d.concat(a);return c},_newWidthCache:function(){return{_items:[],_outerWidth:[],getOuterWidth:function(b){var c=this._items.indexOf(b);0>c&&(this._items.push(b),this._outerWidth.push(b.offsetWidth),c=this._outerWidth.length-1);return this._outerWidth[c]}}},_forceWebkitRedraw:function(b){"WebkitAppearance"in
document.documentElement.style&&"none"!==b.style.display&&(b.style.display="none",this._cachedOffsetHeight=b.offsetHeight,b.style.display="")},_hideItem:function(b,c){!1===c?this._moveToScreen(b):b.hasAttribute("coral-actionbar-offscreen")||(b.setAttribute("coral-actionbar-offscreen",""),this._forceWebkitRedraw(b))},_moveToScreen:function(b,c){!1===c?this._hideItem(b):b.hasAttribute("coral-actionbar-offscreen")&&(b.removeAttribute("coral-actionbar-offscreen"),this._forceWebkitRedraw(b))},_makeItemTabEnabled:function(b,
c){b=Coral.ActionBar._getFirstSelectableWrappedItem(b);null!==b&&(c&&b.hasAttribute("tabindex")?b.removeAttribute("tabindex"):c||b.hasAttribute("tabindex")||b.setAttribute("tabindex","-1"))}});Coral.ActionBar._getFirstSelectableWrappedItem=function(b){if(!b)return null;if(b.hasAttribute("coral-actionbar-more"))return b;for(var c,d=0;d<b.children.length;d++)if(c=b.children[d],!c.hasAttribute("disabled")&&!c.hasAttribute("hidden")&&$(c).is(":focusable"))return c;return null}})();
(function(){Coral.register({name:"ActionBar.Container",tagName:"coral-actionbar-container",className:"coral-ActionBar-container",_itemsInPopover:[],events:{'coral-overlay:beforeopen [handle\x3d"popover"]':"_beforePopoverOpen",'coral-overlay:beforeclose [handle\x3d"popover"]':"_beforePopoverClose"},properties:{_position:{attribute:null,get:function(){if(this.parentNode){var b=this.parentNode.querySelectorAll("coral-actionbar-container");if(0<b.length&&b[0]===this)return Coral.ActionBar.Container.position.PRIMARY;
if(1<b.length&&b[1]===this)return Coral.ActionBar.Container.position.SECONDARY}return Coral.ActionBar.Container.position.INVALID},set:function(){}},items:{get:function(){this._items||(this._items=new Coral.ActionBar.Container.Collection(this));return this._items},set:function(){}},threshold:{default:-1,reflectAttribute:!0,transform:Coral.transform.number},moreButtonText:{default:"",attribute:"morebuttontext",transform:Coral.transform.string,sync:function(){this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=
this.moreButtonText,""===this.moreButtonText.trim()?this._elements.moreButton.setAttribute("title",Coral.i18n.get("More")):this._elements.moreButton.removeAttribute("title"))}}},_beforePopoverOpen:function(b){if(b.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(1>this._itemsInPopover.length))){this._elements.popover.hidden=!1;b=this._elements.popover.content;b.innerHTML="";b.appendChild(Coral.templates.ActionBar.popovercontent(this._itemsInPopover));var c=this,
d,a=!0,e=function(){(d=Coral.ActionBar._getFirstSelectableWrappedItem(c._itemsInPopover[0]))?(d.removeAttribute("tabindex"),d.focus()):a&&(a=!1,Coral.commons.nextFrame(e))};Coral.commons.nextFrame(e)}},_beforePopoverClose:function(b){if(b.target===this._elements.popover){b=document.activeElement.parentNode;this._elements.popover.hidden=!0;for(var c=this._elements.popover.querySelectorAll("coral-popover"),d=0;d<c.length;d++)c[d].open=!1;this._position===Coral.ActionBar.Container.position.PRIMARY?this._returnLeftElementsFromPopover():
this._position===Coral.ActionBar.Container.position.SECONDARY&&this._returnRightElementsFromPopover();this._itemsInPopover=[];c=this.parentNode!==b&&this.parentNode.contains(b);b=b.hasAttribute&&b.hasAttribute("coral-actionbar-offscreen");c&&b&&this._elements.moreButton.focus()}},_render:function(){for(var b=this.querySelectorAll("object"),c=0;c<b.length;++c){var d=b[c];d.parentNode===this&&this.removeChild(d)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]");this._elements.moreButton&&
this.removeChild(this._elements.moreButton);this._elements.popover=this.querySelector("[coral-actionbar-popover]");this._elements.popover&&this.removeChild(this._elements.popover);Coral.templates.ActionBar.moreButton.call(this._elements);this._elements.moreButton.label.textContent=this.moreButtonText;this.appendChild(this._elements.moreButton);Coral.templates.ActionBar.morePopover.call(this._elements);this._elements.popover.target=this._elements.moreButton;this.insertBefore(this._elements.popover,
this.firstChild||null);console.warn("@deprecated: coral-actionbar-container is deprecated, use coral-actionbar-primary and coral-actionbar-secondary instead")},_returnLeftElementsFromPopover:function(){for(var b,c,d=0;d<this._itemsInPopover.length;d++)b=this._itemsInPopover[d],(c=Coral.ActionBar._getFirstSelectableWrappedItem(b))&&c.hasAttribute("tabindex")&&c.setAttribute("tabindex",-1),this.insertBefore(b,this._elements.moreButton||null)},_returnRightElementsFromPopover:function(){for(var b,c,d=
this._itemsInPopover.length-1;0<=d;d--)b=this._itemsInPopover[d],(c=Coral.ActionBar._getFirstSelectableWrappedItem(b))&&c.hasAttribute("tabindex")&&c.setAttribute("tabindex",-1),this.insertBefore(b,this.firstChild.nextSibling||null)},_attachMoreButtonToContainer:function(){this.parentNode&&this.parentNode.secondary===this?this.insertBefore(this._elements.moreButton,this.firstChild||null):this.appendChild(this._elements.moreButton)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,
arguments);if(this.parentNode._componentReady)this._attachMoreButtonToContainer();else{var b=this;Coral.commons.ready(this,function(){b._attachMoreButtonToContainer()})}}});Coral.ActionBar.Container.position={PRIMARY:"primary",SECONDARY:"secondary",INVALID:"invalid"}})();
(function(){var b={items:{get:function(){this._items||(this._items=new Coral.ActionBar.Container.Collection(this));return this._items},set:function(){}},threshold:{default:-1,reflectAttribute:!0,transform:Coral.transform.number},moreButtonText:{default:"",attribute:"morebuttontext",transform:Coral.transform.string,sync:function(){this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=this.moreButtonText,""===this.moreButtonText.trim()?this._elements.moreButton.setAttribute("title",
Coral.i18n.get("More")):this._elements.moreButton.removeAttribute("title"))}}},c={'coral-overlay:beforeopen [handle\x3d"popover"]':"_onOverlayBeforeOpen",'coral-overlay:beforeclose [handle\x3d"popover"]':"_onOverlayBeforeClose"},d={_onOverlayBeforeOpen:function(a){if(a.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(1>this._itemsInPopover.length))){this._elements.popover.hidden=!1;a=this._elements.popover.content;a.innerHTML="";a.appendChild(Coral.templates.ActionBar.popovercontent(this._itemsInPopover));
var b=this,c,d=!0,g=function(){(c=Coral.ActionBar._getFirstSelectableWrappedItem(b._itemsInPopover[0]))?(c.removeAttribute("tabindex"),c.focus()):d&&(d=!1,Coral.commons.nextFrame(g))};Coral.commons.nextFrame(g)}},_onOverlayBeforeClose:function(a){if(a.target===this._elements.popover){a=document.activeElement.parentNode;this._elements.popover.hidden=!0;for(var b=this._elements.popover.querySelectorAll("coral-popover"),c=0;c<b.length;c++)b[c].open=!1;this._returnElementsFromPopover();this._itemsInPopover=
[];b=$.contains(this.parentNode,a);a=a.hasAttribute&&a.hasAttribute("coral-actionbar-offscreen");b&&a&&this._elements.moreButton.focus()}},_render:function(){for(var a=this.querySelectorAll("object"),b=0;b<a.length;++b){var c=a[b];c.parentNode===this&&this.removeChild(c)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]");this._elements.moreButton&&this.removeChild(this._elements.moreButton);this._elements.popover=this.querySelector("[coral-actionbar-popover]");this._elements.popover&&
this.removeChild(this._elements.popover);Coral.templates.ActionBar.moreButton.call(this._elements);this._elements.moreButton.label.textContent=this.moreButtonText;this.appendChild(this._elements.moreButton);Coral.templates.ActionBar.morePopover.call(this._elements);this._elements.popover.target=this._elements.moreButton;this.insertBefore(this._elements.popover,this.firstChild||null)}};Coral.mixin.actionBarContainer=function(a,e){Coral.commons.augment(a,d,function(a,b,c){return Coral.commons.callAll(b,
a)});a._events=Coral.commons.augment({},a._events,c);Coral.register.augmentProperties(e.properties,b)}})();
(function(){Coral.register({name:"ActionBar.Primary",tagName:"coral-actionbar-primary",className:"coral-ActionBar-primary",mixins:[Coral.mixin.actionBarContainer],_itemsInPopover:[],_returnElementsFromPopover:function(){for(var b,c,d=0;d<this._itemsInPopover.length;d++)b=this._itemsInPopover[d],(c=Coral.ActionBar._getFirstSelectableWrappedItem(b))&&c.hasAttribute("tabindex")&&c.setAttribute("tabindex",-1),this.insertBefore(b,this._elements.moreButton||null)},_attachMoreButtonToContainer:function(){this.appendChild(this._elements.moreButton)},
attachedCallback:function(){var b=this;Coral.Component.prototype.attachedCallback.apply(this,arguments);Coral.commons.ready(this,function(){b._attachMoreButtonToContainer()})}})})();
(function(){Coral.register({name:"ActionBar.Secondary",tagName:"coral-actionbar-secondary",className:"coral-ActionBar-secondary",mixins:[Coral.mixin.actionBarContainer],_itemsInPopover:[],_returnElementsFromPopover:function(){for(var b,c,d=this._itemsInPopover.length-1;0<=d;d--)b=this._itemsInPopover[d],(c=Coral.ActionBar._getFirstSelectableWrappedItem(b))&&c.hasAttribute("tabindex")&&c.setAttribute("tabindex",-1),this.insertBefore(b,this.firstChild.nextSibling||null)},_attachMoreButtonToContainer:function(){this.insertBefore(this._elements.moreButton,
this.firstChild||null)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments);this._attachMoreButtonToContainer()}})})();
(function(){var b=function(b){this._host=b};b.prototype=Object.create(Coral.Collection.prototype);b.prototype.add=function(b,d){d||"CORAL-ACTIONBAR-PRIMARY"!==this._host.tagName||(d=this._host.lastChild);if(!(b instanceof HTMLElement)){var a=b;b=document.createElement("coral-actionbar-item");b.set(a,!0)}this._host.insertBefore(b,d||null);return b};b.prototype.clear=function(){for(var b=this.getAll(),d=[],a=b.length-1;-1<a;a--)d.push(this.remove(b[a]));this._host._itemsInPopover=[];return d};b.prototype.getAll=
function(){return Array.prototype.filter.call(this._host.children,function(b){return"CORAL-ACTIONBAR-ITEM"===b.tagName}).concat(this._host._itemsInPopover)};b.prototype._getAllSelectable=function(){for(var b=[],d,a=0;a<this._host.children.length;a++)d=this._host.children[a],d.hasAttribute("disabled")||d.hasAttribute("hidden")||d.hasAttribute("coral-actionbar-offscreen")||d===this._host._elements.popover||!Coral.ActionBar._getFirstSelectableWrappedItem(d)||b.push(d);return b};b.prototype._getAllOffScreen=
function(){return Array.prototype.filter.call(this._host.children,function(b){return"CORAL-ACTIONBAR-ITEM"===b.tagName&&b.hasAttribute("CORAL-ACTIONBAR-OFFSCREEN")})};Coral.ActionBar.Container.Collection=b})();(function(){Coral.register({name:"ActionBar.Item",tagName:"coral-actionbar-item",className:"coral-ActionBar-item",properties:{content:{contentZone:!0,get:function(){return this},set:function(){}}}})})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.Alert=window.Coral.templates.Alert||{};window.Coral.templates.Alert.icon=function(b){b=this.icon=document.createElement("coral-icon");b.className+=" coral3-Alert-typeIcon";b.setAttribute("size","XS");b.setAttribute("handle","icon");return b};
(function(){var b={success:"checkCircle",info:"infoCircle",error:"alert",warning:"alert",help:"helpCircle"},c={ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},d={SMALL:"S",LARGE:"L"},a={S:"small",L:"large"},e=[],f;for(f in c)e.push("coral3-Alert--"+c[f]);var h=[],g;for(g in d)h.push("coral3-Alert--"+a[d[g]]);Coral.register({name:"Alert",tagName:"coral-alert",className:"coral3-Alert",events:{"click [coral-close]":"_onCloseClick"},properties:{variant:{default:c.INFO,validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(c)],set:function(a){this._variant=a;this._elements.icon.icon=b[this.variant]},sync:function(){this.classList.remove.apply(this.classList,e);this.classList.add("coral3-Alert--"+this.variant)}},size:{default:d.SMALL,reflectAttribute:!0,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:function(){this.classList.remove.apply(this.classList,h);this.classList.add("coral3-Alert--"+a[this.size])}},
header:Coral.property.contentZone({handle:"header",tagName:"coral-alert-header",insert:function(a){this.insertBefore(a,this._elements.icon.nextElementSibling)}}),content:Coral.property.contentZone({handle:"content",tagName:"coral-alert-content",defaultContentZone:!0,insert:function(a){this.insertBefore(a,this.header.nextElementSibling)}}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-alert-footer",insert:function(a){this.insertBefore(a,this.content.nextElementSibling)}})},_templateHandleNames:["icon"],
_render:function(){var a=this.querySelector("coral-alert-header")||document.createElement("coral-alert-header"),b=this.querySelector("coral-alert-content"),c=this.querySelector("coral-alert-footer")||document.createElement("coral-alert-footer");if(null===b)for(b=document.createElement("coral-alert-content");this.firstChild;){var e=this.firstChild;e.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(e.getAttribute("handle"))?b.appendChild(e):this.removeChild(e)}e=this.querySelector("coral-icon");
null===e?this.appendChild(Coral.templates.Alert.icon.call(this._elements)):this._elements.icon=e;this.header=a;this.content=b;this.footer=c},_onCloseClick:function(a){var b=a.matchedTarget.getAttribute("coral-close");if(!b||this.matches(b))this.hide(),a.stopPropagation()}});Coral.register({name:"Alert.Header",tagName:"coral-alert-header",className:"coral3-Alert-header"});Coral.register({name:"Alert.Content",tagName:"coral-alert-content",className:"coral3-Alert-content"});Coral.register({name:"Alert.Footer",
tagName:"coral-alert-footer",className:"coral3-Alert-footer"});Coral.Alert.size=d;Coral.Alert.variant=c})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.List=window.Coral.templates.List||{};
window.Coral.templates.List.item=function(b){b=document.createDocumentFragment();var c=this.icon=document.createElement("coral-icon");c.setAttribute("size","S");c.className+=" coral-BasicList-item-icon";c.setAttribute("handle","icon");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.outerContainer=document.createElement("div");c.className+=" coral-BasicList-item-outerContainer";c.setAttribute("handle","outerContainer");var d=document.createTextNode("\n  ");c.appendChild(d);
d=this.contentContainer=document.createElement("div");d.className+=" coral-BasicList-item-contentContainer";d.setAttribute("handle","contentContainer");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);return b};
(function(){var b={ON:"on",OFF:"off"};Coral.register({name:"List",tagName:"coral-list",className:"coral-BasicList",itemTagName:"coral-list-item",events:{"capture:mouseenter [coral-list-item]":"_onItemMouseEnter","key:down [coral-list-item]":"_focusNextItem","key:right [coral-list-item]":"_focusNextItem","key:left [coral-list-item]":"_focusPreviousItem","key:up [coral-list-item]":"_focusPreviousItem","key:pageup [coral-list-item]":"_focusPreviousItem","key:pagedown [coral-list-item]":"_focusNextItem",
"key:home [coral-list-item]":"_focusFirstItem","key:end [coral-list-item]":"_focusLastItem"},properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({itemTagName:this.itemTagName,itemBaseTagName:this.itemBaseTagName,itemSelector:"[coral-list-item]",host:this}));return this._items},set:function(){}},interaction:{default:b.ON,attribute:"interaction",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)]}},_onItemMouseEnter:function(b){b.matchedTarget.hasAttribute("disabled")||
this.interaction!==Coral.List.interaction.ON||b.matchedTarget.focus()},_eventIsAtTarget:function(b){var c=b.target===b.matchedTarget;c&&(b.preventDefault(),b.stopPropagation());return c},_focusFirstItem:function(){this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(event)&&this._getSelectableItems()[0].focus()},_focusLastItem:function(){if(this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(event)){var b=this._getSelectableItems();b[b.length-1].focus()}},_focusNextItem:function(b){if(this.interaction!==
Coral.List.interaction.OFF&&this._eventIsAtTarget(b)){var c=b.matchedTarget;b=this._getSelectableItems();c=b.indexOf(c);-1!==c&&(c<b.length-1?b[c+1].focus():b[0].focus())}},_focusPreviousItem:function(b){if(this.interaction!==Coral.List.interaction.OFF&&this._eventIsAtTarget(b)){var c=b.matchedTarget;b=this._getSelectableItems();c=b.indexOf(c);-1!==c&&(0<c?b[c-1].focus():b[b.length-1].focus())}},_getSelectableItems:function(){return this.items.getAll().filter(function(b){return!b.hasAttribute("hidden")&&
!b.hasAttribute("disabled")})}});Coral.register({name:"List.Item",tagName:"coral-list-item",className:"coral-BasicList-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-list-item-content",defaultContentZone:!0,insert:function(b){this._elements.contentContainer.appendChild(b)}}),disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.disabled?this.setAttribute("aria-disabled",
"true"):this.removeAttribute("aria-disabled")}},icon:{default:"",validate:[],get:function(){return this._elements.icon.icon},set:function(b){this._elements.icon.icon=b;this._elements.icon.hidden=""===this._elements.icon.icon}}},_render:function(){var b=document.createDocumentFragment();b.appendChild(Coral.templates.List.item.call(this._elements));var d=this.querySelector("coral-list-item-content")||document.createElement("coral-list-item-content");for(Array.prototype.filter.call(this.children,function(a){return a.hasAttribute("handle")}).forEach(function(a){this.removeChild(a)}.bind(this));this.firstChild;)d.appendChild(this.firstChild);
this.content=d;this.appendChild(b)},_initialize:function(){this.setAttribute("coral-list-item","")}});Coral.register({name:"List.Item.Content",tagName:"coral-list-item-content",className:"coral-BasicList-item-content"});Coral.List.interaction=b})();
(function(){Coral.register({name:"AnchorList",tagName:"coral-anchorlist",className:"coral-BasicList coral-AnchorList",extend:Coral.List,itemTagName:"coral-anchorlist-item",itemBaseTagName:"a"});Coral.register({name:"AnchorList.Item",tagName:"coral-anchorlist-item",baseTagName:"a",className:"coral-BasicList-item coral-AnchorList-item",extend:Coral.List.Item,events:{click:"_onClick"},properties:{disabled:{sync:function(b){this.tabIndex=this.disabled?-1:0}}},_onClick:function(b){this.disabled&&b.preventDefault()}})})();
(function(){Coral.register({name:"ButtonList",tagName:"coral-buttonlist",className:"coral-BasicList coral-ButtonList",extend:Coral.List,itemTagName:"coral-buttonlist-item",itemBaseTagName:"button"});Coral.register({name:"ButtonList.Item",tagName:"coral-buttonlist-item",baseTagName:"button",className:"coral-BasicList-item coral-ButtonList-item",extend:Coral.List.Item,properties:{disabled:null}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-taglist"]={"en-US":{Remove:"Remove"},"fr-FR":{Remove:"Supprimer"},"de-DE":{Remove:"Entfernen"},"it-IT":{Remove:"Rimuovi"},"es-ES":{Remove:"Eliminar"},"pt-BR":{Remove:"Remover"},"ja-JP":{Remove:"\u524a\u9664"},"ko-KR":{Remove:"\uc81c\uac70"},"zh-CN":{Remove:"\u5220\u9664"},"zh-TW":{Remove:"\u79fb\u9664"},"nl-NL":{Remove:"Verwijderen"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.TagList=window.Coral.templates.TagList||{};window.Coral.templates.TagList.input=function(b){b=this.input=document.createElement("input");b.setAttribute("handle","input");b.setAttribute("type","hidden");b.setAttribute("name","");b.setAttribute("value","");return b};
window.Coral.templates.TagList.tag=function(b){b=this.button=document.createElement("button","coral-button");b.setAttribute("handle","button");b.setAttribute("is","coral-button");b.setAttribute("type","button");b.setAttribute("variant","minimal");b.setAttribute("icon","close");b.setAttribute("iconSize","XS");b.className+=" coral-Tag-removeButton";b.setAttribute("title",Coral.i18n.get("Remove"));b.setAttribute("tabindex","-1");b.setAttribute("coral-close","");return b};
(function(){var b={SMALL:"S",MEDIUM:"M",LARGE:"L"},c={DEFAULT:"",GREY:"grey",BLUE:"blue",LIGHT_BLUE:"lightblue",PERIWINKLE:"periwinkle",PLUM:"plum",FUCHSIA:"fuchsia",MAGENTA:"magenta",RED:"red",ORANGE:"orange",TANGERINE:"tangerine",YELLOW:"yellow",CHARTREUSE:"chartreuse",GREEN:"green",KELLY_GREEN:"kellygreen",SEA_FOAM:"seafoam",CYAN:"cyan"},d={S:"small",M:"medium",L:"large"},a=[],e;for(e in b)a.push("coral-Tag--"+d[b[e]]);var f=[],h;for(h in c)f.push("coral-Tag--"+c[h]);var g=null;Coral.register({name:"Tag",
tagName:"coral-tag",className:"coral-Tag",events:{click:"_onClick","key:backspace":"_onRemoveButtonClick","key:delete":"_onRemoveButtonClick","key:space":"_onRemoveButtonClick",mousedown:"_onMouseDown"},properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tag-label",defaultContentZone:!0,insert:function(a){this.appendChild(a)},sync:function(){this._updateAriaLabel()}}),closable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this._elements.button.hidden=!this.closable;this._updateAriaLabel()}},value:{reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-tag:_valuechanged",get:function(){return"undefined"===typeof this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}},quiet:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("coral-Tag--quiet",this.quiet)}},multiline:{default:!1,
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("coral-Tag--multiline",this.multiline)}},size:{default:b.LARGE,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.classList.remove.apply(this.classList,a);this.classList.add(this._className+"--"+d[this.size])}},color:{default:c.DEFAULT,validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(c)],sync:function(){this.classList.remove.apply(this.classList,f);this.color!==Coral.Tag.color.DEFAULT&&this.classList.add(this._className+"--"+this.color)}}},_onRemoveButtonClick:function(a){a.preventDefault();this.closable&&(a.stopPropagation(),this.focus(),this.trigger("coral-tag:_buttonclicked"),this.remove())},_onClick:function(a){!this._elements.button.disabled&&(a.target===this._elements.button||this._elements.button.contains(a.target)||null!==g||0>=a.clientX&&0>=
a.clientY)&&(this._onRemoveButtonClick(a),g=null)},_onMouseDown:function(a){var b=a.target.getBoundingClientRect();var c=document.body,e=document.documentElement;var d=Math.round(b.left+b.width/2+(window.pageXOffset||e.scrollLeft||c.scrollLeft)-(e.clientLeft||c.clientLeft||0));b=Math.round(b.top+b.height/2+(window.pageYOffset||e.scrollTop||c.scrollTop)-(e.clientTop||c.clientTop||0));g=a.target===this&&2>Math.abs(a.pageX-d)&&2>Math.abs(a.pageY-b)?{x:a.pageX,y:a.pageY}:null;Coral.events.on("mouseup.Tag",
this._onMouseUp)},_onMouseUp:function(a){null===g||a.pageX===g.x&&a.pageY===g.y||(g=null);Coral.events.off(".Tag",this._onMouseUp)},_render:function(){var a=document.createDocumentFragment(),b=this.querySelector("coral-tag-label")||document.createElement("coral-tag-label");for(b.parentNode&&this.removeChild(b);this.firstChild;){var c=this.firstChild;c.hasAttribute&&c.hasAttribute("handle")||c.nodeType===Node.COMMENT_NODE?(c.hasAttribute&&"button"===c.getAttribute("handle")&&(this._elements.button=
c),a.appendChild(c)):b.appendChild(c)}this._elements.button||a.appendChild(Coral.templates.TagList.tag.call(this._elements));this.appendChild(a);this.label=b},_updateAriaLabel:function(){var a=this._elements.button,b=this._elements.label;if("option"!==this.getAttribute("role"))a.removeAttribute("aria-hidden"),b.removeAttribute("aria-hidden");else{var c=[],e=a.getAttribute("title"),d=b.textContent;!a.parentElement||b.parentElement&&d===e||(a.hidden||c.push(e),a.setAttribute("aria-hidden","true"));
!b.parentElement||a.parentElement&&e===d||(c.push(d),b.setAttribute("aria-hidden","true"));c.length?this.setAttribute("aria-label",c.join(" ")):this.removeAttribute("aria-label")}}});Coral.register({name:"Tag.Label",tagName:"coral-tag-label",className:"coral-Tag-label"});Coral.Tag.size=b;Coral.Tag.color=c})();
(function(){Coral.register({name:"TagList",tagName:"coral-taglist",className:"coral-TagList",mixins:[Coral.mixin.formField],events:{"capture:focus coral-tag":"_onItemFocus","capture:blur coral-tag":"_onItemBlur","key:right coral-tag":"_onNextItemFocus","key:down coral-tag":"_onNextItemFocus","key:pagedown coral-tag":"_onNextItemFocus","key:left coral-tag":"_onPreviousItemFocus","key:up coral-tag":"_onPreviousItemFocus","key:pageup coral-tag":"_onPreviousItemFocus","key:home coral-tag":"_onFirstItemFocus",
"key:end coral-tag":"_onLastItemFocus","coral-tag:_buttonclicked":"_onTagButtonClicked","coral-tag:_valuechanged":"_onTagValueChanged"},properties:{disabled:{sync:function(){var b=this;b.classList.toggle("is-disabled",b.disabled);b.setAttribute("aria-disabled",b.disabled);b.items.getAll().forEach(function(c){var d=c._input;d&&(d.disabled=b.disabled);(c._elements.button.disabled=b.disabled)?c.removeAttribute("tabindex"):c.setAttribute("tabindex",0)})}},readOnly:{sync:function(){var b=this;b.removeAttribute("aria-readonly");
b.items.getAll().forEach(function(c){c.closable=!b.readOnly})}},value:{transform:Coral.transform.string,validate:[function(b,c){return b!==c||""===c&&this.items.length}],get:function(){var b=this.items.getAll();return b.length?b[0].value:""},set:function(b){"undefined"!==typeof this.value&&(this.items.clear(),b&&(b=(new Coral.Tag).set({label:{innerHTML:b},value:b}),this._attachInputToItem(b,!0),this.items.add(b)))}},values:{get:function(){return this.items.getAll().map(function(b){return b.value})},
set:function(b){var c=this;c.items.clear();b.forEach(function(b){b=(new Coral.Tag).set({label:{innerHTML:b},value:b});c._attachInputToItem(b,!0);c.items.add(b)})}},items:{set:function(){},get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-tag"}));return this._items}},name:{transform:Coral.transform.string,get:function(){return this._name},set:function(b){this._name=b;this.items.getAll().forEach(function(c){(c=c._input)&&c.setAttribute("name",b)})}}},_getLabellableElement:function(){return this},
_attachInputToItem:function(b,c){if(b._input)b._preAttachedInput&&(b._input=b._preAttachedInput,b._preAttachedInput=void 0);else{var d=b.querySelector("input[handle\x3dinput]")||Coral.templates.TagList.input.call(b._elements);d.disabled=this.disabled;d.name=this.name;d.value=b.value;b.appendChild(d);c?b._preAttachedInput=d:b._input=d}},_onItemAttached:function(b){var c=this.items.getAll();b._input||(c.some(function(c){return c.value===b.value&&c!==b})?b.remove():(this._attachInputToItem(b),b.setAttribute("role",
"option"),b.setAttribute("aria-selected",!1),b.setAttribute("tabindex","-1"),b.closable=!this.readOnly,this.querySelector('coral-tag[tabindex\x3d"0"]')||(c=c[0])&&c.setAttribute("tabindex","0"),this.trigger("coral-collection:add",{item:b})))},_onItemDetached:function(b){b._input=void 0;b._preAttachedInput=void 0;b.removeAttribute("role");b.removeAttribute("aria-selected");b.removeAttribute("tabindex");this._itemToFocusAfterDelete&&this._itemToFocusAfterDelete.focus();this.trigger("coral-collection:remove",
{item:b})},_onItemFocus:function(b){if(!this.disabled){this.setAttribute("aria-live","polite");var c=b.matchedTarget;c.setAttribute("aria-selected",!0);this.items.getAll().forEach(function(b){b!==c&&b.setAttribute("tabindex","-1")});c.setAttribute("tabindex","0");this._setItemToFocusOnDelete(c)}},_onItemBlur:function(b){this.disabled||(this.setAttribute("aria-live","off"),b=b.matchedTarget,b.setAttribute("aria-selected",!1),this._setItemToFocusOnDelete(b))},_onSiblingItemFocus:function(b,c){if(!this.disabled)for(b.preventDefault(),
b=b.target[c];b;)if("coral-tag"!==b.tagName.toLowerCase()||b.hidden)b=b[c];else{b.focus();break}},_onNextItemFocus:function(b){this._onSiblingItemFocus(b,"nextElementSibling")},_onPreviousItemFocus:function(b){this._onSiblingItemFocus(b,"previousElementSibling")},_onFirstItemFocus:function(b){b.preventDefault();0<this.items.length&&this.items.getAll()[0].focus()},_onLastItemFocus:function(b){b.preventDefault();b=this.items.length;0<b&&this.items.getAll()[b-1].focus()},_onTagButtonClicked:function(b){b.stopImmediatePropagation();
Coral.commons.nextFrame(function(){this.trigger("change")}.bind(this))},_onTagValueChanged:function(b){b.stopImmediatePropagation();b=b.target;var c=b._input;c&&(c.value=b.value)},_setItemToFocusOnDelete:function(b){for(var c=this,d=b.nextElementSibling;d;)if("coral-tag"!==d.tagName.toLowerCase()||d.hidden)d=d.nextElementSibling;else{this._itemToFocusAfterDelete=d;return}for(d=b.previousElementSibling;d;)if("coral-tag"!==d.tagName.toLowerCase()||d.hidden)d=d.previousElementSibling;else{this._itemToFocusAfterDelete=
d;break}Coral.commons.nextFrame(function(){null===b.parentElement||c.contains(document.activeElement)||(d=void 0)})},reset:function(){this.values=this._initialValues},_initialize:function(){this._itemToFocusAfterDelete=null;this.setAttribute("role","listbox");this.setAttribute("aria-live","off");this.setAttribute("aria-atomic","false");this.setAttribute("aria-relevant","additions");this._observer=new MutationObserver(function(b){var c=this;b.forEach(function(b){for(var a=0;a<b.addedNodes.length;a++){var e=
b.addedNodes[a];window.CustomElements.instanceof(e,Coral.Tag)&&c._onItemAttached(e)}for(a=0;a<b.removedNodes.length;a++)e=b.removedNodes[a],window.CustomElements.instanceof(e,Coral.Tag)&&c._onItemDetached(e)})}.bind(this));this._observer.observe(this,{childList:!0});Coral.commons.ready(this,function(b){b.items.getAll().forEach(function(c){b._onItemAttached(c)});b._initialValues=b.values})}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-autocomplete"]={"en-US":{"No matching results\x26period;":"No matching results.","Show suggestion":"Show suggestion","Show {0} suggestions":"Show {0} suggestions","Show suggestions":"Show suggestions"},"de-DE":{"No matching results\x26period;":"Keine passenden Ergebnisse.","Show suggestion":"Vorschlag anzeigen","Show {0} suggestions":"{0} Vorschl\u00e4ge anzeigen","Show suggestions":"Vorschl\u00e4ge anzeigen"},"es-ES":{"No matching results\x26period;":"No hay resultados coincidentes.",
"Show suggestion":"Mostrar sugerencia","Show {0} suggestions":"Mostrar {0} sugerencias","Show suggestions":"Mostrar sugerencias"},"ko-KR":{"No matching results\x26period;":"\uc77c\uce58\ud558\ub294 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","Show suggestion":"\uc81c\uc548 \uc0ac\ud56d \ud45c\uc2dc","Show {0} suggestions":"{0}\uc81c\uc548 \uc0ac\ud56d \ud45c\uc2dc","Show suggestions":"\uc81c\uc548 \uc0ac\ud56d \ud45c\uc2dc"},"fr-FR":{"No matching results\x26period;":"Aucun r\u00e9sultat correspondant.",
"Show suggestion":"Afficher la suggestion","Show {0} suggestions":"Afficher {0} suggestions","Show suggestions":"Afficher les suggestions"},"ja-JP":{"No matching results\x26period;":"\u4e00\u81f4\u3059\u308b\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002","Show suggestion":"\u5165\u529b\u5019\u88dc\u3092\u8868\u793a","Show {0} suggestions":"{0}\u5165\u529b\u5019\u88dc\u3092\u8868\u793a","Show suggestions":"\u5165\u529b\u5019\u88dc\u3092\u8868\u793a"},"zh-CN":{"No matching results\x26period;":"\u65e0\u5339\u914d\u7684\u7ed3\u679c\u3002",
"Show suggestion":"\u663e\u793a\u5efa\u8bae","Show {0} suggestions":"\u663e\u793a {0} \u4e2a\u5efa\u8bae","Show suggestions":"\u663e\u793a\u5efa\u8bae"},"zh-TW":{"No matching results\x26period;":"\u6c92\u6709\u76f8\u7b26\u7684\u7d50\u679c\u3002","Show suggestion":"\u986f\u793a\u5efa\u8b70","Show {0} suggestions":"\u986f\u793a {0} \u500b\u5efa\u8b70","Show suggestions":"\u986f\u793a\u5efa\u8b70"},"pt-BR":{"No matching results\x26period;":"Nenhum resultado correspondente.","Show suggestion":"Mostrar sugest\u00e3o",
"Show {0} suggestions":"Mostrar {0} sugest\u00f5es","Show suggestions":"Mostrar sugest\u00f5es"},"it-IT":{"No matching results\x26period;":"Nessun risultato corrispondente.","Show suggestion":"Mostra suggerimento","Show {0} suggestions":"Mostra {0} suggerimenti","Show suggestions":"Mostra suggerimenti"},"nl-NL":{"No matching results\x26period;":"Geen overeenkomende resultaten.","Show suggestion":"Voorstel tonen","Show {0} suggestions":"{0} voorstellen tonen","Show suggestions":"Voorstellen tonen"}};
window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Autocomplete=window.Coral.templates.Autocomplete||{};
window.Coral.templates.Autocomplete.base=function(b){b=document.createDocumentFragment();var c=this.field=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("handle","field");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.inputGroup=document.createElement("div");c.className+=" coral-InputGroup coral-InputGroup--block coral-Autocomplete-inputGroup";c.setAttribute("handle","inputGroup");c.setAttribute("role","presentation");var d=document.createTextNode("\n  ");
c.appendChild(d);d=this.label=document.createElement("div");d.className+=" coral-InputGroup-input coral-DecoratedTextfield";d.setAttribute("handle","label");d.setAttribute("role","presentation");var a=document.createTextNode("\n    ");d.appendChild(a);a=this.icon=document.createElement("coral-icon");a.setAttribute("size","XS");a.className+=" coral-DecoratedTextfield-icon coral-Autocomplete-icon";a.setAttribute("handle","icon");d.appendChild(a);a=document.createTextNode("\n    ");d.appendChild(a);
a=this.input=document.createElement("input","coral-textfield");a.className+=" coral-DecoratedTextfield-input coral-Autocomplete-input";a.setAttribute("type","text");a.setAttribute("autocomplete","off");a.setAttribute("handle","input");a.setAttribute("role","textbox");a.setAttribute("is","coral-textfield");d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=document.createElement("span");d.className+=" coral-InputGroup-button";
d.setAttribute("role","presentation");a=document.createTextNode("\n    ");d.appendChild(a);a=this.trigger=document.createElement("button","coral-button");a.setAttribute("tabindex","-1");a.setAttribute("is","coral-button");a.setAttribute("type","button");a.setAttribute("icon","chevronDown");a.setAttribute("iconsize","XS");a.setAttribute("handle","trigger");a.className+=" coral-Autocomplete-trigger";a.setAttribute("aria-label",Coral.i18n.get("Show suggestions"));a.setAttribute("title",Coral.i18n.get("Show suggestions"));
d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.overlay=document.createElement("coral-overlay");c.className+=" coral-Autocomplete-overlay";c.setAttribute("returnfocus","off");c.setAttribute("alignmy","left top");c.setAttribute("alignat","left bottom");c.setAttribute("target","_prev");c.setAttribute("handle","overlay");c.setAttribute("role",
"presentation");d=document.createTextNode("\n  ");c.appendChild(d);d=this.selectList=document.createElement("coral-buttonlist");d.id=Coral.commons.getUID();d.className+=" coral-Autocomplete-selectList";d.setAttribute("handle","selectList");d.setAttribute("role","listbox");d.setAttribute("interaction","off");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.tagList=document.createElement("coral-taglist");c.className+=
" coral-Autocomplete-tagList";c.setAttribute("handle","tagList");b.appendChild(c);return b};window.Coral.templates.Autocomplete.loadIndicator=function(b){b=document.createElement("div");b.className+=" coral-Autocomplete-loading";b.setAttribute("role","progressbar");var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-wait");c.setAttribute("centered","");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){var b=function(a){Coral.Collection.call(this,arguments);this._host=a.host};b.prototype=Object.create(Coral.Collection.prototype);b.prototype.add=function(a,b){a instanceof HTMLElement||(a=(new Coral.Autocomplete.Item).set(a,!0));this._host.insertBefore(a,b||null);return a};b.prototype.getAll=function(){return Array.prototype.slice.call(this._host.querySelectorAll("coral-autocomplete-item"))};var c={STARTSWITH:"startswith",CONTAINS:"contains"},d=Coral.validate.enumeration(c);Coral.register({name:"Autocomplete",
tagName:"coral-autocomplete",className:"coral-Autocomplete",mixins:[Coral.mixin.formField],properties:{items:{get:function(){this._items||(this._items=new b({itemTagName:"coral-autocomplete-item",itemSelector:"coral-autocomplete-item",host:this}));return this._items},set:function(){}},name:{set:function(a){this._name=a;this._setName()},get:function(){return this._name}},value:{override:!0,transform:function(a){if(void 0===a||null===a)a="";return a},set:function(a){this.values=[a]},get:function(){var a=
this.values;return a&&0<a.length?a[0]:""}},values:{validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],set:function(a){if(void 0===a||null===a)a=[];var b,c=[];if(this.forceSelection)for(b=0;b<a.length;b++){var d=a[b];void 0!==this._optionsMap[d]&&c.push(d)}else for(b=0;b<a.length;b++)d=a[b],c.push(d);if(this.multiple)for(this._clearValues(),b=0;b<c.length;b++)d=c[b],this._selectItem(d),this._addValue(d,null,!0);else this._values=0<c.length?[c[0]]:[],this._reflectCurrentValue()},
get:function(){return this._values}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._multiple=a;this._setName();a?this._elements.tagList.hidden=!1:(this._elements.tagList.hidden=!0,this._elements.tagList.items.clear())},get:function(){return this._multiple},sync:function(){},alsoSync:"labelledBy"},delay:{default:200,reflectAttribute:!0,transform:Coral.transform.number,validate:function(a,b){return"number"===
typeof a&&0<=a}},forceSelection:{default:!1,attribute:"forceselection",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._forceSelection=a},get:function(){return this._forceSelection}},placeholder:{default:"",reflectAttribute:!0,set:function(a){this._elements.input.setAttribute("placeholder",a)},get:function(){return this._elements.input.getAttribute("placeholder")}},maxLength:{attribute:"maxlength",reflectAttribute:!0,set:function(a){this._elements.input.maxLength=
a},get:function(){return this._elements.input.maxLength}},icon:{default:"",validate:[],reflectAttribute:!0,set:function(a){this._elements.icon.icon=a;this._elements.icon.hidden=!this._elements.icon.icon},get:function(){return this._elements.icon.icon}},match:{default:c.CONTAINS,validate:function(a){return"string"===typeof a?d(a):"function"===typeof a},set:function(a){a===c.STARTSWITH?this._matchFunction=this._optionStartsWithValue:a===c.CONTAINS?this._matchFunction=this._optionContainsValue:"function"===
typeof a&&(this._matchFunction=a);this._match=a}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid);this._elements.input.classList.toggle("is-invalid",this.invalid)}},disabled:{set:function(a){this._disabled=a;this._elements.input.disabled=this.disabled;this._elements.trigger.disabled=this.disabled||this.readOnly;this._elements.tagList.disabled=this.disabled||this.readOnly}},readOnly:{set:function(a){this._readOnly=a;this._elements.input.readOnly=this.readOnly;this._elements.trigger.disabled=
this.readOnly||this.disabled}},required:{set:function(a){this._required=a;this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy&&this.multiple?this._elements.tagList.setAttribute("aria-labelledby",this.labelledBy):this._elements.tagList.removeAttribute("aria-labelledby")}},loading:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._loading=a;a=this._elements.loadIndicator;if(this.loading){a||
(a=this._elements.loadIndicator=Coral.templates.Autocomplete.loadIndicator().firstChild);var b=this._elements.overlay,c=b.scrollTop>=b.scrollHeight-b.clientHeight;this._elements.overlay.appendChild(a);c&&(b.scrollTop=b.scrollHeight)}else a&&a.parentNode&&this._elements.overlay.removeChild(a)}}},events:{'key:up [handle\x3d"input"]':"_handleInputUpKeypress",'key:alt+up [handle\x3d"input"]':"_handleInputUpKeypress",'key:down [handle\x3d"input"]':"_handleInputDownKeypress",'key:alt+down [handle\x3d"input"]':"_handleInputDownKeypress",
'key:tab [handle\x3d"input"]':"_handleInputTabKeypress",'key:shift+tab [handle\x3d"input"]':"_handleListFocusShift",'capture:change [handle\x3d"input"]':"_handleInput",'input [handle\x3d"input"]':"_handleInputEvent",keydown:"_handleInputKeypressEnter",'click [handle\x3d"trigger"]':"_handleTriggerClick",'mousedown [handle\x3d"trigger"]':"_handleTriggerMousedown","key:escape":"_hideSuggestionsAndFocus",'key:shift+tab [is\x3d"coral-buttonlist-item"]':"_handleListFocusShift","capture:blur":"_handleFocusOut",
'capture:focus [handle\x3d"inputGroup"]':"_handleInputGroupFocusIn",'capture:blur [handle\x3d"inputGroup"]':"_handleInputGroupFocusOut",'coral-collection:remove [handle\x3d"tagList"]':"_handleTagRemoved",'change [handle\x3d"tagList"]':"_preventTagListChangeEvent",'key:enter button[is\x3d"coral-buttonlist-item"]':"_handleSelect",'click button[is\x3d"coral-buttonlist-item"]':"_handleSelect",'capture:scroll [handle\x3d"overlay"]':"_onScroll",'capture:mousewheel [handle\x3d"overlay"]':"_onMouseWheel",
'mousedown button[is\x3d"coral-buttonlist-item"]':"_handleSelect",'capture:mouseenter [is\x3d"coral-buttonlist-item"]':"_handleListItemFocus","coral-overlay:positioned":"_handleOverlayPositioned","coralui-autocomplete-item:_valuechanged":"_handleItemValueChange","coralui-autocomplete-item:_selectedchanged":"_handleItemSelectedChange","coralui-autocomplete-item:_contentchanged":"_handleItemContentChange"},_render:function(){var a=document.createDocumentFragment();for(a.appendChild(Coral.templates.Autocomplete.base.call(this._elements));this.firstChild;){var b=
this.firstChild;b.nodeType===Node.TEXT_NODE||b.hasAttribute&&!b.hasAttribute("handle")?a.appendChild(b):this.removeChild(b)}this.appendChild(a);this.setAttribute("role","presentation");this._elements.input.setAttribute("role","combobox");this._elements.input.setAttribute("aria-autocomplete","list");this._elements.input.setAttribute("aria-haspopup","true");this._elements.input.setAttribute("aria-controls",this._elements.selectList.id);this._elements.trigger.setAttribute("aria-haspopup","true");this._elements.trigger.setAttribute("aria-controls",
this._elements.selectList.id);this._tagMap={};this._values=[];this._options=[];this._optionsMap={};this._handleScrollBottom=this._handleScrollBottom.bind(this);this._observer=new MutationObserver(this._handleMutation.bind(this));this._startObserving();this._setStateFromDOM()},_initialize:function(){this._initialSelectedValues=this.values.slice(0)},reset:function(){this.values=this._initialSelectedValues},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this._setStateFromDOM()},
_startObserving:function(){this._observer.observe(this,{childList:!0})},_stopObserving:function(){this._observer.disconnect()},_setName:function(){this.multiple?(this._elements.tagList.name=this.name,this._elements.field.name=""):(this._elements.field.name=this.name,this._elements.tagList.name="")},_onInputChange:function(a){a.stopPropagation();if(!this.multiple&&(a=this._elements.input.value.toLowerCase(),this.forceSelection||""===a))for(var b=this.items.getAll(),c=0;c<b.length;c++)b[c].value.toLowerCase()!==
a&&(b[c].selected=!1)},_handleMutation:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.target;if("childList"===c.type&&d===this){this._setStateFromDOM();break}}},_setStateFromDOM:function(){this._createOptionsFromDOM();this._setSelectedFromDOM()},_createOptionsFromDOM:function(){this._options.length=0;this._optionsMap={};for(var a=this.querySelectorAll("coral-autocomplete-item"),b=0;b<a.length;b++){var c=a[b];c={value:c.getAttribute("value"),icon:c.getAttribute("icon"),disabled:c.hasAttribute("disabled"),
content:c.innerHTML.replace(/\s{2,}/g," ").trim()};this._options.push(c);this._optionsMap[c.value]=c}},_setInputValues:function(a,b){this._elements.field.value=a;if(this.multiple||""!==b)this._elements.input.value=b.trim()},_reflectCurrentValue:function(){var a=0<this._values.length?this._values[0]:"";this._elements.field.value=a;var b="";""!==a&&(b=(b=this._optionsMap[a])?b.content:a);this._setInputValues(a,b)},_setSelectedFromDOM:function(){var a=this.querySelectorAll("coral-autocomplete-item[selected]");
if(a.length)if(this.hasAttribute("multiple")){this._resetValues();for(var b=0;b<a.length;b++){var c=a[b].getAttribute("value");this._addValue(c,a[b].innerHTML,!0)}}else b=a[a.length-1],this._deselectExcept(b,a),this.value=b.getAttribute("value");else this.hasAttribute("multiple")?this._resetValues():this.value=""},_deselectExcept:function(a,b){b=b||this.querySelectorAll("coral-autocomplete-item[selected]");this._stopObserving();for(var c=0;c<b.length;c++)b[c]!==a&&b[c].removeAttribute("selected");
this._startObserving()},_addValue:function(a,b,c){b||(b=(b=this._optionsMap[a])?b.content:a);-1===this._values.indexOf(a)&&this._values.push(a);var e={};c?e.innerHTML=b:e.textContent=b;c=(new Coral.Tag).set({label:e,value:a});this._tagMap[a]=c;this._elements.tagList.items.add(c);this._setInputValues("","")},_removeValue:function(a){var b=this._values.indexOf(a);if(-1!==b){this._values.splice(b,1);var c=this.querySelector("coral-autocomplete-item[value\x3d"+JSON.stringify(a)+"]");c&&c.hasAttribute("selected")&&
(this._stopObserving(),c.removeAttribute("selected"),this._startObserving());if(c=this._tagMap[a])this._tagMap[a]=null,this._elements.tagList.items.remove(c);-1!==b&&this.trigger("change")}},_clearValues:function(){this._resetValues();this._stopObserving();for(var a=this.querySelectorAll("coral-autocomplete-item[selected]"),b=0;b<a.length;b++)a[b].removeAttribute("selected");this._startObserving()},_resetValues:function(){this._values=[];this._tagMap={};this._elements.tagList.items.clear()},_focusNextItem:function(){var a=
this._elements.selectList,b=a.querySelector(".is-focused"),c=this._elements.input,d=a._getSelectableItems(),g,k=this;if(b){var m=d.indexOf(b);m<d.length-1&&(g=d[m+1])}else d&&0<d.length&&(g=d[0]);Coral.commons.nextFrame(function(){g&&(b&&b.classList.remove("is-focused"),k._scrollItemIntoView(g),g.classList.add("is-focused"),c.setAttribute("aria-activedescendant",g.id));a.querySelector(".is-focused")||c.removeAttribute("aria-activedescendant")})},_focusPreviousItem:function(){var a=this._elements.selectList,
b=a.querySelector(".is-focused"),c=this._elements.input,d=a._getSelectableItems(),g,k=this;if(b){var m=d.indexOf(b);0<m&&(g=d[m-1]);b.classList.remove("is-focused")}else d&&0<d.length&&(g=d[d.length-1]);Coral.commons.nextFrame(function(){g&&(k._scrollItemIntoView(g),g.classList.add("is-focused"),c.setAttribute("aria-activedescendant",g.id));a.querySelector(".is-focused")||c.removeAttribute("aria-activedescendant")})},_showSuggestions:function(){var a=this._elements.input.value;this.clearSuggestions();
var b=this.trigger("coral-autocomplete:showsuggestions",{value:a,start:0});this._showSuggestionsCalled=!0;b.defaultPrevented?this.loading=!0:this.addSuggestions(this._getMatches(a.toLowerCase().trim(),this._optionContainsValue));this.showSuggestions()},_onScroll:function(){clearTimeout(this._scrollTimeout);this._scrollTimeout=setTimeout(this._handleScrollBottom,100)},_onMouseWheel:function(a){var b=this._elements.overlay;(0>a.deltaY&&0===b.scrollTop||0<a.deltaY&&b.scrollTop>=b.scrollHeight-b.clientHeight)&&
a.preventDefault()},_handleScrollBottom:function(){var a=this._elements.overlay,b=this._elements.selectList;a.scrollTop>=a.scrollHeight-a.clientHeight-50&&this.trigger("coral-autocomplete:showsuggestions",{value:this._elements.input.value,start:b.items.length}).defaultPrevented&&(this.loading=!0)},_handleFocusOut:function(a){var b=this,c=this._elements.selectList,d=a.target,g=d===this._elements.input;this._blurTimeout&&clearTimeout(this._blurTimeout);this._blurTimeout=setTimeout(function(){var e=
document.activeElement,f=!b.contains(e);g&&f&&!b.multiple?b._handleInput(a):(!e||(g||e!==document.body)&&f||c.contains(d)&&!c.contains(e))&&b.hideSuggestions()},0)},_handleInputGroupFocusIn:function(){this.classList.add("is-focused")},_handleInputGroupFocusOut:function(a){this.classList.remove("is-focused")},_handleOverlayPositioned:function(a){"top"===a.detail.vertical?(this.classList.remove("is-openAbove"),this.classList.add("is-openBelow")):(this.classList.remove("is-openBelow"),this.classList.add("is-openAbove"))},
_handleListFocusShift:function(a){this._elements.overlay.open&&(a.preventDefault(),a.stopImmediatePropagation(),this._hideSuggestionsAndFocus())},_hideSuggestionsAndFocus:function(a){this.hideSuggestions();this._elements.input.focus()},_handleTriggerClick:function(){this._elements.overlay.open?this._hideSuggestionsAndFocus():(this._showSuggestions(),this._elements.input.focus())},_handleTriggerMousedown:function(){this._elements.trigger.focus()},_handleListItemFocus:function(a){a=a.matchedTarget;
var b=this._elements.selectList.querySelector(".is-focused"),c=this._elements.input;b&&(b.classList.remove("is-focused"),c.removeAttribute("aria-activedescendant"));a.disabled||(this._scrollItemIntoView(a),a.classList.add("is-focused"),c.setAttribute("aria-activedescendant",a.id))},_scrollItemIntoView:function(a){var b=a.getBoundingClientRect(),c=this._elements.overlay.getBoundingClientRect();b.top<c.top?a.scrollIntoView():b.bottom>c.bottom+1&&a.scrollIntoView(!1)},_getMatches:function(a,b){b=b||
this._matchFunction;for(var c=[],d=0;d<this._options.length;d++)b(this._options[d],a)&&c.push(this._options[d]);if(!c.length){var e=this._elements.selectList.items.getAll();for(d=0;d<e.length;d++){var k={value:e[d].value,content:e[d].textContent.trim()};b(k,a)&&c.push(k)}}return c},_handleInputKeypressEnter:function(a){13===a.which&&this._handleInput(a)},_handleInputEvent:function(a){this.invalid=!1;this.delay?(clearTimeout(this.timeout),this.timeout=setTimeout(this._showSuggestions.bind(this),this.delay)):
this._showSuggestions()},_handleInput:function(a){var b;a.preventDefault();this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")&&(a=this._elements.selectList.querySelector(".is-focused"))&&(b=a.textContent.trim());var c=b||this._elements.input.value;b=!1;b=this._getMatches(c,this._optionEqualsValue);b.length?(a=b.filter(function(a){return a.content===c})[0]||b[0],b=this.value!==a.value,this._selectItem(a.value,a.content,!1),this.multiple?c.trim()&&this._addValue(a.value,
a.content,!1):this.value=a.value,this.forceSelection&&(this.invalid=!1),this.hideSuggestions(),!0===b&&this.trigger("change")):this.forceSelection?this.invalid=this.multiple?""!==c||1===this.values.length&&""===this.values[0]||0===this.values.length:!0:(b=this.value!==c,this.multiple?c.trim()&&this._addValue(c,null,!1):this.value=c,this.hideSuggestions(),!0===b&&this.trigger("change"));this._updateButtonAccessibilityLabel()},_selectItem:function(a,b,c){this._stopObserving();var d=this.querySelector("coral-autocomplete-item[value\x3d"+
JSON.stringify(a)+"]");d?d.setAttribute("selected",""):(d={},b="undefined"===typeof b?a:b,c?d.innerHTML=b:d.textContent=b,this.items.add((new Coral.Autocomplete.Item).set({value:a,content:d,selected:!0})));this._startObserving()},_handleInputUpKeypress:function(a){a.preventDefault();this._elements.overlay.open?a.altKey?this.hideSuggestions():this._focusPreviousItem():this._showSuggestions()},_handleInputDownKeypress:function(a){a.preventDefault();this._elements.overlay.open?this._focusNextItem():
this._showSuggestions()},_handleInputTabKeypress:function(a){this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")&&a.preventDefault()},_handleSelect:function(a){if((a=a.matchedTarget)&&!a.disabled){this._selectItem(a.value,a.content.innerHTML,!0);this.multiple?this._addValue(a.value,a.content.innerHTML,!0):(this.value=a.value,this._setInputValues(this.value,a.content.textContent,!1));var b=this;Coral.commons.nextFrame(function(){b._elements.input.focus()});this.hideSuggestions();
this.trigger("change")}},_preventTagListChangeEvent:function(a){a.stopImmediatePropagation()},_handleTagRemoved:function(a){a=a.detail.item.value;for(var b=!0,c=this._elements.tagList.items.getAll(),d=0;d<c.length;d++)if(c[d].value===a){b=!1;break}b&&this._removeValue(a);(1===this.values.length&&""===this.values[0]||0===this.values.length)&&this._elements.input.focus();this._updateButtonAccessibilityLabel()},_handleItemValueChange:function(a){a.stopImmediatePropagation();this._createOptionsFromDOM()},
_handleItemContentChange:function(a){a.stopImmediatePropagation();this._createOptionsFromDOM()},_handleItemSelectedChange:function(a){a.stopImmediatePropagation();a=a.target;var b=a.hasAttribute("selected");if(this.multiple)this[b?"_addValue":"_removeValue"](a.value,a.content.innerHTML,!0);else b?(this._elements.input.value=a.content.textContent.replace(/\s{2,}/g," ").trim(),this.value=a.value,this.invalid=!1,this._deselectExcept(a)):this.value===a.value&&(this.value="",this.trigger("change"))},clear:function(){this.value=
"";this._elements.input.clear();this.multiple&&this._clearValues()},clearSuggestions:function(){this._elements.selectList.items.clear();this._updateButtonAccessibilityLabel()},addSuggestions:function(a,b){this.loading=!1;b&&this.clearSuggestions();for(b=0;b<a.length;b++){var c=a[b].value,d=a[b].content,e=a[b].icon,k=!!a[b].disabled;this.multiple&&-1!==this.values.indexOf(c)||(this._elements.selectList.items.add({value:c,type:"button",icon:e,disabled:k,id:Coral.commons.getUID(),tabIndex:-1,content:{innerHTML:d}}),
this._elements.selectList.items.last().setAttribute("role","option"))}a.length||this._elements.selectList.items.length?this._updateButtonAccessibilityLabel(this._elements.selectList.items.length):(this._elements.selectList.items.add({type:"button",content:{innerHTML:"\x3cem\x3e"+Coral.i18n.get("No matching results.")+"\x3c/em\x3e"},disabled:!0}),this._elements.selectList.items.last().setAttribute("role","status"),this._elements.selectList.items.last().setAttribute("aria-live","polite"),this._elements.input.removeAttribute("aria-activedescendant"),
this._updateButtonAccessibilityLabel());this._elements.selectList.style.height="";b=window.getComputedStyle(this._elements.selectList);a=parseInt(b.height,10);b=parseInt(b.maxHeight,10);a<b&&(this._elements.selectList.style.height=a-1+"px")},showSuggestions:function(){this._showSuggestionsCalled?this._showSuggestionsCalled=!1:this._showSuggestions();this._elements.overlay.style.minWidth=this.offsetWidth+"px";this._elements.overlay.open?this._elements.overlay.reposition():this._elements.overlay.open=
!0;this.setAttribute("aria-expanded","true");this.classList.add("is-open")},hideSuggestions:function(){this._elements.overlay.open=!1;this.setAttribute("aria-expanded","false");this.classList.remove("is-open","is-openBelow","is-openAbove");this._elements.input.removeAttribute("aria-activedescendant");clearTimeout(this.timeout);this.trigger("coral-autocomplete:hidesuggestions")},_optionContainsValue:function(a,b){b=("string"===typeof b?b:"").toLowerCase();return-1!==a.content.toLowerCase().indexOf(b)},
_optionStartsWithValue:function(a,b){b=("string"===typeof b?b:"").toLowerCase();return 0===a.content.toLowerCase().trim().indexOf(b)},_optionEqualsValue:function(a,b){b=("string"===typeof b?b:"").toLowerCase();return a.content.toLowerCase().trim()===b},_updateButtonAccessibilityLabel:function(a){var b=Coral.i18n.get("Show suggestions");1===a?b=Coral.i18n.get("Show suggestion"):1<a&&(b=Coral.i18n.get("Show {0} suggestions",a));this._elements.trigger.setAttribute("aria-label",b);this._elements.trigger.setAttribute("title",
b)}});Coral.register({name:"Autocomplete.Item",tagName:"coral-autocomplete-item",properties:{value:{reflectAttribute:!0,trigger:"coralui-autocomplete-item:_valuechanged",transform:Coral.transform.string,get:function(){return"undefined"===typeof this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}},content:{contentZone:!0,set:function(){},get:function(){return this}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
trigger:"coralui-autocomplete-item:_selectedchanged"},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr}},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this));this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})},_handleMutation:function(a){this.trigger("coralui-autocomplete-item:_contentchanged",{content:this.textContent})}});Coral.Autocomplete.match=c})();
window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-calendar"]={"en-US":{Previous:"Previous",Next:"Next","Today, {0} selected/[translation hint:date]":"Today, {0} selected","Today, {0}/[translation hint:date]":"Today, {0}","{0} selected/[translation hint:date]":"{0} selected"},"fr-FR":{Previous:"Pr\u00e9c\u00e9dent",Next:"Suivant","Today, {0} selected/[translation hint:date]":"Aujourd\u2019hui, s\u00e9lection de {0}","Today, {0}/[translation hint:date]":"Aujourd\u2019hui, {0}","{0} selected/[translation hint:date]":"S\u00e9lection de {0}"},
"de-DE":{Previous:"Zur\u00fcck",Next:"Weiter","Today, {0} selected/[translation hint:date]":"Heute, {0} ausgew\u00e4hlt","Today, {0}/[translation hint:date]":"Heute, {0}","{0} selected/[translation hint:date]":"{0} ausgew\u00e4hlt"},"it-IT":{Previous:"Precedente",Next:"Successivo","Today, {0} selected/[translation hint:date]":"Oggi, {0} selezionati","Today, {0}/[translation hint:date]":"Oggi, {0}","{0} selected/[translation hint:date]":"{0} selezionati"},"es-ES":{Previous:"Anterior",Next:"Siguiente",
"Today, {0} selected/[translation hint:date]":"Hoy, {0} seleccionados","Today, {0}/[translation hint:date]":"Hoy, {0}","{0} selected/[translation hint:date]":"{0} seleccionados"},"pt-BR":{Previous:"Anterior",Next:"Pr\u00f3ximo","Today, {0} selected/[translation hint:date]":"Hoje, {0} selecionados","Today, {0}/[translation hint:date]":"Hoje, {0}","{0} selected/[translation hint:date]":"{0} selecionados"},"ja-JP":{Previous:"\u524d\u3078",Next:"\u6b21\u3078","Today, {0} selected/[translation hint:date]":"\u4eca\u65e5\u3001{0} \u304c\u9078\u629e\u3055\u308c\u307e\u3057\u305f",
"Today, {0}/[translation hint:date]":"\u4eca\u65e5\u3001{0}","{0} selected/[translation hint:date]":"{0} \u304c\u9078\u629e\u3055\u308c\u307e\u3057\u305f"},"ko-KR":{Previous:"\uc774\uc804\uc73c\ub85c",Next:"\ub2e4\uc74c","Today, {0} selected/[translation hint:date]":"\ud604\uc7ac {0}\uc774(\uac00) \uc120\ud0dd\ub428","Today, {0}/[translation hint:date]":"\ud604\uc7ac {0}","{0} selected/[translation hint:date]":"{0}\uc774(\uac00) \uc120\ud0dd\ub428"},"zh-CN":{Previous:"\u4e0a\u4e00\u6b65",Next:"\u4e0b\u4e00\u6b65",
"Today, {0} selected/[translation hint:date]":"\u5df2\u9009\u5b9a\u4eca\u5929 {0}","Today, {0}/[translation hint:date]":"\u4eca\u5929 {0}","{0} selected/[translation hint:date]":"\u5df2\u9009\u5b9a {0}"},"zh-TW":{Previous:"\u4e0a\u4e00\u9801",Next:"\u4e0b\u4e00\u9801","Today, {0} selected/[translation hint:date]":"\u4eca\u5929\uff0c\u5df2\u9078\u53d6 {0}","Today, {0}/[translation hint:date]":"\u4eca\u5929\uff0c{0}","{0} selected/[translation hint:date]":"\u5df2\u9078\u53d6 {0} "},"nl-NL":{Previous:"Vorige",
Next:"Volgende","Today, {0} selected/[translation hint:date]":"Vandaag {0} geselecteerd","Today, {0}/[translation hint:date]":"Vandaag {0} ","{0} selected/[translation hint:date]":"{0} geselecteerd"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Calendar=window.Coral.templates.Calendar||{};
window.Coral.templates.Calendar.calendar=function(b){b=document.createDocumentFragment();var c=this.input=document.createElement("input");c.setAttribute("handle","input");c.setAttribute("type","hidden");c.setAttribute("name","");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=document.createElement("div");c.className+=" coral-Calendar-calendarHeader";var d=document.createTextNode("\n  ");c.appendChild(d);d=this.heading=document.createElement("div");d.setAttribute("handle","heading");
d.className+=" coral-Heading coral-Heading--2";d.id=Coral.commons.getUID();d.setAttribute("role","heading");d.setAttribute("aria-live","assertive");d.setAttribute("aria-atomic","true");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=this.prev=document.createElement("button","coral-button");d.setAttribute("type","button");d.setAttribute("handle","prev");d.className+=" coral-Calendar-prevMonth";d.setAttribute("is","coral-button");d.setAttribute("variant","minimal");d.setAttribute("icon",
"chevronLeft");d.setAttribute("iconsize","XS");d.setAttribute("aria-label",Coral.i18n.get("Previous"));d.setAttribute("title",Coral.i18n.get("Previous"));c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=this.next=document.createElement("button","coral-button");d.setAttribute("type","button");d.setAttribute("handle","next");d.className+=" coral-Calendar-nextMonth";d.setAttribute("is","coral-button");d.setAttribute("variant","minimal");d.setAttribute("icon","chevronRight");d.setAttribute("iconsize",
"XS");d.setAttribute("aria-label",Coral.i18n.get("Next"));d.setAttribute("title",Coral.i18n.get("Next"));c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.body=document.createElement("div");c.className+=" coral-Calendar-calendarBody";c.setAttribute("handle","body");c.setAttribute("role","grid");c.setAttribute("tabindex","0");c.setAttribute("aria-readonly","true");b.appendChild(c);return b};
window.Coral.templates.Calendar.container=function(b){var c=this.container=document.createElement("div");c.className+=" coral-DatePicker-calendarSlidingContainer";c.setAttribute("handle","container");c.setAttribute("style","width: "+b.width+"px; height: "+b.height+"px;");return c};
window.Coral.templates.Calendar.table=function(b){b="undefined"===typeof b?{}:b;var c=this.table=document.createElement("table");c.setAttribute("handle","table");c.setAttribute("role","presentation");var d=document.createTextNode("\n  ");c.appendChild(d);var a=document.createElement("thead");a.setAttribute("role","presentation");d=document.createTextNode("\n    ");a.appendChild(d);var e=document.createElement("tr");e.setAttribute("role","row");d=document.createTextNode("\n      ");e.appendChild(d);
d=b.dayNames;for(var f=0,h=d.length;f<h;f++){var g=d[f];var k=document.createTextNode("\n        ");e.appendChild(k);k=document.createElement("th");k.setAttribute("role","columnheader");k.setAttribute("scope","col");var m=document.createTextNode("\n          ");k.appendChild(m);m=document.createElement("abbr");m.className+=" coral-Calendar-dayOfWeek";m.setAttribute("title",g.dayFullName);m.textContent=g.dayAbbr;k.appendChild(m);g=document.createTextNode("\n        ");k.appendChild(g);e.appendChild(k);
g=document.createTextNode("\n      ");e.appendChild(g)}d=document.createTextNode("\n    ");e.appendChild(d);a.appendChild(e);d=document.createTextNode("\n  ");a.appendChild(d);c.appendChild(a);d=document.createTextNode("\n  ");c.appendChild(d);a=document.createElement("tbody");a.setAttribute("role","presentation");d=document.createTextNode("\n    ");a.appendChild(d);d=b.weeks;f=0;for(h=d.length;f<h;f++){g=d[f];b=document.createTextNode("\n      ");a.appendChild(b);b=document.createElement("tr");b.setAttribute("role",
"row");e=document.createTextNode("\n        ");b.appendChild(e);e=0;for(k=g.length;e<k;e++){var l=g[e];m=document.createTextNode("\n          ");b.appendChild(m);m=l;l=m.dateLabel+", "+m.formattedDate;var n=m.isToday?m.ariaSelected?Coral.i18n.get("Today, {0} selected",l,"date"):Coral.i18n.get("Today, {0}",l,"date"):m.ariaSelected?Coral.i18n.get("{0} selected",l,"date"):n=l;l=m;m=document.createTextNode("\n          ");b.appendChild(m);m=document.createElement("td");m.setAttribute("role","gridcell");
m.id=Coral.commons.getUID()+"-row"+f+"-col"+e;m.className+=" "+l.cssClass;m.setAttribute("aria-selected",l.ariaSelected);l.isDisabled&&m.setAttribute("aria-disabled","true");l.ariaInvalid&&m.setAttribute("aria-invalid","true");l.formattedDate&&m.setAttribute("title",n);n=document.createTextNode("\n            ");m.appendChild(n);l.dateAttr?(n=document.createTextNode("\n                "),m.appendChild(n),n=document.createElement("a"),n.setAttribute("role","presentation"),n.className+=" coral-Calendar-date",
n.setAttribute("data-date",l.dateAttr),n.textContent=l.dateText,m.appendChild(n),l=document.createTextNode("\n              ")):(n=document.createTextNode("\n                "),m.appendChild(n),n=document.createElement("span"),n.setAttribute("role","presentation"),n.className+=" coral-Calendar-secondaryDate",n.textContent=l.dateText,m.appendChild(n),l=document.createTextNode("\n            "));m.appendChild(l);l=document.createTextNode("\n          ");m.appendChild(l);b.appendChild(m);m=document.createTextNode("\n        ");
b.appendChild(m)}g=document.createTextNode("\n      ");b.appendChild(g);a.appendChild(b);b=document.createTextNode("\n    ");a.appendChild(b)}d=document.createTextNode("\n  ");a.appendChild(d);c.appendChild(a);d=document.createTextNode("\n  ");c.appendChild(d);d=document.createElement("caption");d.className+=" u-coral-screenReaderOnly";d.setAttribute("aria-live","assertive");d.setAttribute("aria-atomic","true");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);return c};
(function(){function b(a,b,c){return null===b&&null===c?!0:null===b?a<=c:null===c?a>=b:b<=a&&a<=c}function c(a,b){if("today"===a)return moment().startOf("day");if(moment.isMoment(a))return a.isValid()?a.clone():null;a=moment(a,a instanceof Date?null:b);return a.isValid()?a:null}function d(){}function a(a,b){a=a||null;b=b||null;return a===b||moment(a).isSame(b,"day")?!1:null===a||a.isValid()}function e(a){this.host=a;this._addContainerIfNotPresent=function(a,b){this.container||(Coral.templates.Calendar.container.call(this,
{width:a,height:b}),this.host.appendChild(this.container))};this._removeContainerIfEmpty=function(){this.container&&0===this.container.children.length&&(this.host.removeChild(this.container),this.container=null)};this.slide=function(a,b){var c="left"===b,d=this.$oldTable;if(void 0!==b&&d){b=d.width();var e=d.height();this._addContainerIfNotPresent(b,e);this.container.appendChild(d.get(0));this.container.appendChild(a);var f=$(a);d.addClass("coral-Calendar-table--transit");Coral.commons.transitionEnd(d.get(0),
function(){d.remove();this._removeContainerIfEmpty()}.bind(this));f.addClass("coral-Calendar-table--transit");f.css("left",c?b:-b);Coral.commons.transitionEnd(f.get(0),function(){f.removeClass("coral-Calendar-table--transit");f.appendTo(this.host);this._removeContainerIfEmpty()}.bind(this));e=this.container.offsetWidth;d.css("left",c?-b:b);f.css("left",0);this.$oldTable=f}else d&&d.remove(),this.host.insertBefore(a,this.host.firstChild),this.$oldTable=$(a)}}var f=[0,0,0,0,0,0],h=[0,0,0,0,0,0,0];Coral.register({name:"Calendar",
tagName:"coral-calendar",className:"coral-Calendar",mixins:[Coral.mixin.formField],events:{"click .coral-Calendar-nextMonth,.coral-Calendar-prevMonth":"_onNextOrPreviousMonthClick","click .coral-Calendar-calendarBody .coral-Calendar-date":"_onDayClick","mousedown .coral-Calendar-calendarBody .coral-Calendar-date":"_onDayMouseDown","key:up .coral-Calendar-calendarBody":"_onUpKey","key:right .coral-Calendar-calendarBody":"_onRightKey","key:down .coral-Calendar-calendarBody":"_onDownKey","key:left .coral-Calendar-calendarBody":"_onLeftKey",
"key:home .coral-Calendar-calendarBody":"_onHomeOrEndKey","key:end .coral-Calendar-calendarBody":"_onHomeOrEndKey","key:pageup":"_onPageUpKey","key:pagedown":"_onPageDownKey","key:meta+pageup":"_onCtrlPageUpKey","key:meta+pagedown":"_onCtrlPageDownKey","key:ctrl+pageup":"_onCtrlPageUpKey","key:ctrl+pagedown":"_onCtrlPageDownKey","key:enter .coral-Calendar-calendarBody":"_onEnterKey","key:space .coral-Calendar-calendarBody":"_onEnterKey"},properties:{startDay:{default:"undefined"!==typeof moment?"undefined"!==
typeof moment.localeData().firstDayOfWeek?moment.localeData(Coral.i18n.locale).firstDayOfWeek():0:0,attribute:"startday",transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(a){return 0<=a&&7>a}],sync:d,alsoSync:["_renderCalendarFlag"]},headerFormat:{default:"MMMM YYYY",attribute:"headerformat",sync:d,alsoSync:["_renderCalendarFlag"]},min:{default:null,transform:function(a){return c(a,this.valueFormat)},validate:a,get:function(){return this._min?this._min.toDate():null},
sync:d,alsoSync:["_renderCalendarFlag"]},max:{default:null,transform:function(a){return c(a,this.valueFormat)},validate:a,get:function(){return this._max?this._max.toDate():null},sync:d,alsoSync:["_renderCalendarFlag"]},valueFormat:{default:"YYYY-MM-DD",attribute:"valueformat",reflectAttribute:!0,set:function(a){this._valueFormat=a;this._elements.input.value=this.value}},value:{transform:function(a){return c(a,this.valueFormat)},validate:function(b,c){return a(b,this._value)},get:function(){return this._value?
this._value.format(this.valueFormat):""},set:function(a){this._value=a;this._elements.input.value=this.value;this._cursor=null;this._queueSync("_renderCalendarFlag","required")}},valueAsDate:{attribute:null,transform:function(a){return a instanceof Date?moment(a):""},get:function(){return this._value?this._value.toDate():null},set:function(a){this.value=a}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},required:{sync:function(){this.$.toggleClass("is-required",
this.required&&null===this._value)}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled);this._elements.prev.disabled=this.disabled;this._elements.next.disabled=this.disabled;this._elements.body.setAttribute("aria-disabled",this.disabled);this._elements.body[this.disabled?"removeAttribute":"setAttribute"]("tabindex","0")},alsoSync:["_renderCalendarFlag"]},invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid)},alsoSync:["_renderCalendarFlag"]},_renderCalendarFlag:{attribute:null,
sync:function(){this._renderCalendar()}}},focus:function(){this.contains(document.activeElement)||this.disabled||(this._setActiveDescendant(),this._elements.body.focus())},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.Calendar.calendar.call(this._elements))},_initialize:function(){this._activeDescendant=this._cursor=null;this._animator=new e(this._elements.body);this.setAttribute("role","region")},_renderCalendar:function(a){var b=this._requireCursor(),
c=b.year(),d=b.month(),e=this;b=this._animator.$oldTable;this._elements.heading.innerHTML=moment([c,d,1]).format(this.headerFormat);c=this._renderTable(c,d+1);b&&Coral.commons.transitionEnd(c,function(){Coral.commons.nextFrame(function(){e._setActiveDescendant()})});this._animator.slide(c,a);this._activeDescendant=(a=this._elements.body.querySelector(".is-selected"))?a.id:null;this._setActiveDescendant()},_isBeforeMin:function(a,b){var c=this.min?moment(this.min):null;return c&&a.isBefore(c,b)},_isAfterMax:function(a,
b){var c=this.max?moment(this.max):null;return c&&a.isAfter(c,b)},_isInRange:function(a,b){return!(this._isBeforeMin(a,b)||this._isAfterMax(a,b))},_setActiveDescendant:function(){var a;if(!this._activeDescendant||!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){this._activeDescendant=null;var b=(a=this._elements.body.querySelector(".is-selected"))?a.id:null,c=(a=this._elements.body.querySelector(".is-today"))?a.id:null;this._activeDescendant=b||c;if(!this._activeDescendant||
!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){if(b=this._value)c=this._elements.body.querySelectorAll("[data-date]"),c.length&&(this._isBeforeMin(b)?a=c[0]:this._isAfterMax(b)&&(a=c[c.length-1]));a&&(this._activeDescendant=a.parentElement.id)}}(a=this._elements.body.querySelector(".coral-focus"))&&$(a).removeClass("coral-focus");this._elements.body.setAttribute("aria-activedescendant",this._activeDescendant);this._updateTableCaption();this._activeDescendant&&$("#"+
this._activeDescendant).addClass("coral-focus")},_updateTableCaption:function(){var a=this._elements.body.querySelector("caption");if(a&&(a.firstChild&&a.removeChild(a.firstChild),this._activeDescendant)){var b=this._elements.body.querySelector("#"+this._activeDescendant);b=document.createTextNode(b.getAttribute("title"));a.appendChild(b)}},_renderTable:function(a,c){var d=(moment([a,c-1,1]).day()-this.startDay)%7,e=this._value?this._value.clone().startOf("day"):null;0>d&&(d+=7);var g={dayNames:h.map(function(a,
b,c){a=moment().day((b+this.startDay)%7);return{dayAbbr:a.format("dd"),dayFullName:a.format("dddd")}},this),weeks:f.map(function(f,g){return h.map(function(f,h){f={};var l=this.disabled?["is-disabled"]:[],n=!1,k=!1,m=7*g+h-d,v=moment([a,c-1]);v.add(m,"days");m=v.month()+1===parseFloat(c);h=moment().day((h+this.startDay)%7).format("dddd");var p=v.isSame(moment(),"day"),q=v.clone().startOf("day");p&&l.push("is-today");e&&q.isSame(e,"day")&&(n=!0,l.push("is-selected"),this.invalid&&(k=!0,l.push("is-invalid")));
m&&(l.push("is-currentMonth"),!this.disabled&&b(v,this.min,this.max)&&(f.dateAttr=q.local().format("YYYY-MM-DD"),f.weekIndex=v.week(),f.formattedDate=v.format("LL")));f.isDisabled=this.disabled||!f.dateAttr;f.dateText=v.date();f.cssClass=l.join(" ");f.isToday=p;f.ariaSelected=n;f.ariaInvalid=k;f.dateLabel=h;f.weekIndex=v.week();return f},this)},this)},k={};Coral.templates.Calendar.table.call(k,g);return k.table},_requireCursor:function(){var a=this._cursor;a&&a.isValid()||(this._cursor=a=(this._value?
this._value.clone().startOf("day"):moment()).startOf("month"));return a},_gotoPreviousOrNextTimeUnit:function(a,b){var c=b?"left":"right";b=b?"add":"subtract";var d=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date");if(d){d=d.dataset.date;var e=moment(d);e=e[b](1,a);this._isInRange(e,a)&&(a=Math.abs(moment(d).diff(e,"days")),this._getToNewMoment(null,c,b,a),this._setActiveDescendant())}else this._requireCursor(),this._isInRange(this._cursor,a)?(this._cursor[b](1,a),this._renderCalendar(c)):
(this._isBeforeMin(this._cursor)?e=this.min:this._isAfterMax(this._cursor)&&(e=this.max),e=moment(e),a=Math.abs(this._cursor.diff(e,"days")),this._getToNewMoment(null,c,b,a),this._setActiveDescendant())},_validateCalendar:function(){this.invalid=!(null===this._value||b(this._value,this.min,this.max))},_onNextOrPreviousMonthClick:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("month",this._elements.next===a.matchedTarget);a.matchedTarget.focus();this._validateCalendar()},_getToNewMoment:function(a,
b,c,d){(a=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date"))?a=a.dataset.date:(this._requireCursor(),a=this._cursor.local().format("YYYY-MM-DD"));var e=moment(a);a=e.month();var f=e.year(),g=e[c](d,"days");d=g.month();e=g.year();g=g.local().format("YYYY-MM-DD");d!==a?(this._requireCursor(),this._cursor[c](1,"months"),this._renderCalendar(b)):d===a&&e!==f&&(this._requireCursor(),this._cursor[c](1,"years"),this._renderCalendar(b));b=".coral-Calendar-date[data-date^\x3d"+JSON.stringify(g)+
"]";if(b=this._elements.body.querySelector(b))this._activeDescendant=b.parentNode.getAttribute("id")},_onDayMouseDown:function(a){this._activeDescendant=a.target.parentNode.id;this._setActiveDescendant();this._elements.body.focus();this._validateCalendar()},_onDayClick:function(b){b.preventDefault();this._elements.body.focus();b=moment(b.target.dataset.date,"YYYY-MM-DD");var c;this._value&&(c=this._value.clone());a(b,c)&&(this.value=b.local(),this.trigger("change"));this._validateCalendar()},_onEnterKey:function(a){a.preventDefault();
(a=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date"))&&a.click();this._validateCalendar()},_onUpKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("week",!1);this._validateCalendar()},_onDownKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("week",!0);this._validateCalendar()},_onRightKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("day",!0);this._validateCalendar()},_onLeftKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("day",
!1);this._validateCalendar()},_onHomeOrEndKey:function(a){a.preventDefault();var b=a.keyCode===Coral.Keys.keyToCode("home"),c=b?"subtract":"add",d=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date");d&&(d=moment(d.dataset.date),b=b?d.date()-1:d.daysInMonth()-d.date(),this._getToNewMoment(a,"",c,b),this._setActiveDescendant());this._validateCalendar()},_onPageDownKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("month",!0);this._validateCalendar()},_onPageUpKey:function(a){a.preventDefault();
this._gotoPreviousOrNextTimeUnit("month",!1);this._validateCalendar()},_onCtrlPageDownKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("year",!0);this._validateCalendar()},_onCtrlPageUpKey:function(a){a.preventDefault();this._gotoPreviousOrNextTimeUnit("year",!1);this._validateCalendar()}})})();
(function(){var b={DEFAULT:"default",CONDENSED:"condensed",INVERTED:"inverted",ASSET:"asset"},c=[],d;for(d in b)c.push("coral-Card--"+b[d]);Coral.register({name:"Card",tagName:"coral-card",className:"coral-Card",events:{"capture:load coral-card-asset img":"_onLoad"},properties:{asset:Coral.property.contentZone({handle:"asset",tagName:"coral-card-asset",insert:function(a){this.insertBefore(a,this.info||this._elements.wrapper||null)}}),assetHeight:{default:"",attribute:"assetheight",transform:Coral.transform.number,
sync:function(){if(!this._loaded&&this._elements.asset&&this.assetWidth&&this.assetHeight){var a=this.getBoundingClientRect();a=(a.right-a.left)/this.assetWidth;1<a?this._elements.asset.style.height=this.assetHeight+32+"px":this.variant!==Coral.Card.variant.CONDENSED&&this.variant!==Coral.Card.variant.INVERTED&&(this._elements.asset.style.height=a*this.assetHeight+"px")}}},assetWidth:{default:"",attribute:"assetwidth",transform:Coral.transform.number},colorHint:{attribute:"colorhint",validate:[Coral.validate.valueMustChange,
function(a){return/^#[0-9A-F]{6}$/i.test(a)}],sync:function(){this._loaded||(this._elements.asset.style["background-color"]=this.colorHint)}},content:Coral.property.contentZone({handle:"content",tagName:"coral-card-content",defaultContentZone:!0,insert:function(a){this._elements.wrapper.insertBefore(a,this.overlay||null)}}),info:Coral.property.contentZone({handle:"info",tagName:"coral-card-info",insert:function(a){this.appendChild(a)}}),fixedWidth:{default:!1,attribute:"fixedwidth",reflectAttribute:!0,
transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--fixedWidth",this.fixedWidth)}},overlay:Coral.property.contentZone({handle:"overlay",tagName:"coral-card-overlay",insert:function(a){this._elements.wrapper.appendChild(a)}}),stacked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--stacked",this.stacked)}},
variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.classList.remove.apply(this.classList,c);this.variant!==Coral.Card.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)},alsoSync:"assetHeight"}},_onLoad:function(a){this._loaded=!0;this._elements.asset.style.height="";a.target.classList.remove("is-loading")},_render:function(){var a=this.querySelector("coral-card-asset")||document.createElement("coral-card-asset"),
b=this.querySelector("coral-card-info"),c=this.querySelector("coral-card-overlay"),d=this.querySelector("coral-card-content"),g=this._elements.wrapper=document.createElement("div");g.className="coral-Card-wrapper";for(var k=a.querySelectorAll("img"),m=k.length,l=0;l<m;l++){var n=k[l];n.complete||n.classList.add("is-loading")}if(null===d)for(d=document.createElement("coral-card-content");this.firstChild;)this.firstChild.nodeType===Node.TEXT_NODE&&""===this.firstChild.textContent.trim()?this.removeChild(this.firstChild):
d.appendChild(this.firstChild);c&&(this.overlay=c);this.content=d;b&&(this.info=b);this.appendChild(g);this.asset=a}});Coral.Card.variant=b;Coral.Card.Asset=function(){return document.createElement("coral-card-asset")};Coral.Card.Overlay=function(){return document.createElement("coral-card-overlay")};Coral.Card.Info=function(){return document.createElement("coral-card-info")};Coral.Card.Content=function(){return document.createElement("coral-card-content")};Coral.Card.PropertyList=function(){return document.createElement("coral-card-propertylist")};
Coral.register({name:"Card.Property",tagName:"coral-card-property",className:"coral-Card-property",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-card-property-content",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),icon:{get:function(){return this._elements.icon.icon},set:function(a){this._elements.icon.icon=a},sync:function(){""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)}}},
_render:function(){this._elements.icon=document.createElement("coral-icon");this._elements.icon.size=Coral.Icon.size.EXTRA_SMALL;this._elements.icon.className+=" coral-Card-property-icon";var a=this.querySelector("coral-card-property-content");if(null===a)for(a=document.createElement("coral-card-property-content");this.firstChild;)a.appendChild(this.firstChild);this.content=a}});Coral.Card.Property.Content=function(){return document.createElement("coral-card-property-content")};Coral.register({name:"Card.Title",
tagName:"coral-card-title",className:"coral-Card-title",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}});Coral.register({name:"Card.Context",tagName:"coral-card-context",className:"coral-Card-context",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}});Coral.register({name:"Card.Description",tagName:"coral-card-description",className:"coral-Card-description",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}}}})})();
(function(){var b={PREVIOUS:"_prev",NEXT:"_next"};Coral.register({name:"CharacterCount",tagName:"coral-charactercount",className:"coral-CharacterCount",properties:{target:{default:b.PREVIOUS,validate:function(b){return"string"===typeof b||b instanceof Node},set:function(c){this._target=c;this._targetEl&&this._targetEl.removeEventListener("input",this._refreshCharCount.bind(this));if(this._targetEl=c===b.NEXT?this.nextElementSibling:c===b.PREVIOUS?this.previousElementSibling:"string"===typeof c?document.querySelector(c):
c)this._targetEl.addEventListener("input",this._refreshCharCount.bind(this)),this._targetEl.getAttribute("maxlength")&&(this.maxLength=this._targetEl.getAttribute("maxlength"))}},maxLength:{default:null,attribute:"maxlength",reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this._refreshCharCount()}}},_getCharCount:function(){var b=this._targetEl?this._targetEl.value.length:0;return this._maxLength?this._maxLength-b:b},_refreshCharCount:function(){var b=this._getCharCount();this.innerHTML=
b;b=0>b;this._targetEl&&(this._targetEl.classList.toggle("is-invalid",b),this.classList.toggle("is-invalid",b))}});Coral.CharacterCount.target=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.SelectList=window.Coral.templates.SelectList||{};
window.Coral.templates.SelectList.loadIndicator=function(b){b=this.loadIndicator=document.createElement("div");b.setAttribute("handle","loadIndicator");b.className+=" coral-SelectList-loading";var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-wait");c.setAttribute("centered","");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){var b=function(b,d){this._host=b;this._itemTagName=d};b.prototype=Object.create(Coral.Collection.prototype);b.prototype.add=function(b,d){if(!(b instanceof HTMLElement)){var a=b;b=document.createElement(this._itemTagName);b.set(a,!0)}return this._host.insertBefore(b,d||null)};b.prototype.getAll=function(){return this._host.$.children(this._itemTagName).toArray()};Coral.register({name:"SelectList",tagName:"coral-selectlist",className:"coral3-SelectList",mixins:[Coral.mixin.selectionList({role:"listbox",
itemTagName:"coral-selectlist-item"})],events:{scroll:"_onScroll","capture:focus":"_onFocus","capture:blur":"_onBlur","click coral-selectlist-item":"_onItemClick","capture:mouseenter coral-selectlist-item":"_onItemMouseEnter","capture:mouseleave coral-selectlist-item":"_onItemMouseLeave","key:space coral-selectlist-item":"_onToggleItemKey","key:return coral-selectlist-item":"_onToggleItemKey","key:pageup coral-selectlist-item":"_focusPreviousItem","key:left coral-selectlist-item":"_focusPreviousItem",
"key:up coral-selectlist-item":"_focusPreviousItem","key:pagedown coral-selectlist-item":"_focusNextItem","key:right coral-selectlist-item":"_focusNextItem","key:down coral-selectlist-item":"_focusNextItem","key:home coral-selectlist-item":"_onHomeKey","key:end coral-selectlist-item":"_onEndKey","keypress coral-selectlist-item":"_onKeyPress"},properties:{groups:{set:function(){},get:function(){this._groups||(this._groups=new b(this,"coral-selectlist-group"));return this._groups}},loading:{default:!1,
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(b){this._loading=b;b=this._elements.loadIndicator;if(this.loading){b||(b=Coral.templates.SelectList.loadIndicator.call(this._elements));var c=this.scrollTop>=this.scrollHeight-this.clientHeight;this.appendChild(b);c&&(this.scrollTop=this.scrollHeight)}else b&&b.parentNode&&this.removeChild(b)}},_tabTarget:{default:null,sync:function(){var b=this._tabTarget;this.items.getAll().forEach(function(c){c._isTabTarget=
c===b})}}},focus:function(){this._resetTabTarget();this._focusItem(this._tabTarget)},_onItemMouseEnter:function(b){b.target.disabled||(this.$.hasClass("is-focused")?this._focusItem(b.target):$(b.target).addClass("is-highlighted"))},_onItemMouseLeave:function(b){$(b.target).removeClass("is-highlighted")},_onFocus:function(b){this.$.addClass("is-focused")},_onBlur:function(b){this._resetTabTarget();this.$.removeClass("is-focused")},_onItemClick:function(b){var c=b.matchedTarget;c&&(b.preventDefault(),
b.stopPropagation(),b=c.selected,this._selectItem(c),this._focusItem(c),b===c.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()}))},_focusItem:function(b){b&&b.focus();this._tabTarget=b},_onToggleItemKey:function(b){b.preventDefault();b.stopPropagation();b=b.target;var c=b.selected;this._selectItem(b);this._focusItem(b);c===b.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()})},
_focusPreviousItem:function(b){b.preventDefault();b.stopPropagation();this._focusItem(this.items.getPreviousSelectable(b.target))},_focusNextItem:function(b){b.preventDefault();b.stopPropagation();this._focusItem(this.items.getNextSelectable(b.target))},_onHomeKey:function(b){b.preventDefault();b.stopPropagation();this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(b){b.preventDefault();b.stopPropagation();this._focusItem(this.items.getLastSelectable())},_keypressTimeoutID:null,_keypressSearchString:"",
_onKeyPress:function(b){var c=this;b=String.fromCharCode(b.which);clearTimeout(this._keypressTimeoutID);b!==this._keypressSearchString&&(this._keypressSearchString+=b);this._keypressTimeoutID=setTimeout(function(){c._keypressSearchString=""},1E3);b=this.items._getSelectableItems();var a=b.index(this._tabTarget);this._keypressSearchString=this._keypressSearchString.trim().toLowerCase();a=-1===a?0:1===this._keypressSearchString.length?a+1:a;for(var e,f,h,g=a;g<b.length;g++)if(h=b.eq(g),f=h.text().trim().toLowerCase(),
0===f.indexOf(this._keypressSearchString)){e=h;break}if(!e)for(g=0;g<a;g++)if(h=b.eq(g),f=h.text().trim().toLowerCase(),0===f.indexOf(this._keypressSearchString)){e=h;break}void 0!==e&&this._focusItem(e)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){this._resetTabTargetScheduled||(this._resetTabTargetScheduled=!0,
Coral.commons.nextFrame(function(){this._resetTabTargetScheduled=!1;var b=this.items._getNonNestedItems().filter("[selected]:not([disabled],[hidden])");this._tabTarget=b.length?b[0]:this.items.getFirstSelectable()}.bind(this)))},_onScroll:function(){clearTimeout(this._scrollTimeout);this._scrollTimeout=setTimeout(this._onDebouncedScroll,100)},_onDebouncedScroll:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-50&&this.trigger("coral-selectlist:scrollbottom")},_initialize:function(){this.setAttribute("tabindex",
"-1");this._onDebouncedScroll=this._onDebouncedScroll.bind(this)}});Coral.register({name:"SelectList.Item",tagName:"coral-selectlist-item",className:"coral3-SelectList-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-selectlist",role:"option"})],events:{focus:"_onFocus",blur:"_onBlur"},properties:{value:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return"undefined"===typeof this._value?this.textContent:this._value}},content:{contentZone:!0,set:function(){},
get:function(){return this}},_isTabTarget:{default:!1,sync:function(){this.setAttribute("tabindex",this.__isTabTarget?0:-1)}}},_onFocus:function(b){this.$.addClass("is-highlighted")},_onBlur:function(b){this.$.removeClass("is-highlighted")}});Coral.register({name:"SelectList.Group",tagName:"coral-selectlist-group",className:"coral-SelectList-group",properties:{label:{reflectAttribute:!0,transform:Coral.transform.string,sync:function(){this.setAttribute("aria-label",this.label)}},items:{set:function(){},
get:function(){this._groups||(this._groups=new b(this,"coral-selectlist-item"));return this._groups}}},_initialize:function(){this.setAttribute("role","group")}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-select"]={"en-US":{Select:"Select"},"fr-FR":{Select:"S\u00e9lectionner"},"de-DE":{Select:"Ausw\u00e4hlen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"\u9078\u629e"},"ko-KR":{Select:"\uc120\ud0dd"},"zh-CN":{Select:"\u9009\u62e9"},"zh-TW":{Select:"\u9078\u53d6"},"nl-NL":{Select:"Selecteren"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.Select=window.Coral.templates.Select||{};
window.Coral.templates.Select.base=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=Coral.commons.getUID(),a=document.createTextNode("\n");b.appendChild(a);a=this.button=document.createElement("button","coral-button");this.$button=$(a);a.setAttribute("handle","$button");a.setAttribute("type","button");a.setAttribute("is","coral-button");a.setAttribute("block","");a.setAttribute("role","combobox");a.setAttribute("aria-expanded","false");a.setAttribute("aria-haspopup",
"true");a.id=c;a.setAttribute("aria-controls",d);a.setAttribute("aria-owns",d);a.className+=" coral3-Select-button";var e=document.createTextNode("\n  ");a.appendChild(e);e=this.icon=document.createElement("coral-icon");e.setAttribute("handle","icon");e.setAttribute("icon","chevronDown");e.setAttribute("size","xxs");e.className+=" coral3-Select-openIcon";a.appendChild(e);e=document.createTextNode("\n  ");a.appendChild(e);e=this.label=document.createElement("span");e.setAttribute("handle","label");
e.className+=" coral3-Select-label";a.appendChild(e);e=document.createTextNode("\n");a.appendChild(e);b.appendChild(a);a=document.createTextNode("\n");b.appendChild(a);a=this.input=document.createElement("input");a.setAttribute("handle","input");a.setAttribute("type","hidden");b.appendChild(a);a=document.createTextNode("\n");b.appendChild(a);a=this.nativeSelect=document.createElement("select");a.setAttribute("handle","nativeSelect");a.className+=" coral3-Select-select";a.setAttribute("tabindex","-1");
b.appendChild(a);a=document.createTextNode("\n");b.appendChild(a);a=this.taglist=document.createElement("coral-taglist");a.setAttribute("handle","taglist");a.className+=" coral3-Select-tagList";b.appendChild(a);a=document.createTextNode("\n");b.appendChild(a);a=this.overlay=document.createElement("coral-overlay");a.setAttribute("handle","overlay");a.className+=" coral3-Select-overlay";a.setAttribute("trapfocus","on");a.setAttribute("focusonshow","on");a.setAttribute("target","#"+c);a.setAttribute("role",
"presentation");a.setAttribute("offset","-1");a.setAttribute("alignmy","left top");a.setAttribute("alignat","left bottom");c=document.createTextNode("\n  ");a.appendChild(c);c=this.list=document.createElement("coral-selectlist");c.setAttribute("handle","list");c.className+=" coral3-Select-selectList";c.setAttribute("role","listbox");c.id=d;a.appendChild(c);d=document.createTextNode("\n");a.appendChild(d);b.appendChild(a);return b};
(function(){var b={DEFAULT:"default",QUIET:"quiet"},c={"default":-1,quiet:4},d=[],a;for(a in b)d.push("coral3-Select--"+b[a]);var e=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),f=function(a){var b=a.getAttribute("value");return null!==b?b:a.textContent.replace(/\s{2,}/g," ").trim()},h=function(a,b){return a.filter(function(a){return!b.some(function(b){return a===b})})};Coral.register({name:"Select",tagName:"coral-select",className:"coral3-Select",mixins:[Coral.mixin.formField],events:{"coral-collection:add coral-taglist":"_onInnerComponentCollectionEvent",
"coral-collection:add coral-selectlist":"_onSelectListItemAdd","coral-collection:remove coral-taglist":"_onInnerComponentCollectionEvent","coral-collection:remove coral-selectlist":"_onInnerComponentCollectionEvent","coral-select-item:_valuechanged coral-select-item":"_onItemValueChange","coral-select-item:_contentchanged coral-select-item":"_onItemContentChange","coral-select-item:_disabledchanged coral-select-item":"_onItemDisabledChange","coral-select-item:_selectedchanged coral-select-item":"_onItemSelectedChange",
"coral-selectlist:change":"_onSelectListChange","coral-selectlist:scrollbottom":"_onSelectListScrollBottom","change coral-taglist":"_onTagListChange","change select":"_onNativeSelectChange","click select":"_onNativeSelectClick",'click \x3e [handle\x3d"$button"]':"_onButtonClick",'key:space \x3e [handle\x3d"$button"]':"_onSpaceKey",'key:down \x3e [handle\x3d"$button"]':"_onSpaceKey","key:tab coral-selectlist-item":"_onTabKey","key:tab+shift coral-selectlist-item":"_onTabKey","coral-overlay:beforeclose":"_onOverlayBeforeClose",
"coral-overlay:close":"_onOverlayToggle","coral-overlay:open":"_onOverlayToggle","coral-overlay:positioned":"_onOverlayPositioned","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick"},properties:{items:{get:function(){this._items||(this._items=new Coral.SelectableCollection({host:this,itemTagName:"coral-select-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange}));return this._items},set:function(){}},multiple:{default:!1,
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){this._multiple=a;this.removeChild(this._elements.nativeSelect);this._elements.nativeSelect.multiple=a;this._elements.nativeSelect.selectedIndex=-1;this.insertBefore(this._elements.nativeSelect,this._elements.taglist);this._elements.list.multiple=a;this._setName(this.name);this._setStateFromDOM();this.items.getAll().forEach(function(a){a._elements&&(this.multiple&&a.hasAttribute("selected")?
(a._elements.selectListItem&&a._elements.selectListItem.setAttribute("hidden",""),this._addTagToTagList(a)):(a._elements.selectListItem&&a._elements.selectListItem.removeAttribute("hidden"),this._removeTagFromTagList(a),a.hasAttribute("selected")&&(this._elements.input.value=f(a))))},this)},sync:function(){this.setAttribute("aria-mutiselectable",this.multiple)}},placeholder:{default:"",reflectAttribute:!0,transform:Coral.transform.string,alsoSync:"selectedItem",sync:function(){if(this.placeholder&&
(this.multiple||!this.selectedItem))this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=this.placeholder;else if(this.multiple)this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=Coral.i18n.get("Select");else if(!this.selectedItem){this._elements.input.value="";var a=this.items._getFirstSelectable();this._elements.button.classList.remove("is-placeholder");a?(a.setAttribute("selected",""),this._elements.label.innerHTML=a.innerHTML):
this._elements.label.textContent=""}}},name:{get:function(){return this.multiple?this._elements.taglist.name:this._elements.input.name},set:function(a){this._setName(a)}},value:{get:function(){return this.multiple?this._elements.taglist.value:this._elements.input.value},set:function(a){this.values=[a]}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],get:function(){return this.multiple?this._elements.taglist.values:this.selectedItem?[this._elements.input.value]:
[]},set:function(a){!this.multiple&&1<a.length&&(a=[a[0]]);var b=this.items.getAll(),c;if(this.multiple)b.forEach(function(b){c=f(b);b[-1!==a.indexOf(c)?"setAttribute":"removeAttribute"]("selected","")});else{var d,e=a[0]||"";b.forEach(function(a){if(!d&&(c=f(a),c===e)){a.setAttribute("selected","");d=a;return}a.removeAttribute("selected")});d||this._setStateFromDOM()}}},required:{sync:function(){this._elements.input.required=this.required;this._elements.taglist.required=this.required}},invalid:{sync:function(){this.classList.toggle("is-invalid",
this.invalid)}},disabled:{sync:function(){this._elements.button.disabled=this.disabled||this.readOnly;this._elements.input.disabled=this.disabled||this.readOnly;this._elements.taglist.disabled=this.disabled||this.readOnly}},readOnly:{sync:function(){this._elements.button.disabled=this.readOnly||this.disabled;this._elements.input.readOnly=this.readOnly||this.disabled;this._elements.taglist.readOnly=this.readOnly||this.disabled}},selectedItem:{get:function(){return this.multiple?this.items._getFirstSelected():
this.items._getLastSelected()},set:function(){},alsoSync:"placeholder",sync:function(){this.selectedItem&&!this.multiple&&(this._elements.button.classList.remove("is-placeholder"),this._elements.label.innerHTML=this.selectedItem.innerHTML)}},selectedItems:{get:function(){if(this.multiple)return this.items._getAllSelected();var a=this.selectedItem;return a?[a]:[]},set:function(){}},loading:{get:function(){return this._elements.list.loading},set:function(a){this._elements.list.loading=a}},variant:{default:b.DEFAULT,
validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(a){this._variant=a;this._elements.button.variant=a===b.DEFAULT?Coral.Button.variant.DEFAULT:Coral.Button.variant.QUIET},sync:function(){this.classList.remove.apply(this.classList,d);this.variant!==Coral.Select.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant);this._elements.overlay.offset=c[this.variant]}}},_setName:function(a){this.multiple?(this._elements.input.name="",this._elements.taglist.name=
a):(this._elements.taglist.name="",this._elements.input.name=a)},_showOptions:function(a){if(a){var b=this._elements.list.scrollHeight;a=this._elements.list.clientHeight;var c=this._elements.list.scrollTop,d=this._elements.list._elements.loadIndicator;if(d&&d.parentNode){var e=d.offsetHeight;d=getComputedStyle(d);e+=parseInt(d.marginTop)+parseInt(d.marginBottom);b-=e}if(c+a<b-30)return}this._useNativeInput||(this._elements.overlay.open=!0);a=this.trigger("coral-select:showitems",{start:this.items.length});
this._useNativeInput||(this._elements.list.loading=a.defaultPrevented)},_hideOptions:function(){this._elements.overlay.open=!1;this.trigger("coral-select:hideitems")},_onGlobalClick:function(a){if(this._elements.overlay.open){var b=this._elements.button.contains(a.target);a=this._elements.overlay.contains(a.target);b||a||this._hideOptions()}},_onSelectListItemAdd:function(a){a.stopImmediatePropagation();this.loading=!1;this._elements.list.style.height="";var b=window.getComputedStyle(this._elements.list);
a=parseInt(b.height,10);b=parseInt(b.maxHeight,10);a<b&&(this._elements.list.style.height=a-1+"px")},_onInnerComponentCollectionEvent:function(a){a.stopImmediatePropagation()},_onItemAdded:function(a){var b=this._elements.list,c=a._elements.selectListItem||new Coral.SelectList.Item;b.appendChild(c);c.set({value:a.value,content:{innerHTML:a.content.innerHTML},disabled:a.disabled,selected:a.selected},!0);b=a._elements.nativeOption||new Option;this._elements.nativeSelect.appendChild(b);-1!==this._initialValues.indexOf(a.value)&&
b.setAttribute("selected","selected");b.selected=a.selected;b.value=a.value;b.disabled=a.disabled;b.innerHTML=a.content.innerHTML;this.multiple?a.selected&&(c.hidden=!0,this._addTagToTagList(a)):a.selected&&(this._elements.input.value=a.value);a._elements.selectListItem=c;a._elements.nativeOption=b;c._elements.selectItem=a;b._selectItem=a},_onItemRemoved:function(a){a._elements&&a._elements.selectListItem&&(a._elements.selectListItem.remove(),a._elements.selectListItem._elements.selectItem=void 0,
a._elements.selectListItem=void 0);a._elements&&a._elements.nativeOption&&(this._elements.nativeSelect.removeChild(a._elements.nativeOption),a._elements.nativeOption._selectItem=void 0,a._elements.nativeOption=void 0);this._removeTagFromTagList(a,!0)},_onItemSelected:function(a){a._elements.selectListItem&&a._elements.selectListItem.parentNode||this._onItemAdded(a);a._elements.selectListItem.selected=!0;a._elements.nativeOption.selected=!0;this.multiple?(this._addTagToTagList(a),a._elements.selectListItem.hidden=
!0):this._elements.input.value=a.value},_onItemDeselected:function(a){a._elements.selectListItem&&a._elements.selectListItem.parentNode||this._onItemAdded(a);a._elements.selectListItem.selected=!1;a._elements.nativeOption.selected=!1;this.multiple&&(this._removeTagFromTagList(a),a._elements.selectListItem.hidden=!1)},_onSelectListChange:function(a){a.stopImmediatePropagation();if(!this._bulkSelectionChange){var b=a.detail.oldSelection||[];b=Array.isArray(b)?b:[b];var c=a.detail.selection||[];c=Array.isArray(c)?
c:[c];a.detail.oldSelection!==a.detail.selection?(this._bulkSelectionChange=!0,h(b,c).forEach(function(a){a._elements.selectItem&&a._elements.selectItem.removeAttribute("selected")}),a=h(c,b),a.forEach(function(a){a._elements.selectItem&&a._elements.selectItem.setAttribute("selected","")}),this._bulkSelectionChange=!1,this._elements.overlay.open&&(this._hideOptions(),a.length&&this.trigger("change"))):this._elements.overlay.open&&this._hideOptions()}},_onTagListChange:function(a){a.stopImmediatePropagation();
if(!this._bulkSelectionChange){this._bulkSelectionChange=!0;var b=a.target.values,c;this.items._getAllSelected().forEach(function(a){c=f(a);a[-1!==b.indexOf(c)?"setAttribute":"removeAttribute"]("selected","")});this._bulkSelectionChange=!1;b.length||this._elements.button.focus();this.trigger("change")}},_addTagToTagList:function(a){a._elements.tag=a._elements.tag||new Coral.Tag;a._elements.tag.set({value:a.value,multiline:!0,label:{innerHTML:a.content.innerHTML}},!0);this._elements.taglist.items.add(a._elements.tag)},
_removeTagFromTagList:function(a,b){a._elements&&a._elements.tag&&(a._elements.tag.remove(),a._elements.tag=b?void 0:a._elements.tag)},_onSelectListScrollBottom:function(a){this._elements.overlay.open&&this._showOptions()},_onButtonClick:function(a){a.preventDefault();this.disabled||this._useNativeInput||(this._elements.overlay.open?this._hideOptions():(this._showOptions(!0),this._focusSelectList()))},_focusSelectList:function(){var a=this._elements.list;Coral.commons.nextFrame(function(){a.contains(document.activeElement)||
a.focus()})},_onNativeSelectClick:function(a){this._showOptions(!1)},_onSpaceKey:function(a){this.disabled||(a.preventDefault(),this._useNativeInput?this._elements.nativeSelect.dispatchEvent(new MouseEvent("mousedown")):this._elements.overlay.open&&a.keyCode!==Coral.Keys.keyToCode("space")||this._elements.button.click())},_onTabKey:function(a){a.preventDefault()},_onOverlayBeforeClose:function(a){var b=this._elements.button;Coral.commons.nextFrame(function(){b.focus()})},_onOverlayToggle:function(a){this._elements.button.classList.toggle("is-selected",
a.target.open);this._elements.button.setAttribute("aria-expanded",a.target.open);a.target.open||this.classList.remove.apply(this.classList,["is-openAbove","is-openBelow"])},_onOverlayPositioned:function(a){this.classList.add("top"===a.detail.vertical?"is-openBelow":"is-openAbove");this._elements.overlay.style.minWidth=this.offsetWidth+"px"},_onNativeSelectChange:function(a){a.stopImmediatePropagation();if(!this._bulkSelectionChange){this._bulkSelectionChange=!0;var b=this.selectedItems.map(function(a){return a._elements.nativeOption});
a=Array.prototype.slice.call(a.target.querySelectorAll(":checked"));h(b,a).forEach(function(a){a._selectItem.selected=!1});h(a,b).forEach(function(a){a._selectItem.selected=!0});this._bulkSelectionChange=!1;this.multiple||(this._elements.button.focus(),this.trigger("coral-select:hideitems"));this.trigger("change")}},_onItemContentChange:function(a){a.stopImmediatePropagation();a=a.target;a._elements.selectListItem&&a._elements.selectListItem.content&&(a._elements.selectListItem.content.innerHTML=
a.content.innerHTML);a._elements.nativeOption&&(a._elements.nativeOption.innerHTML=a.content.innerHTML);a._elements.tag&&a._elements.tag.label&&(a._elements.tag.label.innerHTML=a.content.innerHTML);this._queueSync("placeholder","selectedItem")},_onItemValueChange:function(a){a.stopImmediatePropagation();a=a.target;a._elements.selectListItem&&(a._elements.selectListItem.value=a.value);a._elements.nativeOption&&(a._elements.nativeOption.value=a.value);a._elements.tag&&(a._elements.tag.value=a.value)},
_onItemDisabledChange:function(a){a.stopImmediatePropagation();a=a.target;a._elements.selectListItem&&(a._elements.selectListItem.disabled=a.disabled);a._elements.nativeOption&&(a._elements.nativeOption.disabled=a.disabled)},_onItemSelectedChange:function(a){a.stopImmediatePropagation();a=a.target;this._bulkSelectionChange=!0;a.selected?(this._onItemSelected(a),this.multiple||this.items._deselectAllExcept(a)):this._onItemDeselected(a);this._bulkSelectionChange=!1;this._updateLabel()},clear:function(){this.value=
""},focus:function(){this.contains(document.activeElement)||this._elements.button.focus()},reset:function(){this.values=this._initialValues},attachedCallback:function(){this._delegateGlobalEvents()},detachedCallback:function(){this._undelegateGlobalEvents()},_validateInitialState:function(a){for(var b,c=0,d=a.length;c<d;c++)b=a[c],f(b),b=this._initialValues.indexOf(b.value),-1!==b&&this._initialValues.splice(b,1)},_onCollectionChange:function(a,b){this._validateInitialState(b);this._setStateFromDOM()},
_updateLabel:function(){this._queueSync("placeholder","selectedItem")},_setStateFromDOM:function(){if(!this.multiple&&(this.items._deselectAllExceptLast(),!this.items._getFirstSelected()&&(this._elements.input.value="",""===this.placeholder))){var a=this.items._getFirstSelectable();a&&(a.setAttribute("selected",""),this._elements.input.value=f(a))}this._updateLabel()},_initialize:function(){this._useNativeInput=e;this.classList.toggle("coral3-Select--native",this._useNativeInput);this._bulkSelectionChange=
!1;this._setStateFromDOM();Coral.commons.ready(this._elements.taglist,function(a){a.reset=function(){}});this._initialValues=[];this.selectedItems.forEach(function(a){this._initialValues.push(f(a))},this);this.items._startHandlingItems()},_render:function(){for(var a=this.querySelectorAll("[handle]"),b=0;b<a.length;++b){var c=a[b];c.parentNode===this&&this.removeChild(c)}this.insertBefore(Coral.templates.Select.base.call(this._elements),this.firstChild||null);this._elements.list.style.maxHeight="252px"}});
Coral.Select.variant=b;Coral.register({name:"Select.Item",tagName:"coral-select-item",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-select-item:_disabledchanged"},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-select-item:_selectedchanged"},
value:{reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-select-item:_valuechanged",get:function(){return"undefined"===typeof this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}}},attachedCallback:function(){},detachedCallback:function(){},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this));this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})},_handleMutation:function(a){this.trigger("coral-select-item:_contentchanged",
{content:this.textContent})}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-clock"]={"en-US":{am:"am",pm:"pm",Hours:"Hours",Minutes:"Minutes","AM/PM":"AM/PM"},"de-DE":{am:"vormittags",pm:"nachmittags",Hours:"Stunden",Minutes:"Minuten","AM/PM":"AM/PM"},"fr-FR":{am:"matin",pm:"apr\u00e8s-midi",Hours:"Heures",Minutes:"Minutes","AM/PM":"AM/PM"},"ja-JP":{am:"\u5348\u524d",pm:"\u5348\u5f8c",Hours:"\u6642\u9593",Minutes:"\u5206","AM/PM":"\u5348\u524d / \u5348\u5f8c"},"es-ES":{am:"a. m.",pm:"p. m.",Hours:"Horas",Minutes:"Minutos","AM/PM":"a. m./p. m."},
"ko-KR":{am:"\uc624\uc804",pm:"\uc624\ud6c4",Hours:"\uc2dc\uac04",Minutes:"\ubd84","AM/PM":"\uc624\uc804/\uc624\ud6c4"},"zh-CN":{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",Hours:"\u5c0f\u65f6",Minutes:"\u5206\u949f","AM/PM":"\u4e0a\u5348/\u4e0b\u5348"},"zh-TW":{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",Hours:"\u5c0f\u6642",Minutes:"\u5206\u9418","AM/PM":"\u4e0a\u5348/\u4e0b\u5348"},"pt-BR":{am:"am",pm:"pm",Hours:"Horas",Minutes:"Minutos","AM/PM":"AM/PM"},"it-IT":{am:"am",pm:"pm",Hours:"Ore",Minutes:"Minuti","AM/PM":"AM/PM"},
"nl-NL":{am:"am",pm:"pm",Hours:"Uren",Minutes:"Minuten","AM/PM":"AM/PM"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Clock=window.Coral.templates.Clock||{};
window.Coral.templates.Clock.base=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=this.input=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("name","");d.setAttribute("handle","input");b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.valueAsText=document.createElement("time");d.setAttribute("handle","valueAsText");d.id=Coral.commons.getUID();d.setAttribute("hidden",
"");b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.hours=document.createElement("input","coral-textfield");d.setAttribute("is","coral-textfield");d.setAttribute("type","number");d.setAttribute("min","0");d.setAttribute("max","23");d.className+=" coral-Clock-hour";d.setAttribute("handle","hours");d.setAttribute("aria-label",Coral.i18n.get("Hours"));b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=document.createElement("span");d.className+=" coral-Clock-divider";
d.textContent=":";b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.minutes=document.createElement("input","coral-textfield");d.setAttribute("is","coral-textfield");d.setAttribute("type","number");d.setAttribute("min","0");d.setAttribute("max","59");d.className+=" coral-Clock-minute";d.setAttribute("handle","minutes");d.setAttribute("aria-label",Coral.i18n.get("Minutes"));b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.period=document.createElement("coral-select");
d.setAttribute("handle","period");d.className+=" coral-Clock-period";d.setAttribute("hidden","");d.setAttribute("labelledby",c);var a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("span");a.className+=" u-coral-screenReaderOnly";a.id=c;a.setAttribute("hidden","");a.textContent=Coral.i18n.get("AM/PM");d.appendChild(a);c=document.createTextNode("\n  ");d.appendChild(c);c=document.createElement("coral-select-item");c.setAttribute("value","am");d.appendChild(c);c=document.createTextNode("\n  ");
d.appendChild(c);c=document.createElement("coral-select-item");c.setAttribute("value","pm");d.appendChild(c);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){var b=/(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2}).*(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})|(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})/,c=/h{1,2}|H{1,2}|k{1,2}/,d=/m{1,2}/,a={DEFAULT:"default",QUIET:"quiet"},e=[],f;for(f in a)e.push("coral-Clock--"+a[f]);Coral.register({name:"Clock",tagName:"coral-clock",className:"coral-Clock",mixins:[Coral.mixin.formField],events:{'change [handle\x3d"period"]':"_onPeriodChange"},properties:{displayFormat:{default:"HH:mm",attribute:"displayformat",transform:function(a){return this._extractTimeFormat(Coral.transform.string(a).trim(),
b,"HH:mm")},sync:function(){this._syncDisplay()}},valueFormat:{default:"HH:mm",attribute:"valueformat",transform:function(a){return this._extractTimeFormat(Coral.transform.string(a).trim(),b,"HH:mm")},set:function(a){this._valueFormat=a;this._elements.input.value=this.value}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},disabled:{sync:function(){this._elements.hours.disabled=this.disabled;this._elements.minutes.disabled=this.disabled;this._elements.input.disabled=
this.disabled}},invalid:{sync:function(){this._elements.hours.invalid=this.invalid;this._elements.minutes.invalid=this.invalid}},readOnly:{sync:function(){this._elements.hours.readOnly=this.readOnly;this._elements.minutes.readOnly=this.readOnly;this._elements.input.readOnly=this.readOnly}},required:{sync:function(){this._elements.hours.required=this.required;this._elements.minutes.required=this.required;this._elements.input.required=this.required}},value:{validate:function(a,b){return"string"===typeof a},
get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(a){a=moment(a,this.valueFormat,!0);this._value=a.isValid()?a:"";this._elements.input.value=this.value;this._syncValueAsText()},sync:function(){this._syncDisplay()}},labelledBy:{get:function(){var a=this._getLabellableElement().getAttribute("aria-labelledby");a&&(a=a.replace(this._elements.valueAsText.id,"").trim(),a.length||(a=null));return a},sync:function(){var a=this.labelledBy,b=[this._elements.valueAsText.id];
a?(b.unshift(a),this.getAttribute("labelledby")!==a&&this.setAttribute("labelledby",a)):this.removeAttribute("labelledby");this._getLabellableElement().setAttribute("aria-labelledby",b.join(" "))}},valueAsDate:{attribute:null,transform:function(a){return a instanceof Date?moment(a).format(this.valueFormat):""},get:function(){return this._value?new Date(this._value.toDate().getTime()):null},set:function(a){this.value=a}},variant:{default:a.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],
set:function(a){this._variant=a;this._elements.hours.variant=a;this._elements.minutes.variant=a;this._elements.period.variant=a},sync:function(){this.classList.remove.apply(this.classList,e);this.variant!==Coral.Clock.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}}},focus:function(){this.contains(document.activeElement)||this._elements.hours.focus()},_extractTimeFormat:function(a,b,c){return(a=b.exec(a))&&a.length&&""!==a[0]?a[0]:c},_syncDisplay:function(){var a=this._extractTimeFormat(this.displayFormat,
c,"HH"),b=this._extractTimeFormat(this.displayFormat,d,"mm");this._elements.hours.placeholder=a;this._elements.minutes.placeholder=b;this._elements.hours.value=this._getValueAsString(this._value,a);this._elements.minutes.value=this._getValueAsString(this._value,b);this._syncPeriod();this._syncValueAsText()},_syncPeriod:function(){Coral.commons.ready(this._elements.period,function(a){var b=this._value,c=Coral.i18n.get("am"),d=Coral.i18n.get("pm"),e=a.items.getAll();b&&b.isValid()&&(12>b.hours()?a.value=
"am":a.value="pm");-1!==this.displayFormat.indexOf("a")?(e[0].textContent=c,e[1].textContent=d,this._togglePeriod(!0)):-1!==this.displayFormat.indexOf("A")?(e[0].textContent=c.toUpperCase(),e[1].textContent=d.toUpperCase(),this._togglePeriod(!0)):this._togglePeriod(!1)}.bind(this))},_togglePeriod:function(a){this._elements.period.hidden=!a},_onPeriodChange:function(a){a.stopImmediatePropagation();a=this._value;var b=this._elements.period;a&&a.isValid()&&(-1!==this.displayFormat.indexOf("h")&&("am"===
b.value?a.subtract(12,"h"):a.add(12,"h")),this.value=a.format(this.valueFormat),this.trigger("change"))},_syncValueAsText:function(){this._elements.valueAsText.textContent=this._getValueAsString(this._value,this.displayFormat);this.getAttribute("aria-labelledby")||this._queueSync("labelledBy")},_onInputChange:function(a){a.stopImmediatePropagation();a=moment();var b=this._value,c=parseInt(this._elements.hours.value,10),d=parseInt(this._elements.minutes.value,10);window.isNaN(c)||window.isNaN(d)?a=
"":(this._elements.period.hidden||-1===this.displayFormat.indexOf("h")||"pm"!==this._elements.period.value||(c+=12),a.hours(c),a.minutes(d));a&&a.isValid()?(this.invalid=!1,a.isSame(b,"hour")&&a.isSame(b,"minute")||(this.value=a.format(this.valueFormat),this.trigger("change"))):(this.invalid=!0,this._value="",a!==b&&this.trigger("change"))},_getLabellableElement:function(){return this},_getValueAsString:function(a,b){return a&&a.isValid()?a.format(b):""},_initialize:function(){this.setAttribute("role",
"group")},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.Clock.base.call(this._elements))}});Coral.Clock.variant=a})();
(function(){var b=Coral.Overlay.placement,c={left:"Right",right:"Left",top:"Down",bottom:"Up"},d={INFO:"info",ERROR:"error",WARNING:"warning",SUCCESS:"success",INSPECT:"inspect"},a="";for(g in d)a+="coral3-Tooltip--"+d[g]+" ";var e="",f={},h;for(h in b){var g=b[h];var k="coral3-Tooltip--arrow"+c[g];f[g]=k;e+=k+" "}Coral.register({name:"Tooltip",tagName:"coral-tooltip",className:"coral3-Tooltip",extend:Coral.Overlay,_overlayAnimationTime:Coral.mixin.overlay.FADETIME,properties:{variant:{default:d.INFO,
reflectAttribute:!0,validate:Coral.validate.enumeration(d),sync:function(){this.$.removeClass(a).addClass(this._className+"--"+this.variant)}},delay:{default:500,transform:Coral.transform.number},content:Coral.property.contentZone({handle:"content",tagName:"coral-tooltip-content",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),alignMy:{default:Coral.Overlay.align.LEFT_CENTER},alignAt:{default:Coral.Overlay.align.RIGHT_CENTER},offset:{default:12},open:{sync:function(){this.open||this._cancelShow()}},
target:{set:function(a){"on"===this.interaction&&(a=this._getTarget(a),this._addTargetListeners(a))}},interaction:{default:"on",set:function(a){var b=this._getTarget();b&&("on"===a?this._addTargetListeners(b):this._removeTargetListeners(b));this._interaction=a}}},_render:function(){this._id=Coral.commons.getUID();var a=this.querySelector("coral-tooltip-content");if(null===a)for(a=document.createElement("coral-tooltip-content");this.firstChild;)a.appendChild(this.firstChild);this.content=a},_initialize:function(){this.tabIndex=
-1;this.setAttribute("role","tooltip")},_applyPosition:function(a,b){var c=a.top;a=a.left;"left"===b.horizontal?this._setArrowClass(Coral.Overlay.placement.LEFT):"right"===b.horizontal?this._setArrowClass(Coral.Overlay.placement.RIGHT):"bottom"===b.vertical?this._setArrowClass(Coral.Overlay.placement.BOTTOM):"top"===b.vertical&&this._setArrowClass(Coral.Overlay.placement.TOP);this.style.top=c+"px";this.style.left=a+"px"},_setArrowClass:function(a){this.$.removeClass(e).addClass(f[a])},_handleFocus:function(){this._cancelHide();
this.$.find(":focusable").first().focus()},_handleFocusOut:function(){var a=this;Coral.commons.nextFrame(function(){var b=document.activeElement===a._getTarget(),c=a.contains(document.activeElement);b||c||(a._cancelShow(),a.open=!1)})},_cancelShow:function(){clearTimeout(this._showTimeout)},_cancelHide:function(){clearTimeout(this._hideTimeout)},_startHide:function(){if(0===this.delay)this._handleFocusOut();else{var a=this;this._hideTimeout=setTimeout(function(){a._handleFocusOut()},this.delay)}},
_addTargetListeners:function(a){if(a&&!a["_hasCoralTooltipListeners"+this._id]){a["_hasCoralTooltipListeners"+this._id]=!0;if(this._oldTarget){var b=this._getTarget(this._oldTarget);b&&this._removeTargetListeners(b)}this._oldTarget=a;var c=this;a=$(a);a.on("mouseenter.CoralTooltip"+this._id+" focusin.CoralTooltip"+this._id,function(a){c._cancelHide();c.open||(c._cancelShow(),0===c.delay?c.show():c._showTimeout=setTimeout(function(){c.show()},c.delay))});a.on("mouseleave.CoralTooltip"+this._id,function(a){"on"===
c.interaction&&c._startHide()});a.on("focusout.CoralTooltip"+this._id,function(a){"on"===c.interaction&&c._handleFocusOut()})}},_removeTargetListeners:function(a){$(a).off(".CoralTooltip"+this._id);a["_hasCoralTooltipListeners"+this._id]=!1}});Coral.register({name:"Tooltip.Content",tagName:"coral-tooltip-content"});Coral.Tooltip.variant=d})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Slider=window.Coral.templates.Slider||{};
window.Coral.templates.Slider.base=function(b){var c=document.createDocumentFragment();b="undefined"===typeof b?{}:b;b.uid=Coral.commons.getUID();var d=document.createTextNode("\n");c.appendChild(d);d=document.createElement("div");d.className+=" coral3-Slider-bar";var a=document.createTextNode("\n  ");d.appendChild(a);a=this.fillHandle=document.createElement("div");a.setAttribute("handle","fillHandle");a.className+=" coral3-Slider-fill is-hidden";a.setAttribute("role","presentation");d.appendChild(a);
a=document.createTextNode("\n");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);d=this.leftHandle=document.createElement("div");d.setAttribute("handle","leftHandle");d.className+=" coral3-Slider-handle";a=document.createTextNode("\n  ");d.appendChild(a);a=this.leftInput=document.createElement("input");a.setAttribute("handle","leftInput");a.setAttribute("type","range");a.id=b.uid;a.className+=" coral3-Slider-input";d.appendChild(a);a=document.createTextNode("\n  ");
d.appendChild(a);a=document.createElement("coral-tooltip");a.setAttribute("variant","inspect");a.id=b.uid+"-tooltip";a.setAttribute("for",b.uid);a.setAttribute("interaction","off");d.appendChild(a);b=document.createTextNode("\n");d.appendChild(b);c.appendChild(d);return c};
window.Coral.templates.Slider.range=function(b){var c=document.createDocumentFragment();b="undefined"===typeof b?{}:b;b.uidMin=Coral.commons.getUID();b.uidMax=Coral.commons.getUID();var d=document.createTextNode("\n");c.appendChild(d);d=document.createElement("div");d.className+=" coral3-Slider-bar";var a=document.createTextNode("\n  ");d.appendChild(a);a=this.fillHandle=document.createElement("div");a.setAttribute("handle","fillHandle");a.className+=" coral3-Slider-fill is-hidden";a.setAttribute("role",
"presentation");d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);d=this.leftHandle=document.createElement("div");d.setAttribute("handle","leftHandle");d.className+=" coral3-Slider-handle";a=document.createTextNode("\n  ");d.appendChild(a);a=this.leftLabel=document.createElement("label");a.setAttribute("handle","leftLabel");a.className+=" u-coral-screenReaderOnly";a.id=b.uidMin+"-label";a.setAttribute("for",b.uidMin);
a.setAttribute("aria-hidden","true");a.textContent="Minimum";d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=this.leftInput=document.createElement("input");a.setAttribute("handle","leftInput");a.setAttribute("type","range");a.id=b.uidMin;a.className+=" coral3-Slider-input";d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("coral-tooltip");a.setAttribute("variant","inspect");a.id=b.uidMin+"-tooltip";a.setAttribute("for",b.uidMin);a.setAttribute("interaction",
"off");d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);d=this.rightHandle=document.createElement("div");d.setAttribute("handle","rightHandle");d.className+=" coral3-Slider-handle";a=document.createTextNode("\n  ");d.appendChild(a);a=this.rightLabel=document.createElement("label");a.setAttribute("handle","rightLabel");a.className+=" u-coral-screenReaderOnly";a.id=b.uidMax+"-label";a.setAttribute("for",b.uidMax);a.setAttribute("aria-hidden",
"true");a.textContent="Maximum";d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=this.rightInput=document.createElement("input");a.setAttribute("handle","rightInput");a.setAttribute("type","range");a.id=b.uidMax;a.className+=" coral3-Slider-input";d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("coral-tooltip");a.setAttribute("variant","inspect");a.id=b.uidMax+"-tooltip";a.setAttribute("for",b.uidMax);a.setAttribute("interaction","off");
d.appendChild(a);b=document.createTextNode("\n");d.appendChild(b);c.appendChild(d);return c};
(function(){var b=function(){var a=document.createElement("input");a.setAttribute("type","range");return"range"===a.type}(),c={HORIZONTAL:"horizontal",VERTICAL:"vertical"},d=function(a){this._slider=a};d.prototype=Object.create(Coral.Collection.prototype);d.prototype.add=function(a,b){if(!(a instanceof HTMLElement)){var c=a;a=document.createElement("coral-slider-item")}this._slider.insertBefore(a,b);c&&a.set(c,!0);return a};d.prototype.getAll=function(){return this._slider.$.children("coral-slider-item").toArray()};
Coral.register({name:"Slider",tagName:"coral-slider",className:"coral3-Slider",mixins:[Coral.mixin.formField],events:{"key:up .coral3-Slider-handle":"_handleKey","key:right .coral3-Slider-handle":"_handleKey","key:down .coral3-Slider-handle":"_handleKey","key:left .coral3-Slider-handle":"_handleKey","key:pageUp .coral3-Slider-handle":"_handleKey","key:pageDown .coral3-Slider-handle":"_handleKey","key:home .coral3-Slider-handle":"_handleKey","key:end .coral3-Slider-handle":"_handleKey","capture:mouseenter .coral3-Slider-handle":"_onMouseEnter",
"capture:mouseleave .coral3-Slider-handle":"_onMouseLeave",input:"_onInputChangeHandler",touchstart:"_onMouseDown",mousedown:"_onMouseDown","capture:focus":"_focus","capture:blur":"_blur"},properties:{step:{default:1,reflectAttribute:!0,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(a,b){return null!==a&&0<a}],sync:function(){this._elements.$inputs.prop("step",this.step);this._elements.$inputs.attr("aria-valuestep",this.step)}},min:{default:1,reflectAttribute:!0,
transform:Coral.transform.number,sync:function(){this.$.attr("aria-valuemin",this.min);this._elements.$inputs.prop("min",this.min);this._elements.$inputs.attr("aria-valuemin",this.min)}},max:{default:100,reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this._elements.$inputs.prop("max",this.max);this._elements.$inputs.attr("aria-valuemax",this.max)}},tooltips:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){}},
orientation:{default:c.HORIZONTAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$.toggleClass("coral3-Slider--vertical",this.orientation===c.VERTICAL);this.$.attr("aria-orientation",this.orientation);this._elements.$inputs.attr("aria-orientation",this.orientation);this._moveHandles()}},value:{default:function(){return String(this.min)},alsoSync:["filled"],transform:Coral.transform.number,get:function(){return this._elements.$inputs[0].value},set:function(a){if(1===
this._elements.$handles.length){var b=this._elements.$inputs[0];a=this._snapValueToStep(a,this.min,this.max,this.step);b.value=a;b.setAttribute("aria-valuenow",a);b.setAttribute("aria-valuetext",this._getLabel(a));this._moveHandles();a=this.getAttribute("value");b[a?"setAttribute":"removeAttribute"]("value",a)}},sync:function(){}},valueAsNumber:{attribute:null,transform:Coral.transform.float,get:function(){return parseFloat(this.value)},set:function(a){this.value=a}},name:{get:function(){return this._elements.$inputs[0].name},
set:function(a){for(var b=0;b<this._elements.$handles.length;b++)this._elements.$inputs[b].name=a}},_values:{attribute:null,default:function(){return[this.min,this.max]},get:function(){for(var a=[],b=0;b<this._elements.$inputs.length;b++)a.push(String(parseInt(this._elements.$inputs[b].value,10)));return a},set:function(a){if(a&&a.length===this._elements.$handles.length){for(var b=0;b<this._elements.$handles.length;b++){var c=a[b]=this._snapValueToStep(a[b],this.min,this.max,this.step);var d=this._elements.$inputs[b];
d.value=c;d.setAttribute("aria-valuenow",c);d.setAttribute("aria-valuetext",this._getLabel(c))}this._moveHandles()}},sync:function(){},alsoSync:["filled"]},filled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.filled&&this._updateFill();this._elements.$fill.toggleClass("is-hidden",!this.filled)}},disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this.setAttribute("aria-disabled",this.disabled);this._elements.$inputs.prop("disabled",this.disabled);this._elements.$handles.attr("aria-disabled",this.disabled);b||this._elements.$handles.prop("tabindex",this.disabled?-1:0)}},labelledBy:{override:!0,attribute:"labelledby",transform:Coral.transform.string,get:function(){return 1===this._elements.$handles.length?this._elements.$inputs[0].getAttribute("aria-labelledby"):this.getAttribute("aria-labelledby")},set:function(a){if(a){if(1===
this._elements.$handles.length)this._elements.$handles[0].setAttribute("aria-labelledby",a),this._elements.$inputs[0].setAttribute("aria-labelledby",a);else{this.setAttribute("aria-labelledby",a);for(var b=0;b<this._elements.$handles.length;b++){var c=a+" "+this._elements.$handles[b].querySelector("label").id;this._elements.$handles[b].setAttribute("aria-labelledby",c);this._elements.$inputs[b].setAttribute("aria-labelledby",c)}}this._updateForAttributes(a,this._elements.$inputs[0].id)}else this._updateForAttributes(this.labelledBy,
this._elements.$inputs[0].id,!0),this.removeAttribute("aria-labelledby"),this._elements.$handles.removeAttr("aria-labelledby"),this._elements.$inputs.removeAttr("aria-labelledby")}},items:{set:function(){},get:function(){this._items||(this._items=new d(this));return this._items}}},_onMouseDown:function(a){if(!(a instanceof MouseEvent&&1!==(a.which||a.button))){a.preventDefault();this._currentHandle=$(a.target).closest(".coral3-Slider-handle");if(!this._currentHandle.length){a=this._getPoint(a);var b=
this._getValueFromCoord(a.pageX,a.pageY,!0);this._currentHandle=this._findNearestHandle(a.pageX,a.pageY);this._updateValue(this._currentHandle,b);this._setHandleFocus(this._currentHandle)}this._currentHandle.addClass("is-dragged");$(document.body).addClass("u-coral-closedHand");this.tooltips&&(a=this._elements.$handles.index(this._currentHandle),this._openTooltip(this._currentHandle,this._getLabel(this._values[a])));this._draggingHandler=this._handleDragging.bind(this);this._mouseUpHandler=this._mouseUp.bind(this);
Coral.events.on("mousemove",this._draggingHandler);Coral.events.on("mouseup",this._mouseUpHandler);Coral.events.on("touchmove",this._draggingHandler);Coral.events.on("touchend",this._mouseUpHandler);Coral.events.on("touchcancel",this._mouseUpHandler);this._setHandleFocus(this._currentHandle)}},_getPoint:function(a){return a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a.touches&&0<a.touches.length?a.touches[0]:a},_setHandleFocus:function(a){b?a.find(".coral3-Slider-input").focus():
a.focus()},_handleKey:function(a){a.preventDefault();this._focus(a);var b=$(a.matchedTarget),c=this._elements.$handles.index(b);c=parseInt(this._values[c],10);a.keyCode===Coral.Keys.keyToCode("up")||a.keyCode===Coral.Keys.keyToCode("right")||a.keyCode===Coral.Keys.keyToCode("pageUp")?c+=this.step:a.keyCode===Coral.Keys.keyToCode("down")||a.keyCode===Coral.Keys.keyToCode("left")||a.keyCode===Coral.Keys.keyToCode("pageDown")?c-=this.step:a.keyCode===Coral.Keys.keyToCode("home")?c=this.min:a.keyCode===
Coral.Keys.keyToCode("end")&&(c=this.max);this._updateValue(b,c)},_findNearestHandle:function(a,b){var c=Infinity,d;this._elements.$handles.each(function(e,f){e=f.getBoundingClientRect();e=Math.floor(Math.sqrt(Math.pow(a-(e.left+window.pageXOffset+e.width/2),2)+Math.pow(b-(e.top+window.pageYOffset+e.height/2),2)));e<c&&(c=e,d=f)});return $(d)},_moveHandles:function(){var a=this;this._elements.$handles.each(function(b,d){d=$(d);var e=(a._values[b]-a.min)/(a.max-a.min)*100;a.orientation===c.VERTICAL?
d.css({bottom:e+"%",left:""}):d.css({left:e+"%",bottom:""});a._updateTooltip(d,a._getLabel(a._values[b]))})},_onInputChange:function(a){"undefined"===typeof a.target.oninput&&this._onInputChangeHandler(a)},_onInputChangeHandler:function(a){a.stopPropagation();var b=$(a.target).closest(".coral3-Slider-handle");a.target===document.activeElement&&this._focus(a);this._updateValue(b,a.target.value,!0)},_focus:function(a){var b=this;a=$(a.target).closest(".coral3-Slider-handle");var c=this._elements.$handles.index(a[0]);
this.$.addClass("is-focused");a.addClass("is-focused");this.tooltips&&this._openTooltip(a,b._getLabel(b._values[c]));Coral.events.on("touchstart.CoralSlider mousedown.CoralSlider",function(a){0!==$(a.target).closest(b).length&&$(a.target).trigger("blur")})},_blur:function(a){a=$(a.target).closest(".coral3-Slider-handle");var b=a[0];this.$.removeClass("is-focused");a.removeClass("is-focused");this.tooltips&&this._closeTooltip(b);Coral.events.off("touchstart.CoralSlider mousedown.CoralSlider")},_handleDragging:function(a){var b=
this._getPoint(a);this._updateValue(this._currentHandle,this._getValueFromCoord(b.pageX,b.pageY));a.preventDefault()},_updateValue:function(a,b,c){var d=this._elements.$handles.index(a);a=this._values;a[d]=b;b=this._values;this.set("_values",a);a=this._values;(c||b.join(":")!==a.join(":"))&&this.trigger("change")},_getValueFromCoord:function(a,b,d){var e=this.$.offset();this.orientation===c.VERTICAL?(a=this.$.height(),e=(e.top+a-b)/a):(b=this.$.width(),e=(a-e.left)/b);return d&&(0>e||1<e)?NaN:this._snapValueToStep(1*
this.min+(this.max-this.min)*e,this.min,this.max,this.step)},_snapValueToStep:function(a,b,c,d){d=parseFloat(d);var e=(a-b)%d,f=d.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1").length;a=2*Math.abs(e)>=d?a-Math.abs(e)+d:a-e;a<b?a=b:a>c&&(a=b+Math.floor((c-b)/d)*d);0<f&&(a=parseFloat(a.toFixed(f)));return a},_onMouseEnter:function(a){var b=a.matchedTarget;a=$(a.matchedTarget);b=this._elements.$handles.index(b);this.tooltips&&this._openTooltip(a,this._getLabel(this._values[b]))},_onMouseLeave:function(a){a=
$(a.matchedTarget);this.tooltips&&!a.hasClass("is-dragged")&&this._closeTooltip(a)},_mouseUp:function(){this._currentHandle.removeClass("is-dragged");$(document.body).removeClass("u-coral-closedHand");this._closeTooltip(this._currentHandle);Coral.events.off("mousemove",this._draggingHandler);Coral.events.off("touchmove",this._draggingHandler);Coral.events.off("mouseup",this._mouseUpHandler);Coral.events.off("touchend",this._mouseUpHandler);Coral.events.off("touchcancel",this._mouseUpHandler);this._mouseUpHandler=
this._draggingHandler=this._currentHandle=null},_updateFill:function(){var a=(this._values[0]-this.min)/(this.max-this.min)*100;this.orientation===c.VERTICAL?this._elements.$fill.css("height",a+"%"):this._elements.$fill.css("width",a+"%")},_openTooltip:function(a,b){var d=a.find("coral-tooltip")[0];d.set({content:{textContent:b},target:a[0],placement:this.orientation===c.VERTICAL?Coral.Overlay.placement.RIGHT:Coral.Overlay.placement.TOP});d.open=!0},_updateTooltip:function(a,b){a.find("coral-tooltip")[0].content.textContent=
b},_closeTooltip:function(a){if(a=$(a).find("coral-tooltip")[0])a.open=!1},_getLabel:function(a){for(var b=this.items.getAll(),c,d=0;d<b.length;d++)if(Coral.transform.number(b[d].value)===Coral.transform.number(a)){c=b[d];break}return c?c.content.innerHTML:a},_renderTemplate:function(){var a=Coral.templates.Slider.base.call(this._elements);this.appendChild(a)},_render:function(){this._renderTemplate();this._elements.$handles=this.$.find(".coral3-Slider-handle");this._elements.$inputs=this.$.find(".coral3-Slider-input");
this._elements.$fill=$(this._elements.fillHandle);this.setAttribute("role","presentation");b||this._elements.$inputs.each(function(a,b){a=this._elements.$handles.get(a);b.type="hidden";a.setAttribute("id",b.id);a.setAttribute("role","slider");a.setAttribute("tabindex","0");b.removeAttribute("id")}.bind(this))}});Coral.Slider.orientation=c})();
(function(){Coral.register({name:"Slider.Item",tagName:"coral-slider-item",className:"coral3-Slider-item",properties:{value:{reflectAttribute:!0,transform:Coral.transform.string},content:{contentZone:!0,set:function(){},get:function(){return this}}}})})();
(function(){Coral.register({name:"RangedSlider",tagName:"coral-rangedslider",className:"coral3-Slider",extend:Coral.Slider,properties:{filled:{default:!0,set:function(b){this._filled=!0}},value:Coral.property.proxy({path:"startValue"}),startValue:{attribute:"startvalue",transform:Coral.transform.string,set:function(b){b=Coral.transform.number(b);b=this._snapValueToStep(b,this.min,this.max,this.step);b=String(b);var c=this.values;c[0]=b;this.values=c;b=this._elements.$inputs[0];c=this.getAttribute("startvalue")||
this.getAttribute("value");b[c?"setAttribute":"removeAttribute"]("value",c)},get:function(){return this.values[0]}},endValue:{attribute:"endvalue",transform:Coral.transform.string,set:function(b){b=Coral.transform.number(b);b=this._snapValueToStep(b,this.min,this.max,this.step);b=String(b);var c=this.values;c[1]=b;this.values=c;b=this._elements.$inputs[1];c=this.getAttribute("endvalue");b[c?"setAttribute":"removeAttribute"]("value",c)},get:function(){return this.values[1]}},values:Coral.property.proxy({path:"_values"})},
clear:function(){this.startValue=this.min;this.endValue=this.max},reset:function(){var b=this.getAttribute("startvalue")||this.getAttribute("value"),c=this.getAttribute("endvalue");this.startValue=Coral.transform.string(b);this.endValue=Coral.transform.string(c)},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_updateValue:function(b,c){var d=this._elements.$handles.index(b);0===d?(c>parseFloat(this.values[1])&&
(c=this.values[1]),this._elements.rightInput.min=c,this._elements.rightHandle.setAttribute("aria-valuemin",c)):(c<parseFloat(this.values[0])&&(c=this.values[0]),this._elements.leftInput.max=c,this._elements.leftHandle.setAttribute("aria-valuemax",c));b=[this.values[0],this.values[1]];b[d]=c;c=this.get("values");this.set("values",b);b=this.get("values");c.join(":")!==b.join(":")&&this.trigger("change")},_updateFill:function(){var b=100/(this.max-this.min),c=(this._getLowestValue()-this.min)*b;b=(this._getHighestValue()-
this.min)*b-c;this.orientation===Coral.Slider.orientation.VERTICAL?this._elements.$fill.css("bottom",c+"%").css("height",b+"%"):this._elements.$fill.css("left",c+"%").css("width",b+"%")},_renderTemplate:function(){var b=Coral.templates.Slider.range.call(this._elements);this.appendChild(b)}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-colorinput"]={"en-US":{Swatches:"Swatches",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Color Picker",unset:"Not set",checked:"Checked"},"fr-FR":{Swatches:"\u00c9chantillons",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"S\u00e9lecteur de couleurs",unset:"Non d\u00e9fini",checked:"Activ\u00e9"},"de-DE":{Swatches:"Muster",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farbauswahl",unset:"Nicht gesetzt",checked:"Aktiviert"},"it-IT":{Swatches:"Campioni",
R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selettore colori",unset:"Non impostato",checked:"Selezionato"},"es-ES":{Swatches:"Muestras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selector de colores",unset:"No establecido",checked:"Activado"},"pt-BR":{Swatches:"Amostras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Seletor de cores",unset:"N\u00e3o definido",checked:"Selecionado"},"ja-JP":{Swatches:"\u30b9\u30a6\u30a9\u30c3\u30c1",R:"R",G:"G",B:"B",A:"A",HEX:"16 \u9032","Color Picker":"\u30ab\u30e9\u30fc \u30d4\u30c3\u30ab\u30fc",
unset:"\u8a2d\u5b9a\u89e3\u9664",checked:"\u9078\u629e"},"ko-KR":{Swatches:"\uacac\ubcf8",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"\uc0c9 \uc120\ud0dd",unset:"\uc124\uc815 \ud574\uc81c",checked:"\uc120\ud0dd\ub428"},"zh-CN":{Swatches:"\u8272\u677f",R:"R",G:"G",B:"B",A:"A",HEX:"\u5341\u516d\u8fdb\u5236","Color Picker":"\u989c\u8272\u9009\u53d6\u5668",unset:"\u53d6\u6d88\u8bbe\u7f6e",checked:"\u5df2\u9009\u4e2d"},"zh-TW":{Swatches:"\u8272\u7968",R:"R",G:"G",B:"B",A:"A",HEX:"\u5341\u516d\u9032\u4f4d",
"Color Picker":"\u8272\u5f69\u9078\u64c7\u5668",unset:"\u53d6\u6d88\u8a2d\u5b9a",checked:"\u5df2\u6aa2\u67e5"},"nl-NL":{Swatches:"Stalen",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Kleurenkiezer",unset:"Niet ingesteld",checked:"Geselecteerd"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.ColorInput=window.Coral.templates.ColorInput||{};
window.Coral.templates.ColorInput.base=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=this.input=document.createElement("input","coral-textfield");d.setAttribute("handle","input");d.setAttribute("is","coral-textfield");d.className+=" coral-ColorInput-input";d.setAttribute("type","text");d.setAttribute("value","");b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=document.createElement("div");d.className+=
" coral-ColorInput-buttonWrapper";d.setAttribute("role","presentation");var a=document.createTextNode("\n  ");d.appendChild(a);a=this.colorPreview=document.createElement("button","coral-button");a.setAttribute("handle","colorPreview");a.setAttribute("is","coral-button");a.setAttribute("variant","default");a.className+=" coral-ColorInput-button coral-ColorInput-preview";a.setAttribute("type","button");a.setAttribute("aria-haspopup","true");a.setAttribute("aria-expanded","false");a.setAttribute("aria-controls",
c);var e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("coral-button-label");e.id=c+"-coral-button-label";e.className+=" u-coral-screenReaderOnly";e.textContent=Coral.i18n.get("Color Picker");a.appendChild(e);e=document.createTextNode("\n  ");a.appendChild(e);d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.overlay=document.createElement("coral-overlay");d.setAttribute("role","dialog");
d.setAttribute("focusonshow","on");d.setAttribute("trapfocus","on");d.setAttribute("handle","overlay");d.setAttribute("alignmy","right top");d.setAttribute("alignat","right bottom");d.setAttribute("collision","fit");d.setAttribute("offset","5");d.id=c;d.setAttribute("aria-label",Coral.i18n.get("Color Picker"));b.appendChild(d);return b};
window.Coral.templates.ColorInput.colorProperties=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=document.createElement("div");d.className+=" coral-ColorInput-propertiesSubview";var a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("div");a.className+=" coral-ColorInput-previewView";var e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.className+=" coral-ColorInput-preview-container";
var f=document.createTextNode("\n      ");e.appendChild(f);f=this.colorPreview=document.createElement("button","coral-button");this.$colorPreview=$(f);f.setAttribute("is","coral-button");f.setAttribute("handle","$colorPreview");f.className+=" coral-ColorInput-preview";f.setAttribute("type","button");e.appendChild(f);f=document.createTextNode("\n    ");e.appendChild(f);a.appendChild(e);e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.className+=" coral-ColorInput-editHex";
f=document.createTextNode("\n      ");e.appendChild(f);f=document.createElement("span");f.textContent="#";e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.hexInput=document.createElement("input","coral-textfield");f.setAttribute("handle","hexInput");f.setAttribute("is","coral-textfield");f.setAttribute("placeholder","HEX");f.setAttribute("maxlength","6");f.setAttribute("value","");f.setAttribute("variant","quiet");e.appendChild(f);f=document.createTextNode("\n    ");
e.appendChild(f);a.appendChild(e);e=document.createTextNode("\n  ");a.appendChild(e);d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("div");a.className+=" coral-ColorInput-rgbaView coral-ColorInput-editRgba";a.setAttribute("role","presentation");e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.setAttribute("role","group");e.setAttribute("labelledby",c+"-r");f=document.createTextNode("\n      ");e.appendChild(f);f=document.createElement("label");
f.id=c+"-r";f.textContent=Coral.i18n.get("R");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.redSlider=document.createElement("coral-colorinput-slider");f.setAttribute("labelledby",c+"-r");f.setAttribute("handle","redSlider");f.setAttribute("min","0");f.setAttribute("max","255");f.setAttribute("value","0");f.setAttribute("gradient","#000000 #FF0000");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.redInput=document.createElement("input",
"coral-textfield");f.setAttribute("labelledby",c+"-r");f.setAttribute("handle","redInput");f.setAttribute("is","coral-textfield");f.setAttribute("type","number");f.setAttribute("placeholder",Coral.i18n.get("R"));f.setAttribute("maxlength","3");f.setAttribute("value","");f.setAttribute("variant","quiet");e.appendChild(f);f=document.createTextNode("\n    ");e.appendChild(f);a.appendChild(e);e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.setAttribute("role","group");
e.setAttribute("labelledby",c+"-g");f=document.createTextNode("\n      ");e.appendChild(f);f=document.createElement("label");f.id=c+"-g";f.textContent=Coral.i18n.get("G");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.greenSlider=document.createElement("coral-colorinput-slider");f.setAttribute("labelledby",c+"-g");f.setAttribute("handle","greenSlider");f.setAttribute("min","0");f.setAttribute("max","255");f.setAttribute("value","0");f.setAttribute("gradient","#000000 #00FF00");
e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.greenInput=document.createElement("input","coral-textfield");f.setAttribute("labelledby",c+"-g");f.setAttribute("handle","greenInput");f.setAttribute("is","coral-textfield");f.setAttribute("type","number");f.className+=" coral-ColorInput-editRgb";f.setAttribute("placeholder",Coral.i18n.get("G"));f.setAttribute("maxlength","3");f.setAttribute("value","");f.setAttribute("variant","quiet");e.appendChild(f);f=document.createTextNode("\n    ");
e.appendChild(f);a.appendChild(e);e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.setAttribute("role","group");e.setAttribute("labelledby",c+"-b");f=document.createTextNode("\n      ");e.appendChild(f);f=document.createElement("label");f.id=c+"-b";f.textContent=Coral.i18n.get("B");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.blueSlider=document.createElement("coral-colorinput-slider");f.setAttribute("labelledby",c+"-b");f.setAttribute("handle",
"blueSlider");f.setAttribute("min","0");f.setAttribute("max","255");f.setAttribute("value","0");f.setAttribute("gradient","#000000 #0000FF");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.blueInput=document.createElement("input","coral-textfield");f.setAttribute("labelledby",c+"-b");f.setAttribute("handle","blueInput");f.setAttribute("is","coral-textfield");f.setAttribute("type","number");f.setAttribute("placeholder",Coral.i18n.get("B"));f.setAttribute("maxlength",
"3");f.setAttribute("value","");f.setAttribute("variant","quiet");e.appendChild(f);f=document.createTextNode("\n    ");e.appendChild(f);a.appendChild(e);e=document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("div");e.setAttribute("role","group");e.setAttribute("labelledby",c+"-a");f=document.createTextNode("\n      ");e.appendChild(f);f=document.createElement("label");f.id=c+"-a";f.textContent=Coral.i18n.get("A");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);
f=this.alphaSlider=document.createElement("coral-colorinput-slider");f.setAttribute("labelledby",c+"-a");f.setAttribute("handle","alphaSlider");f.setAttribute("min","0");f.setAttribute("max","100");f.setAttribute("value","100");f.setAttribute("gradient","rgba(255,255,255,0) rgba(255,255,255,1)");e.appendChild(f);f=document.createTextNode("\n      ");e.appendChild(f);f=this.alphaInput=document.createElement("input","coral-textfield");f.setAttribute("labelledby",c+"-a");f.setAttribute("handle","alphaInput");
f.setAttribute("is","coral-textfield");f.setAttribute("type","number");f.setAttribute("placeholder",Coral.i18n.get("A"));f.setAttribute("maxlength","3");f.setAttribute("value","");f.setAttribute("variant","quiet");e.appendChild(f);c=document.createTextNode("\n    ");e.appendChild(c);a.appendChild(e);c=document.createTextNode("\n  ");a.appendChild(c);d.appendChild(a);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);return b};
window.Coral.templates.ColorInput.defaultColorPalette=function(b){b=this.defaultPalette=document.createElement("div");b.setAttribute("handle","defaultPalette");var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#001F3F");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);
c=document.createElement("coral-colorinput-item");c.setAttribute("value","#0074D9");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#7FDBFF");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#39CCCC");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");
c.setAttribute("value","#3D9970");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#2ECC40");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#01FF70");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#FFDC00");b.appendChild(c);
c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#FF851B");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#FF4136");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#85144B");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);
c=document.createElement("coral-colorinput-item");c.setAttribute("value","#F012BE");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#B10DC9");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#111111");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");
c.setAttribute("value","#AAAAAA");b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-colorinput-item");c.setAttribute("value","#DDDDDD");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
window.Coral.templates.ColorInput.sliderBase=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=this.sliderBar=document.createElement("div");d.setAttribute("handle","sliderBar");d.className+=" coral-ColorInput-sliderBar coral3-Slider-bar";var a=document.createTextNode("\n  ");d.appendChild(a);a=this.fillHandle=document.createElement("div");a.setAttribute("handle","fillHandle");a.className+=" coral3-Slider-fill is-hidden";
a.setAttribute("role","presentation");d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.leftHandle=document.createElement("div");d.setAttribute("handle","leftHandle");d.className+=" coral-ColorInput-sliderHandle coral3-Slider-handle";a=document.createTextNode("\n  ");d.appendChild(a);a=this.leftInput=document.createElement("input");a.setAttribute("handle","leftInput");a.setAttribute("type","range");a.id=c;a.className+=
" coral3-Slider-input";d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("coral-tooltip");a.setAttribute("variant","inspect");a.id=c+"-tooltip";a.setAttribute("for",c);a.setAttribute("interaction","off");d.appendChild(a);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);c=document.createTextNode("\n");b.appendChild(c);return b};
window.Coral.templates.ColorInput.swatchesHeader=function(b){b=document.createElement("div");b.className+=" coral-ColorInput-swatchesSubview";b.setAttribute("role","presentation");var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("div");c.className+=" coral-ColorInput-swatches-header-title";c.setAttribute("role","presentation");c.setAttribute("aria-hidden","true");var d=document.createTextNode("\n    ");c.appendChild(d);d=this.swatchesHeaderTitle=document.createElement("span");
d.setAttribute("handle","swatchesHeaderTitle");d.id=Coral.commons.getUID();d.setAttribute("role","heading");d.setAttribute("aria-level","2");d.textContent="\n      "+Coral.i18n.get("Swatches");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("div");c.className+=" coral-ColorInput-swatches-container";c.setAttribute("role","presentation");c.setAttribute("aria-labelledby",Coral.commons.getUID());
d=document.createTextNode("\n    ");c.appendChild(d);d=this.swatchesContainer=document.createElement("div");d.setAttribute("handle","swatchesContainer");d.setAttribute("role","presentation");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){function b(a){return("0"+a.toString(16)).slice(-2)}function c(a,b){var c=[];a=a.toLowerCase();b=b.toLowerCase();-1!==a.indexOf(b)&&(c=a.substring(a.indexOf(b)+b.length,a.lastIndexOf(")")).split(/,\s*/));return c}function d(a){var b=c(a,"rgb(");if(3!==b.length)return null;a=parseInt(b[0],10);var d=parseInt(b[1],10);b=parseInt(b[2],10);return isNaN(a)||isNaN(d)||isNaN(b)||0>a||255<a||0>d||255<d||0>b||255<b?null:{r:a,g:d,b:b}}function a(a){return a?"rgb("+a.r+","+a.g+","+a.b+")":""}function e(a){return a?
"rgba("+a.r+","+a.g+","+a.b+","+a.a+")":""}function f(a){var b=c(a,"cmyk(");if(4!==b.length)return null;a=parseFloat(b[0]);var d=parseFloat(b[1]),e=parseFloat(b[2]);b=parseFloat(b[3]);return isNaN(a)||isNaN(d)||isNaN(e)||isNaN(b)||0>a||100<a||0>d||100<d||0>e||100<e||0>b||100<b?null:{c:a,m:d,y:e,k:b}}function h(a){if(a){var b=parseFloat(a.c.toFixed(2)),c=parseFloat(a.m.toFixed(2)),d=parseFloat(a.y.toFixed(2));a=parseFloat(a.k.toFixed(2));return"cmyk("+b+","+c+","+d+","+a+")"}return""}function g(a){a=
a.replace("#","");3===a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));return/^[0-9A-F]{6}$/i.test(a)?parseInt(a,16):null}function k(a){return null!==a?(a=m(a),"#"+b(a.r)+b(a.g)+b(a.b)):""}function m(a){return null!==a?{r:a>>16,g:(a&65280)>>8,b:a&255}:null}function l(a){if(!a)return null;var b={r:0,g:0,b:0},c=parseFloat(a.c)/100,d=parseFloat(a.m)/100,e=parseFloat(a.y)/100;a=parseFloat(a.k)/100;b.r=1-Math.min(1,c*(1-a)+a);b.g=1-Math.min(1,d*(1-a)+a);b.b=1-Math.min(1,
e*(1-a)+a);b.r=Math.round(255*b.r);b.g=Math.round(255*b.g);b.b=Math.round(255*b.b);return b}function n(a){if(!a)return null;var b={c:0,m:0,y:0,k:0};if(0===a.r&&0===a.g&&0===a.b)return b.k=100,b;var c=a.r/255,d=a.g/255;a=a.b/255;b.k=Math.min(1-c,1-d,1-a);b.c=(1-c-b.k)/(1-b.k);b.m=(1-d-b.k)/(1-b.k);b.y=(1-a-b.k)/(1-b.k);b.c=Math.round(100*b.c);b.m=Math.round(100*b.m);b.y=Math.round(100*b.y);b.k=Math.round(100*b.k);return b}function p(a){var b=c(a,"hsb(");if(3!==b.length)return null;a=parseFloat(b[0]);
var d=parseFloat(b[1]);b=parseFloat(b[2]);return isNaN(a)||isNaN(d)||isNaN(b)||0>a||360<a||0>d||100<d||0>b||100<b?null:{h:a,s:d,b:b}}function t(a){if(a){var b=parseFloat(a.h.toFixed(2)),c=parseFloat(a.s.toFixed(2));a=parseFloat(a.b.toFixed(2));return"hsb("+b+","+c+","+a+")"}return""}function q(a){if(!a)return null;var b=a.h/360,c=a.s/100;a=a.b/100;var d=Math.floor(6*b);var e=6*b-d;b=a*(1-c);var f=a*(1-e*c);c=a*(1-(1-e)*c);switch(d%6){case 0:var h=a;var g=c;var l=b;break;case 1:h=f;g=a;l=b;break;case 2:h=
b;g=a;l=c;break;case 3:h=b;g=f;l=a;break;case 4:h=c;g=b;l=a;break;case 5:h=a,g=b,l=f}return{r:Math.round(255*h),g:Math.round(255*g),b:Math.round(255*l)}}function r(a){if(!a)return null;var b=a.r,c=a.g;a=a.b;var d=Math.max(b,c,a),e=Math.min(b,c,a),f=d-e;switch(d){case e:var h=0;break;case b:h=(c-a+f*(c<a?6:0))/(6*f);break;case c:h=(a-b+2*f)/(6*f);break;case a:h=(b-c+4*f)/(6*f)}return{h:360*h,s:100*(0===d?0:f/d),b:d/255*100}}function u(a){var b=c(a,"hsl(");if(3!==b.length)return null;a=parseFloat(b[0]);
var d=parseFloat(b[1]);b=parseFloat(b[2]);return isNaN(a)||isNaN(d)||isNaN(b)||0>a||360<a||0>d||100<d||0>b||100<b?null:{h:a,s:d,l:b}}function z(a){if(a){var b=parseFloat(a.h.toFixed(2)),c=parseFloat(a.s.toFixed(2));a=parseFloat(a.l.toFixed(2));return"hsl("+b+","+c+"%,"+a+"%)"}return""}function w(a){if(!a)return null;var b=a.h/360,c=a.s/100,d=a.l/100;if(0===c)c=d=b=d;else{a=function(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var e=.5>d?d*(1+c):d+c-d*c,f=
2*d-e;c=a(f,e,b+1/3);d=a(f,e,b);b=a(f,e,b-1/3)}return{r:Math.round(255*c),g:Math.round(255*d),b:Math.round(255*b)}}function y(a){if(!a)return null;var b=a.r/255,c=a.g/255;a=a.b/255;var d=Math.max(b,c,a),e=Math.min(b,c,a),f=(d+e)/2;if(d===e)var h=e=0;else{var g=d-e;e=.5<f?g/(2-d-e):g/(d+e);switch(d){case b:h=(c-a)/g+(c<a?6:0);break;case c:h=(a-b)/g+2;break;case a:h=(b-c)/g+4}h/=6}return{h:360*h,s:100*e,l:100*f}}function x(a){if(a){var b=parseFloat(a.h.toFixed(2)),c=parseFloat(a.s.toFixed(2)),d=parseFloat(a.l.toFixed(2));
a=parseFloat(a.a.toFixed(2));return"hsla("+b+","+c+"%,"+d+"%,"+a+")"}return""}Coral.Color=function(){this._colorSpace="hex";this._value="";this._alpha=1};Coral.Color.prototype={get value(){return this._value},set value(b){var e=c(b,"rgba(");if(4!==e.length)var h=null;else{h=parseInt(e[0],10);var l=parseInt(e[1],10),n=parseInt(e[2],10);e=parseFloat(e[3]);h=isNaN(h)||isNaN(l)||isNaN(n)||isNaN(e)||0>h||255<h||0>l||255<l||0>n||255<n||0>e||1<e?null:{r:h,g:l,b:n,a:e}}var k=c(b,"hsla(");4!==k.length?l=null:
(l=parseFloat(k[0]),n=parseFloat(k[1]),e=parseFloat(k[2]),k=parseFloat(k[3]),l=isNaN(l)||isNaN(n)||isNaN(e)||0>l||360<l||0>n||100<n||0>e||100<e||0>k||1<k?null:{h:l,s:n,l:e,a:k});n=d(b);e=f(b);k=p(b);var m=u(b),q=g(b);null!==h?(this._colorSpace="rgb",this.alpha=h.a,b=a({r:h.r,g:h.g,b:h.b})):null!==l?(this._colorSpace="hsl",this.alpha=l.a,b=z({h:l.h,s:l.s,l:l.l})):null!==n?this._colorSpace="rgb":null!==e?this._colorSpace="cmyk":null!==k?this._colorSpace="hsb":null!==m?this._colorSpace="hsl":null!==
q?this._colorSpace="hex":(this._colorSpace="hex",b="");this._value=b},get alpha(){return this._alpha},set alpha(a){isNaN(a)||0>a||1<a||(this._alpha=Coral.transform.number(a))},get rgb(){var a=null;"rgb"===this._colorSpace?a=d(this.value):"hex"===this._colorSpace?(a=g(this.value),a=m(a)):"cmyk"===this._colorSpace?(a=f(this.value),a=l(a)):"hsb"===this._colorSpace?(a=p(this.value),a=q(a)):"hsl"===this._colorSpace&&(a=u(this.value),a=w(a));return a},set rgb(b){this.value=a(b)},get rgbValue(){return a(this.rgb)},
set rgbValue(a){this.value=a},get rgba(){var a=this.rgb;return a?{r:a.r,g:a.g,b:a.b,a:this.alpha}:null},set rgba(a){this.value=e(a)},get rgbaValue(){return e(this.rgba)},set rgbaValue(a){this.value=a},get hex(){var a=(a=this.rgb)?g(b(a.r)+b(a.g)+b(a.b)):null;return a},set hex(a){this.value=k(a)},get hexValue(){return k(this.hex)},set hexValue(a){this.value=a},get cmyk(){var a=null;"rgb"===this._colorSpace?(a=d(this.value),a=n(a)):"hex"===this._colorSpace?(a=g(this.value),a=m(a),a=n(a)):"cmyk"===this._colorSpace?
a=f(this.value):"hsb"===this._colorSpace?(a=p(this.value),a=q(a),a=n(a)):"hsl"===this._colorSpace&&(a=u(this.value),a=w(a),a=n(a));return a},set cmyk(a){this.value=h(a)},get cmykValue(){return h(this.cmyk)},set cmykValue(a){this.value=a},get hsb(){var a=null;"rgb"===this._colorSpace?(a=d(this.value),a=r(a)):"hex"===this._colorSpace?(a=g(this.value),a=m(a),a=r(a)):"cmyk"===this._colorSpace?(a=f(this.value),a=l(a),a=r(a)):"hsb"===this._colorSpace?a=p(this.value):"hsl"===this._colorSpace&&(a=u(this.value),
a=w(a),a=r(a));return a},set hsb(a){this.value=t(a)},get hsbValue(){return t(this.hsb)},set hsbValue(a){this.value=a},get hsl(){var a=null;"rgb"===this._colorSpace?(a=d(this.value),a=y(a)):"hex"===this._colorSpace?(a=g(this.value),a=m(a),a=y(a)):"cmyk"===this._colorSpace?(a=f(this.value),a=l(a),a=y(a)):"hsb"===this._colorSpace?(a=p(this.value),a=q(a),a=y(a)):"hsl"===this._colorSpace&&(a=u(this.value));return a},set hsl(a){this.value=z(a)},get hslValue(){return z(this.hsl)},set hslValue(a){this.value=
a},get hsla(){var a=this.hsl;return a?{h:a.h,s:a.s,l:a.l,a:this.alpha}:null},set hsla(a){this.value=x(a)},get hslaValue(){return x(this.hsla)},set hslaValue(a){this.value=a},clone:function(){var a=new Coral.Color;a.value=this.value;a.alpha=this.alpha;return a},isSimilarTo:function(a,b){if(null===this.rgb&&(!a||null===a.rgb))return!0;if(!a||null===a.rgb||null===this.rgb)return!1;var c=1,d=.01;!1===b&&(d=c=0);b=this.rgb;var e=a.rgb,f=Math.abs(e.g-b.g),h=Math.abs(e.b-b.b);a=Math.abs(this.alpha-a.alpha);
return Math.abs(e.r-b.r)<=c&&f<=c&&h<=c&&a<=d?!0:!1},calculateTintColors:function(a){var b=[],c;if(c=this.rgb)for(var d=c.r,e=c.g,f=c.b,h,g=1;g<=a;g++)h=g/(a+1),c=this.clone(),c.rgb={r:d+(255-d)*h,g:e+(255-e)*h,b:f+(255-f)*h},b.push(c);return b},calculateShadeColors:function(a){var b=[],c;if(c=this.rgb)for(var d=c.r,e=c.g,f=c.b,h,g=1;g<=a;g++)h=g/(a+1),c=this.clone(),c.rgb={r:d*(1-h),g:e*(1-h),b:f*(1-h)},b.push(c);return b}}})();
(function(){var b={DEFAULT:"default",SWATCH:"swatch"},c={OFF:"off",SHADES:"shades",TINTS:"tints"},d={ON:"on",OFF:"off"},a={ON:"on",OFF:"off"},e={ON:"on",OFF:"off"};Coral.register({name:"ColorInput",tagName:"coral-colorinput",className:"coral-ColorInput",mixins:[Coral.mixin.formField,Coral.mixin.selectionList({itemTagName:"coral-colorinput-item",allowSingleModeDeselect:!0,forceSelection:!1,supportMultiple:!1})],events:{"coral-collection:add":"_onItemAddedToCollection","coral-collection:remove":"_onItemRemovedFromCollection",
"coral-colorinput:change":"_onColorInputSelectColor","coral-overlay:beforeopen":"_beforeOverlayOpen","coral-overlay:close":"_onOverlayClose","key:down .coral-ColorInput-input:not([readonly])":"_onKeyDown",'key:down [handle\x3d"colorPreview"]':"_onKeyDown",'click [handle\x3d"colorPreview"]':"_onColorPreviewClick","global:click":"_onGlobalClick","key:esc input":"_onKeyEsc","key:enter input":"_onKeyEsc"},properties:{variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],
sync:function(){this.classList.toggle("coral-ColorInput--swatch",this.variant===b.SWATCH);this.variant===b.SWATCH?(this._elements.input.setAttribute("tabindex",-1),this._elements.colorPreview.removeAttribute("tabindex")):(this._elements.input.removeAttribute("tabindex"),this._elements.colorPreview.setAttribute("tabindex",-1))}},value:{default:"",validate:[],get:function(){return this._value?this._value:""},set:function(a){var b=new Coral.Color;b.value=this.value;var c=new Coral.Color;c.value=a;c.isSimilarTo(b,
!1)||(this._value=a,this._selectColorInputColor(c),this.trigger("coral-colorinput:_valuechange"));this._elements.input.value=this.value},sync:function(){var a=this.valueAsColor;this._elements.colorPreview.style.backgroundColor=a?a.rgbaValue:"";this.classList.toggle("coral-ColorInput--novalue",""===this.value)}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);var a=this._elements.colorPreview;
this._elements.input.disabled=this.disabled;a.disabled=this.disabled||this.readOnly;this._syncColorPreviewIcon()}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid);this._elements.input.invalid=this.invalid}},readOnly:{sync:function(a){a=this._elements.colorPreview;this._elements.input.readOnly=this.readOnly;a.disabled=this.disabled||this.readOnly;this.removeAttribute("aria-readonly")}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy?
(this.setAttribute("aria-labelledby",this.labelledBy),this._elements.colorPreview.setAttribute("aria-labelledby",[this.labelledBy,this._elements.colorPreview.label.id].join(" "))):(this.removeAttribute("aria-labelledby"),this._elements.colorPreview.removeAttribute("aria-labelledby"))}},valueAsColor:{attribute:null,get:function(){this._color||(this._color=new Coral.Color);var a=new Coral.Color;a.value=this.value;this._color.isSimilarTo(a,!0)||(this._color.value=a.value,this._color.alpha=a.alpha);return null===
this._color.rgb?null:this._color.clone()},set:function(a){this._color||(this._color=new Coral.Color);a?(this._color=a,this.value=1>a.alpha?a.rgbaValue:a.value):this.value=this._color.value=""}},autoGenerateColors:{default:c.OFF,attribute:"autogeneratecolors",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this._recalculateGeneratedColors()}},showSwatches:{default:d.ON,attribute:"showswatches",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],
sync:function(){this._showOrHideView(this._elements.swatchesView,this._showSwatches===Coral.ColorInput.showSwatches.OFF)}},showProperties:{default:a.ON,attribute:"showproperties",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this._showOrHideView(this._elements.propertiesView,this._showProperties===Coral.ColorInput.showProperties.OFF)}},showDefaultColors:{default:e.ON,attribute:"showdefaultcolors",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],
sync:function(){var a=this._elements.defaultPalette;this._showDefaultColors===Coral.ColorInput.showDefaultColors.ON?a.parentNode||this.insertBefore(a,this.firstChild||null):a.parentNode&&a.parentNode.removeChild(a)}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(a){this._elements.input.placeholder=a}}},_onColorPreviewClick:function(a){this._elements.overlay.returnFocusTo(this.variant===b.SWATCH?a.matchedTarget:
this._elements.input);this._elements.overlay.open=!this._elements.overlay.open},_onGlobalClick:function(a){this._elements.overlay.open&&!this.contains(a.target)&&(this._elements.overlay.open=!1)},_onItemAddedToCollection:function(a){this._elements.overlay.open&&"coral-colorinput-item"===a.detail.item.tagName.toLowerCase()&&(this._elements.overlay.open=!1)},_onItemRemovedFromCollection:function(a){this._elements.overlay.open&&"coral-colorinput-item"===a.detail.item.tagName.toLowerCase()&&(this._elements.overlay.open=
!1)},_onInputChange:function(a){if(a.target===this._elements.input){a.stopPropagation();var b=new Coral.Color;b.value=a.target[this._eventTargetProperty];this._setActiveColor(b)}},_onColorInputSelectColor:function(a){if(a=a.detail.selection)this.value=a.value},_onKeyDown:function(a){a.stopPropagation();this._elements.overlay.returnFocusTo(this.variant===b.SWATCH?a.matchedTarget:this._elements.input);this._elements.overlay.open=!0},_onKeyEsc:function(){this._elements.overlay.open&&(this._elements.overlay.open=
!1)},_beforeOverlayOpen:function(){this.showProperties===Coral.ColorInput.showProperties.ON?this._elements.overlay.focusOnShow=this._elements.propertiesView._elements.colorPreview:this.showSwatches===Coral.ColorInput.showSwatches.ON&&(this._elements.overlay.focusOnShow=this._elements.overlay.querySelector("coral-colorinput-swatch[selected] \x3e button")||"coral-colorinput-swatch \x3e button");this._elements.colorPreview.setAttribute("aria-expanded",!0)},_onOverlayClose:function(){this._elements.colorPreview.setAttribute("aria-expanded",
!1)},_validateInputValue:function(){this.invalid=""!==this.value&&null===this.valueAsColor},_showOrHideView:function(a,b){a.hidden=b;this._elements.overlay.classList.remove("coral-colorinput-onlySwatchesView","coral-colorinput-onlyPropertiesView");!this._elements.propertiesView.hidden&&this._elements.swatchesView.hidden?this._elements.overlay.classList.add("coral-colorinput-onlyPropertiesView"):this._elements.propertiesView.hidden&&!this._elements.swatchesView.hidden&&this._elements.overlay.classList.add("coral-colorinput-onlySwatchesView");
this.showProperties===Coral.ColorInput.showProperties.OFF&&this.showSwatches===Coral.ColorInput.showSwatches.ON?(this._elements.colorPreview.label.textContent=Coral.i18n.get("Swatches"),this._elements.overlay.setAttribute("aria-label",Coral.i18n.get("Swatches"))):(this._elements.colorPreview.label.textContent=Coral.i18n.get("Color Picker"),this._elements.overlay.setAttribute("aria-label",Coral.i18n.get("Color Picker")))},_recalculateGeneratedColors:function(){for(var a=this.querySelectorAll("coral-colorinput-item[coral-colorinput-generatedcolor]"),
b=a.length,d=0;d<b;d++)a[d].remove();if(this.autoGenerateColors!==c.OFF)for(a=this.items.getAll(),d=0;d<a.length;d++){b=a[d];var e=new Coral.Color;e.value=b.value;var m=this.autoGenerateColors===c.TINTS?e.calculateTintColors(5):e.calculateShadeColors(5);for(e=m.length-1;0<=e;e--){var l=new Coral.ColorInput.Item;l.value=m[e].rgbaValue;l.setAttribute("coral-colorinput-generatedcolor","");b.parentNode.insertBefore(l,b.nextSibling)}}},_syncColorPreviewIcon:function(){var a=this._elements.colorPreview;
a.icon=this.disabled&&this.variant===b.SWATCH?"lockOn":"";a.iconSize=Coral.Icon.size.SMALL},_setActiveColor:function(a){var b=this.valueAsColor?this.valueAsColor:new Coral.Color;this.valueAsColor=a;b.isSimilarTo(this.valueAsColor,!1)||(this._validateInputValue(),this.trigger("change"))},_selectColorInputColor:function(a){var b=!0;this.selectedItem&&(b=new Coral.Color,b.value=this.selectedItem.value,b=!b.isSimilarTo(a,!0));if(b){this.items.deselectAll();b=this.items.getAll();for(var c=b.length,d,e=
0;e<c;e++)if(d=new Coral.Color,d.value=b[e].getAttribute("value"),d.isSimilarTo(a,!0)){b[e].setAttribute("selected","true");break}}},_initialize:function(){this.setAttribute("role","combobox");this.setAttribute("aria-expanded",!1)},_render:function(){this.appendChild(Coral.templates.ColorInput.defaultColorPalette.call(this._elements));this.appendChild(Coral.templates.ColorInput.base.call(this._elements));var a=this._elements.overlay;a.target=this;this._elements.propertiesView=a.appendChild(new Coral.ColorInput.ColorProperties);
this._elements.swatchesView=a.appendChild(new Coral.ColorInput.Swatches)}});Coral.ColorInput.autoGenerateColors=c;Coral.ColorInput.showSwatches=d;Coral.ColorInput.showProperties=a;Coral.ColorInput.showDefaultColors=e;Coral.ColorInput.variant=b})();
(function(){Coral.register({name:"ColorInput.Item",tagName:"coral-colorinput-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-colorinput",alwaysEnabled:!0})],properties:{value:{default:"",reflectAttribute:!0,transform:function(b){var c=new Coral.Color;c.value=b;return null!==c.rgb?b:""}}}})})();
(function(){Coral.register({name:"ColorInput.AbstractSubview",tagName:"coral-colorinput-abstractsubview",events:{"click .coral-ColorInput-preview":"_onPreviewClicked"},attachedCallback:function(){var b=this.closest("coral-colorinput");b&&(this.__beforeOverlayOpen=this._beforeOverlayOpen.bind(this),this.__onColorInputChange=this._onColorInputChange.bind(this),this._colorinput=b,this._colorinput.on("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.on("coral-colorinput:_valuechange",
this.__onColorInputChange),this._onColorInputChange())},detachedCallback:function(){this._colorinput&&(this._colorinput.off("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.off("coral-colorinput:_valuechange",this.__onColorInputChange));this._colorinput=null},_onPreviewClicked:function(){null!==this._colorinput.valueAsColor?(Coral.ColorInput.AbstractSubview._lastValidColor=this._colorinput.valueAsColor,this._colorinput._setActiveColor(null)):null!==Coral.ColorInput.AbstractSubview._lastValidColor&&
this._colorinput._setActiveColor(Coral.ColorInput.AbstractSubview._lastValidColor)},_beforeOverlayOpen:function(){},_onColorInputChange:function(){}});Coral.ColorInput.AbstractSubview._lastValidColor=null})();
(function(){Coral.register({name:"ColorInput.Slider",tagName:"coral-colorinput-slider",className:"coral-ColorInput-slider coral3-Slider",extend:Coral.Slider,properties:{gradient:{default:"",sync:function(){var b=this._elements.sliderBar.style,c=this.gradient.split(" "),d=c.length;b.backgroundImage="none";b.filter="";if(!(2>d)){var a,e="";for(a=0;a<d;a++)e+=", "+c[a]+" "+Math.abs(100*a/(d-1))+"%";b.backgroundImage="-moz-linear-gradient(right"+e+")";b.backgroundImage="-ms-linear-gradient(right"+e+")";
b.backgroundImage="-o-linear-gradient(right"+e+")";b.backgroundImage="-webkit-linear-gradient(left"+e+")";b.backgroundImage="linear-gradient(to right"+e+")";b.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr\x3d'"+c[0]+"', endColorstr\x3d'"+c[1]+"', gradientType\x3d1)"}}},labelledBy:{sync:function(){this.labelledBy&&this._updateForAttributes(this.labelledBy,this._getLabellableElement().id)}}},_getLabellableElement:function(){return this._elements.leftInput},_renderTemplate:function(){this.appendChild(Coral.templates.ColorInput.sliderBase.call(this._elements))}})})();
(function(){Coral.register({name:"ColorInput.ColorProperties",tagName:"coral-colorinput-colorproperties",className:"coral-ColorInput-colorProperties",extend:Coral.ColorInput.AbstractSubview,events:{'change [handle\x3d"redSlider"]':"_onRedSliderChange",'change [handle\x3d"greenSlider"]':"_onGreenSliderChange",'change [handle\x3d"blueSlider"]':"_onBlueSliderChange",'change [handle\x3d"alphaSlider"]':"_onAlphaSliderChange","change .coral-ColorInput-editHex":"_onChangeHex","change .coral-ColorInput-editRgba":"_onChangeRgba"},
_render:function(){this.appendChild(Coral.templates.ColorInput.colorProperties.call(this._elements))},_onColorInputChange:function(){var b=this._colorinput.valueAsColor;if(b){var c=b.rgba;this._elements.colorPreview.style.backgroundColor=b.rgbValue;this._elements.hexInput.value=b.hexValue.substr(1)}else this._elements.hexInput.value="";var d=["red","green","blue","alpha"],a=d.length,e,f,h,g,k;Coral.commons.ready(this,function(m){for(e=0;e<a;e++)f=d[e],h=f.substr(0,1),k=(g=e===a-1)?100:127,b&&(k=c?
g?parseInt(100*c[h],10):c[h]:""),m._elements[f+"Slider"].value=m._elements[f+"Input"].value=k})},_onRedSliderChange:function(b){this._elements.redInput.value=this._elements.redSlider.value;this._onChangeRgba(b)},_onGreenSliderChange:function(b){this._elements.greenInput.value=this._elements.greenSlider.value;this._onChangeRgba(b)},_onBlueSliderChange:function(b){this._elements.blueInput.value=this._elements.blueSlider.value;this._onChangeRgba(b)},_onAlphaSliderChange:function(b){this._elements.alphaInput.value=
this._elements.alphaSlider.value;this._onChangeRgba(b)},_onChangeHex:function(b){b.stopPropagation();b="#"+this._elements.hexInput.value;var c=new Coral.Color;c.value=b;null===c.hex?(this._elements.hexInput.value="",null!==this._colorinput.valueAsColor&&(Coral.ColorInput.AbstractSubview._lastValidColor=this._colorinput.valueAsColor),this._colorinput._setActiveColor(null)):this._colorinput._setActiveColor(c)},_onChangeRgba:function(b){b.stopPropagation();b=parseInt(this._elements.redInput.value,10);
var c=parseInt(this._elements.greenInput.value,10),d=parseInt(this._elements.blueInput.value,10),a=parseInt(this._elements.alphaInput.value,10),e=!0;if(isNaN(b)||0>b||255<b)e=!1,this._elements.redInput.value="";if(isNaN(c)||0>c||255<c)e=!1,this._elements.greenInput.value="";if(isNaN(d)||0>d||255<d)e=!1,this._elements.blueInput.value="";if(isNaN(a)||0>a||100<a)e=!1,this._elements.alphaInput.value="";e&&(e=new Coral.Color,e.rgba={r:b,g:c,b:d,a:a/100},this._colorinput._setActiveColor(e))}})})();
(function(){Coral.register({name:"ColorInput.Swatches",tagName:"coral-colorinput-swatches",className:"coral-ColorInput-swatches",extend:Coral.ColorInput.AbstractSubview,mixins:[Coral.mixin.selectionList({itemTagName:"coral-colorinput-swatch",allowSingleModeDeselect:!0,forceSelection:!1,supportMultiple:!1})],events:{"click coral-colorinput-swatch":"_onSwatchClicked","keydown .coral-ColorInput-swatch":"_onKeyDown","capture:focus coral-colorinput-swatch":"_onFocus"},_render:function(){this.appendChild(Coral.templates.ColorInput.swatchesHeader.call(this._elements));
this.setAttribute("aria-labelledby",this._elements.swatchesHeaderTitle.id)},_beforeOverlayOpen:function(){var b=this._colorinput.items.getAll(),c=!1;if(!this._cachedColorElements)c=!0;else if(this._cachedColorElements.length!==b.length)c=!0;else if(this._cachedColorElements.length===b.length)for(var d=0;d<b.length;d++)if(this._cachedColorElements[d]!==b[d]){c=!0;break}this._cachedColorElements=b;c&&this._layoutColorSwatch();this._ensureKeyboardAccess()},_onColorInputChange:function(){this._ensureKeyboardAccess()},
_ensureKeyboardAccess:function(){if(!this.querySelector("coral-colorinput-swatch[selected]")){var b=this.querySelector("coral-colorinput-swatch");b&&(b.tabIndex=0)}},_layoutColorSwatch:function(){this._elements.swatchesContainer.innerHtml="";for(var b=this._colorinput.items.getAll(),c=b.length,d=!1,a=0;a<c;a++){var e=b[a],f=new Coral.ColorInput.Swatch;this._elements.swatchesContainer.appendChild(f);f.targetColor=e;e.selected&&(f.selected=e.selected,d=!0);f.setAttribute("aria-selected",f.selected);
f.tabIndex=f.selected?0:-1}d||this._ensureKeyboardAccess()},_onSwatchClicked:function(b){b.stopPropagation();b=b.target.closest("coral-colorinput-swatch");if(!b.selected){var c=new Coral.Color;c.value=b.targetColor?b.targetColor.value:"";this._colorinput._setActiveColor(c);b.selected=!0}b.firstChild.focus()},_onKeyDown:function(b){var c=this._colorinput._elements.overlay;if(c.open){var d=this.items.getAll(),a=!0,e=d.indexOf(b.matchedTarget);switch(b.which){case 13:Coral.commons.nextFrame(function(){c.open=
!1});break;case 37:--e;break;case 38:e-=4;break;case 39:e+=1;break;case 40:e+=4;break;default:a=!1}a&&(b.preventDefault(),0>e||e>=d.length||(b=d[e],d=new Coral.Color,d.value=b.targetColor?b.targetColor.value:"",this._colorinput._setActiveColor(d),b.selected=!0,b.firstChild.focus()))}},_onFocus:function(b){for(var c=this.items.getAll(),d=0;d<c.length;d++){var a=c[d];a.contains(b.matchedTarget)||(a.tabIndex=-1)}b.matchedTarget.tabIndex=0}})})();
(function(){Coral.register({name:"ColorInput.Swatch",tagName:"coral-colorinput-swatch",className:"coral-ColorInput-swatch",extend:Coral.ColorInput.AbstractSubview,mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-colorinput-swatches",alwaysEnabled:!0})],properties:{targetColor:{default:null,attribute:"targetcolor",set:function(b){"string"===typeof b&&(b=this.querySelector(b));this._targetColor=b},sync:function(){var b="",c="";this._targetColor&&(c=new Coral.Color,c.value=this._targetColor.value,
b=c.rgbaValue,c=c.hexValue);b?(this._elements.colorButton.style.backgroundColor=b,this._elements.colorButton.label.textContent=c,this.setAttribute("aria-value",c)):(this._elements.colorButton.classList.add("coral-ColorInput-swatch-novalue"),this._elements.colorButton.label.textContent=Coral.i18n.get("unset"),this.setAttribute("aria-value",""))}},disabled:Coral.property.proxy({path:"_elements.colorButton.disabled"}),selected:{sync:function(){this.selected?this._elements.colorButton.setAttribute("aria-label",
Coral.i18n.get("checked")+" "+this._elements.colorButton.label.textContent):this._elements.colorButton.removeAttribute("aria-label")}},tabIndex:Coral.property.proxy({path:"_elements.colorButton.tabIndex"})},_render:function(){this._elements.colorButton=new Coral.Button;this._elements.colorButton.icon="check";this._elements.colorButton.type="button";this._elements.colorButton.setAttribute("role","presentation");this._elements.colorButton.label.classList.add("u-coral-screenReaderOnly");this.appendChild(this._elements.colorButton)},
_onColorInputChange:function(){this.targetColor&&(this.selected=this.targetColor.selected)}})})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.ColumnView=window.Coral.templates.ColumnView||{};
window.Coral.templates.ColumnView.loadIndicator=function(b){b=document.createElement("div");b.className+=" coral-ColumnView-column-loading";var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("coral-wait");c.setAttribute("centered","");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){var b={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"};Coral.register({name:"ColumnView",tagName:"coral-columnview",className:"coral3-ColumnView",events:{"global:keyup":"_onGlobalKeyUp","global:keydown":"_onGlobalKeyDown","key:up":"_onKeyUp","key:down":"_onKeyDown","key:right":"_onKeyRight","key:left":"_onKeyLeft","key:shift+up":"_onKeyShiftAndUp","key:shift+down":"_onKeyShiftAndDown","key:space":"_onKeySpace","coral-columnview-column:_loaditems":"_onColumnLoadItems","coral-columnview-column:_activeitemchanged":"_onColumnActiveItemChanged",
"coral-columnview-column:_selecteditemchanged":"_onColumnSelectedItemChanged"},properties:{columns:{get:function(){this._columns||(this._columns=new Coral.ColumnView.Collection({host:this,itemTagName:"coral-columnview-column"}));return this._columns},set:function(){}},items:{get:function(){this._items||(this._items=new Coral.ColumnView.Collection({host:this,itemTagName:"coral-columnview-item"}));return this._items},set:function(){}},selectionMode:{default:b.NONE,attribute:"selectionmode",validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(b)],set:function(b){this._selectionMode=b;this.columns.getAll().forEach(function(c){c.setAttribute("_selectionmode",b)})},sync:function(){this.$.removeClass(this._className+"--selection");this.selectionMode!==Coral.ColumnView.selectionMode.NONE&&this.$.addClass(this._className+"--selection");this.setAttribute("aria-multiselectable",this.selectionMode===Coral.ColumnView.selectionMode.MULTIPLE)}},selectedItem:{get:function(){return this.selectionMode!==b.NONE?this.items.getFirstSelected():
null},set:function(){}},selectedItems:{get:function(){return this.selectionMode!==b.NONE?this.items.getSelected():[]},set:function(){}},activeItem:{get:function(){return this.items.getLastActive()},set:function(){}}},_onColumnActiveItemChanged:function(b){b.stopImmediatePropagation();if(!this._bulkSelectionChange){var c=b.target;this._handleKeyboardMultiselect(null);this._bulkSelectionChange=!0;b.detail.activeItem?(this.items.deselectAll(),$(c).nextAll().find("coral-columnview-item[active]").each(function(){this.removeAttribute("active")})):
this._afterItemSelectedInColumn(c);this._bulkSelectionChange=!1;this._validateColumnViewChange()}},_onColumnLoadItems:function(b){b.stopImmediatePropagation();this.trigger("coral-columnview:loaditems",{column:b.target,start:b.detail.start,item:b.detail.item})},_onColumnSelectedItemChanged:function(c){c.stopImmediatePropagation();this._bulkSelectionChange||this.selectionMode===b.NONE||(this._bulkSelectionChange=!0,$(this._oldSelection).not(c.detail.selection).each(function(){this.removeAttribute("selected")}),
this._bulkSelectionChange=!1,this._validateColumnViewChange())},_onGlobalKeyUp:function(b){16===b.keyCode&&this.$.removeClass("is-unselectable")},_onGlobalKeyDown:function(b){16===b.keyCode&&this.$.addClass("is-unselectable")},_onKeyShiftAndUp:function(b){b.preventDefault();b=this._oldSelection;this._isKeyBoardMultiselect=!0;0===b.length&&(b=this.activeItem)&&b.setAttribute("selected","");b=$(this._items._getSelectedItems());var c=this.$.data("lastSelected"),a=$();if(!c)a=b.first().prev(),a.attr("selected",
"true");else if(c.item){a=$(c.item);if(a.is(":first-child")){this._isKeyBoardMultiselect=!1;return}c.direction&&"up"!==c.direction&&(a[0]!==c.firstSelectedItem?a.removeAttr("selected"):c.direction="up");a=a.prev();a.attr("selected","true")}this.$.data("lastSelected",{item:a[0],direction:c&&c.direction?c.direction:"up",firstSelectedItem:c&&c.firstSelectedItem?c.firstSelectedItem:a.next()[0]});this._isKeyBoardMultiselect=!1},_onKeyShiftAndDown:function(b){b.preventDefault();b=this._oldSelection;this._isKeyBoardMultiselect=
!0;0===b.length&&(b=this.activeItem)&&b.setAttribute("selected","");b=$(this._items._getSelectedItems());var c=this.$.data("lastSelected"),a=$();if(!c)a=b.last().next(),a.attr("selected","true");else if(c.item){a=$(c.item);if(a.is(":last-child")){this._isKeyBoardMultiselect=!1;return}c.direction&&"down"!==c.direction&&(a[0]!==c.firstSelectedItem?a.removeAttr("selected"):c.direction="down");a=a.next();a.attr("selected","true")}this.$.data("lastSelected",{item:a[0],direction:c&&c.direction?c.direction:
"down",firstSelectedItem:c&&c.firstSelectedItem?c.firstSelectedItem:a.prev()[0]});this._isKeyBoardMultiselect=!1},_onKeyUp:function(b){b.preventDefault();b=this._oldSelection;if(0!==b.length){var c=$(b[0]);b=c.prev();0===b.length&&(b=c)}else b=null===this._oldActiveItem?this.items._getSelectableItems().last():$(this._oldActiveItem).prev();b.click()},_onKeyDown:function(b){b.preventDefault();b=this._oldSelection;if(0!==b.length){var c=$(b[b.length-1]);b=c.next();0===b.length&&(b=c)}else b=null===this._oldActiveItem?
this.items._getSelectableItems().first():$(this._oldActiveItem).next();b.click()},_onKeyRight:function(b){b.preventDefault();var c=$(this.activeItem).closest("coral-columnview-column").next("coral-columnview-column").get(0);c&&Coral.commons.ready(c,function(){c.items._getSelectableItems().first().click()})},_onKeyLeft:function(b){b.preventDefault();var c,a=this._oldSelection;(c=0!==a.length?$(a).closest("coral-columnview-column").prev("coral-columnview-column").get(0):$(this.activeItem).closest("coral-columnview-column").prev("coral-columnview-column").get(0))&&
Coral.commons.ready(c,function(){c.activeItem?c.activeItem.click():(a=c.items._getSelectedItems().first(),0!==a.length?a.click():c.items._getSelectableItems().first().click())})},_onKeySpace:function(b){b.preventDefault();b=this._oldSelection;0!==b.length?b[0].setAttribute("active",""):(b=this.activeItem)&&b.setAttribute("selected","")},_arraysAreDifferent:function(b,d){return d.length!==b.length||0!==$(d).not(b).length},_handleKeyboardMultiselect:function(b){this._isKeyBoardMultiselect||(this.$.removeData("lastSelected"),
b&&this.$.data("lastSelected",{item:b,direction:null,firstSelectedItem:b}))},_scrollColumnIntoView:function(b,d,a){var c=0;if(this.contains(b)){c=$(b);var f=this,h=function(){d&&f._removeEmptyColumnsWithSmoothTransition(a)};c.position().left+b.offsetWidth>=this.offsetWidth?(c.nextAll().remove(),this.$.stop(!0,!1),c=this.$[0].scrollWidth-this.offsetWidth,b=1.5*(c-this.$.scrollLeft()),this.$.animate({scrollLeft:c},{duration:b,complete:h})):d&&this._removeEmptyColumnsWithSmoothTransition(a)}},_afterItemSelectedInColumn:function(b){this._emptyColumnsNextToColumn(b);
this._scrollColumnIntoView(b,!0,!0)},_emptyColumnsNextToColumn:function(b){null!==b&&$(b).nextAll().empty()},_removeEmptyColumnsWithSmoothTransition:function(b){var c=this.$.find("coral-columnview-column:empty, coral-columnview-preview:empty"),a=this;c.css("visibility","hidden");c.animate({width:0},{duration:200,queue:!1,complete:function(){$(this).remove()}}).promise().done(function(){b&&a._validateNavigation(a.columns.last())})},_triggerCollectionEvents:function(b,d){for(var a,c=b.length,f=0;f<
c;f++)a=b[f],"CORAL-COLUMNVIEW-COLUMN"===a.tagName&&(a.setAttribute("_selectionmode",this.selectionMode),this.trigger("coral-collection:add",{item:a}));b=d.length;for(c=0;c<b;c++)a=d[c],"CORAL-COLUMNVIEW-COLUMN"===a.tagName&&this.trigger("coral-collection:remove",{item:a})},_setStateFromDOM:function(){this._oldActiveItem=this.activeItem;this._oldSelection=this.selectedItems},_handleMutation:function(b){for(var c=b.length,a=0;a<c;a++){var e=b[a];this._triggerCollectionEvents(e.addedNodes,e.removedNodes)}this._setStateFromDOM()},
_validateColumnViewChange:function(){var c=this.activeItem,d=this._oldActiveItem||null;c!==d&&(this.trigger("coral-columnview:activeitemchange",{activeItem:c,oldActiveItem:d}),this._oldActiveItem=c);if(this.selectionMode!==b.NONE){c=this.selectedItems;d=this._oldSelection||[];var a=$(c).not(d);this._handleKeyboardMultiselect(0<a.length?a[0]:null);this._arraysAreDifferent(c,d)&&(this.trigger("coral-columnview:change",{selection:c,oldSelection:d}),this._oldSelection=c)}},_initialize:function(){this.setAttribute("role",
"tree");this.setAttribute("tabindex","0");this._bulkSelectionChange=!1;this._observer=new MutationObserver(this._handleMutation.bind(this));this._observer.observe(this,{childList:!0});this._setStateFromDOM()},focus:function(){var b=this.selectedItems[0]||this.activeItem;b&&b.focus()},setNextColumn:function(b,d,a){var c=$(b);a="undefined"===typeof a||a;d=d||null;if(null!==d&&this.contains(d)){var f=$(d).next();0<f.length?(this._emptyColumnsNextToColumn(d),f.replaceWith(c)):this.appendChild(b)}else this.appendChild(b);
var h=this;Coral.commons.ready(b,function(){a&&h._scrollColumnIntoView(b,!0,!1);h._validateNavigation(b)})},_validateNavigation:function(b){"CORAL-COLUMNVIEW-PREVIEW"===b.tagName&&0!==this._oldSelection.length||this.trigger("coral-columnview:navigate",{activeItem:this.activeItem,column:b})}});Coral.ColumnView.selectionMode=b})();
(function(){var b=function(b){this._host=b.host;this._target=b.target||this._host;this.$host=$(this._host);this._itemTagName=b.itemTagName};b.prototype=Object.create(Coral.Collection.prototype);b.prototype.add=function(b,d){if(!(b instanceof HTMLElement)){var a=b;b=document.createElement(this._itemTagName);b.set(a,!0)}this._target.insertBefore(b,d);return b};b.prototype.getAll=function(){return this._getAllItems().toArray()};b.prototype.getSelected=function(){return this._getSelectedItems().toArray()};
b.prototype.getFirstSelected=function(){return this._getSelectedItems().first().get(0)||null};b.prototype.getLastSelected=function(){return this._getSelectedItems().last().get(0)||null};b.prototype.getFirstActive=function(){return this._getActiveItems().first().get(0)||null};b.prototype.getLastActive=function(){return this._getActiveItems().last().get(0)||null};b.prototype.deselectAll=function(){this._getAllItems().filter("[selected]").each(function(){this.removeAttribute("selected")})};b.prototype.deselectAllExcept=
function(b){this._getAllItems().filter("[selected]").each(function(){this!==b&&this.removeAttribute("selected")})};b.prototype.deselectAllExceptLast=function(){this._getAllItems().filter("[selected]:not(:last)").each(function(){this.removeAttribute("selected")})};b.prototype.deselectAndDeactivateAll=function(){this._getAllItems().filter("[active],[selected]").each(function(){this.removeAttribute("active");this.removeAttribute("selected")})};b.prototype.deselectAndDeactivateAllExcept=function(b){this._getAllItems().filter("[active],[selected]").each(function(){this.removeAttribute("selected");
this!==b&&this.removeAttribute("active")})};b.prototype.deactivateAll=function(b){this._getAllItems().filter("[active]").each(function(){this.removeAttribute("active")})};b.prototype.deactivateAllExcept=function(b){this._getAllItems().filter("[active]").each(function(){this!==b&&this.removeAttribute("active")})};b.prototype.deactivateAllExceptFirst=function(){this._getAllItems().filter("[active]:not(:first)").each(function(){this.removeAttribute("active")})};b.prototype._getAllItems=function(){return this.$host.find(this._itemTagName)};
b.prototype._getSelectableItems=function(){return this._getAllItems().filter(":not([disabled],[hidden])")};b.prototype._getSelectedItems=function(){return this._getAllItems().filter("[selected]:not([disabled])")};b.prototype._getActiveItems=function(){return this._getAllItems().filter("[active]:not([disabled])")};Coral.ColumnView.Collection=b})();
(function(){Coral.register({name:"ColumnView.Column",tagName:"coral-columnview-column",className:"coral3-ColumnView-column",events:{"capture:scroll coral-columnview-column-content":"_onContentScroll","click coral-columnview-column-content":"_onColumnContentClick","click coral-columnview-item":"_onItemClick","click coral-columnview-item-thumbnail":"_onItemThumbnailClick","coral-columnview-item:_activechanged coral-columnview-item":"_onItemActiveChange","coral-columnview-item:_selectedchanged coral-columnview-item":"_onItemSelectedChange"},
properties:{activeItem:{get:function(){return this.items.getFirstActive()},set:function(){}},content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-column-content",defaultContentZone:!0,insert:function(b){this.appendChild(b)}}),items:{get:function(){this._items||(this._items=new Coral.ColumnView.Collection({host:this,target:this.content,itemTagName:"coral-columnview-item"}));return this._items},set:function(){}},selectedItem:{get:function(){return this._selectionMode!==Coral.ColumnView.selectionMode.NONE?
this.items.getFirstSelected():null},set:function(){}},selectedItems:{get:function(){return this._selectionMode!==Coral.ColumnView.selectionMode.NONE?this.items.getSelected():[]},set:function(){}},_selectionMode:{attribute:"_selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(Coral.ColumnView.selectionMode)],set:function(b){this.__selectionMode=b;this._setStateFromDOM()}},_lastSelectedItems:{get:function(){return this.__lastSelectedItems||this.selectedItems},set:function(b){this.__lastSelectedItems=
b}}},_onItemClick:function(b){b.matchedTarget.hasAttribute("active")?this._onItemActiveChange(b):b.matchedTarget.setAttribute("active","")},_onItemThumbnailClick:function(b){if(this._selectionMode&&this._selectionMode!==Coral.ColumnView.selectionMode.NONE){b.stopPropagation();var c=b.matchedTarget.parentElement,d=c.hasAttribute("selected");if(!d)if(this._selectionMode===Coral.ColumnView.selectionMode.SINGLE)c.setAttribute("active","");else if(b.shiftKey&&this._selectionMode===Coral.ColumnView.selectionMode.MULTIPLE){var a=
this._lastSelectedItems[this._lastSelectedItems.length-1];if(a){b=this.items.getAll();var e=b.indexOf(a);a=b.indexOf(c);for(var f=a<e,h=[];a!==e;)e=f?e-1:e+1,h.push(b[e]);h.forEach(function(a){a!==c&&a.set("selected",!0,!0)})}}c[d?"removeAttribute":"setAttribute"]("selected","")}},_onItemActiveChange:function(b){b.stopImmediatePropagation();this._bulkSelectionChange||(b=b.matchedTarget,this._bulkSelectionChange=!0,this.items.deselectAndDeactivateAllExcept(b),this._bulkSelectionChange=!1,this._validateColumnChange(b),
this._loadItems(0,b))},_onItemSelectedChange:function(b){b.stopImmediatePropagation();b=b.target;var c=b.selected;if(c)this._lastSelectedItems.push(b);else{var d=this._lastSelectedItems.indexOf(b);-1!==d&&(this._lastSelectedItems=this._lastSelectedItems.splice(d,1))}this._bulkSelectionChange||(c&&(this._bulkSelectionChange=!0,this.items.deactivateAll(),this._selectionMode===Coral.ColumnView.selectionMode.SINGLE&&this.items.deselectAllExcept(b),this._bulkSelectionChange=!1),this._validateColumnChange())},
_tryToLoadAdditionalItems:function(){if(!this._bulkCollectionChange){this._bulkCollectionChange=!0;var b=this;setTimeout(function(){b._bulkCollectionChange=!1;b._loadFittingAdditionalItems()},0)}},_onContentScroll:function(b){clearTimeout(this._scrollTimeout);this._scrollTimeout=setTimeout(this._onDebouncedScroll,100)},_onColumnContentClick:function(b){if(b.target===b.matchedTarget){b.preventDefault();if(this._bulkSelectionChange)return!1;this._bulkSelectionChange=!0;this.items.deselectAndDeactivateAll();
this._bulkSelectionChange=!1;this._validateColumnChange()}},_onDebouncedScroll:function(){this.content.scrollTop+this.offsetHeight>=this.content.scrollHeight-20&&this._loadItems(this.items.length,void 0)},_arraysAreDifferent:function(b,c){return c.length!==b.length||0!==$(c).not(b).length},_validateColumnChange:function(b){var c=this.activeItem,d=this._oldActiveItem||null;if(c!==d||b===c)this.trigger("coral-columnview-column:_activeitemchanged",{activeItem:c,oldActiveItem:d}),this._oldActiveItem=
c;b=this.selectedItems;c=this._oldSelection;this._arraysAreDifferent(b,c)&&(this.trigger("coral-columnview-column:_selecteditemchanged",{selection:b,oldSelection:c}),this._oldSelection=b)},_loadFittingAdditionalItems:function(){var b=this.items.length;48*b<=this.offsetHeight&&this._loadItems(b,void 0)},_loadItems:function(b,c){c&&!c.hasAttribute("active")||this.trigger("coral-columnview-column:_loaditems",{start:b,item:c})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);
var b=this;setTimeout(function(){Coral.commons.ready(b,function(){b._loadFittingAdditionalItems()})},0)},_setStateFromDOM:function(){this._selectionMode&&(this._selectionMode===Coral.ColumnView.selectionMode.SINGLE?this.items.deselectAllExceptLast():this._selectionMode===Coral.ColumnView.selectionMode.NONE&&this.items.deselectAll(),this.items.deactivateAllExceptFirst())},_handleMutation:function(b){for(var c=b.length,d=0;d<c;d++){var a=b[d];this._triggerCollectionEvents(a.addedNodes,a.removedNodes)}this._setStateFromDOM();
this._validateColumnChange();this._tryToLoadAdditionalItems()},_triggerCollectionEvents:function(b,c){for(var d,a=b.length,e=0;e<a;e++)d=b[e],"CORAL-COLUMNVIEW-ITEM"===d.tagName&&this.trigger("coral-collection:add",{item:d});b=c.length;for(a=0;a<b;a++)d=c[a],"CORAL-COLUMNVIEW-ITEM"===d.tagName&&this.trigger("coral-collection:remove",{item:d})},_render:function(){var b=this.querySelector("coral-columnview-column-content");if(null===b)for(b=document.createElement("coral-columnview-column-content");this.firstChild;)b.appendChild(this.firstChild);
this.content=b},_initialize:function(){this.setAttribute("role","group");this._bulkSelectionChange=!1;this._onDebouncedScroll=this._onDebouncedScroll.bind(this);this._observer=new MutationObserver(this._handleMutation.bind(this));this._observer.observe(this._elements.content,{childList:!0});this._setStateFromDOM();this._oldSelection=this.selectedItems;this._oldActiveItem=this.activeItem}});Coral.ColumnView.Column.Content=function(){return document.createElement("coral-columnview-column-content")}})();
(function(){var b={DEFAULT:"default",DRILLDOWN:"drilldown"},c="",d;for(d in b)c+="coral3-ColumnView-item--"+b[d]+" ";Coral.register({name:"ColumnView.Item",tagName:"coral-columnview-item",className:"coral3-ColumnView-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-item-content",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),thumbnail:Coral.property.contentZone({handle:"thumbnail",tagName:"coral-columnview-item-thumbnail",insert:function(a){this.insertBefore(a,
this.content||null)}}),variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(c);this.variant!==Coral.ColumnView.Item.variant.DEFAULT&&this.$.addClass(this._className+"--"+this.variant)}},icon:{default:"",transform:Coral.transform.string,sync:function(){this.icon&&(this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),this._elements.icon.icon=this.icon,this._elements.icon.size=Coral.Icon.size.SMALL,
this._elements.thumbnail.innerHTML="",this._elements.thumbnail.appendChild(this._elements.icon))}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-columnview-item:_selectedchanged",sync:function(){this.$.toggleClass("is-selected",this.selected).attr("aria-selected",this.selected||this.active)}},active:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
trigger:"coral-columnview-item:_activechanged",sync:function(){this.$.toggleClass("is-active",this.active).attr("aria-selected",this.active||this.selected)}}},_render:function(){var a=this.querySelector("coral-columnview-item-thumbnail")||document.createElement("coral-columnview-item-thumbnail"),b=this.querySelector("coral-columnview-item-content");a.parentNode||this.insertBefore(a,this.firstChild||null);if(null===b)for(b=document.createElement("coral-columnview-item-content");this.firstChild;)b.appendChild(this.firstChild);
this.thumbnail=a;this.content=b},_initialize:function(){this.setAttribute("role","treeitem")}});Coral.ColumnView.Item.variant=b;Coral.ColumnView.Item.Content=function(){return document.createElement("coral-columnview-item-content")};Coral.ColumnView.Item.Thumbnail=function(){return document.createElement("coral-columnview-item-thumbnail")}})();
(function(){Coral.register({name:"ColumnView.Preview",tagName:"coral-columnview-preview",className:"coral3-ColumnView-column",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-columnview-preview-content",defaultContentZone:!0,insert:function(b){this.appendChild(b)}})},_render:function(){var b=this.querySelector("coral-columnview-preview-content");if(null===b)for(b=document.createElement("coral-columnview-preview-content");this.firstChild;)b.appendChild(this.firstChild);
this.content=b}});Coral.ColumnView.Preview.Content=function(){return document.createElement("coral-columnview-preview-content")};Coral.ColumnView.Preview.Asset=function(){return document.createElement("coral-columnview-preview-asset")};Coral.ColumnView.Preview.Label=function(){return document.createElement("coral-columnview-preview-label")};Coral.ColumnView.Preview.Value=function(){return document.createElement("coral-columnview-preview-value")};Coral.ColumnView.Preview.Separator=function(){return document.createElement("coral-columnview-preview-separator")}})();
window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.CycleButton=window.Coral.templates.CycleButton||{};
window.Coral.templates.CycleButton.base=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=this.button=document.createElement("button","coral-button");d.id=c;d.setAttribute("handle","button");d.className+=" coral3-CycleButton-button";d.setAttribute("is","coral-button");d.setAttribute("variant","quiet");d.setAttribute("iconsize","S");c=document.createTextNode("\n  ");d.appendChild(c);c=this.openIcon=document.createElement("coral-icon");
c.setAttribute("handle","openIcon");c.setAttribute("icon","chevronDown");c.setAttribute("size","xxs");c.className+=" coral3-CycleButton-openIcon";d.appendChild(c);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.overlay=document.createElement("coral-overlay");d.setAttribute("handle","overlay");d.className+=" coral3-CycleButton-overlay";d.setAttribute("returnfocus","on");d.setAttribute("focusonshow","on");d.setAttribute("trapfocus",
"on");d.setAttribute("placement","bottom");c=document.createTextNode("\n  ");d.appendChild(c);c=this.selectList=document.createElement("coral-selectlist");c.setAttribute("handle","selectList");c.id=Coral.commons.getUID();d.appendChild(c);c=document.createTextNode("\n  ");d.appendChild(c);c=this.actionList=document.createElement("coral-buttonlist");c.setAttribute("handle","actionList");c.setAttribute("hidden","");d.appendChild(c);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);return b};
(function(){var b=/[\t\n\r ]+/g,c={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext"};Coral.register({name:"CycleButton",tagName:"coral-cyclebutton",className:"coral3-CycleButton",mixins:[Coral.mixin.selectionList({itemTagName:"coral-cyclebutton-item",supportMultiple:!1,forceSelection:!0,role:"presentation"})],events:{"click :not(coral-cyclebutton-action)":"_onItemClick","key:down [aria-expanded\x3dfalse]":"_onItemClick","coral-selectlist:change":"_onSelectListChange","coral-cyclebutton-item:_iconchanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange",
"coral-cyclebutton-item:_displaymodechanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","global:key:escape":"_onEscapeKey"},properties:{icon:{default:"",sync:function(){this.selectedItem&&this._renderSelectedItem(this.selectedItem)}},threshold:{default:3,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(b,a){return null!==b&&-1<b}],sync:function(){this._checkExtended()}},actions:{set:function(){},
get:function(){this._actions||(this._actions=new Coral.Collection({host:this,itemTagName:"coral-cyclebutton-action",itemSelector:"coral-cyclebutton-action"}));return this._actions}},displayMode:{default:c.ICON,attribute:"displaymode",reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.selectedItem&&this._renderSelectedItem(this.selectedItem)}}},_onEscapeKey:function(b){this._elements.overlay._isTopOverlay()&&this._hideOverlay()},_onGlobalClick:function(b){if(this._elements.overlay.open){var a=
this._elements.overlay.contains(b.target);b=this.contains(b.target);a||b||this._elements.overlay.hide()}},_onItemAttached:function(){this._checkExtended()},_onItemDetached:function(){this._checkExtended()},_onItemClick:function(b){b.preventDefault();var a=this.items.getAll(),c=a.length;if(b.matchedTarget===this._elements.button||"coral-cyclebutton-item"===b.matchedTarget.tagName.toLowerCase())this._isExtended()?this._elements.overlay.open?this._hideOverlay():(this._showOverlay(),this._focusItem(this.selectedItem._elements.selectListItem)):
1<c&&(this._selectCycleItem(this.selectedItem.nextElementSibling||a[0]),this._focusItem(this._elements.button))},_renderSelectedItem:function(d){if(d){var a=this.displayMode,e=d.icon||this.icon||"";d.displayMode!==Coral.CycleButton.Item.displayMode.INHERIT&&(a=d.displayMode);d.content.textContent.trim()&&e.trim()||(a=c.ICON_TEXT);a===c.ICON?(this._elements.button.icon=e,this._elements.button.label.innerHTML="",d=d.content.textContent.replace(b," "),this._elements.button.setAttribute("aria-label",
d),this._elements.button.setAttribute("title",d)):(a===c.TEXT&&(this._elements.button.icon=""),a===c.ICON_TEXT&&(this._elements.button.icon=e),this._elements.button.label.innerHTML=d.content.innerHTML,this._elements.button.removeAttribute("aria-label"),this._elements.button.removeAttribute("title"))}},_onItemSelected:function(b){b&&this._renderSelectedItem(b)},_onSelectedItemPropertyChange:function(b){b.stopImmediatePropagation();this._renderSelectedItem(b.target)},_onSelectListChange:function(b){b.stopImmediatePropagation();
b.preventDefault();if(b=b.detail.selection)this._selectCycleItem(b._elements.originalItem),this._focusItem(this._elements.button),this._elements.overlay.hide()},_proxyClick:function(b){b.stopPropagation();b.matchedTarget._elements.originalItem.trigger("click").defaultPrevented||this._elements.overlay.hide()},_isExtended:function(){var b=0<this.actions.getAll().length;return 0<this.threshold&&this.items.getAll().length>=this.threshold||b},_checkExtended:function(){var b=this._isExtended();this.classList.toggle("coral3-CycleButton--extended",
b);b?(b=this._elements.selectList.id,this._elements.button.setAttribute("aria-owns",b),this._elements.button.setAttribute("aria-controls",b),this._elements.button.setAttribute("aria-haspopup",!0),this._elements.button.setAttribute("aria-expanded",!1)):(this._elements.button.removeAttribute("aria-owns"),this._elements.button.removeAttribute("aria-controls"),this._elements.button.removeAttribute("aria-haspopup"),this._elements.button.removeAttribute("aria-expanded"))},_focusItem:function(b){b&&Coral.commons.nextFrame(function(){b.focus()})},
_hideOverlay:function(){this._elements.button.setAttribute("aria-expanded",!1);this._elements.overlay.hide()},_getSelectListItem:function(b){var a=new Coral.SelectList.Item;if(b.icon){var c=(new Coral.Icon).set({icon:b.icon,size:Coral.Icon.size.SMALL});a.content.appendChild(c)}a.content.appendChild(document.createTextNode(b.content.textContent));a._elements.originalItem=b;return b._elements.selectListItem=a},_getActionListItem:function(b){var a=new Coral.ButtonList.Item;a.icon=b.icon;a.content.innerHTML=
b.content.innerHTML;a._elements.originalItem=b;a._elements.buttonListItem=a;a.on("click",this._proxyClick.bind(this));return a},_populateLists:function(){var b=this._elements.selectList,a=this._elements.actionList,c=this.items.getAll(),f=this.actions.getAll(),h=c.length,g=f.length;b.items.clear();a.items.clear();for(var k=0;k<h;k++){var m=c[k];var l=this._getSelectListItem(m);b.items.add(l);l.set({disabled:m.disabled,selected:m.selected},!0)}if(0<g){for(c=0;c<g;c++)h=f[c],b=this._getActionListItem(h),
a.items.add(b),b.disabled=h.disabled;this._elements.actionList.removeAttribute("hidden")}else this._elements.actionList.setAttribute("hidden",!0)},_selectCycleItem:function(b){b.selected=!0},_showOverlay:function(){this._elements.button.setAttribute("aria-expanded",!0);this._populateLists();this._elements.overlay.show()},_render:function(){for(var b=this.querySelectorAll("[handle]"),a=0;a<b.length;++a){var c=b[a];c.parentNode===this&&this.removeChild(c)}this.insertBefore(Coral.templates.CycleButton.base.call(this._elements),
this.firstChild);this._elements.overlay.target=this._elements.button;this._elements.overlay.returnFocusTo(this._elements.button)},_initialize:function(){this._elements.button.setAttribute("aria-expanded",!1);this._checkExtended();var b=this;Coral.commons.nextFrame(function(){b._onItemSelected(b.selectedItem)})}});Coral.CycleButton.displayMode=c})();
(function(){var b={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext",INHERIT:"inherit"};Coral.register({name:"CycleButton.Item",tagName:"coral-cyclebutton-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-cyclebutton"})],properties:{icon:{default:"",reflectAttribute:!0,trigger:"coral-cyclebutton-item:_iconchanged"},content:{contentZone:!0,get:function(){return this},set:function(){}},displayMode:{default:b.INHERIT,attribute:"displaymode",reflectAttribute:!0,trigger:"coral-cyclebutton-item:_displaymodechanged",
validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)]}}});Coral.CycleButton.Item.displayMode=b})();(function(){Coral.register({name:"CycleButton.Action",tagName:"coral-cyclebutton-action",properties:{icon:{default:"",reflectAttribute:!0},content:{contentZone:!0,get:function(){return this},set:function(){}}}})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-datepicker"]={"en-US":{Time:"Time",Calendar:"Calendar"},"de-DE":{Time:"Zeit",Calendar:"Kalender"},"fr-FR":{Time:"Heure",Calendar:"Calendrier"},"it-IT":{Time:"Ora",Calendar:"Calendario"},"ja-JP":{Time:"\u6642\u9593",Calendar:"\u30ab\u30ec\u30f3\u30c0\u30fc"},"es-ES":{Time:"Hora",Calendar:"Calendario"},"ko-KR":{Time:"\uc2dc\uac04",Calendar:"\ub2ec\ub825"},"zh-CN":{Time:"\u65f6\u95f4",Calendar:"\u65e5\u5386"},"zh-TW":{Time:"\u6642\u9593",Calendar:"\u65e5\u66c6"},
"pt-BR":{Time:"Hora",Calendar:"Calend\u00e1rio"},"nl-NL":{Time:"Tijd",Calendar:"Kalender"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Datepicker=window.Coral.templates.Datepicker||{};
window.Coral.templates.Datepicker.base=function(b){b=document.createDocumentFragment();var c=this.hiddenInput=document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("handle","hiddenInput");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.input=document.createElement("input","coral-textfield");c.setAttribute("is","coral-textfield");c.setAttribute("type","text");c.setAttribute("handle","input");c.className+=" coral-InputGroup-input";c.setAttribute("role",
"textbox");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.toggleButtonContainer=document.createElement("div");c.className+=" coral-InputGroup-button";c.setAttribute("handle","toggleButtonContainer");var d=document.createTextNode("\n  ");c.appendChild(d);d=this.toggle=document.createElement("button","coral-button");d.setAttribute("is","coral-button");d.setAttribute("type","button");d.setAttribute("icon","calendar");d.setAttribute("iconsize","S");d.setAttribute("handle","toggle");
d.setAttribute("aria-haspopup","true");d.setAttribute("aria-label",Coral.i18n.get("Calendar"));d.setAttribute("title",Coral.i18n.get("Calendar"));c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.popover=document.createElement("coral-popover");c.setAttribute("handle","popover");c.id=Coral.commons.getUID();c.setAttribute("alignmy","right top");c.setAttribute("alignat","right bottom");c.setAttribute("collision",
"fit");b.appendChild(c);return b};
window.Coral.templates.Datepicker.popovercontent=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=this.calendar=document.createElement("coral-calendar");d.setAttribute("handle","calendar");d.className+=" u-coral-borderless";d.setAttribute("aria-labelledby",c+"-calendar");var a=document.createTextNode("\n  ");d.appendChild(a);a=document.createElement("span");a.id=c+"-calendar";a.className+=" u-coral-screenReaderOnly";a.setAttribute("hidden",
"");a.textContent=Coral.i18n.get("Calendar");d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.clockContainer=document.createElement("div");d.className+=" coral-Datepicker-clockContainer";d.setAttribute("handle","clockContainer");a=document.createTextNode("\n  ");d.appendChild(a);a=this.clock=document.createElement("coral-clock");a.setAttribute("handle","clock");a.setAttribute("aria-labelledby",c+"-clock");var e=
document.createTextNode("\n    ");a.appendChild(e);e=document.createElement("span");e.id=c+"-clock";e.className+=" u-coral-screenReaderOnly";e.setAttribute("hidden","");e.textContent=Coral.i18n.get("Time");a.appendChild(e);c=document.createTextNode("\n  ");a.appendChild(c);d.appendChild(a);c=document.createTextNode("\n");d.appendChild(c);b.appendChild(d);return b};
(function(){var b={DEFAULT:"default",QUIET:"quiet"},c=[],d;for(d in b)c.push("coral-InputGroup--"+b[d]);var a={DATE:"date",DATETIME:"datetime",TIME:"time"},e=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),f={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD[T]HH:mmZ",time:"HH:mm"};Coral.register({name:"Datepicker",tagName:"coral-datepicker",className:"coral-InputGroup",mixins:[Coral.mixin.formField],events:{'click coral-calendar [handle\x3d"table"] a':"_onCalendarDayClick","change coral-calendar,coral-clock":"_onChange",
'coral-overlay:beforeopen [handle\x3d"popover"]':"_onPopoverBeforeOpen",'coral-overlay:open [handle\x3d"popover"]':"_onPopoverOpenOrClose",'coral-overlay:close [handle\x3d"popover"]':"_onPopoverOpenOrClose","key:esc coral-clock input[is\x3dcoral-textfield]":"_onEscapeKey",'key:alt+down [handle\x3d"input"],[handle\x3d"toggle"]':"_onAltDownKey",'key:down [handle\x3d"toggle"]':"_onAltDownKey"},properties:{type:{default:a.DATE,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],
sync:function(){var b=this.type===a.TIME,c=this.type===a.DATE;this._elements.toggle.icon=b?"clock":"calendar";var d=b?Coral.i18n.get("Time"):Coral.i18n.get("Calendar");this._elements.toggle.setAttribute("aria-label",d);this._elements.toggle.setAttribute("title",d);this._elements.clockContainer.style.display=c?"none":"";this._elements.clockContainer.setAttribute("aria-hidden",c);this._elements.calendar.style.display=b?"none":"";this._elements.calendar.setAttribute("aria-hidden",b)},alsoSync:["_useNativeInput"]},
displayFormat:{attribute:"displayformat",transform:function(a){a=Coral.transform.string(a).trim();return""===a?f[this.type]:a},get:function(){return this._useNativeInput&&this.type!==a.DATETIME?f[this.type]:"undefined"===typeof this._displayFormat?f[this.type]:this._displayFormat},set:function(a){this._displayFormat=a;this._elements.clock.displayFormat=a},sync:function(){this._elements.input.value=this._getValueAsString(this._value,this.displayFormat)}},valueFormat:{attribute:"valueformat",transform:function(a){a=
Coral.transform.string(a).trim();return""===a?f[this.type]:a},get:function(){return"undefined"===typeof this._valueFormat?f[this.type]:this._valueFormat},set:function(a){this._valueFormat=a;this._elements.calendar.valueFormat=a;this._elements.hiddenInput.value=this.value}},valueAsDate:{attribute:null,transform:function(a){return a instanceof Date?moment(a):""},get:function(){var a=this._value;"date"===this.type&&a&&(a=a.startOf("day"));return a?a.toDate():null},set:function(a){this.value=a}},min:{get:function(){return this._elements.calendar.min},
set:function(a){this._elements.calendar.min=a}},max:{get:function(){return this._elements.calendar.max},set:function(a){this._elements.calendar.max=a}},headerFormat:Coral.property.proxyAttr({handle:"calendar",attribute:"headerformat"}),startDay:Coral.property.proxyAttr({handle:"calendar",attribute:"startday"}),value:{transform:function(a){var b=this.valueFormat;"today"===a?a=moment():moment.isMoment(a)?a=a.isValid()?a.clone():null:(a=moment(a,a instanceof Date?null:b),a=a.isValid()?a:null);return a},
get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(a){this._value=a;this._elements.calendar.valueAsDate=this.valueAsDate;this._elements.clock.valueAsDate=this.valueAsDate;this._elements.input.value=this._getValueAsString(this._value,this.displayFormat);this._elements.hiddenInput.value=this.value}},name:{get:function(a){return this._elements.hiddenInput.name},set:function(a){this._elements.hiddenInput.name=a}},disabled:{sync:function(){this.classList.toggle("is-disabled",
this.disabled);this._elements.input.disabled=this.disabled;this._elements.hiddenInput.disabled=this.disabled;this._elements.toggle.disabled=this.disabled||this.readOnly}},invalid:{sync:function(){var a=this.invalid;this.classList.toggle("is-invalid",a);this._elements.input.invalid=a;this._elements.input.setAttribute("aria-invalid",a)}},readOnly:{sync:function(a){this._elements.input.readOnly=this.readOnly;this._elements.toggle.disabled=this.readOnly||this.disabled}},required:{sync:function(){this._elements.input.required=
this.required}},labelledBy:{sync:function(){this.labelledBy?this.setAttribute("aria-labelledby",this.labelledBy):this.removeAttribute("aria-labelledby")}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(a){this._elements.input.placeholder=a}},variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(a){this._variant=a;this._elements.toggle.variant=a===b.DEFAULT?
Coral.Button.variant.DEFAULT:Coral.Button.variant.QUIET;this._elements.input.variant=a},sync:function(){this.classList.remove.apply(this.classList,c);this.variant!==Coral.Datepicker.variant.DEFAULT&&this.classList.add(this._className+"--"+this.variant)}},_useNativeInput:{attribute:null,sync:function(){this._useNativeInput&&this.type!==a.DATETIME?(this._elements.toggle.hidden=!0,this._elements.input.setAttribute("type",this.type),this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),
this.removeAttribute("aria-owns")):(this._elements.toggle.hidden=!1,this._elements.input.setAttribute("type","text"),this._elements.popover.parentNode!==this&&this.insertBefore(this._elements.popover,this.firstChild),this.setAttribute("aria-haspopup","true"),this.setAttribute("aria-expanded","false"),this.setAttribute("aria-owns",this._elements.popover.id))}}},_getLabellableElement:function(){return this._elements.input},_render:function(){for(var a=this.querySelectorAll("[handle]"),b=0;b<a.length;++b){var c=
a[b];c.parentNode===this&&this.removeChild(c)}this.appendChild(Coral.templates.Datepicker.base.call(this._elements));this._calendarFragment=Coral.templates.Datepicker.popovercontent.call(this._elements);this._elements.popover.target=this._elements.toggle},_renderCalendar:function(){""===this._elements.popover.content.innerHTML&&(this._elements.popover.content.appendChild(this._calendarFragment),this._calendarFragment=void 0)},_initialize:function(){this._useNativeInput=e;this.setAttribute("role",
"datepicker")},_onPopoverBeforeOpen:function(a){this._elements.calendar._validateCalendar();this._renderCalendar()},_onPopoverOpenOrClose:function(b){var c=this;this.setAttribute("aria-expanded",this._elements.popover.open);this._elements.popover.open&&Coral.commons.nextFrame(function(){c.type===a.TIME?c._elements.clock.focus():c._elements.calendar.focus()})},_onCalendarDayClick:function(){this._elements.popover.open=!1},_onInputChange:function(a){a.stopPropagation();this.value=moment(a.target.value,
this.displayFormat);this._validateValue();this.trigger("change")},_onChange:function(a){a.stopPropagation();this.value=this._mergeCalendarAndClockDates(!0);this._validateValue();this.trigger("change")},_onEscapeKey:function(a){this._elements.popover.open=!1},_onAltDownKey:function(a){a.preventDefault();this._elements.popover.open||(this._elements.popover.open=!0)},_validateValue:function(){this._elements.calendar._validateCalendar();this.invalid=this.type===a.DATE?this._elements.calendar.invalid:
this.type===a.TIME?this._elements.clock.invalid:this._elements.calendar.invalid||this._elements.clock.invalid},_mergeCalendarAndClockDates:function(b){var c=moment(this._elements.calendar.valueAsDate),d=this._elements.clock.valueAsDate;b&&c&&!d&&this.type===a.DATETIME&&(d=moment().toDate());d&&(c.isValid()||(c=moment()),c.hours(d.getHours()),c.minutes(d.getMinutes()));return c},_getValueAsString:function(a,b){return a&&a.isValid()?a.format(b):""}});Coral.Datepicker.variant=b;Coral.Datepicker.type=
a})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Drawer=window.Coral.templates.Drawer||{};
window.Coral.templates.Drawer.base=function(b){b=document.createDocumentFragment();var c=this.contentWrapper=document.createElement("div");c.setAttribute("handle","contentWrapper");c.className+=" coral-Drawer-content coral-Drawer-content--padding";b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=document.createElement("div");c.className+=" coral-Drawer-toggle";var d=document.createTextNode("\n  ");c.appendChild(d);d=this.toggle=document.createElement("button","coral-button");d.setAttribute("type",
"button");d.setAttribute("handle","toggle");d.setAttribute("is","coral-button");d.setAttribute("variant","minimal");d.setAttribute("icon","chevronDown");d.setAttribute("iconSize","XS");d.setAttribute("aria-label","coral-drawer");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);return b};
(function(){var b={DOWN:"down",UP:"up"},c="",d;for(d in b)c+="coral-Drawer--"+b[d]+" ";Coral.register({name:"Drawer",tagName:"coral-drawer",className:"coral-Drawer",events:{"click [handle\x3dtoggle]:not(:disabled)":"_onClick"},properties:{disabled:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.attr("aria-disabled",this.disabled).toggleClass("is-disabled",this.disabled);this._elements.toggle.disabled=this.disabled}},
content:Coral.property.contentZone({handle:"content",tagName:"coral-drawer-content",defaultContentZone:!0,insert:function(a){this._elements.contentWrapper.appendChild(a)}}),open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-expanded",this.open);this._updateIcon();$(this._elements.contentWrapper)[this.open?"slideDown":"slideUp"]({duration:250,complete:function(){this.trigger(this.open?"coral-drawer:open":
"coral-drawer:close")}.bind(this)})}},direction:{default:b.DOWN,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(c).addClass(this._className+"--"+this.direction);this._updateIcon()}}},_onClick:function(){this.open=!this.open},_updateIcon:function(){this.direction===b.UP?this._elements.toggle.icon=this.open?"chevronDown":"chevronUp":this.direction===b.DOWN&&(this._elements.toggle.icon=this.open?"chevronUp":"chevronDown")},_render:function(){var a=
document.createDocumentFragment();a.appendChild(Coral.templates.Drawer.base.call(this._elements));var b=this.querySelector("coral-drawer-content")||document.createElement("coral-drawer-content");for(this.content=b;this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)}});Coral.register({name:"Drawer.Content",tagName:"coral-drawer-content"});Coral.Drawer.direction=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.FileUpload=window.Coral.templates.FileUpload||{};window.Coral.templates.FileUpload.base=function(b){b=this.input=document.createElement("input");b.setAttribute("handle","input");b.className+=" coral3-FileUpload-input is-unselectable";b.setAttribute("tabindex","-1");b.setAttribute("name","");b.setAttribute("type","file");b.setAttribute("accept","");return b};
(function(){var b="loadstart progress load error loadend readystatechange abort timeout".split(" "),c={POST:"POST",PUT:"PUT",PATCH:"PATCH"},d=Coral.validate.enumeration(c),a=function(a){return"string"===typeof a?a.toUpperCase():a};Coral.register({name:"FileUpload",tagName:"coral-fileupload",className:"coral3-FileUpload",mixins:[Coral.mixin.formField],events:{"click [coral-fileupload-submit]":"_onSubmitButtonClick","click [coral-fileupload-clear]":"clear","click [coral-fileupload-select]":"_showFileDialog",
"click [coral-fileupload-abort]":"abort","click [coral-fileupload-abortfile]":"_onAbortFileClick","click [coral-fileupload-removefile]":"_onRemoveFileClick","click [coral-fileupload-uploadfile]":"_onUploadFileClick","dragenter [coral-fileupload-dropzone]":"_onDragAndDrop","dragover [coral-fileupload-dropzone]":"_onDragAndDrop",'dragleave [handle\x3d"input"]':"_onDragAndDrop",'drop [handle\x3d"input"]':"_onDragAndDrop","capture:focus [coral-fileupload-select]":"_onButtonFocusIn",'capture:focus [handle\x3d"input"]':"_onInputFocusIn",
'capture:blur [handle\x3d"input"]':"_onInputFocusOut"},properties:{disabled:{set:function(a){this._disabled=a;this._elements.input.disabled=this.disabled},sync:function(){this.$.toggleClass("is-disabled",this.disabled);this._setElementState()}},invalid:{set:function(a){this._invalid=a;this._elements.input.setAttribute("aria-invalid",this.invalid)},sync:function(){this.$.toggleClass("is-invalid",this.invalid);this._setElementState()}},readOnly:{set:function(a){this._readOnly=a;this._elements.input.disabled=
this.readOnly},sync:function(){this.$.toggleClass("is-readOnly",this.readOnly);this._setElementState()}},required:{set:function(a){this._elements.input.required=a},get:function(){return this._elements.input.required},sync:function(){this.$.toggleClass("is-required",this.required);this._setElementState()}},value:{set:function(a){if(""===a||null===a)this._clearQueue(),this._clearFileInputValue();else throw Error("Coral.FileUpload accepts a filename, which may only be programmatically set to the empty string.");
},get:function(){var a=this._uploadQueue?this._getQueueItem(0):null;return a?"C:\\fakepath\\"+a.file.name:""}},values:{validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],set:function(a){this.value=a.length?a[0]:""},get:function(){var a=this._uploadQueue.map(function(a){return"C:\\fakepath\\"+a.file.name});a.length&&!this.multiple&&(a=[a[0]]);return a}},labelledBy:{sync:function(){var a=this.labelledBy,b=[],c=this.querySelector("[coral-fileupload-select]");c&&b.push(c.id);
a&&b.unshift(a);this._elements.input.setAttribute("aria-labelledby",b.join(" "))}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},parameters:{default:function(){return[]},attribute:null,validate:[Coral.validate.valueMustChange,function(a,b){return Array.isArray(a)&&a.every(function(a){return a&&a.name})}],sync:function(){this.async||($(this.querySelectorAll('input[type\x3d"hidden"]')).remove(),this.parameters.forEach(function(a){this.$.append($(document.createElement("input")).attr({type:"hidden",
name:a.name,value:a.value}))}.bind(this)))}},async:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(a){(this._async=a)||this._syncProp("parameters");this._uploadQueue&&(this._clearQueue(),this._clearFileInputValue())}},action:{default:"",attribute:"action",transform:Coral.transform.string,attributeTransform:Coral.transform.string,set:function(a){this._action=a;this._buttonAction=null}},method:{default:c.POST,transform:a,
validate:[Coral.validate.valueMustChange,d],set:function(a){this._method=a;this._buttonMethod=null}},multiple:Coral.property.proxy({reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,path:"_elements.input.multiple"}),sizeLimit:{default:0,attribute:"sizelimit",transform:Coral.transform.number,attributeTransform:Coral.transform.number},accept:Coral.property.proxy({reflectAttribute:!0,path:"_elements.input.accept"}),autoStart:{default:!1,attribute:"autostart",
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr},uploadQueue:{attribute:null,set:function(){}}},_onButtonFocusIn:function(a){var b=this._elements.input;a=a.matchedTarget;a.parentNode.insertBefore(b,a.nextElementSibling);window.setTimeout(function(){b.focus()},100)},_onInputFocusIn:function(a){a=$(this._elements.input).prevAll("[coral-fileupload-select]").first();a.length&&(a=a[0],a.tabIndex=-1,a.setAttribute("aria-hidden",!0),a.classList.add("is-focused"))},
_onInputFocusOut:function(a){var b=this.querySelector("[coral-fileupload-select].is-focused");b.classList.remove("is-focused");Coral.commons.nextFrame(function(){b.tabIndex=0;b.removeAttribute("aria-hidden")})},_onAbortFileClick:function(a){if(!this.async)throw Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");(a=a.target.getAttribute("coral-fileupload-abortfile"))&&this._abortFile(a)},_onRemoveFileClick:function(a){if(this.async)(a=a.target.getAttribute("coral-fileupload-removefile"))&&
this._clearFile(a);else throw Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");},_onUploadFileClick:function(a){if(!this.async)throw Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");(a=a.target.getAttribute("coral-fileupload-uploadfile"))&&this.upload(a)},_onDragAndDrop:function(a){"dragenter"===a.type||"dragover"===a.type?this._addDragClass():("dragleave"===a.type||"drop"===a.type)&&this._removeDragClass();
this.trigger("coral-fileupload:"+a.type)},_addDragClass:function(){clearTimeout(this._removeClassTimeout);this._removeClassTimeout=setTimeout(this._doAddDragClass,10)},_doAddDragClass:function(){this.$.addClass("is-dragging");this.$.find("[coral-fileupload-dropzone]").addClass("is-dragging");$(this._elements.input).removeClass("is-unselectable")},_removeDragClass:function(){clearTimeout(this._removeClassTimeout);this._removeClassTimeout=setTimeout(this._doRemoveDragClass,10)},_doRemoveDragClass:function(){this.$.removeClass("is-dragging");
this.$.find("[coral-fileupload-dropzone]").removeClass("is-dragging");$(this._elements.input).addClass("is-unselectable")},_onSubmitButtonClick:function(b){b=b.matchedTarget;this._buttonAction=b.getAttribute("formaction")||null;this._buttonMethod=(b=a(b.getAttribute("formmethod")))&&d(b)?b:null;this.upload()},_onInputChange:function(a){a.stopPropagation();if(!this.disabled){var b=this,c=[],d=[];if(a.target.files&&a.target.files.length)this._clearQueue(),c=a.target.files,this.multiple||(c=[c[0]]);
else if(a.dataTransfer&&a.dataTransfer.files&&a.dataTransfer.files.length)this._clearQueue(),c=a.dataTransfer.files,this.multiple||(c=[c[0]]);else return;for(a=0;a<c.length;a++)d.push(new Coral.FileUpload.Item(c[a]));d.forEach(function(a){b._getQueueItemByFilename(a.file.name)||(b.sizeLimit&&a.file.size>b.sizeLimit?b.trigger("coral-fileupload:filesizeexceeded",{item:a}):b.accept&&!a._isMimeTypeAllowed(b.accept)?b.trigger("coral-fileupload:filemimetyperejected",{item:a}):(b._uploadQueue.push(a),b.trigger("coral-fileupload:fileadded",
{item:a})))});this.autoStart&&this.upload();this._triggerChangeEvent&&this.trigger("change");this.async&&this._clearFileInputValue()}},_setElementState:function(){this.$.find("[coral-fileupload-select],[coral-fileupload-dropzone],[coral-fileupload-submit],[coral-fileupload-clear],[coral-fileupload-abort],[coral-fileupload-abortfile],[coral-fileupload-removefile],[coral-fileupload-uploadfile]").toggleClass("is-invalid",this.invalid).toggleClass("is-disabled",this.disabled).toggleClass("is-required",
this.required).toggleClass("is-readOnly",this.readOnly).prop("disabled",this.disabled||this.readOnly)},_clearQueue:function(){this._uploadQueue.slice().forEach(function(a){this._clearFile(a.file.name)}.bind(this))},clear:function(a){if(this.async)"string"===typeof a?this._clearFile(a):this._clearQueue();else{if("string"===typeof a)throw Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");this._clearQueue();this._clearFileInputValue()}},_clearFileInputValue:function(){this._elements.input.value=
""},_clearFile:function(a){var b=this._getQueueItemByFilename(a);b&&(this._abortFile(a),this._uploadQueue.splice(this._getQueueIndex(a),1),this.trigger("coral-fileupload:fileremoved",{item:b}))},_uploadFile:function(a){var b=this._getQueueItemByFilename(a);b&&(this._abortFile(a),this._ajaxUpload(b))},upload:function(a){if(this.async)if("string"===typeof a)this._uploadFile(a);else{var b=this;b._uploadQueue.forEach(function(a){b._abortFile(a.file.name);b._ajaxUpload(a)})}else{if("string"===typeof a)throw Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");
var c=this.$.parents("form");c.length||(c=$(document.createElement("form")),c.attr({method:this.method.toLowerCase(),enctype:"multipart/form-data",action:this.action}).css("display","none"),$(this._elements.input).wrap(c),Array.prototype.forEach.call(this.querySelectorAll('input[type\x3d"hidden"]'),function(a){c.append(a)}));c.append($(document.createElement("input")).attr({type:"hidden",name:"_charset_",value:"utf-8"}));c.trigger("submit")}},_showFileDialog:function(a){this._elements.input.click()},
_abortFile:function(a){(a=this._getQueueItemByFilename(a))&&a._xhr&&(a._xhr.abort(),a._xhr=null)},abort:function(a){if(!this.async)throw Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");if("string"===typeof a)this._abortFile(a);else{var b=this;b._uploadQueue.forEach(function(a){b._abortFile(a.file.name)})}},_ajaxUpload:function(a){var c=this,d=this._buttonAction||this.action,e=this._buttonMethod?this._buttonMethod.toUpperCase():this.method,k=c.parameters.concat(a.parameters),
m=new FormData;k.forEach(function(a){m.append(a.name,a.value)});m.append("_charset_","utf-8");m.append(this.name,a._originalFile);a._xhr=new XMLHttpRequest;a._xhr.open(e,d);a._xhr.timeout=a.timeout;a._xhr.responseType=a.responseType;a._xhr.withCredentials=a.withCredentials;b.forEach(function(b){var f="progress"===b;(f?a._xhr.upload:a._xhr).addEventListener(b,function(g){var h={item:a,action:d,method:e};f&&(h.lengthComputable=g.lengthComputable,h.loaded=g.loaded,h.total=g.total);c.trigger("coral-fileupload:"+
b,h)})});a._xhr.send(m)},_getLabellableElement:function(){return this},_getQueueItemByFilename:function(a){return this._getQueueItem(this._getQueueIndex(a))},_getQueueItem:function(a){return-1<a?this._uploadQueue[a]:null},_getQueueIndex:function(a){var b=-1;this._uploadQueue.some(function(c,d){if(c.file.name===a)return b=d,!0});return b},_getTargetChangeInput:function(){return this._elements.input},_positionInputOnDropZone:function(){var a=this._elements.input,b=this._elements.dropZone;if(b){var c=
b.getBoundingClientRect();a.style.top=parseInt(b.offsetTop,10)+"px";a.style.left=parseInt(b.offsetLeft,10)+"px";a.style.width=parseInt(c.width,10)+"px";a.style.height=parseInt(c.height,10)+"px"}else a.style.width="0",a.style.height="0"},_initialize:function(){this.setAttribute("role","group");this._uploadQueue=[];this._doAddDragClass=this._doAddDragClass.bind(this);this._doRemoveDragClass=this._doRemoveDragClass.bind(this);this._positionInputOnDropZone=this._positionInputOnDropZone.bind(this);Coral.commons.addResizeListener(this,
this._positionInputOnDropZone);var a=this.querySelector("[coral-fileupload-select]");a&&(a.id=a.id||Coral.commons.getUID());this._queueSync(["labelledBy"])},_render:function(){var a=[];Array.prototype.forEach.call(this.querySelectorAll('input[type\x3d"hidden"]'),function(b){a.push({name:b.name,value:b.value})});this.parameters=a;var b=this.querySelector('[handle\x3d"input"]');b&&b.parentNode.removeChild(b);(b=this.querySelector("object"))&&b.parentNode.removeChild(b);this.appendChild(Coral.templates.FileUpload.base.call(this._elements));
this._elements.dropZone=this.querySelector("[coral-fileupload-dropzone]")}});Coral.FileUpload.method=c})();
(function(){var b={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json"},c=/(.+)\/(.+)$/,d=/\.(.+)$/,a=/.*/,e={".123":"application/vnd.lotus-1-2-3",".3dml":"text/vnd.in3d.3dml",".3g2":"video/3gpp2",".3gp":"video/3gpp",".a":"application/octet-stream",".aab":"application/x-authorware-bin",".aac":"audio/x-aac",".aam":"application/x-authorware-map",".aas":"application/x-authorware-seg",".abw":"application/x-abiword",".acc":"application/vnd.americandynamics.acc",".ace":"application/x-ace-compressed",
".acu":"application/vnd.acucobol",".acutc":"application/vnd.acucorp",".adp":"audio/adpcm",".aep":"application/vnd.audiograph",".afm":"application/x-font-type1",".afp":"application/vnd.ibm.modcap",".ai":"application/postscript",".aif":"audio/x-aiff",".aifc":"audio/x-aiff",".aiff":"audio/x-aiff",".air":"application/vnd.adobe.air-application-installer-package+zip",".ami":"application/vnd.amiga.ami",".apk":"application/vnd.android.package-archive",".application":"application/x-ms-application",".apr":"application/vnd.lotus-approach",
".asc":"application/pgp-signature",".asf":"video/x-ms-asf",".asm":"text/x-asm",".aso":"application/vnd.accpac.simply.aso",".asx":"video/x-ms-asf",".atc":"application/vnd.acucorp",".atom":"application/atom+xml",".atomcat":"application/atomcat+xml",".atomsvc":"application/atomsvc+xml",".atx":"application/vnd.antix.game-component",".au":"audio/basic",".avi":"video/x-msvideo",".aw":"application/applixware",".azf":"application/vnd.airzip.filesecure.azf",".azs":"application/vnd.airzip.filesecure.azs",".azw":"application/vnd.amazon.ebook",
".bat":"application/x-msdownload",".bcpio":"application/x-bcpio",".bdf":"application/x-font-bdf",".bdm":"application/vnd.syncml.dm+wbxml",".bh2":"application/vnd.fujitsu.oasysprs",".bin":"application/octet-stream",".bmi":"application/vnd.bmi",".bmp":"image/bmp",".book":"application/vnd.framemaker",".box":"application/vnd.previewsystems.box",".boz":"application/x-bzip2",".bpk":"application/octet-stream",".btif":"image/prs.btif",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".c":"text/x-c",
".c4d":"application/vnd.clonk.c4group",".c4f":"application/vnd.clonk.c4group",".c4g":"application/vnd.clonk.c4group",".c4p":"application/vnd.clonk.c4group",".c4u":"application/vnd.clonk.c4group",".cab":"application/vnd.ms-cab-compressed",".car":"application/vnd.curl.car",".cat":"application/vnd.ms-pki.seccat",".cc":"text/x-c",".cct":"application/x-director",".ccxml":"application/ccxml+xml",".cdbcmsg":"application/vnd.contact.cmsg",".cdf":"application/x-netcdf",".cdkey":"application/vnd.mediastation.cdkey",
".cdx":"chemical/x-cdx",".cdxml":"application/vnd.chemdraw+xml",".cdy":"application/vnd.cinderella",".cer":"application/pkix-cert",".cgm":"image/cgm",".chat":"application/x-chat",".chm":"application/vnd.ms-htmlhelp",".chrt":"application/vnd.kde.kchart",".cif":"chemical/x-cif",".cii":"application/vnd.anser-web-certificate-issue-initiation",".cil":"application/vnd.ms-artgalry",".cla":"application/vnd.claymore",".class":"application/java-vm",".clkk":"application/vnd.crick.clicker.keyboard",".clkp":"application/vnd.crick.clicker.palette",
".clkt":"application/vnd.crick.clicker.template",".clkw":"application/vnd.crick.clicker.wordbank",".clkx":"application/vnd.crick.clicker",".clp":"application/x-msclip",".cmc":"application/vnd.cosmocaller",".cmdf":"chemical/x-cmdf",".cml":"chemical/x-cml",".cmp":"application/vnd.yellowriver-custom-menu",".cmx":"image/x-cmx",".cod":"application/vnd.rim.cod",".com":"application/x-msdownload",".conf":"text/plain",".cpio":"application/x-cpio",".cpp":"text/x-c",".cpt":"application/mac-compactpro",".crd":"application/x-mscardfile",
".crl":"application/pkix-crl",".crt":"application/x-x509-ca-cert",".csh":"application/x-csh",".csml":"chemical/x-csml",".csp":"application/vnd.commonspace",".css":"text/css",".cst":"application/x-director",".csv":"text/csv",".cu":"application/cu-seeme",".curl":"text/vnd.curl",".cww":"application/prs.cww",".cxt":"application/x-director",".cxx":"text/x-c",".daf":"application/vnd.mobius.daf",".dataless":"application/vnd.fdsn.seed",".davmount":"application/davmount+xml",".dcr":"application/x-director",
".dcurl":"text/vnd.curl.dcurl",".dd2":"application/vnd.oma.dd2+xml",".ddd":"application/vnd.fujixerox.ddd",".deb":"application/x-debian-package",".def":"text/plain",".deploy":"application/octet-stream",".der":"application/x-x509-ca-cert",".dfac":"application/vnd.dreamfactory",".dic":"text/x-c",".diff":"text/plain",".dir":"application/x-director",".dis":"application/vnd.mobius.dis",".dist":"application/octet-stream",".distz":"application/octet-stream",".djv":"image/vnd.djvu",".djvu":"image/vnd.djvu",
".dll":"application/x-msdownload",".dmg":"application/octet-stream",".dms":"application/octet-stream",".dna":"application/vnd.dna",".doc":"application/msword",".docm":"application/vnd.ms-word.document.macroenabled.12",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dot":"application/msword",".dotm":"application/vnd.ms-word.template.macroenabled.12",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".dp":"application/vnd.osgi.dp",
".dpg":"application/vnd.dpgraph",".dsc":"text/prs.lines.tag",".dtb":"application/x-dtbook+xml",".dtd":"application/xml-dtd",".dts":"audio/vnd.dts",".dtshd":"audio/vnd.dts.hd",".dump":"application/octet-stream",".dvi":"application/x-dvi",".dwf":"model/vnd.dwf",".dwg":"image/vnd.dwg",".dxf":"image/vnd.dxf",".dxp":"application/vnd.spotfire.dxp",".dxr":"application/x-director",".ecelp4800":"audio/vnd.nuera.ecelp4800",".ecelp7470":"audio/vnd.nuera.ecelp7470",".ecelp9600":"audio/vnd.nuera.ecelp9600",".ecma":"application/ecmascript",
".edm":"application/vnd.novadigm.edm",".edx":"application/vnd.novadigm.edx",".efif":"application/vnd.picsel",".ei6":"application/vnd.pg.osasli",".elc":"application/octet-stream",".eml":"message/rfc822",".emma":"application/emma+xml",".eol":"audio/vnd.digital-winds",".eot":"application/vnd.ms-fontobject",".eps":"application/postscript",".epub":"application/epub+zip",".es3":"application/vnd.eszigno3+xml",".esf":"application/vnd.epson.esf",".et3":"application/vnd.eszigno3+xml",".etx":"text/x-setext",
".exe":"application/x-msdownload",".ext":"application/vnd.novadigm.ext",".ez":"application/andrew-inset",".ez2":"application/vnd.ezpix-album",".ez3":"application/vnd.ezpix-package",".f":"text/x-fortran",".f4v":"video/x-f4v",".f77":"text/x-fortran",".f90":"text/x-fortran",".fbs":"image/vnd.fastbidsheet",".fdf":"application/vnd.fdf",".fe_launch":"application/vnd.denovo.fcselayout-link",".fg5":"application/vnd.fujitsu.oasysgp",".fgd":"application/x-director",".fh":"image/x-freehand",".fh4":"image/x-freehand",
".fh5":"image/x-freehand",".fh7":"image/x-freehand",".fhc":"image/x-freehand",".fig":"application/x-xfig",".fli":"video/x-fli",".flo":"application/vnd.micrografx.flo",".flv":"video/x-flv",".flw":"application/vnd.kde.kivio",".flx":"text/vnd.fmi.flexstor",".fly":"text/vnd.fly",".fm":"application/vnd.framemaker",".fnc":"application/vnd.frogans.fnc",".for":"text/x-fortran",".fpx":"image/vnd.fpx",".frame":"application/vnd.framemaker",".fsc":"application/vnd.fsc.weblaunch",".fst":"image/vnd.fst",".ftc":"application/vnd.fluxtime.clip",
".fti":"application/vnd.anser-web-funds-transfer-initiation",".fvt":"video/vnd.fvt",".fzs":"application/vnd.fuzzysheet",".g3":"image/g3fax",".gac":"application/vnd.groove-account",".gdl":"model/vnd.gdl",".geo":"application/vnd.dynageo",".gex":"application/vnd.geometry-explorer",".ggb":"application/vnd.geogebra.file",".ggt":"application/vnd.geogebra.tool",".ghf":"application/vnd.groove-help",".gif":"image/gif",".gim":"application/vnd.groove-identity-message",".gmx":"application/vnd.gmx",".gnumeric":"application/x-gnumeric",
".gph":"application/vnd.flographit",".gqf":"application/vnd.grafeq",".gqs":"application/vnd.grafeq",".gram":"application/srgs",".gre":"application/vnd.geometry-explorer",".grv":"application/vnd.groove-injector",".grxml":"application/srgs+xml",".gsf":"application/x-font-ghostscript",".gtar":"application/x-gtar",".gtm":"application/vnd.groove-tool-message",".gtw":"model/vnd.gtw",".gv":"text/vnd.graphviz",".gz":"application/x-gzip",".h":"text/x-c",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",
".hbci":"application/vnd.hbci",".hdf":"application/x-hdf",".hh":"text/x-c",".hlp":"application/winhlp",".hpgl":"application/vnd.hp-hpgl",".hpid":"application/vnd.hp-hpid",".hps":"application/vnd.hp-hps",".hqx":"application/mac-binhex40",".htke":"application/vnd.kenameaapp",".htm":"text/html",".html":"text/html",".hvd":"application/vnd.yamaha.hv-dic",".hvp":"application/vnd.yamaha.hv-voice",".hvs":"application/vnd.yamaha.hv-script",".icc":"application/vnd.iccprofile",".ice":"x-conference/x-cooltalk",
".icm":"application/vnd.iccprofile",".ico":"image/x-icon",".ics":"text/calendar",".ief":"image/ief",".ifb":"text/calendar",".ifm":"application/vnd.shana.informed.formdata",".iges":"model/iges",".igl":"application/vnd.igloader",".igs":"model/iges",".igx":"application/vnd.micrografx.igx",".iif":"application/vnd.shana.informed.interchange",".imp":"application/vnd.accpac.simply.imp",".ims":"application/vnd.ms-ims",".in":"text/plain",".ipk":"application/vnd.shana.informed.package",".irm":"application/vnd.ibm.rights-management",
".irp":"application/vnd.irepository.package+xml",".iso":"application/octet-stream",".itp":"application/vnd.shana.informed.formtemplate",".ivp":"application/vnd.immervision-ivp",".ivu":"application/vnd.immervision-ivu",".jad":"text/vnd.sun.j2me.app-descriptor",".jam":"application/vnd.jam",".jar":"application/java-archive",".java":"text/x-java-source",".jisp":"application/vnd.jisp",".jlt":"application/vnd.hp-jlyt",".jnlp":"application/x-java-jnlp-file",".joda":"application/vnd.joost.joda-archive",".jpe":"image/jpeg",
".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".js":"application/javascript",".json":"application/json",".kar":"audio/midi",".karbon":"application/vnd.kde.karbon",".kfo":"application/vnd.kde.kformula",".kia":"application/vnd.kidspiration",".kil":"application/x-killustrator",".kml":"application/vnd.google-earth.kml+xml",".kmz":"application/vnd.google-earth.kmz",".kne":"application/vnd.kinar",".knp":"application/vnd.kinar",".kon":"application/vnd.kde.kontour",
".kpr":"application/vnd.kde.kpresenter",".kpt":"application/vnd.kde.kpresenter",".ksh":"text/plain",".ksp":"application/vnd.kde.kspread",".ktr":"application/vnd.kahootz",".ktz":"application/vnd.kahootz",".kwd":"application/vnd.kde.kword",".kwt":"application/vnd.kde.kword",".latex":"application/x-latex",".lbd":"application/vnd.llamagraphics.life-balance.desktop",".lbe":"application/vnd.llamagraphics.life-balance.exchange+xml",".les":"application/vnd.hhe.lesson-player",".lha":"application/octet-stream",
".link66":"application/vnd.route66.link66+xml",".list":"text/plain",".list3820":"application/vnd.ibm.modcap",".listafp":"application/vnd.ibm.modcap",".log":"text/plain",".lostxml":"application/lost+xml",".lrf":"application/octet-stream",".lrm":"application/vnd.ms-lrm",".ltf":"application/vnd.frogans.ltf",".lvp":"audio/vnd.lucent.voice",".lwp":"application/vnd.lotus-wordpro",".lzh":"application/octet-stream",".m13":"application/x-msmediaview",".m14":"application/x-msmediaview",".m1v":"video/mpeg",
".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m4u":"video/vnd.mpegurl",".m4v":"video/x-m4v",".ma":"application/mathematica",".mag":"application/vnd.ecowin.chart",".maker":"application/vnd.framemaker",".man":"text/troff",".mathml":"application/mathml+xml",".mb":"application/mathematica",".mbk":"application/vnd.mobius.mbk",".mbox":"application/mbox",".mc1":"application/vnd.medcalcdata",".mcd":"application/vnd.mcd",".mcurl":"text/vnd.curl.mcurl",".mdb":"application/x-msaccess",
".mdi":"image/vnd.ms-modi",".me":"text/troff",".mesh":"model/mesh",".mfm":"application/vnd.mfmp",".mgz":"application/vnd.proteus.magazine",".mht":"message/rfc822",".mhtml":"message/rfc822",".mid":"audio/midi",".midi":"audio/midi",".mif":"application/vnd.mif",".mime":"message/rfc822",".mj2":"video/mj2",".mjp2":"video/mj2",".mlp":"application/vnd.dolby.mlp",".mmd":"application/vnd.chipnuts.karaoke-mmd",".mmf":"application/vnd.smaf",".mmr":"image/vnd.fujixerox.edmics-mmr",".mny":"application/x-msmoney",
".mobi":"application/x-mobipocket-ebook",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4s":"application/mp4",".mp4v":"video/mp4",".mpa":"video/mpeg",".mpc":"application/vnd.mophun.certificate",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".mpkg":"application/vnd.apple.installer+xml",".mpm":"application/vnd.blueice.multipass",".mpn":"application/vnd.mophun.application",
".mpp":"application/vnd.ms-project",".mpt":"application/vnd.ms-project",".mpy":"application/vnd.ibm.minipay",".mqy":"application/vnd.mobius.mqy",".mrc":"application/marc",".ms":"text/troff",".mscml":"application/mediaservercontrol+xml",".mseed":"application/vnd.fdsn.mseed",".mseq":"application/vnd.mseq",".msf":"application/vnd.epson.msf",".msh":"model/mesh",".msi":"application/x-msdownload",".msl":"application/vnd.mobius.msl",".msty":"application/vnd.muvee.style",".mts":"model/vnd.mts",".mus":"application/vnd.musician",
".musicxml":"application/vnd.recordare.musicxml+xml",".mvb":"application/x-msmediaview",".mwf":"application/vnd.mfer",".mxf":"application/mxf",".mxl":"application/vnd.recordare.musicxml",".mxml":"application/xv+xml",".mxs":"application/vnd.triscape.mxs",".mxu":"video/vnd.mpegurl",".n-gage":"application/vnd.nokia.n-gage.symbian.install",".nb":"application/mathematica",".nc":"application/x-netcdf",".ncx":"application/x-dtbncx+xml",".ngdat":"application/vnd.nokia.n-gage.data",".nlu":"application/vnd.neurolanguage.nlu",
".nml":"application/vnd.enliven",".nnd":"application/vnd.noblenet-directory",".nns":"application/vnd.noblenet-sealer",".nnw":"application/vnd.noblenet-web",".npx":"image/vnd.net-fpx",".nsf":"application/vnd.lotus-notes",".nws":"message/rfc822",".o":"application/octet-stream",".oa2":"application/vnd.fujitsu.oasys2",".oa3":"application/vnd.fujitsu.oasys3",".oas":"application/vnd.fujitsu.oasys",".obd":"application/x-msbinder",".obj":"application/octet-stream",".oda":"application/oda",".odb":"application/vnd.oasis.opendocument.database",
".odc":"application/vnd.oasis.opendocument.chart",".odf":"application/vnd.oasis.opendocument.formula",".odft":"application/vnd.oasis.opendocument.formula-template",".odg":"application/vnd.oasis.opendocument.graphics",".odi":"application/vnd.oasis.opendocument.image",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",
".onepkg":"application/onenote",".onetmp":"application/onenote",".onetoc":"application/onenote",".onetoc2":"application/onenote",".opf":"application/oebps-package+xml",".oprc":"application/vnd.palm",".org":"application/vnd.lotus-organizer",".osf":"application/vnd.yamaha.openscoreformat",".osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml",".otc":"application/vnd.oasis.opendocument.chart-template",".otf":"application/x-font-otf",".otg":"application/vnd.oasis.opendocument.graphics-template",
".oth":"application/vnd.oasis.opendocument.text-web",".oti":"application/vnd.oasis.opendocument.image-template",".otm":"application/vnd.oasis.opendocument.text-master",".otp":"application/vnd.oasis.opendocument.presentation-template",".ots":"application/vnd.oasis.opendocument.spreadsheet-template",".ott":"application/vnd.oasis.opendocument.text-template",".oxt":"application/vnd.openofficeorg.extension",".p":"text/x-pascal",".p10":"application/pkcs10",".p12":"application/x-pkcs12",".p7b":"application/x-pkcs7-certificates",
".p7c":"application/pkcs7-mime",".p7m":"application/pkcs7-mime",".p7r":"application/x-pkcs7-certreqresp",".p7s":"application/pkcs7-signature",".pas":"text/x-pascal",".pbd":"application/vnd.powerbuilder6",".pbm":"image/x-portable-bitmap",".pcf":"application/x-font-pcf",".pcl":"application/vnd.hp-pcl",".pclxl":"application/vnd.hp-pclxl",".pct":"image/x-pict",".pcurl":"application/vnd.curl.pcurl",".pcx":"image/x-pcx",".pdb":"application/vnd.palm",".pdf":"application/pdf",".pfa":"application/x-font-type1",
".pfb":"application/x-font-type1",".pfm":"application/x-font-type1",".pfr":"application/font-tdpfr",".pfx":"application/x-pkcs12",".pgm":"image/x-portable-graymap",".pgn":"application/x-chess-pgn",".pgp":"application/pgp-encrypted",".pic":"image/x-pict",".pkg":"application/octet-stream",".pki":"application/pkixcmp",".pkipath":"application/pkix-pkipath",".pl":"text/plain",".plb":"application/vnd.3gpp.pic-bw-large",".plc":"application/vnd.mobius.plc",".plf":"application/vnd.pocketlearn",".pls":"application/pls+xml",
".pml":"application/vnd.ctc-posml",".png":"image/png",".pnm":"image/x-portable-anymap",".portpkg":"application/vnd.macports.portpkg",".pot":"application/vnd.ms-powerpoint",".potm":"application/vnd.ms-powerpoint.template.macroenabled.12",".potx":"application/vnd.openxmlformats-officedocument.presentationml.template",".ppa":"application/vnd.ms-powerpoint",".ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12",".ppd":"application/vnd.cups-ppd",".ppm":"image/x-portable-pixmap",".pps":"application/vnd.ms-powerpoint",
".ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12",".ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow",".ppt":"application/vnd.ms-powerpoint",".pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".pqa":"application/vnd.palm",".prc":"application/x-mobipocket-ebook",".pre":"application/vnd.lotus-freelance",".prf":"application/pics-rules",".ps":"application/postscript",
".psb":"application/vnd.3gpp.pic-bw-small",".psd":"image/vnd.adobe.photoshop",".psf":"application/x-font-linux-psf",".ptid":"application/vnd.pvi.ptid1",".pub":"application/x-mspublisher",".pvb":"application/vnd.3gpp.pic-bw-var",".pwn":"application/vnd.3m.post-it-notes",".pwz":"application/vnd.ms-powerpoint",".py":"text/x-python",".pya":"audio/vnd.ms-playready.media.pya",".pyc":"application/x-python-code",".pyo":"application/x-python-code",".pyv":"video/vnd.ms-playready.media.pyv",".qam":"application/vnd.epson.quickanime",
".qbo":"application/vnd.intu.qbo",".qfx":"application/vnd.intu.qfx",".qps":"application/vnd.publishare-delta-tree",".qt":"video/quicktime",".qwd":"application/vnd.quark.quarkxpress",".qwt":"application/vnd.quark.quarkxpress",".qxb":"application/vnd.quark.quarkxpress",".qxd":"application/vnd.quark.quarkxpress",".qxl":"application/vnd.quark.quarkxpress",".qxt":"application/vnd.quark.quarkxpress",".ra":"audio/x-pn-realaudio",".ram":"audio/x-pn-realaudio",".rar":"application/x-rar-compressed",".ras":"image/x-cmu-raster",
".rcprofile":"application/vnd.ipunplugged.rcprofile",".rdf":"application/rdf+xml",".rdz":"application/vnd.data-vision.rdz",".rep":"application/vnd.businessobjects",".res":"application/x-dtbresource+xml",".rgb":"image/x-rgb",".rif":"application/reginfo+xml",".rl":"application/resource-lists+xml",".rlc":"image/vnd.fujixerox.edmics-rlc",".rld":"application/resource-lists-diff+xml",".rm":"application/vnd.rn-realmedia",".rmi":"audio/midi",".rmp":"audio/x-pn-realaudio-plugin",".rms":"application/vnd.jcp.javame.midlet-rms",
".rnc":"application/relax-ng-compact-syntax",".roff":"text/troff",".rpm":"application/x-rpm",".rpss":"application/vnd.nokia.radio-presets",".rpst":"application/vnd.nokia.radio-preset",".rq":"application/sparql-query",".rs":"application/rls-services+xml",".rsd":"application/rsd+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".rtx":"text/richtext",".s":"text/x-asm",".saf":"application/vnd.yamaha.smaf-audio",".sbml":"application/sbml+xml",".sc":"application/vnd.ibm.secure-container",".scd":"application/x-msschedule",
".scm":"application/vnd.lotus-screencam",".scq":"application/scvp-cv-request",".scs":"application/scvp-cv-response",".scurl":"text/vnd.curl.scurl",".sda":"application/vnd.stardivision.draw",".sdc":"application/vnd.stardivision.calc",".sdd":"application/vnd.stardivision.impress",".sdkd":"application/vnd.solent.sdkm+xml",".sdkm":"application/vnd.solent.sdkm+xml",".sdp":"application/sdp",".sdw":"application/vnd.stardivision.writer",".see":"application/vnd.seemail",".seed":"application/vnd.fdsn.seed",
".sema":"application/vnd.sema",".semd":"application/vnd.semd",".semf":"application/vnd.semf",".ser":"application/java-serialized-object",".setpay":"application/set-payment-initiation",".setreg":"application/set-registration-initiation",".sfd-hdstx":"application/vnd.hydrostatix.sof-data",".sfs":"application/vnd.spotfire.sfs",".sgl":"application/vnd.stardivision.writer-global",".sgm":"text/sgml",".sgml":"text/sgml",".sh":"application/x-sh",".shar":"application/x-shar",".shf":"application/shf+xml",".si":"text/vnd.wap.si",
".sic":"application/vnd.wap.sic",".sig":"application/pgp-signature",".silo":"model/mesh",".sis":"application/vnd.symbian.install",".sisx":"application/vnd.symbian.install",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".skd":"application/vnd.koan",".skm":"application/vnd.koan",".skp":"application/vnd.koan",".skt":"application/vnd.koan",".sl":"text/vnd.wap.sl",".slc":"application/vnd.wap.slc",".sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12",".sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide",
".slt":"application/vnd.epson.salt",".smf":"application/vnd.stardivision.math",".smi":"application/smil+xml",".smil":"application/smil+xml",".snd":"audio/basic",".snf":"application/x-font-snf",".so":"application/octet-stream",".spc":"application/x-pkcs7-certificates",".spf":"application/vnd.yamaha.smaf-phrase",".spl":"application/x-futuresplash",".spot":"text/vnd.in3d.spot",".spp":"application/scvp-vp-response",".spq":"application/scvp-vp-request",".spx":"audio/ogg",".src":"application/x-wais-source",
".srx":"application/sparql-results+xml",".sse":"application/vnd.kodak-descriptor",".ssf":"application/vnd.epson.ssf",".ssml":"application/ssml+xml",".stc":"application/vnd.sun.xml.calc.template",".std":"application/vnd.sun.xml.draw.template",".stf":"application/vnd.wt.stf",".sti":"application/vnd.sun.xml.impress.template",".stk":"application/hyperstudio",".stl":"application/vnd.ms-pki.stl",".str":"application/vnd.pg.format",".stw":"application/vnd.sun.xml.writer.template",".sus":"application/vnd.sus-calendar",
".susp":"application/vnd.sus-calendar",".sv4cpio":"application/x-sv4cpio",".sv4crc":"application/x-sv4crc",".svd":"application/vnd.svd",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".swi":"application/vnd.arastra.swi",".sxc":"application/vnd.sun.xml.calc",".sxd":"application/vnd.sun.xml.draw",".sxg":"application/vnd.sun.xml.writer.global",".sxi":"application/vnd.sun.xml.impress",".sxm":"application/vnd.sun.xml.math",".sxw":"application/vnd.sun.xml.writer",
".t":"text/troff",".tao":"application/vnd.tao.intent-module-archive",".tar":"application/x-tar",".tcap":"application/vnd.3gpp2.tcap",".tcl":"application/x-tcl",".teacher":"application/vnd.smart.teacher",".tex":"application/x-tex",".texi":"application/x-texinfo",".texinfo":"application/x-texinfo",".text":"text/plain",".tfm":"application/x-tex-tfm",".tgz":"application/x-gzip",".tif":"image/tiff",".tiff":"image/tiff",".tmo":"application/vnd.tmobile-livetv",".torrent":"application/x-bittorrent",".tpl":"application/vnd.groove-tool-template",
".tpt":"application/vnd.trid.tpt",".tr":"text/troff",".tra":"application/vnd.trueapp",".trm":"application/x-msterminal",".tsv":"text/tab-separated-values",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".twd":"application/vnd.simtech-mindmapper",".twds":"application/vnd.simtech-mindmapper",".txd":"application/vnd.genomatix.tuxedo",".txf":"application/vnd.mobius.txf",".txt":"text/plain",".u32":"application/x-authorware-bin",".udeb":"application/x-debian-package",".ufd":"application/vnd.ufdl",
".ufdl":"application/vnd.ufdl",".umj":"application/vnd.umajin",".unityweb":"application/vnd.unity",".uoml":"application/vnd.uoml+xml",".uri":"text/uri-list",".uris":"text/uri-list",".urls":"text/uri-list",".ustar":"application/x-ustar",".utz":"application/vnd.uiq.theme",".uu":"text/x-uuencode",".vcd":"application/x-cdlink",".vcf":"text/x-vcard",".vcg":"application/vnd.groove-vcard",".vcs":"text/x-vcalendar",".vcx":"application/vnd.vcx",".vis":"application/vnd.visionary",".viv":"video/vnd.vivo",".vor":"application/vnd.stardivision.writer",
".vox":"application/x-authorware-bin",".vrml":"model/vrml",".vsd":"application/vnd.visio",".vsf":"application/vnd.vsf",".vss":"application/vnd.visio",".vst":"application/vnd.visio",".vsw":"application/vnd.visio",".vtu":"model/vnd.vtu",".vxml":"application/voicexml+xml",".w3d":"application/x-director",".wad":"application/x-doom",".wav":"audio/x-wav",".wax":"audio/x-ms-wax",".wbmp":"image/vnd.wap.wbmp",".wbs":"application/vnd.criticaltools.wbs+xml",".wbxml":"application/vnd.wap.wbxml",".wcm":"application/vnd.ms-works",
".wdb":"application/vnd.ms-works",".wiz":"application/msword",".wks":"application/vnd.ms-works",".wm":"video/x-ms-wm",".wma":"audio/x-ms-wma",".wmd":"application/x-ms-wmd",".wmf":"application/x-msmetafile",".wml":"text/vnd.wap.wml",".wmlc":"application/vnd.wap.wmlc",".wmls":"text/vnd.wap.wmlscript",".wmlsc":"application/vnd.wap.wmlscriptc",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".wmz":"application/x-ms-wmz",".wpd":"application/vnd.wordperfect",".wpl":"application/vnd.ms-wpl",".wps":"application/vnd.ms-works",
".wqd":"application/vnd.wqd",".wri":"application/x-mswrite",".wrl":"model/vrml",".wsdl":"application/wsdl+xml",".wspolicy":"application/wspolicy+xml",".wtb":"application/vnd.webturbo",".wvx":"video/x-ms-wvx",".x32":"application/x-authorware-bin",".x3d":"application/vnd.hzn-3d-crossword",".xap":"application/x-silverlight-app",".xar":"application/vnd.xara",".xbap":"application/x-ms-xbap",".xbd":"application/vnd.fujixerox.docuworks.binder",".xbm":"image/x-xbitmap",".xdm":"application/vnd.syncml.dm+xml",
".xdp":"application/vnd.adobe.xdp+xml",".xdw":"application/vnd.fujixerox.docuworks",".xenc":"application/xenc+xml",".xer":"application/patch-ops-error+xml",".xfdf":"application/vnd.adobe.xfdf",".xfdl":"application/vnd.xfdl",".xht":"application/xhtml+xml",".xhtml":"application/xhtml+xml",".xhvml":"application/xv+xml",".xif":"image/vnd.xiff",".xla":"application/vnd.ms-excel",".xlam":"application/vnd.ms-excel.addin.macroenabled.12",".xlb":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",
".xlm":"application/vnd.ms-excel",".xls":"application/vnd.ms-excel",".xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12",".xlsm":"application/vnd.ms-excel.sheet.macroenabled.12",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xlt":"application/vnd.ms-excel",".xltm":"application/vnd.ms-excel.template.macroenabled.12",".xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template",".xlw":"application/vnd.ms-excel",".xml":"application/xml",".xo":"application/vnd.olpc-sugar",
".xop":"application/xop+xml",".xpdl":"application/xml",".xpi":"application/x-xpinstall",".xpm":"image/x-xpixmap",".xpr":"application/vnd.is-xpr",".xps":"application/vnd.ms-xpsdocument",".xpw":"application/vnd.intercon.formnet",".xpx":"application/vnd.intercon.formnet",".xsl":"application/xml",".xslt":"application/xslt+xml",".xsm":"application/vnd.syncml+xml",".xspf":"application/xspf+xml",".xul":"application/vnd.mozilla.xul+xml",".xvm":"application/xv+xml",".xvml":"application/xv+xml",".xwd":"image/x-xwindowdump",
".xyz":"chemical/x-xyz",".zaz":"application/vnd.zzazz.deck+xml",".zip":"application/zip",".zir":"application/vnd.zul",".zirz":"application/vnd.zul",".zmm":"application/vnd.handheld-entertainment+xml"};Coral.FileUpload.Item=function(a){this._originalFile=a;this._xhr=null;this._parameters=[];this._withCredentials=!1;this._timeout=0;this._responseType=Coral.FileUpload.Item.responseType.TEXT;this._readyState=0;this._response=null;this._responseText="";this._responseXML=null;this._status=0;this._statusText=
""};Coral.FileUpload.Item.prototype={};Object.defineProperty(Coral.FileUpload.Item.prototype,"file",{get:function(){return this._originalFile},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,"parameters",{get:function(){return this._parameters},set:function(a){Coral.validate.valueMustChange(a,this._parameters)&&Array.isArray(a)&&a.every(function(a){return a&&a.name})&&(this._parameters=a)}});Object.defineProperty(Coral.FileUpload.Item.prototype,"withCredentials",{get:function(){return this._withCredentials},
set:function(a){a=Coral.transform.boolean(a);Coral.validate.valueMustChange(a,this._withCredentials)&&(this._withCredentials=a)}});Object.defineProperty(Coral.FileUpload.Item.prototype,"timeout",{get:function(){return this._timeout},set:function(a){Coral.validate.valueMustChange(a,this._timeout)&&(a=Coral.transform.number(a),null!==a&&(this._timeout=a,this._xhr&&(this._xhr.timeout=a)))}});Object.defineProperty(Coral.FileUpload.Item.prototype,"responseType",{get:function(){return this._responseType},
set:function(a){Coral.validate.valueMustChange(a,this._responseType)&&Coral.validate.enumeration(b)(a)&&(this._responseType=a,this._xhr&&(this._xhr.responseType=a))}});Object.defineProperty(Coral.FileUpload.Item.prototype,"readyState",{get:function(){return this._xhr?this._xhr.readyState:this._readyState},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,"response",{get:function(){return this._xhr?this._xhr.response:this._response},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,
"responseText",{get:function(){return this._xhr?this._xhr.responseText:this._responseText},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,"responseXML",{get:function(){return this._xhr?this._xhr.responseXML:this._responseXML},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,"status",{get:function(){return this._xhr?this._xhr.status:this._status},set:function(a){}});Object.defineProperty(Coral.FileUpload.Item.prototype,"statusText",{get:function(){return this._xhr?
this._xhr.statusText:this._statusText},set:function(a){}});Coral.FileUpload.Item.prototype._isMimeTypeAllowed=function(b){var f=!1,g=this.file.type||"application/unknown";return g.match(c)?b.split(",").some(function(b){b=$.trim(b);"*"===b||".*"===b||"*/*"===b||"application/unknown"===g?f=!0:b.match(c)?f="audio/*"===b?0===g.indexOf("audio/*".slice(0,-1)):"image/*"===b?0===g.indexOf("image/*".slice(0,-1)):"video/*"===b?0===g.indexOf("video/*".slice(0,-1)):g===b:b.match(d)?f=g===e[b]:b.match(a)&&(f=
g.split("/")[0]===b);return f}.bind(this)):!1};Coral.FileUpload.Item.responseType=b})();
(function(){function b(a){return a&&"CORAL-MASONRY-ITEM"===a.tagName&&!a._removing}function c(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return{left:b.left-a.left,top:b.top-a.top}}function d(a){a=a.previousElementSibling;return b(a)?a:null}function a(a){this._masonry=a}document.addEventListener("error",function(a){(a=a.target)&&"IMG"===a.tagName&&(a._loadError=!0)},!0);Coral.register({name:"Masonry",tagName:"coral-masonry",className:"coral-Masonry",events:{resize:"_onResize","global:resize":"_onWindowResize",
"global:load":"_updateLoaded","capture:load img":"_updateLoaded","capture:error img":"_updateLoaded","coral-dragaction:dragstart coral-masonry-item":"_onItemDragStart","coral-dragaction:dragover coral-masonry-item":"_onItemDragMove","coral-dragaction:dragend coral-masonry-item":"_onItemDragEnd","capture:focus coral-masonry-item":"_onItemFocus"},properties:{items:{get:function(){return this._items},set:function(){}},layout:{default:"",reflectAttribute:!0,get:function(){return this._layoutName},set:function(a){var b=
Coral.Masonry&&Coral.Masonry._layouts;b?(""===a&&(a=Object.keys(b)[0]),a!==this._layoutName&&b[a]&&(this._layoutName=a,this._scheduleLayout("new layout"))):window.setTimeout(function(){this.layout=a}.bind(this),0)}},selectedItem:{get:function(){for(var a=this.items.getAll(),b=0;b<a.length;b++){var c=a[b];if(c.selected)return c}return null},set:function(){}},selectedItems:{get:function(){for(var a=[],b=this.items.getAll(),c=0;c<b.length;c++){var d=b[c];d.selected&&a.push(d)}return a},set:function(){}},
spacing:{default:null,transform:function(a){a=Coral.transform.number(a);return null!==a?Math.max(0,a):null},sync:function(){this._scheduleLayout("spacing")}},orderable:{default:!1,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._updateDragActions()}}},selectAll:function(){this._setAllSelected(!0)},deselectAll:function(){this._setAllSelected(!1)},_setAllSelected:function(a){for(var b=this.items.getAll(),c=0;c<b.length;c++){var d=b[c];d.selected!==
a&&(d.selected=a)}},_scheduleLayout:function(a){this._forceDebounce||this._layoutScheduled||(Coral.commons.nextFrame(function(){this._layoutScheduled&&(this._doLayout(a),this._layoutScheduled=!1)}.bind(this)),this._layoutScheduled=!0)},_scheduleDebouncedLayout:function(a,b){b&&this._layouted&&(this._forceDebounce=!0);window.clearTimeout(this._debounceId);this._debounceId=window.setTimeout(function(){this._forceDebounce=!1;this._scheduleLayout("window resize")}.bind(this),500)},_onResize:function(){this._componentReady&&
(this._layouted?this._scheduleDebouncedLayout("resize",!1):this._doLayout("became visible"))},_onWindowResize:function(){this._scheduleDebouncedLayout("window resize",!0)},_doLayout:function(a){a=!!this.offsetParent;var b=Coral.Masonry._layouts[this.layout];if(!this._forceDebounce&&b&&a){this._layout?this._layout.name!==this.layout&&(this._layout.destroy(),this._layout=new b(this)):this._layout=new b(this);b=this._newItems;for(a=0;a<b.length;a++)b[a]._insert();this._layout.layout();this._layouted=
!0;for(a=0;a<b.length;a++)b[a].classList.add("is-managed");b.length=0;this.classList.toggle("is-loaded",this._loaded);(a=this._tabbableItem)&&!a._removing&&a.parentNode||this._setTabbableItem(this.items.first());if(a=this._focusedItem)!a._removing&&a.parentNode||!this._focusedItemNext?a!==document.activeElement&&(this._focusedItemNext=this._focusedItem=null):this._focusedItemNext.focus();this._observer.takeRecords()}},_initialize:function(){this._forceDebounce=this._layoutScheduled=this._layouted=
this._loaded=!1;this._debounceId=null;this._items=new Coral.Collection({host:this,itemTagName:"CORAL-MASONRY-ITEM",filter:b});this._newItems=[];this._tabbableItem=null;this._observer=new MutationObserver(this._scheduleLayout.bind(this,"mutation"));this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this._attaching=!0;Coral.commons.nextFrame(function(){this._attaching=!1;this._updateLoaded()}.bind(this))},
_updateLoaded:function(){if(!this._loaded&&"complete"===document.readyState){for(var a=!0,b=this.querySelectorAll("img"),c=0;c<b.length;c++){var d=b[c];if(d.src&&!d.complete&&!d._loadError){a=!1;break}}this._loaded=a}this._scheduleLayout()},_onItemAdded:function(a){a._updateDragAction(this.orderable);this._newItems.push(a);this._attaching&&null===a.nextElementSibling&&this._doLayout("last item attached");this.trigger("coral-collection:add",{item:a})},_onItemRemoved:function(a){a._updateDragAction(!1);
a.classList.remove("is-managed");this.trigger("coral-collection:remove",{item:a})},_onItemFocus:function(a){var c=a.target;c===a.matchedTarget&&(this._setTabbableItem(c),this._focusedItem=c,this._focusedItemNext=[c.nextElementSibling,c.previousElementSibling].filter(b)[0])},_setTabbableItem:function(a){this._tabbableItem&&this._tabbableItem._setTabbable(!1);a&&a._setTabbable(!0);this._tabbableItem=a},_updateDragActions:function(){for(var a=this.items.getAll(),b=0;b<a.length;b++)a[b]._updateDragAction(this.orderable)},
_onItemDragStart:function(a){var b=a.target;if(b===a.matchedTarget){this._layout.detach(b);b._oldBefore=d(b);a=b._dropPlaceholder=new Coral.Masonry.Item;var c=document.createElement("div");c.style.width=b.clientWidth+"px";c.style.height=b.clientHeight+"px";a.appendChild(c);a.classList.add("coral-Masonry-item--placeholder");this.insertBefore(a,b)}},_onItemDragMove:function(a){var b=a.target,d=b._dropPlaceholder;if(b===a.matchedTarget&&d){var e=b._prevDragPos;a=c(this,b);e&&this._isApproachingPlaceholder(a,
e,d)||(e=this._layout.itemAt(a.left,a.top))&&e!==d&&(d.compareDocumentPosition(e)&document.DOCUMENT_POSITION_PRECEDING?e.parentNode.insertBefore(d,e):e.parentNode.insertBefore(d,e.nextSibling));b._prevDragPos=a}},_isApproachingPlaceholder:function(a,b,d){var e=c(this,d),f=d.offsetWidth;d=d.offsetHeight;var h=e.left+f/2;e=e.top+d/2;return Math.sqrt(Math.pow((a.left-h)/f,2)+Math.pow((a.top-e)/d,2))<=Math.sqrt(Math.pow((b.left-h)/f,2)+Math.pow((b.top-e)/d,2))},_onItemDragEnd:function(a){var b=a.target,
c=b._dropPlaceholder;b===a.matchedTarget&&c&&(this.replaceChild(b,c),b.trigger("coral-masonry:order",{item:b,oldBefore:b._oldBefore,before:d(b)},!0,!1),this._layout.reattach(b),b.classList.add("is-dropping"),Coral.commons.transitionEnd(b,function(){b.classList.remove("is-dropping")}));b._oldBefore=null;b._dropPlaceholder=null;b._prevDragPos=null}});a.prototype={layout:function(){},destroy:function(){},detach:function(a){},reattach:function(a){},itemAt:function(a,b){}};Coral.Masonry.Layout=a;Coral.Masonry._layouts=
{};Coral.Masonry.registerLayout=function(a,b){b.prototype.name=a;Coral.Masonry._layouts[a]=b}})();
(function(){Coral.register({name:"Masonry.Item",tagName:"coral-masonry-item",className:"coral-Masonry-item",properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},_removing:{default:!1,sync:function(){this.classList.toggle("is-removing",this._removing)}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-selected",this.selected)}}},_initialize:function(){this._masonry=
null;this.setAttribute("tabindex","-1");this._dragAction=null},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);if(!this._removing){var b=this.parentNode;b&&"CORAL-MASONRY"===b.tagName&&b!==this._masonry&&(this._masonry=b,this.classList.add("is-beforeInserting"),b._onItemAdded(this))}},_insert:function(){this.classList.contains("is-beforeInserting")&&(this.classList.remove("is-beforeInserting"),this.classList.add("is-inserting"),Coral.commons.transitionEnd(this,function(){this.classList.remove("is-inserting")}.bind(this)))},
detachedCallback:function(){if(!this.parentNode){var b=this._masonry;!this._removing&&b?(this._removing=!0,b.appendChild(this),Coral.commons.transitionEnd(this,function(){this.remove()}.bind(this))):(this._removing=!1,this._masonry=null,b&&b._onItemRemoved(this))}Coral.Component.prototype.detachedCallback.call(this)},_setTabbable:function(b){this.setAttribute("tabindex",b?0:-1)},_updateDragAction:function(b){if(b)if(null!==this.getAttribute("coral-masonry-draghandle"))var c=this;else(c=this.querySelector("[coral-masonry-draghandle]"))||
(b=!1);b?(this._dragAction||(this._dragAction=new Coral.DragAction(this),this._dragAction.dropZone=this.parentNode),this._dragAction.handle=c):this._dragAction&&(this._dragAction.destroy(),this._dragAction=null)}})})();
(function(){function b(a,b){return parseFloat(window.getComputedStyle(a)[b],10)}function c(a,b,c,d){b=a[b];void 0===b&&(b=a.getAttribute(c));b=parseInt(b,10);if(0>=b||isNaN(b))b=d;return b}function d(a){Coral.Masonry.Layout.apply(this,arguments);this._columns=[];var b=this._moveFocusVertically.bind(this,!0),c=this._moveFocusVertically.bind(this,!1),d=this._moveFocusHorizontally.bind(this,!0),e=this._moveFocusHorizontally.bind(this,!1),f=this._keys=new Coral.Keys(a,{context:this});f.on("up",b).on("k",
b);f.on("down",c).on("j",c);f.on("left",d).on("h",d);f.on("right",e).on("l",e)}function a(a,b){for(var c=0,d=0;d<b.length;d++)if(c+=b[d]._layoutData.colspan,c>=a.length)return a.length;return c}function e(a){d.apply(this,arguments)}function f(a){d.apply(this,arguments)}function h(a){d.apply(this,arguments)}function g(a){h.apply(this,arguments)}function k(a,b){a.style.setProperty("-webkit-transform",b);a.style.setProperty("-ms-transform",b);a.style.transform=b}function m(a,b){a.style.setProperty("-webkit-transition",
b);a.style.setProperty("-ms-transition",b);a.style.transition=b}d.prototype=Coral.commons.extend(Object.create(Coral.Masonry.Layout.prototype),{layout:function(a){var b=this._masonry,c=b.items.getAll();0<c.length?(this._init(c),this._writeStyles(c),this._readStyles(c),this._positionItems(c)):this._columns.length=0;c=this._getContentHeight();b.style.height=c-this._verSpacing+this._verPadding+"px";a||this._masonryInnerWidth===b.clientWidth?this._postLayout(c):this.layout(!0)},_init:function(a){var d=
a[0],e=this._masonry;this._columnWidth=c(e,"columnWidth","columnwidth",200);this._zeroOffsetLeft=-b(d,"marginLeft");this._masonryInnerWidth=e.clientWidth;var f=this._masonry.spacing;"number"===typeof f?(this._verSpacing=this._horSpacing=f,this._offsetLeft=f+this._zeroOffsetLeft,this._offsetTop=f-b(d,"marginTop"),this._verPadding=2*f,this._masonryAvailableWidth=e.clientWidth-f):(this._horSpacing=b(d,"marginLeft")+b(d,"marginRight"),this._verSpacing=b(d,"marginTop")+b(d,"marginBottom"),this._offsetLeft=
b(e,"paddingLeft"),this._offsetTop=b(e,"paddingTop"),this._verPadding=this._offsetTop+this._verSpacing+b(e,"paddingBottom"),this._masonryAvailableWidth=e.clientWidth-this._offsetLeft-b(e,"paddingRight"));d=Math.max(1,Math.floor(this._masonryAvailableWidth/(this._columnWidth+this._horSpacing)));this._columns.length=d;for(e=0;e<d;e++)this._columns[e]={height:this._offsetTop,items:[]};for(d=0;d<a.length;d++)e=a[d],f=e._layoutData,f||(e._layoutData=f={}),f.colspan=Math.min(c(e,"colspan","colspan",1),
this._columns.length)},_writeStyles:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c._layoutData,e=Math.round(this._getItemWidth(d.colspan));d.width!==e&&(c.style.width=e+"px",d.width=e);this._writeItemStyle(c)}},_getItemWidth:function(a){},_writeItemStyle:function(a){},_readStyles:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c._layoutData;d.height=Math.round(c.getBoundingClientRect().height);d.ignored=d.detached||!c.offsetParent}},_positionItems:function(a){for(var b,c=0;c<a.length;c++){var d=
a[c],e=d._layoutData;if(!e.ignored){var f=this._columns.length-(e.colspan-1),g=-1;for(b=0;b<f;b++){for(var l=this._offsetTop,h=0;h<e.colspan;h++)l=Math.max(l,this._columns[b+h].height);if(-1===g||l<m){g=b;var m=l}}b=m;f=Math.round(this._getItemLeft(g));if(e.left!==f||e.top!==b)e.columnIndex=g,e.itemIndex=this._columns[g].items.length,e.left=f,e.top=b,k(d,"translate("+f+"px, "+b+"px)");f=b+e.height+this._verSpacing;for(b=0;b<e.colspan;b++)l=this._columns[g+b],l.height=f,l.items.push(d)}}},_getItemLeft:function(a){},
_getContentHeight:function(){return this._columns.reduce(function(a,b){return Math.max(a,b.height)},0)-this._offsetTop},_postLayout:function(a){},_moveFocusVertically:function(a,b){var c=b.target._layoutData;c&&(a=this._columns[c.columnIndex].items[c.itemIndex+(a?-1:1)])&&(a.focus(),b.preventDefault())},_moveFocusHorizontally:function(a,b){var c=b.target._layoutData;if(c){if(a=this._columns[c.columnIndex+(a?-1:c.colspan)])for(var d=c.top+c.height,e=0,f=0;f<a.items.length;f++){var g=a.items[f],h=g._layoutData,
l=h.top+h.height;if(c.top<=l&&d>=h.top){if(h=(c.height-Math.max(0,h.top-c.top)-Math.max(0,d-l))/h.height,h>e){e=h;var n=g}}else if(c.top+c.height<h.top)break}n&&(n.focus(),b.preventDefault())}},destroy:function(){this._keys.destroy();for(var a=this._masonry.items.getAll(),b=0;b<a.length;b++){var c=a[b];delete c._layoutData;k(c,"");this._resetItem(c)}},_resetItem:function(a){},detach:function(a){a._layoutData.detached=!0},reattach:function(a){var b=a._layoutData;b.detached=!1;var c=a.getBoundingClientRect();
m(a,"none");a.style.left="";a.style.top="";k(a,"");var d=a.getBoundingClientRect();b.left=c.left-d.left;b.top=c.top-d.top;k(a,"translate("+b.left+"px, "+b.top+"px)");a.getBoundingClientRect();m(a,"")},itemAt:function(a,b){for(var c=this._masonry.items.getAll(),d=0;d<c.length;d++){var e=c[d],f=e._layoutData;if(f&&!f.ignored&&f.left<=a&&f.left+f.width>=a&&f.top<=b&&f.top+f.height>=b)return e}return null}});e.prototype=Coral.commons.extend(Object.create(d.prototype),{_writeStyles:function(b){this._outerColumnWidth=
this._columnWidth+this._horSpacing;var c=a(this._columns,b);this._offsetLeft+=(this._masonryAvailableWidth-c*this._outerColumnWidth)/2;d.prototype._writeStyles.apply(this,arguments)},_getItemWidth:function(a){return this._columnWidth*a+this._horSpacing*(a-1)},_getItemLeft:function(a){return this._offsetLeft+this._outerColumnWidth*a}});Coral.Masonry.registerLayout("fixed-centered",e);f.prototype=Coral.commons.extend(Object.create(d.prototype),{_writeStyles:function(b){var c=this._columns;this._alignLeft=
a(c,b)<c.length;this._alignLeft||(this._horSpacing=(this._masonryInnerWidth-this._columnWidth*c.length)/(c.length+1));d.prototype._writeStyles.apply(this,arguments)},_getItemWidth:function(a){return this._columnWidth*a+this._horSpacing*(a-1)},_getItemLeft:function(a){return this._zeroOffsetLeft+this._columnWidth*a+this._horSpacing*(a+1)}});Coral.Masonry.registerLayout("fixed-spread",f);h.prototype=Coral.commons.extend(Object.create(d.prototype),{_getItemWidth:function(a){return this._masonryAvailableWidth/
this._columns.length*a-this._horSpacing},_getItemLeft:function(a){return this._offsetLeft+this._masonryAvailableWidth*a/this._columns.length}});Coral.Masonry.registerLayout("variable",h);g.prototype=Coral.commons.extend(Object.create(h.prototype),{_writeItemStyle:function(a){this._resetItem(a)},_postLayout:function(a){for(var b=0;b<this._columns.length;b++)for(var c=this._columns[b],d=a+this._offsetTop,e=c.items.length-1;0<=e;e--){var f=c.items[e],g=f._layoutData;g.columnIndex===b&&(f.style.height=
d-g.top-this._verSpacing+"px");d=g.top}},_resetItem:function(a){a.style.height=""}});Coral.Masonry.registerLayout("dashboard",g)})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Multifield=window.Coral.templates.Multifield||{};
window.Coral.templates.Multifield.item=function(b){b=document.createDocumentFragment();var c=this.remove=document.createElement("button","coral-button");c.setAttribute("type","button");c.setAttribute("is","coral-button");c.setAttribute("handle","remove");c.setAttribute("variant","quiet");c.setAttribute("icon","delete");c.setAttribute("iconsize","S");c.className+=" coral-Multifield-remove";b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.move=document.createElement("button",
"coral-button");c.setAttribute("type","button");c.setAttribute("is","coral-button");c.setAttribute("handle","move");c.setAttribute("variant","quiet");c.setAttribute("icon","moveUpDown");c.setAttribute("iconsize","S");c.className+=" coral-Multifield-move";b.appendChild(c);return b};
(function(){var b="content"in document.createElement("template"),c=function(b){Coral.Collection.apply(this,arguments)};c.prototype=Object.create(Coral.Collection.prototype);c.prototype.add=function(b,a){if(this._container&&this._itemTagName)return b instanceof HTMLElement||(b=document.createElement(this._itemTagName).set(b,!0)),!a&&(a=this.last())&&(a=a.nextElementSibling),this._container.insertBefore(b,a||this._container.firstChild),b};Coral.register({name:"Multifield",tagName:"coral-multifield",
className:"coral-Multifield",events:{"coral-dragaction:dragstart coral-multifield-item":"_onDragStart","coral-dragaction:drag coral-multifield-item":"_onDrag","coral-dragaction:dragend coral-multifield-item":"_onDragEnd","click [coral-multifield-add]":"_onAddItemClick","click .coral-Multifield-remove":"_onRemoveItemClick"},properties:{items:{get:function(){this._items||(this._items=new c({host:this,itemTagName:"coral-multifield-item",itemSelector:":scope \x3e coral-multifield-item"}));return this._items},
set:function(){}},template:Coral.property.contentZone({tagName:"template",handle:"template",insert:function(b){this.appendChild(b)},set:function(c){c.set||(c.set=this._internalTemplateSet);if(!b){for(var a=document.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);c.content=a}}})},_onAddItemClick:function(b){(b=b.target.closest("coral-multifield"))&&b===this&&(this.items.add(new Coral.Multifield.Item),this.trigger("change"))},_onRemoveItemClick:function(b){b.matchedTarget.parentNode.parentNode===
this&&(b.matchedTarget.parentNode.remove(),this.trigger("change"))},_onDragStart:function(b){if(b.target.parentNode===this){b=b.detail.dragElement;var a=this.items.getAll(),c=a.indexOf(b);b.classList.add("is-dragging");a.forEach(function(a,b){b<c?a.classList.add("is-before"):b>c&&a.classList.add("is-after")})}},_onDrag:function(b){if(b.target.parentNode===this){var a=this.items.getAll(),c=0;a.length&&(c=parseFloat(window.getComputedStyle(a[0]).marginBottom));a.forEach(function(d){if(!d.classList.contains("is-dragging")){var e=
b.detail.dragElement,f=e.getBoundingClientRect(),k=d.getBoundingClientRect();k=b.detail.pageY<k.top+document.body.scrollTop+k.height/2;f=f.height+c+"px";d.classList.toggle("is-after",k);d.classList.toggle("is-before",!k);d.classList.contains("is-after")&&(d.style.top=a.indexOf(d)<a.indexOf(e)?f:"");d.classList.contains("is-before")&&(e=a.indexOf(d)>a.indexOf(e),d.style.top=e?"-"+f:"")}})}},_onDragEnd:function(b){if(b.target.parentNode===this){b=b.detail.dragElement;var a=[],c=[];this.items.getAll().forEach(function(b){b.classList.contains("is-after")?
c.push(b):b.classList.contains("is-before")&&a.push(b);b.classList.remove("is-dragging","is-after","is-before");b.style.top="";b.style.position=""});var d=b.previousElementSibling,h=c.shift(),g=a.pop();this.trigger("coral-multifield:beforeitemorder",{item:b,oldBefore:d,before:h}).defaultPrevented||(h&&this.insertBefore(b,h),g&&this.insertBefore(b,g.nextElementSibling),this.trigger("coral-multifield:itemorder",{item:b,oldBefore:d,before:h}),this.trigger("change"))}},_render:function(){this.items._startHandlingItems();
var b=this.querySelector("#"+this.id+" \x3e template[coral-multifield-template]");b||(b=document.createElement("template"),b.setAttribute("coral-multifield-template",""),this.appendChild(b));b.set||(b.set=this._internalTemplateSet);this.template=b},_internalTemplateSet:function(b){var a;for(a in b){var c=b[a];this[a]=c}},_renderTemplate:function(c){if(!c.content.firstChild){if(!b){var a=this.template.content.querySelectorAll("template[coral-multifield-template]");Array.prototype.forEach.call(a,function(a){for(;a.content.firstChild;)a.appendChild(a.content.firstChild)})}c.content.appendChild(document.importNode(this.template.content,
!0))}},_initialize:function(){var b=this;b.setAttribute("role","list");var a=function(a){b._renderTemplate(a)};b._observer=new MutationObserver(function(c){c.forEach(function(c){for(var d=0;d<c.addedNodes.length;d++){var e=c.addedNodes[d],f=b.template;f.contains(e)&&f!==e&&(f.content.appendChild(e),b.items.getAll().forEach(a));e.tagName&&"coral-multifield-item"===e.tagName.toLowerCase()&&e.parentNode===b&&b._renderTemplate(e)}})});b._observer.observe(b,{childList:!0,subtree:!0});Coral.commons.ready(b,
function(){b.items.getAll().forEach(a)})}});Coral.register({name:"Multifield.Item",tagName:"coral-multifield-item",className:"coral-Multifield-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-multifield-item-content",defaultContentZone:!0,insert:function(b){this.insertBefore(b,this.firstChild)}})},_render:function(){var b=this.querySelector('[handle\x3d"move"]'),a=this.querySelector('[handle\x3d"remove"]'),c=this.querySelector("coral-multifield-item-content");
if(b&&a&&c)this._elements.move=b,this._elements.remove=a,this.content=c;else{b=document.createDocumentFragment();for(c=c||document.createElement("coral-multifield-item-content");this.firstChild;)c.appendChild(this.firstChild);b.appendChild(Coral.templates.Multifield.item.call(this._elements));this.content=c;this.appendChild(b)}},_initialize:function(){this.setAttribute("role","listitem");var b=new Coral.DragAction(this);b.axis="vertical";b.handle=this._elements.move}});Coral.Multifield.Item.Content=
function(){return document.createElement("coral-multifield-item-content")}})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-numberinput"]={"en-US":{Decrement:"Decrement",Increment:"Increment"},"fr-FR":{Decrement:"D\u00e9cr\u00e9menter",Increment:"Incr\u00e9menter"},"de-DE":{Decrement:"Reduzieren",Increment:"Erh\u00f6hen"},"it-IT":{Decrement:"Decrementare",Increment:"Incrementare"},"es-ES":{Decrement:"Reducir",Increment:"Aumentar"},"pt-BR":{Decrement:"Decrementar",Increment:"Incrementar"},"ja-JP":{Decrement:"\u6e1b\u3089\u3059",Increment:"\u5897\u3084\u3059"},"ko-KR":{Decrement:"\uac10\uc18c",
Increment:"\uc99d\uac00"},"zh-CN":{Decrement:"\u51cf\u91cf",Increment:"\u589e\u91cf"},"zh-TW":{Decrement:"\u6e1b\u91cf",Increment:"\u589e\u91cf"},"nl-NL":{Decrement:"Verlagen",Increment:"Verhogen"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.NumberInput=window.Coral.templates.NumberInput||{};
window.Coral.templates.NumberInput.base=function(b){var c=document.createDocumentFragment();b="undefined"===typeof b?{}:b;b.uid=Coral.commons.getUID();var d=document.createTextNode("\n");c.appendChild(d);d=document.createElement("span");d.className+=" coral-InputGroup-button";d.setAttribute("role","presentation");var a=document.createTextNode("\n  ");d.appendChild(a);a=this.stepUp=document.createElement("button","coral-button");a.className+=" coral3-NumberInput-stepUp";a.setAttribute("type","button");
a.setAttribute("is","coral-button");a.setAttribute("handle","stepUp");a.setAttribute("title",Coral.i18n.get("Increment"));a.setAttribute("aria-label",Coral.i18n.get("Increment"));a.setAttribute("icon","chevronUp");a.setAttribute("iconsize","XS");a.setAttribute("tabindex","-1");a.setAttribute("aria-controls",b.uid);d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=this.stepDown=document.createElement("button","coral-button");a.className+=" coral3-NumberInput-stepDown";a.setAttribute("type",
"button");a.setAttribute("is","coral-button");a.setAttribute("handle","stepDown");a.setAttribute("title",Coral.i18n.get("Decrement"));a.setAttribute("aria-label",Coral.i18n.get("Decrement"));a.setAttribute("icon","chevronDown");a.setAttribute("iconsize","XS");a.setAttribute("tabindex","-1");a.setAttribute("aria-controls",b.uid);d.appendChild(a);a=document.createTextNode("\n  ");d.appendChild(a);a=this.liveregion=document.createElement("span");a.setAttribute("role","presentation");a.setAttribute("handle",
"liveregion");a.setAttribute("aria-live","assertive");a.setAttribute("aria-atomic","true");a.setAttribute("aria-relevant","additions text");a.className+=" u-coral-screenReaderOnly";a.setAttribute("aria-hidden","true");d.appendChild(a);a=document.createTextNode("\n");d.appendChild(a);c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);d=this.input=document.createElement("input","coral-textfield");d.setAttribute("is","coral-textfield");d.setAttribute("handle","input");d.setAttribute("type",
"number");d.className+=" coral3-NumberInput-input coral-InputGroup-input";d.id=b.uid;c.appendChild(d);return c};
(function(){var b,c=!1,d=!1;Coral.register({name:"NumberInput",tagName:"coral-numberinput",className:"coral3-NumberInput coral-InputGroup",mixins:[Coral.mixin.formField],events:{"key:up":"_onKeyUp","key:pageup":"_onKeyUp","key:down":"_onKeyDown","key:pagedown":"_onKeyDown","key:home":"_onKeyHome","key:end":"_onKeyEnd","touchstart [handle\x3dstepUp], [handle\x3dstepDown]":"_onTouchStart","pointerdown [handle\x3dstepUp], [handle\x3dstepDown]":"_onTouchStart","MSPointerDown [handle\x3dstepUp], [handle\x3dstepUp]":"_onTouchStart",
"MSPointerDown [handle\x3dstepDown], [handle\x3dstepDown]":"_onTouchStart","click [handle\x3dstepUp]":"_onStepUpButtonClick","click [handle\x3dstepDown]":"_onStepDownButtonClick",'mousewheel [handle\x3d"input"]':"_onInputMouseWheel",'DOMMouseScroll [handle\x3d"input"]':"_onInputMouseWheel","capture:focus":"_onFocus","capture:blur":"_onBlur"},properties:{value:{transform:function(a){return isNaN(a)?"":String(a)},get:function(){return this._elements.input.value},set:function(a){this._elements.input.value=
a;a=this.getAttribute("value");this._elements.input[a?"setAttribute":"removeAttribute"]("value",a)},alsoSync:["invalid","disabled"],sync:function(){this._elements.input.setAttribute("aria-valuenow",this.value);this._elements.input.setAttribute("aria-valuetext",this.value);d||window.chrome?this._updateLiveRegion(this.value):this._updateLiveRegion();d=!1}},valueAsNumber:{attribute:null,transform:Coral.transform.float,get:function(){return parseFloat(this.value)},set:function(a){this._elements.input.value=
a;this._queueSync("value","invalid","disabled")}},min:{default:null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===this.min?(this._elements.input.removeAttribute("aria-valuemin"),this._elements.input.removeAttribute("min")):(this._elements.input.setAttribute("aria-valuemin",this.min),this._elements.input.min=this.min)}},max:{default:null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===
this.max?(this._elements.input.removeAttribute("aria-valuemax"),this._elements.input.removeAttribute("max")):(this._elements.input.setAttribute("aria-valuemax",this.max),this._elements.input.max=this.max)}},step:{default:1,transform:function(a){return"any"===a?a:Coral.transform.number(a)},validate:[Coral.validate.valueMustChange,function(a,b){return null!==a&&(0<a||"any"===a)}],sync:function(){this._elements.input.step=this.step}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=
a}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);this._elements.input.disabled=this.disabled;this._setButtonState()}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid);this._elements.input.invalid=this.invalid}},readOnly:{sync:function(){this._elements.input.readOnly=this.readOnly;this._setButtonState()}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",
this.labelledBy)}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(a){this._elements.input.placeholder=a}}},reset:function(){this._elements.input.reset()},clear:function(){this._elements.input.clear()},stepUp:function(){var a=this.valueAsNumber,b=this._getActualStep();isNaN(a)?this.value=null!==this.max?Math.min(b,this.max):b:this.value=null!==this.max?Math.min(a+b,this.max):a+b},stepDown:function(){var a=this.valueAsNumber,
b=this._getActualStep();isNaN(a)?this.value=null!==this.min?Math.max(-b,this.min):-b:this.value=null!==this.min?Math.max(a-b,this.min):a-b},_getActualStep:function(){return"any"===this.step?this._properties.step.default:this.step},_validateInputValue:function(){this.invalid=""!==this.value&&(window.isNaN(Number(this.value))||null!==this.max&&this.value>this.max||null!==this.min&&this.value<this.min)},_setButtonState:function(){this._elements.stepUp.disabled=this.disabled||null!==this.max&&this.value>=
this.max||this.readOnly;this._elements.stepDown.disabled=this.disabled||null!==this.min&&this.value<=this.min||this.readOnly},_triggerChange:function(a,b){a!==b&&this.trigger("change")},_onTouchStart:function(a){if("touchstart"===a.type||"mouse"!==a.pointerType&&4!==a.pointerType)c=!0},_setFocusToInput:function(){c||document.activeElement===this._elements.input||this._elements.input.focus();c=!1},_onStepUpButtonClick:function(a){a.preventDefault();var b=this.value;d="click"===a.type;this._setFocusToInput();
this.stepUp();this._validateInputValue();this._triggerChange(this.value,b)},_onStepDownButtonClick:function(a){a.preventDefault();var b=this.value;d="click"===a.type;this._setFocusToInput();this.stepDown();this._validateInputValue();this._triggerChange(this.value,b)},_onKeyHome:function(a){a.preventDefault();this.disabled||this.readOnly||(null!==this.max&&(a=this.value,d=!0,this.value=this.max,this._triggerChange(this.value,a)),this._setFocusToInput())},_onKeyEnd:function(a){a.preventDefault();this.disabled||
this.readOnly||(null!==this.min&&(a=this.value,d=!0,this.value=this.min,this._triggerChange(this.value,a)),this._setFocusToInput())},_onKeyUp:function(a){a.preventDefault();this.disabled||this.readOnly||this._onStepUpButtonClick(a)},_onKeyDown:function(a){a.preventDefault();this.disabled||this.readOnly||this._onStepDownButtonClick(a)},_onInputMouseWheel:function(a){a.preventDefault();if(!this.disabled&&!this.readOnly&&this._elements.input===document.activeElement){var b=this.value;0>Math.max(-1,Math.min(1,
a.wheelDelta||-a.detail||a.deltaY))?this.stepDown():this.stepUp();this._triggerChange(this.value,b)}},_onInputChange:function(a){a.stopPropagation();this._validateInputValue();this._queueSync("value","invalid","disabled");this.trigger("change")},_onFocus:function(a){this.classList.add("is-focused");this._elements.input.classList.add("is-focused");this._elements.liveregion.removeAttribute("role");this._elements.liveregion.removeAttribute("aria-hidden")},_onBlur:function(a){this.contains(document.activeElement)||
(this.classList.remove("is-focused"),this._elements.input.classList.remove("is-focused"));this._elements.liveregion.setAttribute("role","presentation");this._elements.liveregion.setAttribute("aria-hidden",!0);this._clearLiveRegion()},_getLabellableElement:function(){return this._elements.input},_clearLiveRegion:function(){var a=this._elements.liveregion;a.firstChild&&a.removeChild(a.firstChild)},_updateLiveRegion:function(a){var c=this;clearTimeout(b);this._clearLiveRegion();if(a&&""!==a){var d=document.createTextNode(a);
Coral.commons.nextFrame(function(){c._elements.liveregion.appendChild(d);b=setTimeout(c._clearLiveRegion.bind(c),3E3)})}},_initialize:function(){this.setAttribute("role","group");"text"===this._elements.input.type&&this._elements.input.setAttribute("role","spinbutton");this._elements.input.setAttribute("aria-valuenow","");this._elements.input.setAttribute("aria-valuetext","")},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.NumberInput.base.call(this._elements))}})})();
(function(){Coral.register({name:"PanelStack",tagName:"coral-panelstack",className:"coral-PanelStack",mixins:[Coral.mixin.selectionList({itemTagName:"coral-panel",supportMultiple:!1,forceSelection:!1,role:"presentation"})],properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}}}});Coral.register({name:"Panel",tagName:"coral-panel",className:"coral-Panel",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-panelstack",alwaysEnabled:!0,role:"tabpanel"})],
properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-panel-content",defaultContentZone:!0,insert:function(b){this.appendChild(b)}}),selected:{sync:function(){this.setAttribute("aria-hidden",!this.selected)}}},_render:function(){var b=this.querySelector("coral-panel-content");if(null===b)for(b=document.createElement("coral-panel-content");this.firstChild;)b.appendChild(this.firstChild);this.content=b}});Coral.Panel.Content=function(){return document.createElement("coral-panel-content")}})();
window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-quickactions"]={"en-US":{"More actions":"More actions"},"fr-FR":{"More actions":"Autres actions"},"de-DE":{"More actions":"Weitere Aktionen"},"it-IT":{"More actions":"Altre azioni"},"es-ES":{"More actions":"M\u00e1s acciones"},"pt-BR":{"More actions":"Mais a\u00e7\u00f5es"},"ja-JP":{"More actions":"\u305d\u306e\u4ed6\u306e\u30a2\u30af\u30b7\u30e7\u30f3"},"ko-KR":{"More actions":"\ucd94\uac00 \uc791\uc5c5"},"zh-CN":{"More actions":"\u66f4\u591a\u64cd\u4f5c"},
"zh-TW":{"More actions":"\u66f4\u591a\u52d5\u4f5c"},"nl-NL":{"More actions":"Meer acties"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.QuickActions=window.Coral.templates.QuickActions||{};
window.Coral.templates.QuickActions.base=function(b){b=document.createDocumentFragment();var c=this.moreButton=document.createElement("button","coral-button");c.className+=" coral-QuickActions-button";c.setAttribute("is","coral-button");c.setAttribute("type","button");c.setAttribute("icon","more");c.setAttribute("iconsize","S");c.setAttribute("handle","moreButton");c.setAttribute("title",Coral.i18n.get("More actions"));c.setAttribute("role","menuitem");c.setAttribute("aria-haspopup","true");c.setAttribute("aria-label",
Coral.i18n.get("More actions"));b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.overlay=document.createElement("coral-overlay");c.className+=" coral-QuickActions-overlay";c.setAttribute("offset","5");c.setAttribute("placement","bottom");c.setAttribute("target","_prev");c.setAttribute("handle","overlay");b.appendChild(c);return b};
window.Coral.templates.QuickActions.overlaycontent=function(b){b=this.buttonList=document.createElement("coral-buttonlist");b.id=Coral.commons.getUID();b.className+=" coral-QuickActions-buttonList";b.setAttribute("handle","buttonList");b.setAttribute("tabindex","-1");return b};
(function(){var b={ON:"on",OFF:"off"},c={PARENT:"_parent",PREVIOUS:"_prev",NEXT:"_next"},d={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Coral.register({name:"QuickActions",tagName:"coral-quickactions",className:"coral-QuickActions",extend:Coral.Overlay,_overlayAnimationTime:Coral.mixin.overlay.FADETIME,events:{"global:resize":"_onWindowResize",mouseout:"_onMouseOut","capture:blur":"_onBlur","global:click":"_onGlobalClick","global:key:escape":"_onEscapeKeypress","key:home \x3e .coral-QuickActions-button":"_onHomeKeypress",
"key:end \x3e .coral-QuickActions-button":"_onEndKeypress","key:pagedown \x3e .coral-QuickActions-button":"_onButtonKeypressNext","key:right \x3e .coral-QuickActions-button":"_onButtonKeypressNext","key:down \x3e .coral-QuickActions-button":"_onButtonKeypressNext","key:pageup \x3e .coral-QuickActions-button":"_onButtonKeypressPrevious","key:left \x3e .coral-QuickActions-button":"_onButtonKeypressPrevious","key:up \x3e .coral-QuickActions-button":"_onButtonKeypressPrevious",'click \x3e .coral-QuickActions-button:not([handle\x3d"moreButton"])':"_onButtonClick",
"coral-overlay:beforeopen":"_onOverlayBeforeOpen","coral-overlay:beforeclose":"_onOverlayBeforeClose","coral-overlay:open":"_onOverlayOpen","coral-overlay:close":"_onOverlayClose","coral-overlay:positioned":"_onOverlayPositioned","click [coral-list-item]":"_onButtonListItemClick","coral-quickactions-item:_contentchanged":"_onItemChange","coral-quickactions-item:_iconchanged":"_onItemChange","coral-quickactions-item:_hrefchanged":"_onItemChange","coral-quickactions-item:_typechanged":"_onItemTypeChange"},
properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-quickactions-item",onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange}));return this._items},set:function(){}},threshold:{default:4,reflectAttribute:!0,attribute:"threshold",transform:Coral.transform.number},target:{set:function(a){a=this._getTarget(a);var b=a!==this._previousTarget;a&&b&&(this._previousTarget&&(b=this._getTarget(this._previousTarget))&&(this._removeTargetEventListeners(b),
a.removeAttribute("aria-haspopup"),a.removeAttribute("aria-owns")),this._addTargetEventListeners(),a.setAttribute("aria-haspopup","true"),b=(b=a.getAttribute("aria-owns"))&&b.length?b.trim()+" "+this.id:this.id,a.setAttribute("aria-owns",b),this._previousTarget=a)}},interaction:{default:b.ON,set:function(a){this._interaction=a;a===b.ON?this._addTargetEventListeners():this._removeTargetEventListeners()}},alignMy:{default:Coral.Overlay.align.CENTER_TOP},alignAt:{default:Coral.Overlay.align.CENTER_TOP},
offset:{default:10},placement:{validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],set:function(a){var b=this._placementAlignValues[a];this.alignMy=b.alignMy;this.alignAt=b.alignAt;this._placement=a}},open:{sync:function(){var a=this;if(this.open&&!this._openedBefore){for(var b=this.items.getAll(),c=0,d=b.length;c<d;c++)this._attachItem(b[c],c);this._openedBefore=!0}var g=function(){a.style.marginTop=""};a.open?(clearTimeout(this._slideTimeout),g(),a._layout(),a.style.marginTop=
"-5px",Coral.commons.nextFrame(function(){a.style.visibility="visible";a.focus()})):Coral.commons.nextFrame(function(){a._overlayAnimationTime?a._slideTimeout=setTimeout(g,a._overlayAnimationTime):g()});(b=this._getTarget())&&b.classList.toggle("is-selected",this.open)}}},focus:function(){var a=this._getFirstFocusableButton();a&&a.focus()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this.target=this.target},_getTarget:function(a){a=a||this.target;if(a instanceof
Node)return a;var b=null;"string"===typeof a&&(b=a===c.PARENT?this.parentNode:Coral.Overlay.prototype._getTarget.call(this,a));return b},_addTargetEventListeners:function(a){(a=a?a:this._getTarget())&&this.interaction===b.ON&&(a.addEventListener("mouseenter",this._onTargetMouseEnter),a.addEventListener("keyup",this._onTargetKeyUp),a.addEventListener("keydown",this._onTargetKeyDown),a.addEventListener("mouseleave",this._onTargetMouseLeave))},_removeTargetEventListeners:function(a){if(a=a?a:this._getTarget())a.removeEventListener("mouseenter",
this._onTargetMouseEnter),a.removeEventListener("keyup",this._onTargetKeyUp),a.removeEventListener("keydown",this._onTargetKeyDown),a.removeEventListener("mouseleave",this._onTargetMouseLeave)},_toggleTabbable:function(a,b){a&&(b?a.hasAttribute("tabIndex")&&a.removeAttribute("tabIndex"):a.setAttribute("tabIndex","-1"))},_getFocusableNeighbour:function(a,b){for(var c=this._getFocusableButtons(),d=[],e=0,k=d.length=c.length;e<k;e++)d[e]=c[e];a=d.indexOf(a);if(0<=a)if(!b){if(a<d.length-1)return d[a+
1]}else if(0!==a)return d[a-1]},_getButtons:function(a){return this.querySelectorAll(a?'.coral-QuickActions-button:not([handle\x3d"moreButton"])':".coral-QuickActions-button")},_getFocusableButtons:function(){return this.querySelectorAll(".coral-QuickActions-button:not([disabled]):not([hidden])")},_getFirstFocusableButton:function(){return this.querySelector(".coral-QuickActions-button:not([disabled]):not([hidden])")},_proxyClick:function(a){a.trigger("click").defaultPrevented||this.interaction!==
b.ON||this.hide()},_getItemData:function(a){return{htmlContent:a.innerHTML,textContent:a.textContent,icon:a.getAttribute("icon")||""}},_attachItem:function(a,b){if(a._elements.button)this._updateItem(a);else{"undefined"===typeof b&&(b=Array.prototype.indexOf.call(this.items.getAll(),a));var c=this._getItemData(a),d=Coral.QuickActions.Item.type,e;a.type===d.BUTTON?e=(new Coral.Button).set({icon:c.icon,iconsize:Coral.Icon.size.SMALL,type:"button"},!0):a.type===d.ANCHOR&&(e=(new Coral.AnchorButton).set({icon:c.icon,
iconsize:Coral.Icon.size.SMALL,href:a.href},!0));e.classList.add("coral-QuickActions-button");e.setAttribute("tabindex","-1");e.setAttribute("title",c.textContent.trim());e.setAttribute("aria-label",c.textContent.trim());e.setAttribute("role","menuitem");this.insertBefore(e,this.children[b]||null);if(a.type===d.BUTTON)var k=new Coral.ButtonList.Item;else a.type===d.ANCHOR&&(k=new Coral.AnchorList.Item,k.href=a.href);d=this._elements.buttonList;d.insertBefore(k,d.children[b]||null);k.tabIndex=-1;k.content.innerHTML=
c.htmlContent;k.icon=c.icon;a._elements.button=e;a._elements.buttonListItem=k;k._elements.quickActionsItem=a;e._elements.quickActionsItem=a}},_layout:function(){this._setWidth();var a=this._getButtons(!0);if(a.length){var b=this._elements.buttonList.items.getAll(),c=this.style.display,d=!1;this.open||(this.style.left-=1E4,this.style.top-=1E4,this.style.display="block",d=!0);var g=this.offsetWidth-10,k=window.getComputedStyle(a[0],null).getPropertyValue("min-width");k=Math.round(parseFloat(k,10))+
10;for(var m=0,l=0;g>l;)l+=k,g>l&&m++;var n=0<this.threshold;l=n&&a.length>this.threshold;n=(l=a.length>m||l)&&n&&this.threshold+1<m;m=l?n?this.threshold+1:m:a.length;for(n=0;n<a.length;n++)this._toggleTabbable(a[n],!1),a[n].show(),b[n].show();this._toggleTabbable(this._elements.moreButton,!1);if(l){if(0<m){for(l=m-1;l<a.length;l++)a[l].hide();for(l=0;l<m-1;l++)b[l].hide();this._toggleTabbable(a[0],!0)}else this._toggleTabbable(this._elements.moreButton,!0);this._elements.moreButton.show()}else this._toggleTabbable(a[0],
!0),this._elements.moreButton.hide();this.style.paddingLeft=Math.round((g-m*k)/2)+"px";d&&(this.style.left+=1E4,this.style.top+=1E4,this.style.display=c);this._position()}},_setWidth:function(){var a=this._getTarget();a&&(this.style.width=a.offsetWidth+"px")},_setButtonListHeight:function(){this._elements.buttonList.style.height="";var a=window.getComputedStyle(this._elements.buttonList),b=parseInt(a.height,10);a=parseInt(a.maxHeight,10);b<a&&(this._elements.buttonList.style.height=b-1+"px")},_isInternalToComponent:function(a){var b=
this._getTarget();return a&&(this.contains(a)||b&&b.contains(a))},_onWindowResize:function(){this._layout()},_onMouseOut:function(a){this._isInternalToComponent(a.toElement||a.relatedTarget)||this.interaction!==b.ON||this.hide()},_onBlur:function(a){var c=this,d=a.toElement||a.relatedTarget;this.interaction===b.ON&&(d?c._isInternalToComponent(d)||this.hide():Coral.commons.nextFrame(function(){d=document.activeElement;c._isInternalToComponent(d)||c.hide()}))},_onTargetMouseEnter:function(a){a=a.fromElement||
a.relatedTarget;this.open||this._isInternalToComponent(a)||this.show()},_onTargetKeyUp:function(a){var c=a.keyCode;(a.shiftKey&&121===c||a.ctrlKey&&32===c)&&!this.open&&(this.interaction===b.ON&&(this._previousTrapFocus=this.trapFocus,this._previousReturnFocus=this.returnFocus,this.trapFocus=Coral.mixin.overlay.trapFocus.ON,this.returnFocus=Coral.mixin.overlay.returnFocus.ON),this.show())},_onTargetKeyDown:function(a){var b=a.keyCode;(a.shiftKey&&121===b||a.ctrlKey&&32===b)&&a.preventDefault()},_onTargetMouseLeave:function(a){this._isInternalToComponent(a.toElement||
a.relatedTarget)||this.hide()},_onEscapeKeypress:function(a){this.interaction===b.ON&&(this._elements.overlay.open&&this._elements.overlay._isTopOverlay()?this._elements.overlay.hide():this.open&&this._isTopOverlay()&&this.hide())},_onHomeKeypress:function(a){a.preventDefault();(a=this._getFirstFocusableButton())&&a.focus()},_onEndKeypress:function(a){a.preventDefault();a=this._getFocusableButtons();(a=a[a.length-1])&&a.focus()},_onButtonKeypressNext:function(a){a.preventDefault();(a=this._getFocusableNeighbour(a.matchedTarget))&&
a.focus()},_onButtonKeypressPrevious:function(a){a.preventDefault();(a=this._getFocusableNeighbour(a.matchedTarget,!0))&&a.focus()},_onButtonClick:function(a){var b=this;a.stopPropagation();b._preventClick||(b._proxyClick(a.matchedTarget._elements.quickActionsItem),setTimeout(function(){b._preventClick=!1},b._overlayAnimationTime),b._preventClick=!0)},_onGlobalClick:function(a){this._elements.moreButton.contains(a.target)?this._elements.overlay.open=!this._elements.overlay.open:this._elements.overlay.contains(a.target)||
(this._elements.overlay.open=!1)},_onOverlayBeforeOpen:function(a){a.target===this?(this._preventClick=!1,this._layout()):a.target===this._elements.overlay&&(a.stopImmediatePropagation(),this._setButtonListHeight())},_onOverlayBeforeClose:function(a){a.target===this._elements.overlay&&a.stopImmediatePropagation()},_onOverlayOpen:function(a){var b=this;a.target===this._elements.overlay&&(a.stopImmediatePropagation(),Coral.commons.nextFrame(function(){var a=b._elements.buttonList.items.getAll().filter(function(a){return!a.hasAttribute("hidden")&&
!a.hasAttribute("disabled")});0<a.length&&a[0].focus()}))},_onOverlayClose:function(a){var b=this;a.target===b?(b._elements.overlay.open=!1,Coral.commons.nextFrame(function(){b._previousTrapFocus&&(b.trapFocus=b._previousTrapFocus,b._previousTrapFocus=void 0);b._previousReturnFocus&&(b.returnFocus=b._previousReturnFocus,b._previousReturnFocus=void 0)})):a.target===b._elements.overlay&&a.stopImmediatePropagation()},_onOverlayPositioned:function(a){this.style.maxWidth="none";a.target===this._elements.overlay&&
a.stopImmediatePropagation()},_onButtonListItemClick:function(a){a.stopImmediatePropagation();(a=a.matchedTarget)&&this._proxyClick(a._elements.quickActionsItem)},_onItemRemoved:function(a){this._removeItemElements(a)},_onCollectionChange:function(a,b){if(this._openedBefore){b=this.items.getAll();for(var c,d=0,e=a.length;d<e;d++)c=Array.prototype.indexOf.call(b,a[d]),this._attachItem(a[d],c);this._layout()}},_onItemChange:function(a){a.stopImmediatePropagation();this._updateItem(a.target)},_onItemTypeChange:function(a){a.stopImmediatePropagation();
a=a.target;this._removeItemElements(a);this._attachItem(a);this._layout()},_removeItemElements:function(a){a._elements.button&&(a._elements.button.remove(),a._elements.button._elements.quickActionsItem=void 0,a._elements.button=void 0);a._elements.buttonListItem&&(a._elements.buttonListItem.remove(),a._elements.buttonListItem._elements.quickActionsItem=null,a._elements.buttonListItem=void 0)},_updateItem:function(a){var b=this._getItemData(a),c=Coral.QuickActions.Item.type,d=a._elements.button;d&&
(d.icon=b.icon,d.setAttribute("title",b.textContent.trim()),d.setAttribute("aria-label",b.textContent.trim()),d[a.type===c.ANCHOR?"setAttribute":"removeAttribute"]("href",a.href));if(d=a._elements.buttonListItem)d.content.innerHTML=b.htmlContent,d[a.type===c.ANCHOR?"setAttribute":"removeAttribute"]("href",a.href),d.icon=b.icon},_render:function(){this.id=this.id||Coral.commons.getUID();this.insertBefore(Coral.templates.QuickActions.base.call(this._elements),this.firstElementChild||null);this._elements.overlay.appendChild(Coral.templates.QuickActions.overlaycontent.call(this._elements));
this._onTargetMouseEnter=this._onTargetMouseEnter.bind(this);this._onTargetKeyUp=this._onTargetKeyUp.bind(this);this._onTargetMouseLeave=this._onTargetMouseLeave.bind(this)},_initialize:function(){this._openedBefore=!1;this.setAttribute("tabIndex","-1");this.setAttribute("role","menu");this.items._startHandlingItems()},_placementAlignValues:{top:{alignMy:"center top",alignAt:"center top"},center:{alignMy:"center center",alignAt:"center center"},bottom:{alignMy:"center bottom",alignAt:"center bottom"}}});
Coral.QuickActions.target=c;Coral.QuickActions.interaction=b;Coral.QuickActions.placement=d})();
(function(){var b={BUTTON:"button",ANCHOR:"anchor"};Coral.register({name:"QuickActions.Item",tagName:"coral-quickactions-item",properties:{content:{contentZone:!0,get:function(){return this},set:function(){}},href:{default:"",reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-quickactions-item:_hrefchanged"},icon:{default:"",reflectAttribute:!0,transform:Coral.transform.string,trigger:"coral-quickactions-item:_iconchanged"},type:{default:b.BUTTON,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(b)],trigger:"coral-quickactions-item:_typechanged"}},_onMutation:function(){this.trigger("coral-quickactions-item:_contentchanged")},_initialize:function(){this._observer=new MutationObserver(this._onMutation.bind(this));this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})}});Coral.QuickActions.Item.type=b})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-search"]={"it-IT":{"Clear search":"Azzera ricerca"},"ja-JP":{"Clear search":"\u691c\u7d22\u3092\u30af\u30ea\u30a2"},"es-ES":{"Clear search":"Borrar b\u00fasqueda"},"ko-KR":{"Clear search":"\uac80\uc0c9 \uc9c0\uc6b0\uae30"},"zh-CN":{"Clear search":"\u6e05\u9664\u641c\u7d22"},"zh-TW":{"Clear search":"\u6e05\u9664\u641c\u5c0b"},"pt-BR":{"Clear search":"Limpar busca"},"nl-NL":{"Clear search":"Zoekopdracht wissen"},"en-US":{"Clear search":"Clear search"},"de-DE":{"Clear search":"Suche l\u00f6schen"},
"fr-FR":{"Clear search":"Effacer la recherche"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.search=window.Coral.templates.search||{};
window.Coral.templates.search.base=function(b){b=document.createDocumentFragment();var c=this.icon=document.createElement("coral-icon");c.className+=" coral-DecoratedTextfield-icon";c.setAttribute("size","S");c.setAttribute("handle","icon");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.input=document.createElement("input","coral-textfield");c.setAttribute("type","text");c.className+=" coral-DecoratedTextfield-input coral-Search-input";c.setAttribute("is","coral-textfield");
c.setAttribute("handle","input");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.clearButton=document.createElement("button","coral-button");c.setAttribute("type","button");c.setAttribute("aria-label",Coral.i18n.get("Clear search"));c.setAttribute("is","coral-button");c.setAttribute("variant","minimal");c.setAttribute("icon","close");c.setAttribute("iconsize","XS");c.className+=" coral-DecoratedTextfield-button";c.setAttribute("handle","clearButton");b.appendChild(c);return b};
(function(){var b={DEFAULT:"default",QUIET:"quiet"};Coral.register({name:"Search",tagName:"coral-search",className:"coral-Search coral-DecoratedTextfield",mixins:[Coral.mixin.formField],events:{"keydown [handle\x3dinput]":"_onEnterKey","keyup [handle\x3dinput]":"_onKeyUp","input [handle\x3dinput]":"_triggerInputEvent","key:escape [handle\x3dinput]":"_clearInput","click [handle\x3dclearButton]:not(:disabled)":"_clearInput"},properties:{value:{get:function(){return this._elements.input.value},set:function(b){this._elements.input.value=
b}},name:{get:function(){return this._elements.input.name},set:function(b){this._elements.input.name=b}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);this._elements.input.disabled=this.disabled;this._elements.clearButton.disabled=this.disabled}},invalid:{sync:function(){this.classList.toggle("is-invalid",this.invalid);this._elements.input.classList.toggle("is-invalid",this.invalid);this._elements.input.setAttribute("aria-invalid",this.invalid)}},required:{sync:function(){this._elements.input.required=
this.required}},labelledBy:{sync:function(){this.labelledBy?this.setAttribute("aria-labelledby",this.labelledBy):this.removeAttribute("aria-labelledby")}},placeholder:{default:"",reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(b){this._elements.input.placeholder=b}},icon:{default:"search",validate:[],reflectAttribute:!0,set:function(b){this._elements.icon.icon=b;this._elements.icon.hidden=!this._elements.icon.icon},get:function(){return this._elements.icon.icon}},
variant:{default:b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this._elements.input.variant=this.variant}}},_triggerInputEvent:function(){this.trigger("coral-search:input")},_onEnterKey:function(b){13===b.which&&(b.preventDefault(),this.disabled||this.trigger("coral-search:submit"))},_onKeyUp:function(b){this._updateClearButton()},_updateClearButton:function(){this._elements.clearButton.style.display=""===this._elements.input.value?"none":""},_clearInput:function(b){this._elements.input.value=
"";this._updateClearButton();this._elements.input.focus();this.trigger("coral-search:clear")},_getLabellableElement:function(){return this._elements.input},_initialize:function(){this._updateClearButton()},_render:function(){this.appendChild(Coral.templates.search.base.call(this._elements))}});Coral.Search.variant=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.StepList=window.Coral.templates.StepList||{};
window.Coral.templates.StepList.step=function(b){b=document.createDocumentFragment();var c=this.stepMarkerContainer=document.createElement("span");c.className+=" coral-Step-markerContainer";c.setAttribute("handle","stepMarkerContainer");var d=document.createTextNode("\n  ");c.appendChild(d);d=document.createElement("span");d.className+=" coral-Step-marker";c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.tooltip=
document.createElement("coral-tooltip");c.setAttribute("handle","tooltip");c.setAttribute("target","_prev");c.setAttribute("placement","top");c.setAttribute("variant","inspect");c.setAttribute("interaction","off");c.setAttribute("offset","5");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=document.createElement("span");c.className+=" coral-Step-line";b.appendChild(c);return b};
(function(){function b(a){if(a instanceof Node)return a;var b=null;"string"===typeof a&&""!==a.trim()&&(b=document.querySelector(a));return b}var c={ON:"on",OFF:"off"},d={SMALL:"S",LARGE:"L"};Coral.register({name:"StepList",tagName:"coral-steplist",className:"coral-StepList",mixins:[Coral.mixin.selectionList({itemTagName:"coral-step",supportMultiple:!1,forceSelection:!0,role:"tablist"})],events:{'click \x3e coral-step \x3e [handle\x3d"stepMarkerContainer"]':"_onStepMarkerClick","click \x3e coral-step \x3e coral-step-label":"_onStepMarkerClick",
"capture:focus \x3e coral-step":"_onStepMarkerMouseEnter","capture:mouseenter \x3e coral-step":"_onStepMarkerMouseEnter","capture:blur \x3e coral-step":"_onStepMarkerMouseLeave","capture:mouseleave \x3e coral-step":"_onStepMarkerMouseLeave","key:enter \x3e coral-step":"_onStepKeyboardSelect","key:space \x3e coral-step":"_onStepKeyboardSelect","key:home \x3e coral-step":"_onHomeKey","key:end \x3e coral-step":"_onEndKey","key:pagedown \x3e coral-step":"_selectNextItem","key:right \x3e coral-step":"_selectNextItem",
"key:down \x3e coral-step":"_selectNextItem","key:pageup \x3e coral-step":"_selectPreviousItem","key:left \x3e coral-step":"_selectPreviousItem","key:up \x3e coral-step":"_selectPreviousItem"},properties:{target:{default:null,validate:function(a){return null===a||"string"===typeof a||a instanceof Node},sync:function(){var a=b(this.target);if(a){var c=this.items.getAll();a=a.items?a.items.getAll():a.children;for(var d=Math.max(c.length,a.length),h,g,k=0;k<d;k++)h=c[k],g=a[k],h&&h.target&&""!==h.target.trim()||
(h&&g?(h.id=h.id||Coral.commons.getUID(),g.id=g.id||Coral.commons.getUID(),h.setAttribute("aria-controls",g.id),g.setAttribute("aria-labelledby",h.id)):h?h.removeAttribute("aria-controls"):g.removeAttribute("aria-labelledby"))}}},size:{default:d.LARGE,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:function(){this.classList.toggle("coral-StepList--small",this.size===d.SMALL)}},interaction:{default:c.OFF,
reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){var a=this.interaction===c.ON;this.classList.toggle("coral-StepList--interactive",a);for(var b=this.items.getAll(),d=b.length,h=0;h<d;h++)b[h]._syncTabIndex(a)}}},_onSelectionChange:function(a,b){this._setStateClasses()},_setStateClasses:function(){var a=Infinity;this.items.getAll().forEach(function(b,c){b.hasAttribute("selected")&&(a=c);b.classList.toggle("is-complete",c<a)})},_onStepKeyboardSelect:function(a){this.interaction===
c.ON&&(a.preventDefault(),a.stopPropagation(),this._selectAndFocusItem(a.matchedTarget))},_onStepMarkerClick:function(a){this.interaction===c.ON&&(a.preventDefault(),a.stopPropagation(),this._selectAndFocusItem(a.matchedTarget.parentNode))},_onStepMarkerMouseEnter:function(a){this.size===d.SMALL&&(a=a.matchedTarget,""!==a._elements.label.innerHTML.trim()&&(a._elements.tooltip.content.innerHTML=a._elements.label.innerHTML,a._elements.tooltip.open=!0))},_onStepMarkerMouseLeave:function(a){this.size===
d.SMALL&&(a.matchedTarget._elements.tooltip.open=!1)},_onHomeKey:function(a){this.interaction===c.ON&&(a.preventDefault(),a=this.items.getFirstSelectable(),this._selectAndFocusItem(a))},_onEndKey:function(a){this.interaction===c.ON&&(a.preventDefault(),a=this.items.getLastSelectable(),this._selectAndFocusItem(a))},_selectNextItem:function(a){this.interaction===c.ON&&(a.preventDefault(),this.next())},_selectPreviousItem:function(a){this.interaction===c.ON&&(a.preventDefault(),this.previous())},_selectAndFocusItem:function(a){a&&
(this._selectItem(a),a.focus())},_initialize:function(){this.setAttribute("aria-multiselectable","false");this._setStateClasses()},next:function(){var a=this.selectedItem;a&&(a=this.items.getNextSelectable(a),this._selectAndFocusItem(a))},previous:function(){var a=this.selectedItem;a&&(a=this.items.getPreviousSelectable(a),this._selectItem(a),a.focus())}});Coral.StepList.size=d;Coral.StepList.interaction=c;Coral.register({name:"Step",tagName:"coral-step",className:"coral-Step",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-steplist",
role:"tab",alwaysEnabled:!0})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-step-label",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),selected:{sync:function(){this.classList.toggle("is-selected",this.selected);this.setAttribute("aria-selected",this.selected);var a=this.parentNode;a&&this._syncTabIndex(a.interaction===c.ON);if(this.selected){var d=b(this.target);d?d.setAttribute("selected",""):a&&a.target&&(d=b(a.target))&&(a=a.items.getAll().indexOf(this),
(d=(d.items?d.items.getAll():d.children)[a])&&d.setAttribute("selected",""))}}},target:{default:null,validate:function(a){return null===a||"string"===typeof a||a instanceof Node},sync:function(){var a=b(this.target);a&&(this.setAttribute("aria-controls",a.id),a.setAttribute("aria-labelledby",this.id))}}},_syncTabIndex:function(a){a?(this.setAttribute("tabindex",this.selected?"0":"-1"),this.removeAttribute("aria-readonly")):(this.removeAttribute("tabindex"),this.setAttribute("aria-readonly","true"))},
_render:function(){var a=this.querySelector("coral-step-label");if(null===a)for(a=document.createElement("coral-step-label");this.firstChild;)a.appendChild(this.firstChild);this.label=a;a=this.querySelector("coral-tooltip");null===a?this.appendChild(Coral.templates.StepList.step.call(this._elements)):this._elements.tooltip=a},_initialize:function(){this.id=this.id||Coral.commons.getUID()}});Coral.register({name:"Step.Label",tagName:"coral-step-label",className:"coral-Step-label"})})();
window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Switch=window.Coral.templates.Switch||{};
window.Coral.templates.Switch.base=function(b){b=document.createDocumentFragment();var c=this.input=document.createElement("input");c.className+=" coral3-Switch-input";c.setAttribute("handle","input");c.setAttribute("type","checkbox");c.id=Coral.commons.getUID();b.appendChild(c);c=this.label=document.createElement("span");c.className+=" coral3-Switch-label";c.setAttribute("handle","label");c.setAttribute("aria-hidden","true");b.appendChild(c);return b};
(function(){Coral.register({name:"Switch",tagName:"coral-switch",className:"coral3-Switch",mixins:[Coral.mixin.formField],properties:{checked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,set:function(b){this._checked=b;this._elements.input.checked=b}},value:{default:"on",get:function(){return this._elements.input.value},set:function(b){this._elements.input.value=b}},name:{get:function(){return this._elements.input.name},set:function(b){this._elements.input.name=
b}},disabled:{sync:function(){this.classList.toggle("is-disabled",this.disabled);this._elements.input.disabled=this.disabled}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",clear:function(){this.checked=!1},reset:function(){this.checked=this._initialCheckedState},_render:function(){var b=document.createDocumentFragment();for(b.appendChild(Coral.templates.Switch.base.call(this._elements));this.firstChild;){var c=
this.firstChild;c.nodeType===Node.TEXT_NODE||c.hasAttribute&&!c.hasAttribute("handle")?b.appendChild(c):this.removeChild(c)}this.appendChild(b)},_initialize:function(){this._initialCheckedState=this.checked}})})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Table=window.Coral.templates.Table||{};
window.Coral.templates.Table.base=function(b){b=document.createDocumentFragment();var c=this.container=document.createElement("div");c.setAttribute("handle","container");c.className+=" coral-Table-wrapper-container";c.setAttribute("role","presentation");var d=document.createTextNode("\n  ");c.appendChild(d);d=this.table=document.createElement("table");d.setAttribute("handle","table");d.className+=" coral-Table";d.setAttribute("role","grid");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);
b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){function b(a){var b=a.parentNode;return b?Array.prototype.indexOf.call(b.children,a):-1}function c(a,b,c){var d=[];if(c){var e=0===c.indexOf("next")?"nextElementSibling":"previousElementSibling";if(-1!==c.indexOf("Until"))for(;a[e]&&("string"===typeof b?!a[e].matches(b):a[e]!==b);)d.push(a=a[e]);else if(-1!==c.indexOf("All"))for(;a[e];)a=a[e],a.matches(b)&&d.push(a);else return(c=a[e])&&c.matches(b)?c:null}else["previousElementSibling","nextElementSibling"].forEach(function(c){for(var e=
a;e[c];)e=e[c],e.matches(b)&&d.push(e)});return d}var d={DEFAULT:"default",LIST:"list"},a=[],e;for(e in d)a.push("coral-Table-wrapper--"+d[e]);var f=-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")||-1!==window.navigator.userAgent.indexOf("Edge"),h=Coral.Keys.keyToCode("space"),g=document.documentElement;if(-1!==g.className.indexOf("wf-inactive")||-1!==g.className.indexOf("wf-loading")){var k=new MutationObserver(function(){-1!==g.className.indexOf("wf-active")&&
(k.disconnect(),(new window.Vent(g)).dispatch("coral-commons:_webfontload"))}.bind(this));k.observe(g,{attributes:!0,attributeFilter:["class"]})}var m=function(a){this._table=a};m.prototype=Object.create(Coral.Collection.prototype);m.prototype.add=function(a,b){if(!(a instanceof HTMLElement)){var c=a;a=document.createElement("tr","coral-table-row");a.set(c,!0)}c=this._table._elements.body;c||(c=document.createElement("tbody","coral-table-body"),this._table._elements.table.appendChild(c));return c.insertBefore(a,
b||null)};m.prototype.getAll=function(){return this._table._getRows(["body"])};Coral.register({name:"Table",tagName:"coral-table",className:"coral-Table-wrapper",baseTagName:"table",extend:HTMLTableElement,events:{"global:coral-commons:_webfontload":"_resetLayout","change [coral-table-select]":"_onSelectAll",'capture:scroll [handle\x3d"container"]':"_onScroll",'click thead[is\x3d"coral-table-head"] th[is\x3d"coral-table-headercell"]':"_onHeaderCellSort",'coral-dragaction:dragstart thead[is\x3d"coral-table-head"] th[is\x3d"coral-table-headercell"]':"_onHeaderCellDragStart",
'coral-dragaction:drag thead[is\x3d"coral-table-head"] tr[is\x3d"coral-table-row"] \x3e th[is\x3d"coral-table-headercell"]':"_onHeaderCellDrag",'coral-dragaction:dragend thead[is\x3d"coral-table-head"] tr[is\x3d"coral-table-row"] \x3e th[is\x3d"coral-table-headercell"]':"_onHeaderCellDragEnd",'key:enter th[is\x3d"coral-table-headercell"]':"_onHeaderCellSort",'key:space th[is\x3d"coral-table-headercell"]':"_onHeaderCellSort",'click tbody[is\x3d"coral-table-body"] [coral-table-rowselect]':"_onRowSelect",
'click tbody[is\x3d"coral-table-body"] [coral-table-rowlock]':"_onRowLock",'click tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"][selectable] [coral-table-cellselect]':"_onCellSelect",'capture:mousedown tbody[is\x3d"coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'capture:touchstart tbody[is\x3d"coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'coral-dragaction:dragstart tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowDragStart",
'coral-dragaction:drag tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowDrag",'coral-dragaction:dragover tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowDragOver",'coral-dragaction:dragend tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowDragEnd",'mousedown tbody[is\x3d"coral-table-body"] [coral-table-rowselect]':"_onRowDown",'key:enter tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowSelect",'key:space tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onRowSelect",
'key:pageup tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusPreviousItem",'key:pagedown tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusNextItem",'key:left tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusPreviousItem",'key:right tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusNextItem",'key:up tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusPreviousItem",'key:down tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusNextItem",
'key:home tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusFirstItem",'key:end tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onFocusLastItem",'key:shift+pageup tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectPreviousItem",'key:shift+pagedown tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectNextItem",'key:shift+left tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectPreviousItem",'key:shift+right tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectNextItem",
'key:shift+up tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectPreviousItem",'key:shift+down tbody[is\x3d"coral-table-body"] tr[is\x3d"coral-table-row"]':"_onSelectNextItem","coral-table-row:_multiplechanged":"_onRowMultipleChanged","coral-table-row:_beforeselectedchanged":"_onBeforeRowSelectionChanged","coral-table-row:_selectedchanged":"_onRowSelectionChanged","coral-table-row:_lockedchanged":"_onRowLockedChanged","coral-table-row:_change":"_onRowChange","coral-table-row:_contentchanged":"_onRowContentChanged",
"coral-table-headercell:_contentchanged":"_resetLayout","coral-table-head:_contentchanged":"_onHeadContentChanged","coral-table-body:_contentchanged":"_onBodyContentChanged","coral-table-body:_empty":"_onBodyEmpty","coral-table-column:_fixedwidthchanged":"_resetLayout","coral-table-column:_fixedwidthsync":"_onFixedWidthSync","coral-table-column:_orderablesync":"_onColumnOrderableSync","coral-table-column:_sortablesync":"_onColumnSortableSync","coral-table-column:_sortabledirectionsync":"_onColumnSortableDirectionSync",
"coral-table-column:_hiddensync":"_onColumnHiddenSync","coral-table-column:_beforecolumnsort":"_onBeforeColumnSort","coral-table-column:_sort":"_onColumnSort","coral-table-head:_stickysync":"_onHeadStickySync"},properties:{head:{contentZone:!0,set:function(a){this._setContentZone(a,"head",Coral.Table.Head,"CORAL-TABLE-HEAD",function(){this._elements.table.tHead=a})},get:function(){return this._elements.head}},body:{contentZone:!0,set:function(a){this._setContentZone(a,"body",Coral.Table.Body,"CORAL-TABLE-BODY",
function(){var b=this._elements.table,c=this._elements.body;c&&c.parentNode&&c.parentNode.removeChild(c);b.appendChild(a)})},get:function(){return this._elements.body}},foot:{contentZone:!0,set:function(a){this._setContentZone(a,"foot",Coral.Table.Foot,"CORAL-TABLE-FOOT",function(){this._elements.table.tFoot=a})},get:function(){return this._elements.foot}},columns:{contentZone:!0,set:function(a){this._setContentZone(a,"columns",HTMLTableColElement,"HTMLTableColElement",function(){var b=this._elements.table,
c=this._elements.colgroup;c&&c.parentNode&&b.removeChild(c);b.insertBefore(a,b.firstElementChild)})},get:function(){return this._elements.colgroup}},variant:{default:d.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:function(){this.classList.remove.apply(this.classList,a);this.classList.add("coral-Table-wrapper--"+this.variant)}},selectable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){var a=
this._getRows(["body"]);if(this.selectable)a.length&&a[0].setAttribute("tabindex","0"),a.forEach(function(a){a._toggleSelectable(!0)});else{var b=this._getFocusableItem();b&&b.removeAttribute("tabindex");a.forEach(function(a){a._toggleSelectable(!1)});this.trigger("coral-table:change",{selection:[],oldSelection:this._oldSelection});this._oldSelection=[];this._lastSelectedItems.items=[]}}},orderable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this._getRows(["body"]).forEach(function(a){a._toggleOrderable(this.orderable)}.bind(this))}},multiple:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._elements.body&&this._elements.table.setAttribute("aria-multiselectable",this.multiple);if(!this.multiple){var a=this.selectedItems;if(1<a.length){a.forEach(function(b,c){b.set("selected",c===a.length-1,!0)});var b=this.selectedItems;b.length?this._setSelectAllHandleState("indeterminate"):
this._setSelectAllHandleState("unchecked");this.trigger("coral-table:change",{selection:b,oldSelection:a});this._oldSelection=b;this._lastSelectedItems.items=b}}}},selectedItems:{get:function(){return this._getRows(["body"]).filter(function(a){return a.selected})},set:function(){}},selectedItem:{get:function(){var a=this.selectedItems;return a.length?a[0]:null},set:function(){}},items:{get:function(){this._items||(this._items=new m(this));return this._items},set:function(){}},lockable:{default:!1,
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.lockable&&this._getRows(["body"]).forEach(function(a){a._toggleLockable(!0)})}}},_onSelectAll:function(a){if(this.selectable){var b=this._getRows(["body"]);if(b.length)if(this.multiple){var c=a.target.checked;b.forEach(function(a){a.set("selected",c,!0)});b=c?b:[];this._setSelectAllHandleState(c?"checked":"unchecked");this.trigger("coral-table:change",{selection:b,oldSelection:this._oldSelection});
this._oldSelection=b;this._lastSelectedItems.items=b}else a=b[b.length-1],a.selected=!a.selected}},_triggerChangeEvent:function(){if(!this._preventTriggeringEvents){var a=this.selectedItems;this.trigger("coral-table:change",{oldSelection:this._oldSelection,selection:a});this._oldSelection=a}},_onRowOrder:function(a){var c=this;if((a=a.target.closest('tr[is\x3d"coral-table-row"]'))&&c.orderable){var d=c._elements.head,e=c._elements.body;d=d&&d.sticky;var f=a.getAttribute("style"),g=b(a),h=a.nextElementSibling,
l=new Coral.DragAction(a),k=c.items.getAll(),m=c.getBoundingClientRect(),x=a.getBoundingClientRect();a===k[0]?c.classList.add("is-draggedFirstItem"):a===k[k.length-1]&&c.classList.add("is-draggedLastItem");l.axis="vertical";l.scroll=!1;l.handle=a.querySelector("[coral-table-roworder]");l=a.cloneNode(!0);l.classList.add(l._className+"--placeholder");a.style.top=x.top-m.top+"px";c._preventTriggeringEvents=!0;e.insertBefore(l,a.nextElementSibling);Coral.commons.nextFrame(function(){c._preventTriggeringEvents=
!1});e={placeholder:l,index:g,oldBefore:h,style:{row:f}};d&&(e.sticky=d,e.tableTop=m.top,e.tableSize=m.height,e.headSize=parseFloat(c._elements.container.style.marginTop),e.dragElementSize=x.height);a.dragAction._dragData=e}},_onHeaderCellSort:function(a){var b=a.matchedTarget;if(!b._isDragging){var c=this._getColumn(b);c&&c.sortable&&(a.preventDefault(),c._sort(),b.focus())}},_onHeaderCellDragStart:function(a){var d=a.matchedTarget;a=a.detail.dragElement;var e=d===a?'th[is\x3d"coral-table-headercell"]':
'th[is\x3d"coral-table-headercell"] coral-table-headercell-content',f=this.getBoundingClientRect();a.dragAction._dragData={draggedColumnIndex:b(d),tableLeft:f.left,tableSize:f.width,dragElementSize:d.getBoundingClientRect().width,tableScrollWidth:this._elements.container.scrollWidth};c(d,e,"prevAll").forEach(function(a){a.classList.add("is-before")});c(d,e,"nextAll").forEach(function(a){a.classList.add("is-after")})},_onHeaderCellDrag:function(a){var d=this._elements.container,e=a.matchedTarget,f=
a.detail.dragElement,g=f.dragAction._dragData,h=e.parentElement,l=e===f,k=d.scrollLeft,m=document.body.scrollLeft;e._isDragging=!0;f=f.getBoundingClientRect().left-g.tableLeft;var y=g.tableSize-g.dragElementSize;0>f?d.scrollLeft-=10:f>y&&k+g.tableSize<g.tableScrollWidth&&(d.scrollLeft+=10);h._getCells(["headerCells"]).forEach(function(d){var f=l?d:d.content;if(!f.classList.contains("is-dragging")){var g=f.getBoundingClientRect().left+m;g=a.detail.pageX<g+f.offsetWidth/3;f.classList.toggle("is-after",
g);f.classList.toggle("is-before",!g);g=b(d);var h=b(e);if(f.classList.contains("is-after"))if(g<h){var n=window.getComputedStyle(f),q=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);l?(n=parseFloat(n.width),f.style.left=n+q+"px"):(n=c(d,'th[is\x3d"coral-table-headercell"]',"next").getBoundingClientRect().left+m,f.style.left=n-q+k+"px")}else f.style.left="";f.classList.contains("is-before")&&(g>h?(g=c(d,'th[is\x3d"coral-table-headercell"]',"prev"),h=window.getComputedStyle(g),d=parseFloat(h.paddingLeft)+
parseFloat(h.paddingRight),l?(g=parseFloat(h.width),f.style.left=-(g+d)+"px"):(g=g.getBoundingClientRect().left+m,f.style.left=g-d+k+"px")):f.style.left="")}})},_onHeaderCellDragEnd:function(a){var c=this,d=a.matchedTarget,e=a.detail.dragElement,f=c.columns,g=e.dragAction._dragData;a=c._getColumn(d);var h=c._getRows(["head"]),l=d===e;e=d.parentElement;var k=function(a){var b=[];c._getRows(["body","foot"]).forEach(function(c){(c=c._getCellByIndex(a))&&b.push(c)});return b},m=k(b(d)),x=null,v=null;
l?(x=e.querySelector('th[is\x3d"coral-table-headercell"].is-after'),v=e.querySelectorAll('th[is\x3d"coral-table-headercell"].is-before'),v=v.length?v[v.length-1]:null):(x=(x=e.querySelector('th[is\x3d"coral-table-headercell"] \x3e coral-table-headercell-content.is-after'))?x.parentNode:null,v=e.querySelectorAll('th[is\x3d"coral-table-headercell"] \x3e coral-table-headercell-content.is-before'),v=v.length?v[v.length-1].parentNode:null);if(!(x&&x.previousElementSibling===d||v&&v.nextElementSibling===
d)){var A=x?c._getColumn(x):null,B=c.trigger("coral-table:beforecolumndrag",{column:a,before:A});A=a.nextElementSibling;if(!B.defaultPrevented){if(x){B=b(x);var H=k(B);m.forEach(function(a,b){a.parentNode.insertBefore(a,H[b])});(B=c._elements.columns[B])&&a&&f.insertBefore(a,B);e.insertBefore(d,x)}if(v){x=b(v);var I=k(x);m.forEach(function(a,b){a.parentNode.insertBefore(a,I[b].nextElementSibling)});(k=c._elements.columns[x])&&a&&f.insertBefore(a,k.nextElementSibling);e.insertBefore(d,v.nextElementSibling)}g.draggedColumnIndex!==
b(d)&&(f=c._elements.columns[b(a)+1],c.trigger("coral-table:columndrag",{column:a,oldBefore:A,before:f||null}))}}h.forEach(function(a){a._getCells(["headerCells"]).forEach(function(a){a=l?a:a.content;a.classList.remove("is-after");a.classList.remove("is-before");a.style.left=""})});c._resetLayout();Coral.commons.nextFrame(function(){d._isDragging=void 0})},_onCellSelect:function(a){if(a=a.target.closest('td[is\x3d"coral-table-cell"]'))a.selected=!a.selected},_onRowSelect:function(a){var d=a.target.closest('tr[is\x3d"coral-table-row"]');
if(d&&(this.classList.remove("is-unselectable"),this.selectable&&(Coral.Keys.filterInputs(a)||!d.hasAttribute("coral-table-rowselect")))){a.keyCode===h&&a.preventDefault();if(a.shiftKey){var e=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1],f=this._lastSelectedItems.direction;if(!this.selectedItem){var g=this._elements.body._elements.rows;g.length&&(e=g[0],e.selected=!0)}if(e&&b(d)!==b(e)){var l=b(d)<b(e);g=l?"prevUntil":"nextUntil";this._lastSelectedItems.direction=l?"up":"down";
if(d.selected)f=c(e,d,g),f.some(function(a){return!a.hasAttribute("selected")})?(f.forEach(function(a){a.selected=!0}),c(d,'tr[is\x3d"coral-table-row"]:not([selected])',g).forEach(function(a){a.selected=!1})):(f[l?"push":"unshift"](e),f.forEach(function(a){a.selected=!1}));else{var k=c(e,'tr[is\x3d"coral-table-row"]:not([selected])',g);k[l?"push":"unshift"](e);(!l&&"up"===f||l&&"down"===f)&&k.forEach(function(a){a.selected=!1});e=k[l?0:k.length-1];e.selected=!0;c(e,d,g).forEach(function(a){a.selected=
!0})}}}else this._lastSelectedItems.direction=null;d.selected=a.shiftKey?!0:!d.selected;this._focusItem(d,a.target===a.matchedTarget||0>a.target.tabIndex)}},_onRowLock:function(a){if(this.lockable){var b=a.target.closest('tr[is\x3d"coral-table-row"]');b&&(a.preventDefault(),a.stopPropagation(),b.locked=!b.locked)}},_onRowDown:function(a){if(this.selectedItem&&a.shiftKey){this.classList.add("is-unselectable");var b=document.onselectstart;document.onselectstart=function(){return!1};Coral.commons.nextFrame(function(){document.onselectstart=
b})}},_onRowDragStart:function(a){var b=this._elements.body;a=a.detail.dragElement;var c=a.dragAction._dragData;c.style.cells=[];a._getCells().forEach(function(a){c.style.cells.push(a.content.getAttribute("style"));a.content.style.width=window.getComputedStyle(a).width});a.style.position="absolute";a.dragAction.dropZone=b.querySelectorAll('tr[is\x3d"coral-table-row"]:not(.is-dragging)')},_onRowDrag:function(a){var b=this,c=b._elements.body;a=a.detail.dragElement;var d=a.dragAction._dragData,e=c._elements.rows[0];
a.getBoundingClientRect().top<=e.getBoundingClientRect().top&&(b._preventTriggeringEvents=!0,c.insertBefore(d.placeholder,e),Coral.commons.nextFrame(function(){b._preventTriggeringEvents=!1}));if(d.sticky){var f=a.getBoundingClientRect().top-d.tableTop-d.headSize,g=d.tableSize-d.dragElementSize-d.headSize;Coral.commons.nextFrame(function(){0>f?b._elements.container.scrollTop-=10:f>g&&(b._elements.container.scrollTop+=10)})}},_onRowDragOver:function(a){var b=this,c=b._elements.body,d=a.detail.dragElement;
a=a.detail.dropElement;var e=d.dragAction._dragData;d.getBoundingClientRect().top>=a.getBoundingClientRect().top&&(b._preventTriggeringEvents=!0,c.insertBefore(e.placeholder,a.nextElementSibling),Coral.commons.nextFrame(function(){b._preventTriggeringEvents=!1}))},_onRowDragEnd:function(a){var b=this,c=b._elements.body,d=a.detail.dragElement,e=d.dragAction._dragData;a=e.placeholder.nextElementSibling;b.classList.remove("is-draggedFirstItem");b.classList.remove("is-draggedLastItem");c.removeChild(e.placeholder);
d.dragAction.destroy();d.setAttribute("style",e.style.row);d._getCells().forEach(function(a,b){a.content.setAttribute("style",e.style.cells[b])});if(!b.trigger("coral-table:beforeroworder",{row:d,before:a}).defaultPrevented){var f=b._getRows(["body"]).filter(function(a){return a!==d});e.index!==f.indexOf(e.placeholder)&&(b._preventTriggeringEvents=!0,c.insertBefore(d,a),Coral.commons.nextFrame(function(){b._preventTriggeringEvents=!1}),b.trigger("coral-table:roworder",{row:d,oldBefore:e.oldBefore,
before:a}))}},_onRowMultipleChanged:function(a){a.stopImmediatePropagation();var b=this,c=a.target;if(!c.multiple){var d=c.selectedItems;b._preventTriggeringEvents=!0;d.forEach(function(a,b){a.selected=b===d.length-1});Coral.commons.nextFrame(function(){b._preventTriggeringEvents=!1;b.trigger("coral-table:rowchange",{oldSelection:d,selection:c.selectedItems,row:c})})}},_onBeforeRowSelectionChanged:function(a){a.stopImmediatePropagation();var b=this.selectedItem;this.multiple||!b||a.target.selected||
(b.set("selected",!1,!0),this._removeLastSelectedItem(b))},_syncSelectAllHandle:function(a,b){b.length&&a.length===b.length?this._setSelectAllHandleState("checked"):a.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked")},_setSelectAllHandleState:function(a){var b=this.querySelector("[coral-table-select]");b&&("checked"===a?("undefined"!==typeof b.indeterminate&&(b.indeterminate=!1),"undefined"!==typeof b.checked&&(b.checked=!0)):"unchecked"===a?("undefined"!==
typeof b.indeterminate&&(b.indeterminate=!1),"undefined"!==typeof b.checked&&(b.checked=!1)):"indeterminate"===a&&"undefined"!==typeof b.indeterminate&&(b.indeterminate=!0))},_onRowSelectionChanged:function(a){a.stopImmediatePropagation();this._triggerChangeEvent();var b=this,d=a.target;Coral.commons.nextFrame(function(){var a=b._elements.body;if(a&&a.contains(d)){b._syncSelectAllHandle(b.selectedItems,a._elements.rows);b[d.selected?"_addLastSelectedItem":"_removeLastSelectedItem"](d);a=b._lastSelectedItems.items[b._lastSelectedItems.items.length-
1];var e="down"===b._lastSelectedItems.direction;d.selected&&a&&a.selected&&c(a,'tr[is\x3d"coral-table-row"][selected]',e?"next":"prev")&&c(a,'tr[is\x3d"coral-table-row"]:not([selected])',e?"nextUntil":"prevUntil").forEach(function(a){b._addLastSelectedItem(a)})}})},_onRowLockedChanged:function(a){a.stopImmediatePropagation();var c=this,d=this._elements.body;a=a.target;if(d&&d.contains(a))if(a.locked)a._rowIndex=b(a),c._preventTriggeringEvents=!0,d.insertBefore(a,d._elements.rows[0]||null),Coral.commons.nextFrame(function(){c._preventTriggeringEvents=
!1}),c.trigger("coral-table:rowlock",{row:a});else{if(0<=a._rowIndex){var e=d._elements.rows[a._rowIndex];e&&(c._preventTriggeringEvents=!0,d.insertBefore(a,e.nextElementSibling),Coral.commons.nextFrame(function(){c._preventTriggeringEvents=!1}))}c.trigger("coral-table:rowunlock",{row:a})}},_onHeadContentChanged:function(a){a.stopImmediatePropagation();var b=this._elements.head;a=a.detail.addedNodes;for(var c=0;c<a.length;c++){var d=a[c];d instanceof Coral.Table.HeaderCell&&this._toggleStickyHeaderCell(d,
b.sticky)}},_onBodyContentChanged:function(a){a.stopImmediatePropagation&&a.stopImmediatePropagation();var b=a.target,c=a.detail.addedNodes;a=a.detail.removedNodes;for(var d=null,e=function(a){a.selected=a===d},f=!1,g=0;g<c.length;g++)if(d=c[g],d instanceof Coral.Table.Row){f=!0;d._toggleSelectable(this.selectable);d._toggleOrderable(this.orderable);d._toggleLockable(this.lockable);var h=this.selectedItems;d.selected&&(!this.multiple&&1<h.length&&h.forEach(e),this._triggerChangeEvent(),d._syncProp("selected"));
this.selectable&&(this._getFocusableItem()||this._focusItem(b._elements.rows[0]));d.selectable&&d.trigger("coral-table-row:_contentchanged",{addedNodes:d._elements.cells,removedNodes:[]});this._preventTriggeringEvents||this.trigger("coral-collection:add",{item:d})}for(c=0;c<a.length;c++)e=a[c],e instanceof Coral.Table.Row&&(f=!0,"0"===e.getAttribute("tabindex")&&(g=b._elements.rows[0])&&this._focusItem(g),e.selected&&this._triggerChangeEvent(),g=this._lastSelectedItems.items.indexOf(e),-1!==g&&(this._lastSelectedItems.items=
this._lastSelectedItems.items.splice(g,1)),this._preventTriggeringEvents||this.trigger("coral-collection:remove",{item:e}));f&&this._toggleInteractivity(0===this.items.length)},_onBodyEmpty:function(a){a.stopImmediatePropagation();this._toggleInteractivity(!0)},_onRowChange:function(a){a.stopImmediatePropagation();this._preventTriggeringEvents||this.trigger("coral-table:rowchange",{oldSelection:a.detail.oldSelection,selection:a.detail.selection,row:a.target})},_onRowContentChanged:function(a){a.stopImmediatePropagation();
var b=a.target,c=a.detail.addedNodes,d=null;a=a.detail.removedNodes;for(var e=function(a){a.selected=a===d},f=0;f<c.length;f++)if(d=c[f],d instanceof Coral.Table.Cell){d._toggleSelectable(b.selectable);var g=b.selectedItems;d.selected&&(!b.multiple&&1<g.length&&g.forEach(e),b._triggerChangeEvent(),d._syncProp("selected"));this._preventTriggeringEvents||b.trigger("coral-collection:add",{item:d})}else d instanceof Coral.Table.HeaderCell&&this._setHeaderCellScope(d,b.parentNode);for(c=0;c<a.length;c++)e=
a[c],e instanceof Coral.Table.Cell&&(e.selected&&b._triggerChangeEvent(),this._preventTriggeringEvents||b.trigger("coral-collection:remove",{item:e}))},_toggleInteractivity:function(a){var b=this.querySelector("[coral-table-select]");b&&(b.disabled=a);this.classList.toggle("is-disabled",a)},_onFixedWidthSync:function(a){a.stopImmediatePropagation();var c=this._elements.head,d=a.target;if(c){c=c._elements.rows;var e=b(a.target);Array.prototype.forEach.call(c,function(a){if(a=a._getCellByIndex(e,["headerCell"]))a[d.fixedWidth?
"setAttribute":"removeAttribute"]("fixedwidth","")})}},_onColumnOrderableSync:function(a){a.stopImmediatePropagation();var b=this._elements.head;if(a=this._getColumnHeaderCell(a.target))this._toggleDragActionHandle(a,b&&b.sticky),this._resetLayout()},_onColumnSortableSync:function(a){a.stopImmediatePropagation();var b=this._elements.head;a=a.target;var c=this._getColumnHeaderCell(a);c&&(c[a.sortable?"setAttribute":"removeAttribute"]("sortable",""),this._toggleTabIndex(c,b&&b.sticky),this._resetLayout())},
_onColumnSortableDirectionSync:function(a){a.stopImmediatePropagation();a=a.target;var b=Coral.Table.Column.sortableDirection;this.classList.toggle("is-sorted",this._isSorted());var c=this._getColumnHeaderCell(a);c&&(c.setAttribute("sortabledirection",a.sortableDirection),c.setAttribute("aria-sort",a.sortableDirection===b.DEFAULT?"none":a.sortableDirection))},_onColumnHiddenSync:function(a){a.stopImmediatePropagation();this._syncHiddenColumn(a.target,!0)},_onBeforeColumnSort:function(a){a.stopImmediatePropagation();
var b=a.target;a=a.detail.newSortableDirection;this.trigger("coral-table:beforecolumnsort",{column:b,direction:a}).defaultPrevented||(b.sortableDirection=a)},_onColumnSort:function(a){a.stopImmediatePropagation();var d=this,e=d._elements.body,f=a.target,g=b(f),h=d._getColumnHeaderCell(f),l=a.detail.onInitialization,k=a.detail.sortableDirection,m=a.detail.sortableType;a=d._getRows(["body"]);var y=[];d&&(d._preventTriggeringEvents=!0);a.forEach(function(a,b){"undefined"===typeof a._defaultRowIndex&&
(a._defaultRowIndex=b);(a=a._getCellByIndex(g))&&y.push(a)});f.sortableDirection===k.ASCENDING?(c(f,'col[is\x3d"coral-table-column"]').forEach(function(a){a._preventSort=!0;a.sortableDirection=k.DEFAULT;a._preventSort=!1}),h&&c(h,'th[is\x3d"coral-table-headercell"]').forEach(function(a){a.setAttribute("sortabledirection",k.DEFAULT);a.setAttribute("aria-sort","none")}),y.sort(function(a,b){if(f.sortableType===m.ALPHANUMERIC)return(a.value?a.value:a.textContent).localeCompare(b.value?b.value:b.textContent);
if(f.sortableType===m.NUMBER)return a=parseFloat(a.value?a.value:a.textContent.replace(/\s+/g,"").replace(/,/g,".")),b=parseFloat(b.value?b.value:b.textContent.replace(/\s+/g,"").replace(/,/g,".")),a>b?1:-1;if(f.sortableType===m.DATE)return a=a.value?new Date(parseInt(a.value,10)):new Date(a.textContent),b=b.value?new Date(parseInt(b.value,10)):new Date(b.textContent),a>b?1:-1}),f.sortableType!==m.CUSTOM&&(e&&y.forEach(function(a){a=a.parentElement;a.locked||e.appendChild(a)}),d.trigger("coral-table:columnsort",
{column:f})),a.forEach(function(a){a.dragAction&&a.dragAction.destroy()})):f.sortableDirection===k.DESCENDING?(c(f,'col[is\x3d"coral-table-column"]').forEach(function(a){a._preventSort=!0;a.sortableDirection=k.DEFAULT;a._preventSort=!1}),h&&c(h,'th[is\x3d"coral-table-headercell"]').forEach(function(a){a.setAttribute("sortabledirection",k.DEFAULT);a.setAttribute("aria-sort","none")}),y.sort(function(a,b){if(f.sortableType===m.ALPHANUMERIC)return(b.value?b.value:b.textContent).localeCompare(a.value?
a.value:a.textContent);if(f.sortableType===m.NUMBER)return a=parseFloat(a.value?a.value:a.textContent.replace(/\s+/g,"").replace(/,/g,".")),b=parseFloat(b.value?b.value:b.textContent.replace(/\s+/g,"").replace(/,/g,".")),a<b?1:-1;if(f.sortableType===m.DATE)return a=a.value?new Date(parseInt(a.value,10)):new Date(a.textContent),b=b.value?new Date(parseInt(b.value,10)):new Date(b.textContent),a<b?1:-1}),f.sortableType!==m.CUSTOM&&(e&&y.forEach(function(a){a=a.parentElement;a.locked||e.appendChild(a)}),
d.trigger("coral-table:columnsort",{column:f})),a.forEach(function(a){a.dragAction&&a.dragAction.destroy()})):f.sortableDirection!==k.DEFAULT||l||f.sortableType===m.CUSTOM||(a.sort(function(a,b){return a._defaultRowIndex>b._defaultRowIndex?1:-1}),a.forEach(function(a){e&&!a.locked&&e.appendChild(a)}),d.trigger("coral-table:columnsort",{column:f}));Coral.commons.nextFrame(function(){d._preventTriggeringEvents=!1})},_onHeadStickySync:function(a){a.stopImmediatePropagation();var b=this,c=a.target;c.classList.toggle("is-hidden",
c.sticky);b._resetContainerLayout(c.sticky?c.getBoundingClientRect().height+"px":null);b._getRows(["head"]).forEach(function(a){a._getCells(["headerCells"]).forEach(function(a){b._toggleStickyHeaderCell(a,c.sticky)})});b.classList.toggle("coral-Table-wrapper--sticky",c.sticky);b._resetLayout()},_getColumnHeaderCell:function(a){var c=null,d=this._elements.head;d&&(d=d._elements.rows,a=b(a),d.length&&(c=d[d.length-1]._getCellByIndex(a,["headerCell"])));return c},_getColumn:function(a){return this._elements.columns[b(a)]||
null},_toggleStickyHeaderCell:function(a,b){this._layoutStickyCell(a,b);this._toggleDragActionHandle(a,b);this._toggleTabIndex(a,b)},_layoutStickyCell:function(a,b){if(b){b=window.getComputedStyle(a);if(!a.style.minWidth){var c=a.content.getBoundingClientRect().width;0<c&&(a.style.minWidth=c+"px")}c=parseFloat(b.width);var d=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight);b=parseFloat(b.borderRightWidth);a.content.style.width=c+d+b+"px"}else a.style.minWidth="",a.content.style.width="",a.content.style.height=
"",a.content.style.top="",a.content.style.marginLeft="",f&&(a.content.style.paddingTop="")},_toggleDragActionHandle:function(a,b){var c=this._getColumn(a);a.dragAction&&a.dragAction.destroy();a.content.dragAction&&a.content.dragAction.destroy();c&&c.orderable?(b=new Coral.DragAction(b?a.content:a),b.axis="horizontal",b.scroll=!1,a.setAttribute("orderable","")):a.removeAttribute("orderable")},_toggleTabIndex:function(a,b){var c=this._getColumn(a);c=c&&c.sortable;a[c&&!b?"setAttribute":"removeAttribute"]("tabindex",
"0");a.content[c&&b?"setAttribute":"removeAttribute"]("tabindex","0")},_syncHiddenColumn:function(a,c){var d=b(a);-1!==d&&(this._getRows().forEach(function(b){if(b=b._getCellByIndex(d))b.hidden=a.hidden}),c&&this._resetLayout())},_isSorted:function(a){return this._getColumns().some(function(a){return a.sortableDirection!==Coral.Table.Column.sortableDirection.DEFAULT})},_focusEdgeItem:function(a,b){var c=this._elements.body._elements.rows;c.length&&(a.preventDefault(),(a=this._getFocusableItem())&&
a.removeAttribute("tabindex"),a=c[b?0:c.length-1],a.setAttribute("tabindex","0"),a.focus())},_focusSiblingItem:function(a,b){var d=this._getFocusableItem();d&&(a.preventDefault(),a=c(d,'tr[is\x3d"coral-table-row"]',b?"next":"prev"))&&(d.removeAttribute("tabindex"),a.setAttribute("tabindex","0"),a.focus())},_selectSiblingItem:function(a){if(this.selectable&&this.multiple){var b=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];if(this.selectedItems.length){if(a&&b.matches(":last-of-type")||
!a&&b.matches(":first-of-type"))return;var d=c(b,'tr[is\x3d"coral-table-row"]',a?"next":"prev");d.hasAttribute("selected")||(b=d);this._lastSelectedItems.direction=a?"down":"up";b.selected=!b.selected}else this._elements.body&&this._elements.body._elements.rows.length&&(b=this._getFocusableItem(),this._lastSelectedItems.direction=a?"down":"up",b.selected=!0)}Coral.commons.nextFrame(function(){var a=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];a&&this._focusItem(a,!0)}.bind(this))},
_getFocusableItem:function(){return this._elements.body?this._elements.body.querySelector('tr[is\x3d"coral-table-row"][tabindex\x3d"0"]'):null},_addLastSelectedItem:function(a){-1===this._lastSelectedItems.items.indexOf(a)?this._lastSelectedItems.items.push(a):(this._removeLastSelectedItem(a),this._addLastSelectedItem(a))},_removeLastSelectedItem:function(a){this._lastSelectedItems.items.splice(this._lastSelectedItems.items.indexOf(a),1)},_focusItem:function(a,b){var c=this._getFocusableItem();c&&
c.removeAttribute("tabindex");a.setAttribute("tabindex","0");b&&a.focus()},_onFocusFirstItem:function(a){this._focusEdgeItem(a,!0)},_onFocusLastItem:function(a){this._focusEdgeItem(a,!1)},_onFocusNextItem:function(a){this._focusSiblingItem(a,!0)},_onFocusPreviousItem:function(a){this._focusSiblingItem(a,!1)},_onSelectNextItem:function(a){this._selectSiblingItem(!0)},_onSelectPreviousItem:function(a){this._selectSiblingItem(!1)},_setContentZone:function(a,b,c,d,e){if(!(a instanceof c))throw Error("DOMException: Failed to set the '"+
b+"' property on '"+this.toString()+"': The provided value is not of type '"+d+"'.");e.call(this,a)},_render:function(){var a=this,b=document.createDocumentFragment();a._elements={get head(){return a.querySelector('thead[is\x3d"coral-table-head"]')},get body(){return a.querySelector('tbody[is\x3d"coral-table-body"]')},get foot(){return a.querySelector('tfoot[is\x3d"coral-table-foot"]')},get colgroup(){return a.querySelector("colgroup")},get columns(){return a.querySelectorAll('col[is\x3d"coral-table-column"]')}};
f&&a.classList.add(a._className+"--IE");b.appendChild(Coral.templates.Table.base.call(a._elements));var c=a._elements.colgroup;c&&a._elements.table.appendChild(c);["head","body","foot"].forEach(function(b){a._elements[b]&&a._elements.table.appendChild(a._elements[b])});a.appendChild(b)},_resetLayout:function(){var a=this;a._preventResetLayout||(null!==a._timeout&&window.clearTimeout(a._timeout),a._timeout=window.setTimeout(function(){a._timeout=null;a._resizeStickyHead();a._resizeContainer()},a._wait))},
_resizeStickyHead:function(){var a=this,b=a._elements.head;b&&b.sticky&&a._getRows(["head"]).forEach(function(b){b._getCells(["headerCells"]).forEach(function(b){a._layoutStickyCell(b,!0)})})},_resizeContainer:function(){var a=this,b=a._elements.head;if(b&&b.sticky){var c=0,d=0;this._getRows(["head"]).forEach(function(b,e){b=b._getCells(["headerCells"]);if(b.length){var g=window.getComputedStyle(b[0].content),h=0,k=parseFloat(g.minHeight),l=parseFloat(g.borderTopWidth);b.forEach(function(a){a.content.style.height=
"";h=Math.max(h,a.content.getBoundingClientRect().height)});c+=h;b.forEach(function(b){h-l!==k&&(b.content.style.height=h+"px");if(f&&b.content.textContent.trim().length){var c=b.content.getBoundingClientRect().height,g=document.createElement("span");for(a._preventResetLayout=!0;b.content.firstChild;)g.appendChild(b.content.firstChild);b.content.appendChild(g);var m=g.getBoundingClientRect().height;for(c=(c-m)/2;g.firstChild;)b.content.appendChild(g.firstChild);b.content.removeChild(g);b.content.style.paddingTop=
c+"px";Coral.commons.nextFrame(function(){a._preventResetLayout=!1})}d=d||h;b.content.style.top=(0<e?d*e+l*(e-1):0)+"px"})}});var e=window.getComputedStyle(this._elements.container),g=parseFloat(e.borderTopWidth);e=parseFloat(e.borderBottomWidth);this._resetContainerLayout(c+"px","calc(100% - "+(c+(g+e))+"px)");b.classList.remove("is-hidden")}else this._resetContainerLayout()},_resetContainerLayout:function(a,b){this._elements.container.style.marginTop=a?a:"";this._elements.container.style.height=
b?b:""},_resetHiddenColumns:function(){var a=this;a._getColumns().forEach(function(b){a._syncHiddenColumn(b)})},_onScroll:function(a){var b=this,c=b._elements.container.scrollLeft;if(b._lastScrollLeft!==c){b._lastScrollLeft=c;var d=b._elements.head;d&&d.sticky&&(d.style.margin="1px",Coral.commons.nextFrame(function(){d.style.margin="";if(!b._preventLayoutStickyCellOnScroll){var a=d.querySelector('tr[is\x3d"coral-table-row"] th[is\x3d"coral-table-headercell"]');a&&(b._layoutStickyCellOnScroll||1===
a.content.offsetLeft?(b._layoutStickyCellOnScroll=!0,b._getRows(["head"]).forEach(function(a){a._getCells(["headerCells"]).forEach(function(a){var b=parseFloat(window.getComputedStyle(a).paddingLeft);a.content.style.marginLeft="-"+(c+b)+"px"})})):b._preventLayoutStickyCellOnScroll=!0)}}))}},_setHeaderCellScope:function(a,b){b="THEAD"===b.nodeName||"TFOOT"===b.nodeName?"col":"row";a.setAttribute("role","col"===b?"columnheader":"rowheader");a.setAttribute("scope",b)},_getRows:function(a){a=a?a:["head",
"body","foot"];var b=[];a.forEach(function(a){(a=this._elements[a])&&b.push.apply(b,Array.prototype.slice.call(a._elements.rows))}.bind(this));return b},_getColumns:function(){return Array.prototype.slice.call(this._elements.columns)},_initialize:function(){var a=this;a.setAttribute("role","presentation");a._oldSelection=[];a._lastSelectedItems={items:[],direction:null};a._timeout=null;a._wait=50;Coral.commons.addResizeListener(a,a._resetLayout);a._observer=new MutationObserver(function(b){var c=
!1;b.forEach(function(b){for(var d=0;d<b.addedNodes.length;d++){var e=b.addedNodes[d];window.CustomElements.upgrade(e);e instanceof Coral.Table.Head&&e.trigger("coral-table-head:_contentchanged",{addedNodes:e._elements.rows,removedNodes:[]});e instanceof Coral.Table.Body&&(a._syncProp("multiple"),e.trigger("coral-table-body:_contentchanged",{addedNodes:e._elements.rows,removedNodes:[]}));c=c||e instanceof Coral.Table.HeaderCell||e instanceof Coral.Table.Cell||e instanceof Coral.Table.Row||e instanceof
Coral.Table.Head||e instanceof Coral.Table.Body||e instanceof Coral.Table.Foot}for(d=0;d<b.removedNodes.length;d++)e=b.removedNodes[d],e instanceof Coral.Table.Body&&a._onBodyContentChanged({target:e,detail:{addedNodes:[],removedNodes:e._elements.rows}})});c&&a._resetHiddenColumns();a._resetLayout()});a._observer.observe(a,{childList:!0,subtree:!0});a._toggleInteractivity(!a._elements.body);Coral.commons.ready(a,function(){if(a.selectable){var b=a.selectedItems,c=a.items.getAll();a._syncSelectAllHandle(b,
c);b.length&&(a._oldSelection=b,a._lastSelectedItems.items=b)}a._getRows().forEach(function(b){b._getCells(["headerCells"]).forEach(function(c){a._setHeaderCellScope(c,b.parentNode)})})})}});Coral.Table.variant=d;Coral.Table.divider={NONE:"none",ROW:"row",COLUMN:"column",CELL:"cell"}})();
(function(){var b=[],c;for(c in Coral.Table.divider)b.push("coral-Table-divider--"+Coral.Table.divider[c]);var d={divider:{default:Coral.Table.divider.ROW,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(Coral.Table.divider)],sync:function(){this.classList.remove.apply(this.classList,b);this.classList.add("coral-Table-divider--"+this.divider)}}},a={_initialize:function(){this.setAttribute("role","rowgroup")},_render:function(){var a=this;Object.defineProperty(a._elements,
"rows",{get:function(){return a.querySelectorAll('tr[is\x3d"coral-table-row"]')}})}};Coral.mixin.tableSection=function(b,c){Coral.commons.augment(b,a,function(a,b,c){return Coral.commons.callAll(b,a)});Coral.register.augmentProperties(c.properties,d)}})();
(function(){Coral.register({name:"Table.Head",tagName:"coral-table-head",className:"coral-Table-head",baseTagName:"thead",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection],properties:{sticky:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-head:_stickysync")}}},_initialize:function(){var b=this;b.setAttribute("role","rowgroup");b._observer=new MutationObserver(function(c){c.forEach(function(c){b.trigger("coral-table-head:_contentchanged",
{addedNodes:c.addedNodes,removedNodes:c.removedNodes})})});b._observer.observe(b,{childList:!0,subtree:!0})}})})();
(function(){Coral.register({name:"Table.Body",tagName:"coral-table-body",className:"coral-Table-body",baseTagName:"tbody",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection],_initialize:function(){var b=this;b.setAttribute("role","rowgroup");b._observer=new MutationObserver(function(c){c.forEach(function(c){b.trigger("coral-table-body:_contentchanged",{addedNodes:c.addedNodes,removedNodes:c.removedNodes})})});b._observer.observe(b,{childList:!0,subtree:!0});0===b._elements.rows.length&&
b.trigger("coral-table-body:_empty")}})})();(function(){Coral.register({name:"Table.Foot",tagName:"coral-table-foot",className:"coral-Table-foot",baseTagName:"tfoot",extend:HTMLTableSectionElement,mixins:[Coral.mixin.tableSection]})})();
(function(){Coral.register({name:"Table.Row",tagName:"coral-table-row",className:"coral-Table-row",baseTagName:"tr",extend:HTMLTableRowElement,events:{"coral-table-cell:_beforeselectedchanged":"_onBeforeCellSelectionChanged","coral-table-cell:_selectedchanged":"_onCellSelectionChanged"},properties:{locked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-row:_lockedchanged"},selected:{default:!1,reflectAttribute:!0,
transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:"coral-table-row:_beforeselectedchanged",trigger:"coral-table-row:_selectedchanged",sync:function(){this._syncAriaSelectedState();this._syncSelectHandle()}},selectable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this._getCells(["cells"]).forEach(function(b){b._toggleSelectable(this.selectable)}.bind(this))}},multiple:{default:!1,
reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-row:_multiplechanged"},selectedItems:{get:function(){return this._getCells(["cells"]).filter(function(b){return b.selected})},set:function(){}},selectedItem:{get:function(){var b=this.selectedItems;return b.length?b[0]:null},set:function(){}},items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemBaseTagName:"td",itemTagName:"coral-table-cell"}));return this._items},
set:function(){}}},_triggerChangeEvent:function(){var b=this.selectedItems;this.trigger("coral-table-row:_change",{oldSelection:this._oldSelection,selection:b});this._oldSelection=b},_onCellSelectionChanged:function(b){b.stopImmediatePropagation();this._triggerChangeEvent()},_onBeforeCellSelectionChanged:function(b){b.stopImmediatePropagation();var c=this.selectedItem;this.multiple||!c||b.target.selected||c.set("selected",!1,!0)},_syncAriaSelectedState:function(){this.classList.toggle("is-selected",
this.selected);this.setAttribute("aria-selected",this.selected)},_syncSelectHandle:function(){var b=this.querySelector("[coral-table-rowselect]");b&&("undefined"!==typeof b.indeterminate&&(b.indeterminate=!1),"undefined"!==typeof b.checked&&(b.checked=this.selected))},_toggleSelectable:function(b){b?this._setHandle("coral-table-rowselect"):this.set("selected",!1,!0)},_toggleOrderable:function(b){b?this._setHandle("coral-table-roworder"):this.dragAction&&this.dragAction.destroy()},_toggleLockable:function(b){b&&
this._setHandle("coral-table-rowlock")},_setHandle:function(b){this.querySelector("["+b+"]")||this.setAttribute(b,"")},_getCells:function(b){b=b?b:["headerCells","cells"];var c=[];b.forEach(function(b){c.push.apply(c,Array.prototype.slice.call(this._elements[b]))}.bind(this));return c},_getCellByIndex:function(b,c){c=c?c:["headerCell","cell"];var d=[];b++;-1!==c.indexOf("headerCell")&&d.push('th[is\x3d"coral-table-headercell"]:nth-child('+b+")");-1!==c.indexOf("cell")&&d.push('td[is\x3d"coral-table-cell"]:nth-child('+
b+")");return this.querySelector(d.join(", "))},_initialize:function(){var b=this;b.setAttribute("role","row");b._oldSelection=[];b._observer=new MutationObserver(function(c){c.forEach(function(c){b.trigger("coral-table-row:_contentchanged",{addedNodes:c.addedNodes,removedNodes:c.removedNodes})})});b._observer.observe(b,{childList:!0})},_render:function(){var b=this;Object.defineProperty(b._elements,"headerCells",{get:function(){return b.querySelectorAll('th[is\x3d"coral-table-headercell"]')}});Object.defineProperty(b._elements,
"cells",{get:function(){return b.querySelectorAll('td[is\x3d"coral-table-cell"]')}})}})})();
(function(){Coral.register({name:"Table.Cell",tagName:"coral-table-cell",className:"coral-Table-cell",baseTagName:"td",extend:HTMLTableCellElement,properties:{content:{contentZone:!0,set:function(){},get:function(){return this}},selected:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,triggerBefore:"coral-table-cell:_beforeselectedchanged",trigger:"coral-table-cell:_selectedchanged",sync:function(){this._syncAriaSelectedState();this._syncSelectHandle()}},
value:{default:"",reflectAttribute:!0,transform:Coral.transform.string}},_setHandle:function(b){this.querySelector("["+b+"]")||this.setAttribute(b,"")},_toggleSelectable:function(b){b?this._setHandle("coral-table-cellselect"):this.selected=!1},_syncAriaSelectedState:function(){this.classList.toggle("is-selected",this.selected);this.setAttribute("aria-selected",this.selected)},_syncSelectHandle:function(){var b=this.querySelector("[coral-table-cellselect]");b&&("undefined"!==typeof b.indeterminate&&
(b.indeterminate=!1),"undefined"!==typeof b.checked&&(b.checked=this.selected))},_initialize:function(){this.setAttribute("role","gridcell")}})})();
(function(){Coral.register({name:"Table.HeaderCell",tagName:"coral-table-headercell",className:"coral-Table-headerCell",baseTagName:"th",extend:HTMLTableCellElement,properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-table-headercell-content",insert:function(b){this.appendChild(b)}})},_render:function(){var b=this._elements.content=this.querySelector("coral-table-headercell-content");if(null===b)for(b=document.createElement("coral-table-headercell-content");this.firstChild;)b.appendChild(this.firstChild);
this.content=b},_initialize:function(){this._stickyCellObserver=new MutationObserver(function(){this.trigger("coral-table-headercell:_contentchanged")}.bind(this));this._stickyCellObserver.observe(this.content,{childList:!0,subtree:!0})}});Coral.Table.HeaderCell.Content=function(){return document.createElement("coral-table-headercell-content")}})();
(function(){var b={DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending"},c={ALPHANUMERIC:"alphanumeric",NUMBER:"number",DATE:"date",CUSTOM:"custom"};Coral.register({name:"Table.Column",tagName:"coral-table-column",className:"coral-Table-column",baseTagName:"col",extend:HTMLTableColElement,properties:{fixedWidth:{default:!1,attribute:"fixedwidth",reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,trigger:"coral-table-column:_fixedwidthchanged",
sync:function(){this.trigger("coral-table-column:_fixedwidthsync")}},hidden:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_hiddensync")}},orderable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_orderablesync")}},sortable:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,
attributeTransform:Coral.transform.booleanAttr,sync:function(){this.trigger("coral-table-column:_sortablesync")}},sortableType:{default:c.ALPHANUMERIC,attribute:"sortabletype",reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)]},sortableDirection:{attribute:"sortabledirection",default:b.DEFAULT,reflectAttribute:!0,validate:[Coral.validate.enumeration(b)],set:function(b){var a=Coral.transform.boolean(this._sortableDirection);this._sortableDirection=b;a&&!this._preventSort&&
this._doSort()},sync:function(){this.trigger("coral-table-column:_sortabledirectionsync")}}},_sort:function(){if(this.sortableDirection===b.DEFAULT)var c=b.ASCENDING;else this.sortableDirection===b.ASCENDING?c=b.DESCENDING:this.sortableDirection===b.DESCENDING&&(c=b.DEFAULT);this.trigger("coral-table-column:_beforecolumnsort",{newSortableDirection:c})},_doSort:function(d){this.trigger("coral-table-column:_sort",{onInitialization:d,sortableDirection:b,sortableType:c})},_initialize:function(){Coral.commons.nextFrame(function(){this.sortable&&
this._doSort(!0)}.bind(this))}});Coral.Table.Column.sortableDirection=b;Coral.Table.Column.sortableType=c})();
(function(){function b(a){if(a instanceof Node)return a;var b=null;"string"===typeof a&&""!==a.trim()&&(b=document.querySelector(a));return b}var c={MEDIUM:"M",LARGE:"L"},d={HORIZONTAL:"horizontal",VERTICAL:"vertical"};Coral.register({name:"TabList",tagName:"coral-tablist",className:"coral-TabList",mixins:[Coral.mixin.selectionList({itemTagName:"coral-tab",supportMultiple:!1,forceSelection:!0,role:"tablist"})],events:{"click \x3e coral-tab":"_onTabClick","key:home \x3e coral-tab":"_onHomeKey","key:end \x3e coral-tab":"_onEndKey",
"key:pagedown \x3e coral-tab":"_selectNextItem","key:right \x3e coral-tab":"_selectNextItem","key:down \x3e coral-tab":"_selectNextItem","key:pageup \x3e coral-tab":"_selectPreviousItem","key:left \x3e coral-tab":"_selectPreviousItem","key:up \x3e coral-tab":"_selectPreviousItem"},properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}},target:{default:null,validate:function(a){return null===a||"string"===typeof a||a instanceof Node},sync:function(){var a=b(this.target);
if(a){var c=this.items.getAll();a=a.items?a.items.getAll():a.children;for(var d=Math.max(c.length,a.length),h,g,k=0;k<d;k++)h=c[k],g=a[k],h&&h.target&&""!==h.target.trim()||(h&&g?(h.id=h.id||Coral.commons.getUID(),g.id=g.id||Coral.commons.getUID(),h.setAttribute("aria-controls",g.id),g.setAttribute("aria-labelledby",h.id)):h?h.removeAttribute("aria-controls"):g.removeAttribute("aria-labelledby"))}}},size:{default:c.MEDIUM,transform:function(a){return"string"===typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(c)],sync:function(){this.classList[this.size===c.LARGE?"add":"remove"]("coral-TabList--large")}},orientation:{default:d.HORIZONTAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(d)],sync:function(){this.classList[this.orientation===d.VERTICAL?"add":"remove"]("coral-TabList--vertical")}}},_onTabClick:function(a){a.preventDefault();this._selectAndFocusItem(a.matchedTarget)},_onHomeKey:function(a){a.preventDefault();a=this.items.getFirstSelectable();this._selectAndFocusItem(a)},
_onEndKey:function(a){a.preventDefault();a=this.items.getLastSelectable();this._selectAndFocusItem(a)},_selectNextItem:function(a){a.preventDefault();if(a=this.selectedItem)a=this.items.getNextSelectable(a),this._selectAndFocusItem(a)},_selectPreviousItem:function(a){a.preventDefault();if(a=this.selectedItem)a=this.items.getPreviousSelectable(a),this._selectItem(a),a.focus()},_selectAndFocusItem:function(a){a&&(this._selectItem(a),a.focus())},_initialize:function(){this.setAttribute("aria-multiselectable",
"false")},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this._syncProp("target")}});Coral.TabList.orientation=d;Coral.TabList.size=c;Coral.register({name:"Tab",tagName:"coral-tab",className:"coral-Tab",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-tablist",role:"tab"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tab-label",defaultContentZone:!0,insert:function(a){this.appendChild(a)}}),icon:{get:function(){var a=this._elements.icon;
return a?a.icon:""},set:function(a){var b=this._getOrCreateIconElement();b.icon=a;""===this.icon?b.remove():b.parentNode||this.insertBefore(b,this.firstChild)}},invalid:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle("is-invalid",this.invalid);this.setAttribute("aria-invalid",this.invalid)}},disabled:{alsoSync:"selected",sync:function(){this.classList.toggle("is-disabled",this.disabled);this.setAttribute("aria-disabled",
this.disabled)}},selected:{set:function(a){(this._selected=a)&&this._selectTarget()},sync:function(){this.classList.toggle("is-selected",this.selected);this.setAttribute("tabindex",this.selected?"0":"-1");this.setAttribute("aria-selected",this.selected)}},target:{default:null,validate:function(a){return null===a||"string"===typeof a||a instanceof Node},sync:function(){var a=b(this.target);a&&(this.setAttribute("aria-controls",a.id),a.setAttribute("aria-labelledby",this.id))}}},_getOrCreateIconElement:function(){this._elements.icon||
(this._elements.icon=document.createElement("coral-icon"),this._elements.icon.setAttribute("size",Coral.Icon.size.SMALL));return this._elements.icon},_selectTarget:function(){var a=b(this.target);if(a)a.setAttribute("selected","");else{var c=this.parentNode;c&&c.target&&(a=b(c.target))&&(c=c.items.getAll().indexOf(this),(a=(a.items?a.items.getAll():a.children)[c])&&a.setAttribute("selected",""))}},_render:function(){var a=this.querySelector("coral-tab-label"),b=a||document.createElement("coral-tab-label");
if(!a)for(;this.firstChild;)b.appendChild(this.firstChild);this.label=b},_initialize:function(){this.id=this.id||Coral.commons.getUID()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this);this.selected&&(this._selectTarget(),this._syncProp("target"))}});Coral.Tab.Label=function(){return document.createElement("coral-tab-label")}})();
(function(){var b={HORIZONTAL:"horizontal",VERTICAL:"vertical"};Coral.register({name:"TabView",tagName:"coral-tabview",className:"coral-TabView",events:{"coral-tablist:change \x3e coral-tablist":"_onTabListChange","coral-panelstack:change \x3e coral-panelstack":"_onPanelStackChange","coral-collection:add \x3e coral-tablist":"_syncTabListAndPanelStack","coral-collection:remove \x3e coral-tablist":"_syncTabListAndPanelStack","coral-collection:add \x3e coral-panelstack":"_syncTabListAndPanelStack","coral-collection:remove \x3e coral-panelstack":"_syncTabListAndPanelStack"},
properties:{orientation:{validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],get:function(){return this.tabList.orientation},set:function(b){this.tabList.orientation=b},sync:function(){this.orientation===b.VERTICAL?this.classList.add("coral-TabView--vertical"):this.classList.remove("coral-TabView--vertical")}},tabList:Coral.property.contentZone({handle:"tabList",tagName:"coral-tablist",insert:function(b){this.insertBefore(b,this.panelStack||null)}}),panelStack:Coral.property.contentZone({handle:"panelStack",
tagName:"coral-panelstack",insert:function(b){this.appendChild(b)}})},_onTabListChange:function(b){this.trigger("coral-tabview:change",{selection:b.detail.selection,oldSelection:b.detail.oldSelection})},_onPanelStackChange:function(b){b.detail.selection&&(b=b.detail.selection.getAttribute("aria-labelledby"),(b=document.getElementById(b))&&null===b.getAttribute("selected")&&b.setAttribute("selected",""))},_syncTabListAndPanelStack:function(b){this.tabList._queueSync(["target"])},_render:function(){var b=
this.querySelector("coral-tablist")||document.createElement("coral-tablist"),d=this.querySelector("coral-panelstack")||document.createElement("coral-panelstack");d.id=d.id||Coral.commons.getUID();b.setAttribute("target","#"+d.id);this.panelStack=d;this.tabList=b}});Coral.TabView.orientation=b})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Tree=window.Coral.templates.Tree||{};
window.Coral.templates.Tree.item=function(b){b=document.createDocumentFragment();var c=this.header=document.createElement("div");c.className+=" coral-Tree-header";c.setAttribute("role","tab");c.id=Coral.commons.getUID();c.setAttribute("handle","header");var d=document.createTextNode("\n  ");c.appendChild(d);d=this.icon=document.createElement("coral-icon");d.className+=" coral-Tree-collapseExpand";d.setAttribute("size","xs");d.setAttribute("handle","icon");d.setAttribute("role","img");d.setAttribute("icon",
"chevronRight");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=this.contentContainer=document.createElement("div");d.className+=" coral-Tree-contentContainer";d.setAttribute("handle","contentContainer");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.subTreeContainer=document.createElement("div");this.$subTreeContainer=$(c);c.className+=" coral-Tree-subTree";c.setAttribute("handle","$subTreeContainer");
c.id=Coral.commons.getUID();c.setAttribute("role","tabpanel");b.appendChild(c);return b};window.Coral.templates.Tree.itemspacer=function(b){b=document.createElement("span");b.className+=" coral-Tree-item-spacer";return b};
(function(){Coral.register({name:"Tree",tagName:"coral-tree",className:"coral-Tree",mixins:[Coral.mixin.selectionList({role:"tree",itemTagName:"coral-tree-item",allowSingleModeDeselect:!0})],events:{"click [role\x3dtab]":"_onItemClick","click .coral-Tree-collapseExpand":"_onExpandCollapseClick"},_onItemClick:function(b){if(!b.target.hasAttribute("coral-interactive")&&!b.target.closest("[coral-interactive]")){var c=$(b.target).closest("coral-tree-item").get(0);c&&(b.preventDefault(),b.stopPropagation(),
this._selectItem(c),this._focusItem(c))}},_onExpandCollapseClick:function(b){var c=$(b.target).closest("coral-tree-item").get(0);c&&(b.preventDefault(),b.stopPropagation(),c.disabled||(c.expanded=!c.expanded))},_focusItem:function(b){b&&b.focus();this._tabTarget=b},_initialize:function(){this.setAttribute("aria-multiselectable","true")},expandAll:function(){this._expandCollapseAll(!0)},collapseAll:function(){this._expandCollapseAll(!1)},_expandCollapseAll:function(b){var c=this.querySelectorAll("coral-tree-item");
if(c){var d,a=c.length;if(0<a)for(var e=0;e<a;e++)if(d=c[e])d.expanded=b}}})})();
(function(){var b={"true":"chevronDown","false":"chevronRight"},c={LEAF:"leaf",DRILLDOWN:"drilldown"},d=[],a;for(a in c)c.hasOwnProperty(a)&&d.push("coral-Tree-item--"+c[a]);var e=function(a){if(a)for(var b=a.parent;b;){var c=a._elements.header;c&&c.insertBefore(Coral.templates.Tree.itemspacer.call(),c.firstChild);b=b.parent}},f=function(a){Coral.Collection.call(this,arguments);this._host=a.host;this._parent=a.parent};f.prototype=Object.create(Coral.Collection.prototype);f.prototype.add=function(a,
b){a instanceof HTMLElement||(a=(new Coral.Tree.Item).set(a,!0));a.parent=this._parent;e(a);this._host.insertBefore(a,b||null);return a};f.prototype.getAll=function(){return Array.prototype.slice.call(this._host.querySelectorAll("coral-tree-item"))};Coral.register({name:"Tree.Item",tagName:"coral-tree-item",className:"coral-Tree-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-tree",role:"treeitem"})],properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-tree-item-content"}),
items:{get:function(){this._items||(this._items=new f({itemTagName:"coral-tree-item",itemSelector:"coral-tree-item",host:this._elements.subTreeContainer,parent:this}));return this._items},set:function(){}},expanded:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(a){return!a||!this.disabled}],set:function(a,b){b=this._getSelectionList();if(a&&!b)throw Error(this+" cannot be expanded before being added as a child.");
this._expanded=a},sync:function(){this.$.toggleClass("is-expanded",this.expanded);this._elements.header.setAttribute("aria-expanded",this.expanded);this._elements.subTreeContainer.setAttribute("aria-hidden",!this.expanded);this._elements.icon.icon=b[this.expanded];if(this._animate)this._elements.$subTreeContainer[this.expanded?"slideDown":"slideUp"]({duration:250});else this._elements.$subTreeContainer[this.expanded?"show":"hide"](),this._animate=!0}},variant:{default:c.DRILLDOWN,validate:[Coral.validate.valueMustChange,
Coral.validate.enumeration(c)],sync:function(){this.classList.remove.apply(this.classList,d);this.classList.add(this._className+"--"+this.variant)}},disabled:{alsoSync:["_isTabTarget"],sync:function(){this.$.toggleClass("is-disabled",this.disabled);this._elements.header.setAttribute("aria-disabled",this.disabled)}},_isTabTarget:{default:!1,sync:function(){this.disabled?this._elements.header.removeAttribute("tabindex"):this._elements.header.setAttribute("tabindex",this.__isTabTarget?"0":"-1")}}},focus:function(){this._elements.header.focus()},
_initialize:function(){var a=this._elements.header;a.setAttribute("aria-controls",this._elements.subTreeContainer.id);this._elements.subTreeContainer.setAttribute("aria-labelledby",a.id)},_templateHandleNames:["header","icon","contentContainer","$subTreeContainer"],_render:function(){var a=Coral.templates.Tree.item.call(this._elements),b=this._elements.content=this.querySelector("coral-tree-item-content")||document.createElement("coral-tree-item-content");this._elements.contentContainer.appendChild(b);
for(var c;this.firstChild;)c=this.firstChild,c.nodeName===this.tagName?(c.parent=this,this._elements.subTreeContainer.appendChild(c)):c.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(c.getAttribute("handle"))?b.appendChild(c):this.removeChild(c);e(this);this.appendChild(a)}});Coral.Tree.Item.variant=c;Coral.Tree.Item.Content=function(){return document.createElement("coral-tree-item-content")}})();
(function(){Coral.register({name:"WizardView",tagName:"coral-wizardview",className:"coral-WizardView",events:{"coral-component:attached coral-panelstack[coral-wizardview-panelstack]":"_onComponentAttached","coral-component:attached coral-steplist[coral-wizardview-steplist]":"_onComponentAttached","coral-steplist:change coral-steplist[coral-wizardview-steplist]":"_onStepListChange","click [coral-wizardview-previous]":"_onPreviousClick","click [coral-wizardview-next]":"_onNextClick"},properties:{panelStacks:{attribute:null,
get:function(){this._panelStacks||(this._panelStacks=new Coral.Collection({host:this,itemTagName:"coral-panelstack",itemSelector:"coral-panelstack[coral-wizardview-panelstack]",filter:this._isControlledByThisComponent.bind(this),onItemAdded:this._onItemAdded}));return this._panelStacks},set:function(){}},stepLists:{attribute:null,get:function(){this._stepLists||(this._stepLists=new Coral.Collection({host:this,itemTagName:"coral-steplist",itemSelector:"coral-steplist[coral-wizardview-steplist]",filter:this._isControlledByThisComponent.bind(this),
onItemAdded:this._onItemAdded}));return this._stepLists},set:function(){}}},_onComponentAttached:function(b){b.target===b.matchedTarget&&this._isControlledByThisComponent(b.target)&&this._selectItemByIndex(b.target,this._getSelectedIndex())},_onItemAdded:function(b){this._selectItemByIndex(b,this._getSelectedIndex())},_onNextClick:function(b){b.stopPropagation();this.next()},_onPreviousClick:function(b){b.stopPropagation();this.previous()},_onStepListChange:function(b){if(this._isControlledByThisComponent(b.target)){b.stopPropagation();
var c=b.target.items.getAll().indexOf(b.detail.selection);this._selectStep(c);this.trigger("coral-wizardview:change",{selection:b.detail.selection,oldSelection:b.detail.oldSelection})}},_getSelectedIndex:function(){var b=this.stepLists.first();if(!b)return-1;var c=-1;if(b.items)c=b.items.getAll().indexOf(b.selectedItem);else{b=b.querySelectorAll("coral-step");for(var d=b.length-1;0<=d;d--)if(b[d].hasAttribute("selected")){c=d;break}}return c},_isControlledByThisComponent:function(b){return b.closest("coral-wizardview")===
this},_selectItemByIndex:function(b,c){var d=null;b.id=b.id||Coral.commons.getUID();b.items?d=b.items.getAll()[c]:"CORAL-STEPLIST"===b.tagName?d=b.querySelectorAll("#"+b.id+" \x3e coral-step")[c]:"CORAL-PANELSTACK"===b.tagName&&(d=b.querySelectorAll("#"+b.id+" \x3e coral-panel")[c]);d?d.hasAttribute("selected")||d.setAttribute("selected",""):("CORAL-STEPLIST"===b.tagName?d=b.querySelector("#"+b.id+" \x3e coral-step[selected]"):"CORAL-PANELSTACK"===b.tagName&&(d=b.querySelector("#"+b.id+" \x3e coral-panel[selected]")),
d&&d.removeAttribute("selected"))},_selectStep:function(b){var c=this;this.stepLists.getAll().forEach(function(d){c._selectItemByIndex(d,b)});this.panelStacks.getAll().forEach(function(d){c._selectItemByIndex(d,b)})},_syncPanelStackSelection:function(){var b=this._getSelectedIndex();if(-1!==b){var c=this;this.panelStacks.getAll().forEach(function(d){c._selectItemByIndex(d,b)})}},_syncStepListSelection:function(){var b=this._getSelectedIndex();if(-1!==b){var c=this;this.stepLists.getAll().forEach(function(d){c._selectItemByIndex(d,
b)})}},_initialize:function(){this._syncStepListSelection();this._syncPanelStackSelection()},next:function(){var b=this.stepLists.first();b&&(b.next(),this._selectStep(b.items.getAll().indexOf(b.selectedItem)))},previous:function(){var b=this.stepLists.first();b&&(b.previous(),this._selectStep(b.items.getAll().indexOf(b.selectedItem)))}})})();
(function(){Coral.register({name:"Shell",tagName:"coral-shell",className:"coral-Shell",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-content"})},_render:function(){var b=this._elements.content=this.querySelector("coral-shell-content");if(null===b){var c=document.createDocumentFragment();b=this._elements.content=document.createElement("coral-shell-content");for(c.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(c)}}})})();
(function(){Coral.register({name:"Shell.Content",tagName:"coral-shell-content",className:"coral-Shell-content"})})();
(function(){Coral.register({name:"Shell.Header",tagName:"coral-shell-header",className:"coral-Shell-header",events:{"global:coral-overlay:beforeopen":"_handleMenuBeforeOpenOrClose","global:coral-overlay:beforeclose":"_handleMenuBeforeOpenOrClose","global:coral-overlay:close":"_handleMenuClose"},properties:{home:Coral.property.contentZone({handle:"home",tagName:"coral-shell-header-home"}),content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-header-content"}),actions:Coral.property.contentZone({handle:"actions",
tagName:"coral-shell-header-actions"})},_handleMenuBeforeOpenOrClose:function(b){var c=b.target;if("CORAL-SHELL-MENU"===c.tagName){var d=this;Coral.commons.nextFrame(function(){d.style.zIndex=parseInt(c.style.zIndex,10)+100})}},_handleMenuClose:function(b){"CORAL-SHELL-MENU"===b.target.tagName&&(this.style.zIndex="auto")},_render:function(){var b=document.createDocumentFragment(),c=this._elements.home=this.querySelector("coral-shell-header-home")||document.createElement("coral-shell-header-home"),
d=this._elements.actions=this.querySelector("coral-shell-header-actions")||document.createElement("coral-shell-header-actions"),a=this._elements.content=this.querySelector("coral-shell-header-content")||document.createElement("coral-shell-header-content");b.appendChild(c);b.appendChild(d);for(b.appendChild(a);this.firstChild;)a.appendChild(this.firstChild);this.appendChild(b)},_initialize:function(){this.classList.add("coral--dark")}});Coral.register({name:"Shell.Header.Home",tagName:"coral-shell-header-home",
className:"coral-Shell-header-home",_initialize:function(){this.setAttribute("role","heading");this.setAttribute("aria-level","2")}});Coral.register({name:"Shell.Header.Actions",tagName:"coral-shell-header-actions",className:"coral-Shell-header-actions"});Coral.register({name:"Shell.Header.Content",tagName:"coral-shell-header-content",className:"coral-Shell-header-content"})})();
(function(){Coral.register({name:"Shell.HomeAnchor",tagName:"coral-shell-homeanchor",baseTagName:"a",extend:HTMLAnchorElement,className:"coral-Shell-homeAnchor",properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-shell-homeanchor-label"}),icon:{get:function(){return this._elements.icon.icon},set:function(b){this._elements.icon.icon=b},sync:function(){""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)}}},
_render:function(){for(var b=document.createDocumentFragment(),c=this._elements.label=this.querySelector("coral-shell-homeanchor-label")||document.createElement("coral-shell-homeanchor-label");this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE?c.appendChild(d):"CORAL-ICON"===d.tagName?(this._elements.icon=d,b.appendChild(d)):this.removeChild(d)}this._elements.icon||(this._elements.icon=document.createElement("coral-icon"),this._elements.icon.size=Coral.Icon.size.MEDIUM,this._elements.icon.className+=
" coral-Shell-homeAnchor-icon");b.appendChild(c);this.appendChild(b)},_initialize:function(){this.setAttribute("role","heading");this.setAttribute("aria-level","2")}});Coral.register({name:"Shell.HomeAnchor.Label",tagName:"coral-shell-homeanchor-label",className:"coral-Shell-homeAnchor-label"})})();window.Coral=window.Coral||{};window.Coral.strings=window.Coral.strings||{};
window.Coral.strings["coralui-component-shell-help"]={"en-US":{"Search for Help":"Search for Help","Searching Help\u2026":"Searching Help\u2026","Error fetching results":"Error fetching results","No results found":"No results found","See all {0} results":"See all {0} results"},"fr-FR":{"Search for Help":"Rechercher de l\u2019aide","Searching Help\u2026":"Recherche dans l\u2019aide\u2026","Error fetching results":"Erreur lors de la r\u00e9cup\u00e9ration des r\u00e9sultats","No results found":"Aucun r\u00e9sultat trouv\u00e9",
"See all {0} results":"Voir les {0} r\u00e9sultats"},"de-DE":{"Search for Help":"Nach Hilfe suchen","Searching Help\u2026":"Suche nach Hilfe \u2026","Error fetching results":"Fehler beim Abruf von Ergebnissen","No results found":"Keine Ergebnisse gefunden","See all {0} results":"Alle {0} Ergebnisse anzeigen"},"it-IT":{"Search for Help":"Cerca informazioni nell'Aiuto","Searching Help\u2026":"Ricerca aiuto\u2026","Error fetching results":"Errore durante il recupero dei risultati","No results found":"Nessun risultato trovato",
"See all {0} results":"Visualizza tutti i {0} risultati"},"es-ES":{"Search for Help":"Buscar ayuda","Searching Help\u2026":"Buscando ayuda\u2026","Error fetching results":"Error al obtener los resultados","No results found":"No se han encontrado resultados","See all {0} results":"Ver los {0} resultados"},"pt-BR":{"Search for Help":"Procurar nas se\u00e7\u00f5es de Ajuda","Searching Help\u2026":"Pesquisando ajuda\u2026","Error fetching results":"Erro ao obter resultados","No results found":"Nenhum resultado encontrado",
"See all {0} results":"Ver todos os resultados de {0}"},"ja-JP":{"Search for Help":"\u30d8\u30eb\u30d7\u3092\u691c\u7d22","Searching Help\u2026":"\u30d8\u30eb\u30d7\u3092\u691c\u7d22\u4e2d\u2026","Error fetching results":"\u7d50\u679c\u3092\u53d6\u5f97\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f","No results found":"\u7d50\u679c\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f","See all {0} results":"\u3059\u3079\u3066\u306e {0} \u7d50\u679c\u3092\u78ba\u8a8d"},
"ko-KR":{"Search for Help":"\ub3c4\uc6c0\ub9d0 \uac80\uc0c9","Searching Help\u2026":"\ub3c4\uc6c0\ub9d0 \uac80\uc0c9 \uc911\u2026","Error fetching results":"\uacb0\uacfc\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd","No results found":"\uacb0\uacfc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","See all {0} results":"\ucd1d {0}\uac1c \uacb0\uacfc \ubcf4\uae30"},"zh-CN":{"Search for Help":"\u641c\u7d22\u5e2e\u52a9","Searching Help\u2026":"\u6b63\u5728\u641c\u7d22\u5e2e\u52a9\u2026",
"Error fetching results":"\u83b7\u53d6\u7ed3\u679c\u65f6\u51fa\u9519","No results found":"\u627e\u4e0d\u5230\u4efb\u4f55\u7ed3\u679c","See all {0} results":"\u67e5\u770b\u5168\u90e8 {0} \u4e2a\u7ed3\u679c"},"zh-TW":{"Search for Help":"\u641c\u5c0b\u8aaa\u660e","Searching Help\u2026":"\u6b63\u5728\u641c\u5c0b\u8aaa\u660e\u2026","Error fetching results":"\u64f7\u53d6\u7d50\u679c\u6642\u767c\u751f\u932f\u8aa4","No results found":"\u627e\u4e0d\u5230\u7d50\u679c","See all {0} results":"\u67e5\u770b\u5168\u90e8 {0} \u500b\u7d50\u679c"},
"nl-NL":{"Search for Help":"Zoeken naar hulp","Searching Help\u2026":"Hulp zoeken\u2026","Error fetching results":"Fout bij ophalen resultaten","No results found":"Geen resultaten gevonden","See all {0} results":"Alle {0} resultaten bekijken"}};window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Shell=window.Coral.templates.Shell||{};
window.Coral.templates.Shell.help=function(b){b=document.createDocumentFragment();var c=Coral.commons.getUID(),d=document.createTextNode("\n");b.appendChild(d);d=document.createElement("label");d.className+=" u-coral-screenReaderOnly";d.id=c;d.textContent=Coral.i18n.get("Search for Help");b.appendChild(d);d=document.createTextNode("\n");b.appendChild(d);d=this.search=document.createElement("coral-search");d.className+=" coral-Shell-help-search";d.setAttribute("handle","search");d.setAttribute("placeholder",
Coral.i18n.get("Search for Help"));d.setAttribute("labelledby",c);b.appendChild(d);c=document.createTextNode("\n");b.appendChild(c);c=this.items=document.createElement("div");c.className+=" coral-Shell-help-items";c.setAttribute("handle","items");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.results=document.createElement("coral-anchorlist");c.className+=" coral-Shell-help-results";c.setAttribute("handle","results");c.setAttribute("hidden","");b.appendChild(c);c=document.createTextNode("\n");
b.appendChild(c);c=this.resultMessage=document.createElement("div");c.className+=" coral-Shell-help-resultMessage";c.setAttribute("handle","resultMessage");c.setAttribute("hidden","");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);c=this.loading=document.createElement("div");c.className+=" coral-Shell-help-loading";c.setAttribute("handle","loading");c.setAttribute("hidden","");d=document.createTextNode("\n  ");c.appendChild(d);d=document.createElement("coral-wait");d.setAttribute("size",
"S");d.className+=" coral-Shell-help-loading-wait";c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);d=document.createElement("span");d.className+=" coral-Heading--2 coral-Shell-help-loading-info";d.textContent=Coral.i18n.get("Searching Help\u2026");c.appendChild(d);d=document.createTextNode("\n");c.appendChild(d);b.appendChild(c);return b};
window.Coral.templates.Shell.helpResult=function(b){var c=document.createElement("coral-list-item-content"),d=document.createTextNode(b.title+"\n");c.appendChild(d);d=document.createElement("div");d.className+=" coral-Shell-help-result-description";d.textContent=b.description;c.appendChild(d);b=document.createTextNode("\n");c.appendChild(b);return c};
window.Coral.templates.Shell.helpSearchError=function(b){b=document.createElement("div");b.className+=" coral-Shell-help-resultMessage-container";var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("div");c.className+=" coral-Heading--1 coral-Shell-help-resultMessage-heading";c.textContent=Coral.i18n.get("Error fetching results");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
window.Coral.templates.Shell.noHelpResults=function(b){b=document.createElement("div");b.className+=" coral-Shell-help-resultMessage-container";var c=document.createTextNode("\n  ");b.appendChild(c);c=document.createElement("div");c.className+=" coral-Heading--1 coral-Shell-help-resultMessage-heading";c.textContent=Coral.i18n.get("No results found");b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){Coral.register({name:"Shell.Help",tagName:"coral-shell-help",className:"coral-BasicList coral-AnchorList coral-Shell-help",extend:Coral.AnchorList,events:{"coral-search:clear":"_showItems","coral-search:submit":"_performSearch"},properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-help-item",itemBaseTagName:"a",container:this._elements.items}));return this._items},set:function(){}},placeholder:{set:function(b){this._elements.search.placeholder=
b},get:function(){return this._elements.search.placeholder}}},_moveItems:function(){this.$.find('\x3e a[is\x3d"coral-shell-help-item"]').appendTo(this._elements.items)},_performSearch:function(b){b.stopPropagation();this._elements.items.hidden=!0;this._elements.loading.hidden=!1;this._elements.resultMessage.hidden=!0;this._elements.results.hidden=!0;this.trigger("coral-shell-help:search",{value:this._elements.search.value})},_showItems:function(b){b.stopPropagation();this._elements.results.hidden=
!0;this._elements.loading.hidden=!0;this._elements.resultMessage.hidden=!0;this._elements.items.hidden=!1},_render:function(){var b=Coral.templates.Shell.help.call(this._elements);this._moveItems();this.appendChild(b)},showError:function(){this._elements.loading.hidden=!0;this._elements.resultMessage.innerHTML="";this._elements.resultMessage.appendChild(Coral.templates.Shell.helpSearchError());this._elements.resultMessage.hidden=!1},showResults:function(b,c,d){var a=this;this._elements.loading.hidden=
!0;b&&0!==c?(this._elements.results.innerHTML="",b.forEach(function(b){var c=b.tags.join("\x26nbsp; \x26bull; \x26nbsp;"),d=(new Coral.AnchorList.Item).set({href:b.href,target:b.target});d.content=Coral.templates.Shell.helpResult({title:b.title,description:c});a._elements.results.appendChild(d)}),this._elements.results.hidden=!1,1<c&&(b=(new Coral.AnchorList.Item).set({href:d,content:{innerHTML:Coral.i18n.get("See all {0} results",c)},target:"_blank"}),b.$.addClass("coral-Link coral-Shell-help-allResults"),
this._elements.results.appendChild(b))):(this._elements.resultMessage.innerHTML="",this._elements.resultMessage.appendChild(Coral.templates.Shell.noHelpResults()),this._elements.resultMessage.hidden=!1)}});Coral.register({name:"Shell.Help.Item",tagName:"coral-shell-help-item",className:"coral-BasicList-item coral-AnchorList-item coral-Shell-help-item",baseTagName:"a",extend:Coral.AnchorList.Item})})();window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};
window.Coral.templates.Shell=window.Coral.templates.Shell||{};window.Coral.templates.Shell.menubaritem=function(b){b=this.shellMenuButton=document.createElement("button","coral-button");b.setAttribute("is","coral-button");b.setAttribute("variant","minimal");b.setAttribute("iconsize","S");b.className+=" coral-Shell-menu-button";b.setAttribute("handle","shellMenuButton");return b};
(function(){Coral.register({name:"Shell.MenuBar",tagName:"coral-shell-menubar",className:"coral-Shell-menubar",properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-menubar-item"}));return this._items},set:function(){}}},_initialize:function(){}});var b={DEFAULT:"default",CIRCLE:"circle"},c="",d;for(d in b)c+="coral-Shell-menubar-item--"+b[d]+" ";Coral.register({name:"Shell.MenuBar.Item",tagName:"coral-shell-menubar-item",className:"coral-Shell-menubar-item",
events:{'click [handle\x3d"shellMenuButton"]':"_handleButtonClick","global:coral-overlay:close":"_handleOverlayEvent","global:coral-overlay:open":"_handleOverlayEvent"},properties:{icon:{set:function(a){this._elements.shellMenuButton.icon=a},get:function(){return this._elements.shellMenuButton.icon}},iconSize:{attribute:"iconsize",set:function(a){this._elements.shellMenuButton.iconSize=a},get:function(){return this._elements.shellMenuButton.iconSize}},iconVariant:{default:b.DEFAULT,attribute:"iconvariant",
validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(c);this.variant!==Coral.Shell.MenuBar.Item.iconVariant.DEFAULT&&this.$.addClass("coral-Shell-menubar-item--"+this.iconVariant)}},badge:{set:function(a){a&&"0"!==a?this._elements.shellMenuButton.setAttribute("badge",a):this._elements.shellMenuButton.removeAttribute("badge",a)},get:function(){return this._elements.shellMenuButton.getAttribute("badge")}},open:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,
attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(a,b){return!a||null!==this._getMenu()}],trigger:function(a,b){return this.trigger(a?"coral-shell-menubar-item:open":"coral-shell-menubar-item:close")},set:function(a){this._open=a;if(a=this._getMenu())a.open=this.open}},label:{set:function(a){this._elements.shellMenuButton.label=a},get:function(){return this._elements.shellMenuButton.label}},menu:{default:null}},_handleOverlayEvent:function(a){a=a.target;
a===this._getMenu()&&(this.open=a.open)},_handleButtonClick:function(a){this.open=!this.open},_getMenu:function(a){a=a||this.menu;if(a instanceof Node)return a;var b=null;"string"===typeof a&&(b=document.querySelector(a));return b},_render:function(){for(var a=Coral.templates.Shell.menubaritem.call(this._elements);this.firstChild;)this.label.appendChild(this.firstChild);this.appendChild(a)}});Coral.Shell.MenuBar.Item.iconVariant=b})();
(function(){function b(a){return"string"===typeof a?a.toLowerCase():a}var c={RIGHT:"right",TOP:"top"},d="";for(a in c)d+="coral-Shell-menu--"+c[a]+" ";var a={RIGHT:"right",TOP:"top"};var e="",f;for(f in a)e+="coral-Shell-menu--"+a[f]+" ";Coral.register({name:"Shell.Menu",tagName:"coral-shell-menu",className:"coral-Shell-menu",mixins:[Coral.mixin.overlay],events:{"click [coral-close]":"_handleCloseClick","global:key:escape":"_handleGlobalEscape","global:capture:click":"_handleGlobalClick"},properties:{placement:{default:c.RIGHT,
transform:b,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$.removeClass(d);this.$.addClass(this._className+"--placement-"+this.placement)}},from:{default:a.TOP,transform:b,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.removeClass(e);this.$.addClass(this._className+"--from-"+this.from)}},full:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this.$.toggleClass(this._className+"--full",this.full)}},top:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr},focusOnShow:{default:"on"},returnFocus:{default:"on"},open:{set:function(){this.top&&(this.style.zIndex=parseInt(this.style.zIndex,10)+20)},sync:function(){if(this.open&&this.focusOnShow===Coral.mixin.overlay.focusOnShow.ON){var a=this;Coral.commons.transitionEnd(this,function(){var b=a.querySelector("input, textarea, select");
b?b.focus():a.focus()})}}}},_overlayAnimationTime:400,_handleGlobalEscape:function(){this.open&&this._isTopOverlay()&&(this.open=!1)},_handleCloseClick:function(a){var b=a.matchedTarget.getAttribute("coral-close");if(!b||this.$.is(b))this.hide(),a.stopPropagation()},_handleGlobalClick:function(a){a=a.target;var b=$(a).closest("coral-shell-menubar-item").get(0);b&&this===b._getMenu()||this.open&&!this.contains(a)&&this.hide()}})})();window.Coral=window.Coral||{};
window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Shell=window.Coral.templates.Shell||{};window.Coral.templates.Shell.solutionSwitcher=function(b){b=this.icon=document.createElement("coral-icon");b.setAttribute("size","L");b.setAttribute("handle","icon");b.className+=" coral-Shell-solution-icon";return b};
(function(){Coral.register({name:"Shell.SolutionSwitcher",tagName:"coral-shell-solutionswitcher",className:"coral-Shell-solutionSwitcher",properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-solutions"}));return this._items},set:function(){}}},_initialize:function(){var b=this;b.classList.add("coral--dark");(new MutationObserver(function(c){c.forEach(function(c){for(var a=0;a<c.addedNodes.length;a++){var d=c.addedNodes[a];"CORAL-SHELL-SOLUTIONS"!==
d.tagName||d.hasAttribute("secondary")||b._elements.container.appendChild(d)}})})).observe(b,{childList:!0})},_render:function(){var b=this._elements.container=document.createElement("div");b.className="coral-Shell-solutions-container";Array.prototype.forEach.call(this.querySelectorAll("coral-shell-solutions:not([secondary])"),function(c){b.appendChild(c)});this.insertBefore(b,this.firstChild)}});Coral.register({name:"Shell.Solutions",tagName:"coral-shell-solutions",className:"coral-Shell-solutions",
properties:{items:{get:function(){this._items||(this._items=new Coral.Collection({host:this,itemTagName:"coral-shell-solution",itemBaseTagName:"a"}));return this._items},set:function(){}},secondary:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,sync:function(){this.classList.toggle(this._className+"--secondary",this.secondary)}}}});Coral.Shell.Solutions.Header=function(){return document.createElement("coral-shell-solutions-header")};
Coral.register({name:"Shell.Solution",tagName:"coral-shell-solution",className:"coral-Shell-solution",baseTagName:"a",extend:HTMLAnchorElement,properties:{icon:{set:function(b){this._elements.icon.icon=b},get:function(){return this._elements.icon.icon}},label:Coral.property.contentZone({handle:"label",tagName:"coral-shell-solution-label",defaultContentZone:!0,insert:function(b){this.appendChild(b)}}),linked:{default:!1,reflectAttribute:!0,transform:Coral.transform.boolean,attributeTransform:Coral.transform.booleanAttr,
sync:function(){this.classList.toggle(this._className+"--linked",this.linked)}}},_render:function(){var b=document.createDocumentFragment();b.appendChild(Coral.templates.Shell.solutionSwitcher.call(this._elements));var c=this._elements.label=this.querySelector("coral-shell-solution-label")||document.createElement("coral-shell-solution-label");for(b.appendChild(this._elements.label);this.firstChild;)c.appendChild(this.firstChild);this.appendChild(b)}});Coral.Shell.Solution.Label=function(){return document.createElement("coral-shell-solution-label")}})();
window.Coral=window.Coral||{};window.Coral.templates=window.Coral.templates||{};window.Coral.templates.Shell=window.Coral.templates.Shell||{};
window.Coral.templates.Shell.user=function(b){b=this.container=document.createElement("div");b.className+=" coral-Shell-user-container";b.setAttribute("handle","container");var c=document.createTextNode("\n  ");b.appendChild(c);c=this.image=document.createElement("div");c.className+=" coral-Shell-user-image";c.setAttribute("handle","image");var d=document.createTextNode("\n    ");c.appendChild(d);d=this.avatar=document.createElement("coral-icon");d.className+=" coral-Shell-user-avatar";d.setAttribute("size",
"L");d.setAttribute("handle","avatar");c.appendChild(d);d=document.createTextNode("\n  ");c.appendChild(d);b.appendChild(c);c=document.createTextNode("\n");b.appendChild(c);return b};
(function(){Coral.Shell=Coral.Shell||{};var b={DEFAULT:"user"};Coral.register({name:"Shell.User",tagName:"coral-shell-user",className:"coral-Shell-user",properties:{avatar:{default:b.DEFAULT,sync:function(){this._elements.avatar.icon=this._avatar}},name:Coral.property.contentZone({handle:"name",tagName:"coral-shell-user-name"}),heading:Coral.property.contentZone({handle:"heading",tagName:"coral-shell-user-heading"}),subheading:Coral.property.contentZone({handle:"subheading",tagName:"coral-shell-user-subheading"}),
content:Coral.property.contentZone({handle:"content",tagName:"coral-shell-user-content"}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-shell-user-footer"})},_render:function(){var b=document.createDocumentFragment();b.appendChild(Coral.templates.Shell.user.call(this._elements));var d=this._elements.name=this.querySelector("coral-shell-user-name")||document.createElement("coral-shell-user-name");this._elements.container.appendChild(d);d=this._elements.heading=this.querySelector("coral-shell-user-heading")||
document.createElement("coral-shell-user-heading");this._elements.container.appendChild(d);d=this._elements.subheading=this.querySelector("coral-shell-user-subheading")||document.createElement("coral-shell-user-subheading");this._elements.container.appendChild(d);d=this._elements.content=this.querySelector("coral-shell-user-content")||document.createElement("coral-shell-user-content");b.appendChild(d);d=this._elements.footer=this.querySelector("coral-shell-user-footer")||document.createElement("coral-shell-user-footer");
b.appendChild(d);this.appendChild(b)}});Coral.register({name:"Shell.User.Name",tagName:"coral-shell-user-name",className:"coral-Shell-user-name"});Coral.register({name:"Shell.User.Heading",tagName:"coral-shell-user-heading",className:"coral-Shell-user-heading"});Coral.register({name:"Shell.User.Subheading",tagName:"coral-shell-user-subheading",className:"coral-Shell-user-subheading"});Coral.register({name:"Shell.User.Content",tagName:"coral-shell-user-content",className:"coral-Shell-user-content"});
Coral.register({name:"Shell.User.Footer",tagName:"coral-shell-user-footer",className:"coral-Shell-user-footer"});Coral.Shell.User.avatar=b})();
(function(b,c){function d(a){a.checkValidity();a.updateErrorUI()}function a(a){a=a.closest(".coral-TabPanel-pane");var b=a.index();return{tab:a.closest(".coral-TabPanel").find("\x3e .coral-TabPanel-navigation \x3e .coral-TabPanel-tab").eq(b),pane:a}}if(!document.documentElement.classList.contains("skipCoral2Validation")&&!document.head.querySelector(".skipCoral2Validation")){var e=function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;
c||a.apply(e,f)},b);g&&a.apply(e,f)}};b.message.register({selector:"*",message:function(a,b,c){if("validation.required"===b)return Granite.I18n.get("Please fill out this field.")}});b(document).on("cui-contentloaded",function(a){b(":submittable",a.target).on("invalid",function(a){a.isJqueryValidator||(a.preventDefault(),d(b(this)))})});var f=function(a,d){var e=a.data("coral-validations.internal.simple.error");if(e){var f=e.data("tooltip");f.set("content",d);e.parent().length||(a.after(e),f.show())}else e=
b(document.createElement("span")),a.data("coral-validations.internal.simple.error",e),a.after(e),new c.Tooltip({element:e,target:a,content:d,type:"error",arrow:"bottom"})},h=function(a){if(a=a.data("coral-validations.internal.simple.error"))a.data("tooltip").hide(),a.detach()};b.validator.register({selector:"*",show:function(a,b){a.attr("aria-invalid","true").addClass("is-invalid");f(a,b)},clear:function(a){a.removeAttr("aria-invalid").removeClass("is-invalid");h(a)}});var g=[[".js-coral-Autocomplete-textfield",
".coral-Autocomplete"],[".js-coral-pathbrowser-input",".coral-PathBrowser"],[".coral-InputGroup-input",".coral-InputGroup"],[".coral-DecoratedTextfield-input",".coral-DecoratedTextfield"],[".coral-Checkbox-input",".coral-Checkbox"],[".coral-Switch-input",".coral-Switch"],[".coral-Select-select",".coral-Select"],[".coral-FileUpload-input",".coral-FileUpload"]],k=function(a){var b;g.some(function(c){return a.is(c[0])?(b=c,!0):!1});if(b)return a.closest(b[1])};b.validator.register({selector:".coral-InputGroup-input, .coral-DecoratedTextfield-input, .js-coral-Autocomplete-textfield, .js-coral-pathbrowser-input, .coral-Checkbox-input, .coral-Switch-input, .coral-Select-select, .coral-FileUpload-input",
show:function(a,b){a.attr("aria-invalid","true").addClass("is-invalid");f(k(a),b)},clear:function(a){a.removeAttr("aria-invalid").removeClass("is-invalid");h(k(a))}});var m=b(document.createElement("span")).addClass("coral-Form-fielderror coral-Icon coral-Icon--alert coral-Icon--sizeS").attr({"data-init":"quicktip","data-quicktip-type":"error"});b.validator.register({selector:".coral-Form-fieldwrapper .coral-Form-field, .coral-Form-fieldwrapper .coral-Form-field.coral-InputGroup .coral-InputGroup-input, .coral-Form-fieldwrapper .coral-Form-field.coral-DecoratedTextfield .coral-DecoratedTextfield-input, .coral-Form-fieldwrapper .coral-Form-field.coral-Autocomplete .js-coral-Autocomplete-textfield, .coral-Form-fieldwrapper .coral-Form-field.coral-PathBrowser .js-coral-pathbrowser-input, .coral-Form-fieldwrapper .coral-Form-field.coral-Checkbox .coral-Checkbox-input, .coral-Form-fieldwrapper .coral-Form-field.coral-Switch .coral-Switch-input, .coral-Form-fieldwrapper .coral-Form-field.coral-Select .coral-Select-select, .coral-Form-fieldwrapper .coral-Form-field.coral-FileUpload .coral-FileUpload-input",
show:function(a,b){a.attr("aria-invalid","true").addClass("is-invalid");var c=a.closest(".coral-Form-field"),d=c.nextAll(".coral-Form-fieldinfo");d.addClass("u-coral-screenReaderOnly");var e=a.data("coral-validations.internal.field.error");e?(e.data("quicktipContent",b),e.parent().length||c.after(e)):(d=d.data("quicktipArrow"),d||(d=c.closest(".coral-Form-fieldwrapper"),d=d.hasClass("coral-Form-fieldwrapper--singleline")?"left":d.closest("form").hasClass("coral-Form--vertical")?"right":"top"),e=m.clone().attr("data-quicktip-arrow",
d).attr("data-quicktip-content",b).insertAfter(c),a.data("coral-validations.internal.field.error",e))},clear:function(a){a.removeAttr("aria-invalid").removeClass("is-invalid");var b=a.closest(".coral-Form-field");if(a=a.data("coral-validations.internal.field.error")){var c=a.next(".coral-Tooltip").data("tooltip");c&&c.hide();a.detach()}b.nextAll(".coral-Form-fieldinfo").removeClass("u-coral-screenReaderOnly")}});b.validator.register({selector:"input, textarea, select",validate:function(a){if((!0===
a.prop("required")||void 0===a.prop("required")&&void 0!==a.attr("required")||"true"===a.attr("aria-required"))&&!(a.is("[type\x3dcheckbox], [type\x3dradio]")?a.prop("checked"):0<a.val().length))return a.message("validation.required")}});var l=function(a){d(b(this))};b(document).on("change","input, textarea, select",l);b(document).on("input","input, textarea",e(l,500));b.validator.register({selector:"[role\x3dlistbox]",validate:function(a){if("true"===a.attr("aria-required")){var c=!1;a.find("[role\x3doption]").each(function(){if("true"===
b(this).attr("aria-selected"))return c=!0,!1});if(!c)return a.message("validation.required")}}});b.validator.register({selector:".coral-Select-select",show:function(a,c){a.prev(".coral-Select-button").addClass("is-invalid");return b.validator.CONTINUE},clear:function(a,c){a.prev(".coral-Select-button").removeClass("is-invalid");return b.validator.CONTINUE}});b(document).on("selected",".coral-Select",function(a){d(b(this).find(".coral-Select-select"))});var n=c.Multifield.prototype._addListeners;c.Multifield.prototype._addListeners=
function(){n.apply(this,arguments);this.$element.on("click",".js-coral-Multifield-remove",function(a){d(b(a.delegateTarget))});this.$element.on("click",".js-coral-Multifield-add",function(a){a=b(a.delegateTarget);a.find(".js-coral-Multifield-input").attr({role:"option","aria-selected":"true"});d(a)})};b.validator.register({selector:".js-coral-NumberInput-input",show:function(a,c){a.closest(".coral-NumberInput").data("numberInput").set("hasError",!0);return b.validator.CONTINUE},clear:function(a,c){a.closest(".coral-NumberInput").data("numberInput").set("hasError",
!1);return b.validator.CONTINUE}});b.validator.register({selector:".js-coral-DatePicker-input",show:function(a,c){a.closest(".coral-DatePicker").data("datepicker").set("hasError",!0);return b.validator.CONTINUE},clear:function(a,c){a.closest(".coral-DatePicker").data("datepicker").set("hasError",!1);return b.validator.CONTINUE}});b(document).on("change",".coral-Selector-input",function(a){a=b(this);var c=a.closest(".coral-Selector");a.is("[type\x3dradio]")&&c.find(".coral-Selector-input").attr("aria-selected",
"false");a.attr("aria-selected",""+this.checked);d(c)});b(document).on("change",".coral-RadioGroup",function(a){var c=b(this);a=b(a.target);a.is("[type\x3dradio]")&&c.find("input[type\x3dradio]").attr("aria-selected","false");a.attr("aria-selected",""+a.prop("checked"));d(c)});b(document).on("cui-contentloaded",function(a){b(".coral-RadioGroup input[type\x3dradio]",a.target).each(function(){b(this).attr("aria-selected",""+this.checked)})});b.validator.register({selector:".coral-FileUpload-input",
validate:function(a){if("true"===a.attr("aria-required")&&0===a.closest(".coral-FileUpload").data("fileUpload").uploadQueue.length)return a.message("validation.required")}});b(document).on("queuechanged",".coral-FileUpload",function(a){d(b(this))});b.validator.register({selector:".coral-ColorPicker",validate:function(a){if("true"===a.attr("aria-required")&&!a.children("input[type\x3dhidden]").val())return a.message("validation.required")}});var p=c.Colorpicker.prototype.construct;c.Colorpicker.prototype.construct=
function(){p.apply(this,arguments);this.$element.attr("role","listbox");b(document.createElement("meta")).attr({role:"option","aria-selected":"true"}).appendTo(this.$element)};var t=c.Colorpicker.prototype._setColor;c.Colorpicker.prototype._setColor=function(){t.apply(this,arguments);d(this.$element)};b.validator.register({selector:".coral-Autocomplete",validate:function(a){if("true"===a.attr("aria-required")&&0===a.data("autocomplete").getValue().length)return a.message("validation.required")},show:function(a,
c){a.find(".js-coral-Autocomplete-textfield").first().addClass("is-invalid");return b.validator.CONTINUE},clear:function(a,c){a.find(".js-coral-Autocomplete-textfield").first().removeClass("is-invalid");return b.validator.CONTINUE}});b(document).on("change:value",".coral-Autocomplete",function(a){a=b(this);if(!a.data("autocomplete").options.multiple){var c=a.find(".js-coral-Autocomplete-textfield");d(c)}d(a)});l=function(a){a=b(this).closest(".coral-Autocomplete");a.data("autocomplete").options.multiple||
d(a)};b(document).on("change",".js-coral-Autocomplete-textfield",l);b(document).on("input",".js-coral-Autocomplete-textfield",e(l,500));b(document).on("invalid",".coral-TabPanel",function(c){var d=a(b(c.target));d.tab.addClass("is-invalid");d=d.pane;c=c.target;var e=d.data("coral-TabPanel.internal.invalids");void 0===e&&(e=[],d.data("coral-TabPanel.internal.invalids",e));0>e.indexOf(c)&&e.push(c)});b(document).on("valid",".coral-TabPanel",function(c){var d=a(b(c.target)),e=d.tab,f=d.pane;d=function(){b.validator.isValid(f,
!0)&&e.removeClass("is-invalid")};var g=f.data("coral-TabPanel.internal.invalids");if(g)if(c=g.indexOf(c.target),0<=c&&g.splice(c,1),0===g.length)d();else{c=!1;for(var h=g.length;h--;){if(f.has(g[h]).length){c=!0;break}g.splice(h,1)}c||d()}else d()})}})(jQuery,CUI);
(function(b){CUI.FileChunkedUpload=new Class({toString:"FileChunkedUpload",extend:CUI.FileUpload,defaults:b.extend(CUI.FileUpload.prototype.defaults,{chunkSize:null,chunkUploadMinFileSize:null,chunkUploadSupported:!1}),_readDataFromMarkup:function(){this.inputElement.data("chunkUploadSupported")&&(this.options.chunkUploadSupported=!0===this.inputElement.data("chunkUploadSupported"));this.inputElement.data("chunkSize")&&(this.options.chunkSize=this.inputElement.data("chunkSize"));this.inputElement.data("chunkUploadMinFileSize")&&
(this.options.chunkUploadMinFileSize=this.inputElement.data("chunkUploadMinFileSize"));this.inherited(arguments)},startChunkedUpload:function(b){this.resumeChunkedUpload(b,0)},resumeChunkedUpload:function(b,d){var a=this;if(!1===this.canChunkedUpload(b))throw"cannot start chunk upload on ["+b.file.name+"]";b.xhr=new XMLHttpRequest;var c=b.xhr.upload,f=b.file,h=b.fileName,g=new FormData;if(a.options.fileNameParameter){var k=this._getFileSliceMethod(f),m=f[k](d,d+this.options.chunkSize);g.append(a.inputElement.attr("name"),
m);g.append(a.options.fileNameParameter||"fileName",h);g.append(a.inputElement.attr("name")+"@Offset",d);g.append(a.inputElement.attr("name")+"@Length",f.size);null!==b.parameters&&void 0!==b.parameters&&b.parameters.forEach(function(a){g.append(a.name,a.value)});b.xhr.addEventListener("load",function(c){a._onChunkUploadLoad(c,b,d,m)},!1);c.addEventListener("progress",function(c){a._onChunkUploadProgress(c,b,d,m)},!1);b.xhr.addEventListener("loadstart",function(c){a._onChunkUploadStart(c,b,d,m)},
!1);b.xhr.addEventListener("error",function(c){a._onChunkUploadError(c,b,d,m)},!1);b.xhr.addEventListener("timeout",function(c){a._onChunkUploadError(c,b,d,m)},!1);b.xhr.addEventListener("abort",function(c){a._onChunkUploadCanceled(c,b,d,m)},!1);g.append("_charset_","utf-8");b.xhr.open("POST",a.options.uploadUrl+"?:ck\x3d"+(new Date).getTime(),!0);b.xhr.send(g)}},queryChunkedUpload:function(b,d){var a=this,c=new XMLHttpRequest;c.addEventListener("load",function(b){a._onQueryChunkUploadLoad(b,d)},
!1);c.addEventListener("error",function(b){a._onQueryChunkUploadError(b,d)},!1);c.addEventListener("timeout",function(b){a._onQueryChunkUploadError(b,d)},!1);c.addEventListener("abort",function(b){a._onQueryChunkUploadError(b,d)},!1);c.open("GET",b+"?:ck\x3d"+(new Date).getTime()+"\x26_charset_\x3dutf-8",!0);c.send()},deleteChunkedUpload:function(b,d){var a=this,c=new XMLHttpRequest,f=new FormData;f.append(":operation","delete");f.append(":applyToChunks","true");f.append("_charset_","utf-8");c.addEventListener("load",
function(b){a._onDeleteChunkUploadLoad(b,d)},!1);c.addEventListener("error",function(b){a._onDeleteChunkUploadError(b,d)},!1);c.addEventListener("timeout",function(b){a._onDeleteChunkUploadError(b,d)},!1);c.addEventListener("abort",function(b){a._onDeleteChunkUploadError(b,d)},!1);c.open("POST",b+"?:ck\x3d"+(new Date).getTime(),!0);c.send(f)},canChunkedUpload:function(b){if(!0===this.options.useHTML5&&!0===this.options.chunkUploadSupported&&b.file.size>this.options.chunkUploadMinFileSize&&window.FormData){try{this._getFileSliceMethod(b.file)}catch(d){return!1}return!0}return!1},
cancelChunkedUpload:function(b){b.xhr.abort()},_onChunkUploadStart:function(b,d,a,e){0===a&&this._onUploadStart(b,d);this.$element.trigger({type:"filechunkeduploadstart",item:d,offset:a,chunk:e,originalEvent:b,fileUpload:this})},_onChunkUploadLoad:function(b,d,a,e){var c=b.target;4===c.readyState&&this._internalOnChunkUploadLoad(b,d,a,e,c.status,c.responseText)},_onChunkUploadProgress:function(b,d,a,e){this.$element.trigger({type:"filechunkeduploadprogress",item:d,offset:a,chunk:e,originalEvent:b,
fileUpload:this})},_onChunkUploadError:function(b,d,a,e){this.$element.trigger({type:"filechunkeduploaderror",offset:a,chunk:e,item:d,originalEvent:b,fileUpload:this})},_onChunkUploadCanceled:function(b,d,a,e){this.$element.trigger({type:"filechunkeduploadcanceled",offset:a,chunk:e,item:d,originalEvent:b,fileUpload:this})},_onQueryChunkUploadLoad:function(b,d){var a=b.target;4===a.readyState&&(CUI.util.HTTP.isOkStatus(a.status)?this.$element.trigger({type:"filechunkeduploadquerysuccess",item:d,originalEvent:b,
fileUpload:this}):this._onQueryChunkUploadError(b,d))},_onQueryChunkUploadError:function(b,d){this.$element.trigger({type:"filechunkeduploadqueryerror",item:d,originalEvent:b,message:b.target.responseText,fileUpload:this})},_onDeleteChunkUploadLoad:function(b,d){var a=b.target;4===a.readyState&&(CUI.util.HTTP.isOkStatus(a.status)?this.$element.trigger({type:"filechunkeduploaddeletesuccess",item:d,originalEvent:b,fileUpload:this}):this._onDeleteChunkUploadError(b,d))},_onDeleteChunkUploadError:function(b,
d){this.$element.trigger({type:"filechunkeduploaddeleteerror",item:d,originalEvent:b,message:b.target.responseText,fileUpload:this})},_internalOnChunkUploadLoad:function(b,d,a,e,f,h){CUI.util.HTTP.isOkStatus(f)?(this.$element.trigger({type:"filechunkeduploadsuccess",offset:a,chunk:e,item:d,originalEvent:b,fileUpload:this}),a+e.size===d.file.size?(this.$element.trigger({type:"fileuploadsuccess",item:d,originalEvent:b,fileUpload:this}),this.fileNameElement&&this.fileNameElement.remove(),this.uploadQueue.splice(this._getQueueIndex(d.fileName),
1),this.$element.trigger({type:"queuechanged",item:d,operation:"REMOVE",queueLength:this.uploadQueue.length,fileUpload:this})):this.resumeChunkedUpload(d,a+e.size)):this.$element.trigger({type:"filechunkeduploaderror",offset:a,chunk:e,item:d,originalEvent:b,message:h,fileUpload:this})},_getFileSliceMethod:function(b){if("mozSlice"in b)return"mozSlice";if("webkitSlice"in b)return"webkitSlice";if("slice"in b)return"slice";throw Error("'Slicing file' operation not supported");}});CUI.Widget.registry.register("filechunkedupload",
CUI.FileChunkedUpload);if(CUI.options.dataAPI)b(document).on("cui-contentloaded.data-api",function(c){CUI.FileChunkedUpload.init(b("[data-init~\x3d'filechunkedupload']",c.target))})})(window.jQuery);moment.locale(document.documentElement.lang||window.navigator.language||"en");