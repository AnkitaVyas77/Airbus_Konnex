var SearchJobFilter={selecteurs:{page:".c-jobsearchpage",mainLvlLi:".mainLvl >li",label:".secondLvl >li label",input:".secondLvl >li input",resultCount:".c-searchresult__form-result-count",resetAllJob:".c-jobsearchpage__resetall",itemTagList:".c-jobsearchpage .t-buttonlist li",mainLvlItem:".mainLvl >li a",dateLabel:".c-searchjob__date--label",dateContainer:".c-searchjob__date--container",loading:".c-resultlist--loading",dataContainer:".c-jobsearchpage__content",lastDate:".lastDate",startDate:".startDate",endDate:".endDate",datepicker:".datepicker input",jobItems:".c-jobsearchpage__items",selectMenu:".selectmenu"},global:{lastDate:"",startDate:"",endDate:""},config:{firstInit:true,resetInProgress:false},init:function(){if($(this.selecteurs.page).length>0){this.params=new URLSearchParams(window.location.search);
this.registerEvents();
this.updateDom();
this.config.firstInit=false
}},sameHeightItem:function(){setTimeout(function(){var b=$(document).find(".c-jobsearchpage__items .c-jobcarousel__item"),d=$(window).width(),a=d>1024?4:2;
if(b.length){for(var c=0;
c<b.length;
c+=a){b.slice(c,c+a).wrapAll("<div class='wrraper'></div>")
}}})
},activePagination:function(){if($(".c-pagination--item").length){$('.c-pagination--item[data-index="'+this.getUrlParameter("page")+'"]').addClass("current");
$('.c-pagination--perpage--item[data-index="'+this.getUrlParameter("resultofpage")+'"]').addClass("current")
}},activeSwitchLanguage:function(){var a=$(this.selecteurs.page).find(".c-languageswitch");
a.find("li:not([data-active])").removeClass("active");
if(a.length){a.find("li[data-active]").addClass("active");
a.show()
}},openMobileFilter:function(a){var b=$(window).width();
$(a).find("a").toggleClass("active");
$(".mainLvl").toggle();
if(b<768){$(".c-searchjob__date").show()
}},formatDate:function(b,a){if(a){b+=" 23:59:00"
}b=new Date(b);
b=Math.floor(b/1000);
return b
},openDateFilter:function(a){this.prefillDatesFromParams();
$(this.selecteurs.mainLvlLi).removeClass("active").find(">ul").hide();
$(a).toggleClass("active");
if(!$(a).hasClass("active")){$(this.selecteurs.jobItems).removeClass("activated desactivated lastDateActivated")
}$(this.selecteurs.dateContainer).toggle().toggleClass("extended")
},openFilter:function(a){var b=$(a).parent();
$(this.selecteurs.dateLabel).removeClass("active");
$(this.selecteurs.dateContainer).hide();
if(!b.children("ul").is(":visible")){$(this.selecteurs.mainLvlLi).removeClass("active");
b.addClass("active");
$(".mainLvl .secondLvl").hide();
b.children("ul").show()
}else{b.children("ul").hide();
b.removeClass("active")
}if(!$(this.selecteurs.dateLabel).hasClass("active")){$(this.selecteurs.jobItems).removeClass("activated desactivated lastDateActivated")
}this.filtersPushcontent()
},getUrlParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var c=new RegExp("[\\?&]"+a+"=([^&#]*)");
var b=c.exec(location.search);
return b===null?"":decodeURIComponent(b[1].replace(/\+/g," "))
},getSelectedFilter:function(){if(this.getUrlParameter("filters")){var b=this.getUrlParameter("filters").split(",");
this.handleURLParams("filters",b);
for(var a in b){this.checkUncheckManager($('label[data-for="'+b[a]+'"]'))
}}},getSelectedDate:function(){if(this.getUrlParameter("jobdatefrom")){this.global.startDate=this.getUrlParameter("jobdatefrom")
}if(this.getUrlParameter("jobdateto")){this.global.endDate=this.getUrlParameter("jobdateto")
}},handleURLParams:function(a,b){if(b!==undefined&&b!==null&&b!==""){this.params.set(a,b)
}else{this.params["delete"](a)
}},onSendFilterSuccess:function(d,e){var c=$(d).find(this.selecteurs.dataContainer),a=$(d).find(".c-searchresult__filter .mainLvl"),b=$(".mainLvl >li.active").index();
$(".c-searchresult__filter .mainLvl").replaceWith(a);
$(this.selecteurs.dataContainer).replaceWith(c);
$(this.selecteurs.resultCount).html($(d).find(this.selecteurs.resultCount).html());
$(this.selecteurs.dataContainer).SearchJobPage();
this.unregisterEvents().registerEvents();
window.history.pushState({},"",e+"?"+this.params.toString());
this.removeAllTags();
this.getSelectedFilter();
if(b!==-1){this.openFilter($($(".mainLvl >li")[b]).find("a"))
}},sendFilter:function(){var b=this,d=location.protocol+"//"+location.host+location.pathname,a=$(".c-searchresult__form").find('[name="textsearch"]').val(),c=this.getCheckedFilter();
this.config.resetInProgress=true;
this.params["delete"]("page");
this.handleURLParams("filters",c);
this.handleURLParams("textsearch",a);
this.handleURLParams("jobdatefrom",b.global.startDate);
this.handleURLParams("jobdateto",b.global.endDate);
$.ajax({type:"GET",url:d+"?"+this.params.toString(),async:true,cache:false,beforeSend:function(){$(b.selecteurs.loading).addClass("loading-animate--loadingShow")
},success:function(e){b.onSendFilterSuccess(e,d);
b.config.resetInProgress=false;
$(b.selecteurs.loading).removeClass("loading-animate--loadingShow")
},complete:function(){b.sameHeightItem();
b.filtersPushcontent()
},error:function(e,f,g){console.log(e,f,g)
}})
},getCheckedFilter:function(){var a=[];
$(".secondLvl >li input:checked").each(function(b,c){a.push($(c).attr("name"))
});
return a.join()
},toggleCheck:function(a){a.toggleClass("active");
a.children("i").toggleClass("icon-checkmark-icon_f");
a.prev().trigger("click")
},checkUncheckManager:function(a){var b=$(a).parent().find("ul input:checked + label");
if($(a).hasClass("firstLvl active")){b.toggleClass("active");
b.children("i").toggleClass("icon-checkmark-icon_f");
b.prev().prop("checked",false);
this.removeSelectedTags(b.prev())
}this.toggleCheck($(a));
if($(this.selecteurs.input).is(":checked")){$(this.selecteurs.resetAllJob).addClass("active")
}else{$(this.selecteurs.resetAllJob).removeClass("active")
}},resetAllFilter:function(){this.config.resetInProgress=true;
if($(this.selecteurs.input).is(":checked")){$(".secondLvl >li input:checked").trigger("click");
$(this.selecteurs.label).removeClass("active").children("i").removeClass("icon-checkmark-icon_f");
$(this.selecteurs.itemTagList).remove()
}if($(this.selecteurs.datepicker).length){$(this.selecteurs.datepicker).val("")
}if($(this.selecteurs.lastDate).length){$(this.selecteurs.lastDate).val("").selectmenu("refresh")
}this.global.startDate="";
this.global.endDate="";
$(this.selecteurs.resetAllJob).removeClass("active");
this.sendFilter();
this.config.resetInProgress=false
},removeSelectedTags:function(a){var b=$(a).attr("id");
$(document).find('.c-jobsearchpage .t-buttonlist li[data-id="'+b+'"]').remove()
},removeAllTags:function(){$(document).find(".c-jobsearchpage .t-buttonlist li").remove()
},addSelectedTags:function(a){var c=$(a).val(),d=$(a).attr("id"),b='<li data-id="'+d+'"><a href="#"><span>'+c+'<i class="icon-x-icon_f"></i></span></a></li>';
$(".c-jobsearchpage .t-buttonlist ul").append(b)
},prefillDatesFromParams:function(){var b,a;
this.global.startDate=this.params.get("jobdatefrom");
this.global.endDate=this.params.get("jobdateto");
if(this.global.startDate){b=new Date(this.global.startDate*1000);
$(this.selecteurs.startDate).datepicker("setDate",b)
}if(this.global.endDate){a=new Date(this.global.endDate*1000);
$(this.selecteurs.endDate).datepicker("setDate",a)
}},updateDom:function(){this.activeSwitchLanguage();
this.activePagination();
this.getSelectedFilter();
this.getSelectedDate();
this.sameHeightItem()
},registerEvents:function(){var a=this;
$(this.selecteurs.mainLvlItem).on("click",function(b){var c=$(b.target);
if(!c.is("a")||c.data("type")!=="filter-link"){b.preventDefault();
a.openFilter(this)
}});
$(this.selecteurs.label).on("click",function(){a.checkUncheckManager(this)
});
$(this.selecteurs.input).on("change",function(){if(this.checked){a.addSelectedTags(this)
}else{a.removeSelectedTags(this)
}if(!a.config.firstInit&&!a.config.resetInProgress){a.sendFilter()
}});
$(this.selecteurs.resetAllJob).on("click",function(){a.resetAllFilter()
});
$(this.selecteurs.dateLabel).on("click",function(b){b.preventDefault();
a.openDateFilter(this);
a.filtersPushcontent()
});
$(".filtermobile").on("click",function(b){b.preventDefault();
a.openMobileFilter(this)
});
$(document).on("click",".c-jobsearchpage .t-buttonlist li",function(b){b.stopPropagation();
$(this).remove();
var c=$(this).data("id");
a.checkUncheckManager($("input#"+c+" + label"))
});
$(this.selecteurs.lastDate).selectmenu({change:function(d,e){$(a.selecteurs.resetAllJob).removeClass("active").addClass("active");
var b=new Date(e.item.value).getTime()||"",c=new Date().getTime();
a.global.startDate=Math.floor(b/1000)||"";
if(b!==""){a.global.endDate=Math.floor(c/1000)
}else{a.global.endDate=""
}a.sendFilter()
}});
$(this.selecteurs.lastDate).on("selectmenuopen",function(b){$(a.selecteurs.jobItems).addClass("activated dateActivated").removeClass("desactivated")
}).on("selectmenuclose",function(b){$(a.selecteurs.jobItems).addClass("desactivated").removeClass("activated dateActivated")
});
$(this.selecteurs.datepicker).on("focusin",function(){setTimeout(function(){$(a.selecteurs.jobItems).addClass("activated datePickerActivated").removeClass("desactivated")
},200)
}).on("focusout",function(){$(a.selecteurs.jobItems).addClass("desactivated").removeClass("activated datePickerActivated")
});
$(window).on("resize",function(){if($(this).width()<992&&!$(a.selecteurs.dateContainer).hasClass("extended")){$(a.selecteurs.jobItems).css("margin-top",0)
}if($(this).width()<992&&$(a.selecteurs.dateContainer).hasClass("extended")){$(a.selecteurs.jobItems).css("margin-top",$(a.selecteurs.dateContainer).outerHeight())
}if($(this).width()<768){$(a.selecteurs.jobItems).css("margin-top",0)
}});
$(this.selecteurs.startDate).on("change",function(){$(a.selecteurs.resetAllJob).removeClass("active").addClass("active");
a.global.startDate=a.formatDate($(this).val());
$(a.selecteurs.lastDate).val("").selectmenu("refresh");
a.global.lastDate="";
a.sendFilter()
});
$(this.selecteurs.endDate).on("change",function(){a.filtersPushcontent();
$(a.selecteurs.resetAllJob).removeClass("active").addClass("active");
a.global.endDate=a.formatDate($(this).val(),true);
$(a.selecteurs.lastDate).val("").selectmenu("refresh");
a.global.lastDate="";
a.sendFilter()
})
},unregisterEvents:function(){$(this.selecteurs.mainLvlItem).off("click");
$(this.selecteurs.label).off("click");
$(this.selecteurs.input).off("change");
$(this.selecteurs.resetAllJob).off("click");
$(this.selecteurs.dateLabel).off("click");
$(".filtermobile").off("click");
$(document).off("click",".c-jobsearchpage .t-buttonlist li");
$(this.selecteurs.startDate).off("change");
$(this.selecteurs.endDate).off("change");
return this
},filtersPushcontent:function(){var a=0;
if($(this.selecteurs.mainLvlLi).hasClass("active")){a=$("li.active").children("ul").outerHeight();
if($(window).width()<992){a=$("li.active").children("ul").outerHeight()+60
}}if($(this.selecteurs.dateContainer).is(":visible")){a=$(this.selecteurs.dateContainer).outerHeight()
}if(a==undefined){a=0
}$(this.selecteurs.jobItems).css("margin-top",a)
}};
if(typeof window.URLSearchParams==="undefined"){window.URLSearchParams=function(d){this.params={};
if(typeof d!=="undefined"){if(typeof d==="string"){if(d.indexOf("=")===-1){}else{d=d.replace("?","");
var c=d.split("&");
for(var a=0;
a<c.length;
a+=1){var b=c[a].split("=");
this.params[b[0]]=b[1]
}}}}this.get=function(e){if(typeof this.params[e]==="undefined"){return null
}return this.params[e]
};
this.set=function(f,e){this.params[f]=e
};
this.toString=function(){var f=[];
for(var e in this.params){if(!this.params.hasOwnProperty(e)){continue
}f.push(e+"="+this.params[e])
}return f.join("&")
};
this["delete"]=function(e){if(this.params.hasOwnProperty(e)){delete this.params[e]
}};
this.getAll=function(f){var g=[];
for(var e in this.params){if(e===f){g.push(this.params[e])
}}return g
};
this.append=function(f,e){console.log("unimplemented append method, falling back to get()");
this.set(f,e)
};
this.keys=function(){return Object.keys(this.params)
};
this.values=function(){return Object.values(this.params)
};
this.entries=function(){return this.params
};
this.has=function(e){return typeof this.params[e]!=="undefined"
}
}
}SearchJobFilter.init();
$.fn.SearchJobPage=function(){this.addParams=function(a){var b=location.protocol+"//"+location.host+location.pathname,c=new URLSearchParams(window.location.search),d=$(a).data("url-param");
if(d!==undefined&&d.split("=").length===2){c.set(d.split("=")[0],d.split("=")[1]);
window.location.href=b+"?"+c.toString()
}};
this.__constructor__=function(){this.$searchLinks=$(".c-jobsearchpage_searchlink",this);
this.events();
return this
};
this.events=function(){this.$searchLinks.bind("click",{"$searchLinks":this},function(a){a.preventDefault();
a.data.$searchLinks.addParams(this)
});
return this
};
return this.__constructor__()
};
$(".c-jobsearchpage").SearchJobPage();
$.fn.JobDetailsPage=function(){this.addParams=function(a){var b=location.protocol+"//"+location.host+location.pathname,c=new URLSearchParams(window.location.search),d=$(a).data("url-param");
if(d!==undefined&&d.split("=").length===2){c.set(d.split("=")[0],d.split("=")[1]);
window.location.href=b+"?"+c.toString()
}};
this.__constructor__=function(){this.$searchLinks=$(".c-jobpage_searchlink",this);
this.events();
return this
};
this.events=function(){this.$searchLinks.bind("click",{"$searchLinks":this},function(a){a.preventDefault();
a.data.$searchLinks.addParams(this)
});
return this
};
return this.__constructor__()
};
$(".c-jobdetails").JobDetailsPage();
var SEARCHFORMHR={selectors:{mainLevelLi:$(".mainLevel >li a"),secondLevelLi:$(".secondLevel >li label"),secondLevelLabel:$(".secondLevel >li >label"),searchForm:$(".searchFormHr__form--form"),searchFormReset:$(".searchFormHr__form--form--reset"),searchFormInput:$(".searchFormHr__form--form--text")},globals:{tags:[]},init:function(){this.events()
},events:function(){var a=this;
this.activeSearchBar();
this.selectors.mainLevelLi.on("click",function(b){b.preventDefault();
a.openFilters(this)
});
this.selectors.secondLevelLi.on("click",function(){a.checkUncheckManager(this)
});
this.selectors.secondLevelLabel.on("click",function(){a.openThirdFilter(this)
});
this.selectors.searchForm.submit(function(b){b.preventDefault();
a.getCheckedFilter(this)
})
},activeSearchBar:function(){var a=this;
this.selectors.searchFormInput.on("keyup",function(){$(this).val()?a.selectors.searchFormReset.show():a.selectors.searchFormReset.hide()
});
a.selectors.searchFormReset.on("click",function(){a.selectors.searchFormInput.val("");
$(this).hide()
})
},openFilters:function(b){var c=$(b).parent(),a;
if(!c.hasClass("customLink")){if(!c.children("ul").is(":visible")){$(".mainLevel >li").removeClass("active");
c.addClass("active");
$(".mainLevel .secondLevel").hide();
c.children("ul").show()
}else{c.children("ul").hide();
c.removeClass("active")
}}else{a=c.children("a").attr("href");
targetValue=c.children("a").attr("target");
if(targetValue==null){targetValue="_self"
}window.open(a,targetValue)
}},toggleCheck:function(a){$(a).toggleClass("active");
$(a).children("i").toggleClass("icon-checkmark-icon_f")
},checkUncheckManager:function(a){var b=$(a).parent().find("ul").children("li");
this.toggleCheck($(a));
if(!$(a).hasClass("active")){b.children("label").removeClass("active").children("i").removeClass("icon-checkmark-icon_f");
b.children("input:checkbox").prop("checked",false)
}},openThirdFilter:function(a){var b=$(a).parent();
if(b.children("label").hasClass("active")){b.children("ul").show()
}else{b.children("ul").hide()
}},getCheckedFilter:function(d){var c=this,a=$(d).attr("action"),b=$("[name=textsearch]").val();
$(".secondLevel >li input:checked").each(function(f,e){c.globals.tags.push($(e).val())
});
window.location.replace(a+"?filters="+c.globals.tags.join()+"&textsearch="+b)
}};
SEARCHFORMHR.init();
$(function(){var b=$(".c-jobcarousel__slider"),a={infinite:true,slidesToShow:4,slidesToScroll:4,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:3,infinite:true}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,infinite:true}}]};
b.each(function(c,d){var e=$(d);
e.on("init reInit afterChange",function(h,f,j){var g=(j?j:0)+1;
e.parent().find(".slick-pager").html('<span class="nb">'+Math.ceil(g/f.options.slidesToShow)+'</span><span class="total">'+Math.ceil(f.slideCount/f.options.slidesToShow)+"</span>")
});
e.slick(a);
e.on("setPosition",function(){$(this).find(".slick-slide").height("auto");
var g=$(this).find(".slick-track"),f=$(g).height();
$(this).find(".slick-slide").css("height",f+"px")
});
e.append(e.parent().find(".slick-pager").detach())
})
});
function slideToDateItem(e,h){var f=e.$slides.length-1;
var d=f-1;
var g={breakpoint:e.activeBreakpoint!==767,activeSlide:function(){h-=1
}};
var c={breakpoint:e.activeBreakpoint===767};
var a={breakpoint:e.activeBreakpoint===1024,activeSlide:function(){if(h===f){h-=2
}else{h-=1
}}};
var b={breakpoint:e.activeBreakpoint===null,activeSlide:function(){if(h===f){h-=3
}else{h-=2
}}};
if((!c.breakpoint&&h===f)||h===d){if(a.breakpoint){a.activeSlide()
}if(b.breakpoint){b.activeSlide()
}}else{if(g.breakpoint){g.activeSlide()
}}e.slickGoTo(h)
}function getDateNowFormated(){var a=new Date();
return a.getFullYear()+("0"+(a.getMonth()+1)).slice(-2)+("0"+a.getDate()).slice(-2)
}$(function(){var b=$(".c-adventcalendar__slider");
var a={draggable:false,infinite:false,rows:2,slidesToShow:4,slidesToScroll:1,prevArrow:'<button type="button" class="slick-prev btn-calendar"></button>',nextArrow:'<button type="button" class="slick-next btn-calendar"></button>',responsive:[{breakpoint:1024,settings:{draggable:true,slidesToShow:3,slidesToScroll:1}},{breakpoint:767,settings:{draggable:true,rows:1,forceBuildRows:true,slidesToShow:1,slidesToScroll:1}}]};
b.each(function(){var c=$(this);
c.on("init reInit afterChange",function(d,m,l){var h=(l?l:0)+1;
c.parent().find(".slick-pager").html('<span class="nb">'+Math.ceil(h/m.options.slidesToShow)+'</span><span class="total">'+Math.ceil(m.slideCount/m.options.slidesToShow)+"</span>");
if(d.type==="init"&&b.data("activecurrentdate")){var o=c.find("[data-currentdate = true]");
var e=0;
if(o.length>0){e=$(c.find("[data-currentdate = true]")[0]).parents(".slick-slide").data("slick-index")
}else{var f=c.find(".c-adventcalendaritem__wrapper-img").map(function(){return $(this).data("dateitem")
},[]);
var k;
f.sort(function(j,i){return i-j
});
for(var g=0;
g<f.length;
g++){if(f[g]<getDateNowFormated()){k=f[g];
break
}}e=$(c.find("[data-dateitem = "+k+"]")[0]).parents(".slick-slide").data("slick-index")
}slideToDateItem(m,e)
}});
c.slick(a);
c.on("setPosition",function(){$(this).find(".slick-slide").height("auto");
var e=$(this).find(".slick-track"),d=$(e).height();
$(this).find(".slick-slide").css("height",d+"px")
});
c.append(c.parent().find(".slick-pager").detach())
})
});
var constantes={breakpoints:{desktopMax:1400,tabletMax:991,phoneMax:767}};
$.fn.AnalyticsComponent=function(a){this.config=$.extend({},{name:this.data("analytics-component-name"),title:this.data("analytics-component-title"),articleCategory:this.data("analytics-component-articlecategory"),languageUsed:this.data("analytics-component-languageused")},a);
this.getLinks=function(b){return $('[data-analytics-typeevent="'+b+'"]',this)
};
this.__constructor__=function(){this.addClass("component-analytics");
if(!this.data()){if(!this.is("[data-analytics-component-name]")){this.attr("data-analytics-component-name",this.config.name)
}}if(typeof this.data("analytics-component-languageused")!=="undefined"&&emptyString(this.config.languageUsed)){this.config.languageUsed="en";
this.attr("data-analytics-component-languageused",this.config.languageUsed)
}return this
};
this.__events__=function(){var b=function(c){Analytics.addEvent(this.getLinks(c),{typeevent:c})
};
b.apply(this,[Analytics.typesevent.clickComponent]);
b.apply(this,[Analytics.typesevent.search]);
b.apply(this,[Analytics.typesevent.search_filters]);
b.apply(this,[Analytics.typesevent.search_results]);
b.apply(this,[Analytics.typesevent.search_keyword]);
b.apply(this,[Analytics.typesevent.socialMedia]);
b.apply(this,[Analytics.typesevent.videoLaunch]);
b.apply(this,[Analytics.typesevent.download]);
b.apply(this,[Analytics.typesevent.language]);
return this
};
return this.__constructor__().__events__()
};
$.fn.AnalyticsElem=function(a){this.config=$.extend({},{component:{name:this.data("analytics-component-name"),title:this.data("analytics-component-title")},search:{searchType:"",searchResult:"",keyword:"",filterType:[],filterTab:[],filterDateStart:"",filterDateEnd:"",filterLanguage:[]},search_results:"",search_keyword:"",search_filters:{dateEnd:[],dateStart:[],language:[],tabs:[],tags:[]},typeevent:this.data("analytics-typeevent"),nameevent:this.data("analytics-nameevent"),label1event:this.data("analytics-label1event"),label2event:this.data("analytics-label2event"),mediaformat:this.data("analytics-mediaformat"),mediaquality:this.data("analytics-mediaquality")},a);
this.getComponentParent=function(){return this.closest(".component-analytics").first()
};
this.addEvent=function(){if(!this.config.typeevent){return this
}if(this.data("__analytics__")=="1"){return this
}this.data("__analytics__","1");
if(this.tagName().toLowerCase()=="form"){this.unbind("submit.analytics").bindFirst("submit.analytics",{config:this.config},Analytics.events.sendTrack)
}else{this.unbind("click.analytics").bindFirst("click.analytics",{config:this.config},Analytics.events.sendTrack)
}return this
};
this.__constructor__=function(){return this
};
this.sendVideoLaunchTrack=function(){this.config.typeevent=Analytics.typesevent.videoLaunch;
this.sendTrack()
};
this.sendSearchTrack=function(){this.config.typeevent=Analytics.typesevent.search;
this.sendTrack()
};
this.sendSearchFiltersTrack=function(){this.config.typeevent=Analytics.typesevent.search_filters;
this.sendTrack()
};
this.sendSearchResultsTrack=function(){this.config.typeevent=Analytics.typesevent.search_results;
this.sendTrack()
};
this.sendSearchKeywordTrack=function(){this.config.typeevent=Analytics.typesevent.search_keyword;
this.sendTrack()
};
this.sendTrack=function(){if(typeof(digitalData)=="undefined"){if(console){console.error("digitalData is undefined")
}return this
}if(typeof(this.config.typeevent)=="undefined"){if(console){console.error("Event's type is undefined")
}return this
}var b=this.getComponentParent();
if(b.length){if(this.config.component.name==undefined){this.config.component.name=b.data("analytics-component-name");
this.data("analytics-component-name",this.config.component.name)
}if(this.config.component.title==undefined){this.config.component.title=b.data("analytics-component-title");
this.data("analytics-component-title",this.config.component.title)
}}if(!this.config.component.title){this.config.component.title=this.config.component.name
}digitalData.component={};
digitalData.socialMedia={};
digitalData.videoLaunch={};
digitalData.download={};
var c=function(d){if(typeof(d)==="function"){d=d.apply(this,[])
}if(typeof(d)==="undefined"){return undefined
}if(typeof(d)==="string"){return d.stripTags()
}return d
};
switch(this.config.typeevent){case Analytics.typesevent.clickComponent:digitalData.component.pageName=digitalData.page.pageName;
digitalData.component.componentName=c.apply(this,[this.config.component.name]);
digitalData.component.componentTitle=c.apply(this,[this.config.component.title]);
digitalData.component.eventName=c.apply(this,[this.config.nameevent]);
digitalData.component.eventLabel1=c.apply(this,[this.config.label1event]);
digitalData.component.eventLabel2=c.apply(this,[this.config.label2event]);
if(!digitalData.component.componentTitle){digitalData.component.componentTitle="title's component is empty"
}break;
case Analytics.typesevent.download:digitalData.download.pageName=digitalData.page.pageName;
digitalData.download.componentName=c.apply(this,[this.config.component.name]);
digitalData.download.componentTitle=c.apply(this,[this.config.component.title]);
digitalData.download.eventName=c.apply(this,[this.config.nameevent]);
digitalData.download.eventLabel1=c.apply(this,[this.config.label1event]);
digitalData.download.eventLabel2=c.apply(this,[this.config.label2event]);
digitalData.download.format=c.apply(this,[this.config.format]);
digitalData.download.quality=c.apply(this,[this.config.quality]);
break;
case Analytics.typesevent.search:digitalData.search.pageName=digitalData.page.pageName;
digitalData.search.searchType=c.apply(this,[this.config.search.searchType]);
digitalData.search.searchResult=c.apply(this,[this.config.search.searchResult]);
digitalData.search.keyword=c.apply(this,[this.config.search.keyword]);
digitalData.search.filterType=c.apply(this,[this.config.search.filterType]);
digitalData.search.filterTab=c.apply(this,[this.config.search.filterTab]);
digitalData.search.filterDateStart=c.apply(this,[this.config.search.filterDateStart]);
digitalData.search.filterDateEnd=c.apply(this,[this.config.search.filterDateEnd]);
digitalData.search.filterLanguage=c.apply(this,[this.config.search.filterLanguage]);
break;
case Analytics.typesevent.search_filters:digitalData.search_filters.dateStart=c.apply(this,[this.config.search_filters.dateStart]);
digitalData.search_filters.dateEnd=c.apply(this,[this.config.search_filters.dateEnd]);
digitalData.search_filters.language=c.apply(this,[this.config.search_filters.language]);
digitalData.search_filters.tabs=c.apply(this,[this.config.search_filters.tabs]);
digitalData.search_filters.tags=c.apply(this,[this.config.search_filters.tags]);
break;
case Analytics.typesevent.search_results:digitalData.search_results=c.apply(this,[this.config.search_results]);
break;
case Analytics.typesevent.search_keyword:digitalData.search_keyword=c.apply(this,[this.config.search_keyword]);
break;
case Analytics.typesevent.socialMedia:digitalData.socialMedia.pageName=digitalData.page.pageName;
digitalData.socialMedia.socialAction=c.apply(this,[this.config.nameevent]);
digitalData.socialMedia.socialPosition=c.apply(this,[this.config.label1event]);
digitalData.socialMedia.socialType=c.apply(this,[this.config.label2event]);
break;
case Analytics.typesevent.videoLaunch:digitalData.videoLaunch.pageName=digitalData.page.pageName;
digitalData.videoLaunch.componentName=c.apply(this,[this.config.component.name]);
digitalData.videoLaunch.componentTitle=c.apply(this,[this.config.component.title]);
digitalData.videoLaunch.videoTitle=c.apply(this,[this.config.label1event]);
break;
default:if(console){console.error("Error on config event's type : "+this.config.typeevent)
}return this
}if(typeof(_satellite)!="undefined"){_satellite.track(this.config.typeevent)
}return this
};
return this.__constructor__()
};
var Analytics={typesevent:{clickComponent:"click_component",search:"search",search_filters:"search_filters",search_results:"search_results",search_keyword:"search_keyword",socialMedia:"socialMedia",videoLaunch:"videoLaunch",download:"download",language:"language"},addEvent:function(b,a){if(!b){return this
}if(!b.length){return this
}b.each(function(){$(this).AnalyticsElem(a).addEvent()
})
},addClickComponentEvent:function(b,a){a.typeevent=Analytics.typesevent.clickComponent;
Analytics.addEvent(b,a)
},addDownloadEvent:function(b,a){a.typeevent=Analytics.typesevent.download;
Analytics.addEvent(b,a)
},init:function(){$("[data-analytics-component-name]").each(function(){$(this).AnalyticsComponent()
});
return this
},events:{sendTrack:function(b){try{$(this).AnalyticsElem(b.data.config).sendTrack()
}catch(a){}return true
}}};
$.fn.copyEventTo=function(c,a,d){var b=[];
this.each(function(){var f=jQuery._data(this,"events");
if(typeof f==="object"){var e=f[c];
if(typeof e==="object"){for(var g=0;
g<e.length;
g++){b.push({data:f[c][g].data,handler:f[c][g].handler})
}}}});
if(typeof a==="string"){a=$(a)
}else{if(typeof a==="object"){if(typeof a.tagName==="string"){a=$(a)
}}}if(d===true){a.off(c)
}a.each(function(){for(var e=0;
e<b.length;
e++){a.bind(c,b[e].data,b[e].handler)
}a.attr("__copyevents__",b.length)
});
return this
};
if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(c,d){if(this==null){throw new TypeError('"this" is null or not defined')
}var e=Object(this);
var a=e.length>>>0;
if(a===0){return false
}var f=d|0;
var b=Math.max(f>=0?f:a-Math.abs(f),0);
while(b<a){if(e[b]===c){return true
}b++
}return false
}})
}$.fn.tagName=function(){return this.prop("tagName").toLowerCase()
};
if(!String.prototype.replaceAll){String.prototype.replaceAll=function(c,b){var a=this.split(c).join(b);
return a
}
}if(!String.prototype.stripTags){String.prototype.stripTags=function(){return this.replaceAll("&lt;","<").replaceAll("&gt;",">").replace(/<\/?[^>]+>/gi,"")
}
}if(!Date.prototype.addDay){Date.prototype.addDay=function(a){var b=new Date(this.valueOf());
b.setDate(b.getDate()+a);
return b
}
}if(!Date.prototype.addMonth){Date.prototype.addMonth=function(a){var b=new Date(this.valueOf());
b.setMonth(b.getMonth()+a);
return b
}
}if(!Date.prototype.addYears){Date.prototype.addYears=function(a){var b=new Date(this.valueOf());
b.setFullYear(b.getFullYear()+a);
return b
}
}var debounce=function(d,a,b){var c;
if(typeof(b)=="undefined"){b=true
}return function(){var e=arguments;
var f=this;
clearTimeout(c);
c=setTimeout(function(){d.apply(f,e)
},a);
return b
}
};
$.fn.bindDebounce=function(e,d,h,f,g){if(typeof(d)=="function"){f=h;
h=null;
d=debounce(d,f,g)
}if(typeof(h)=="function"){h=debounce(h,f,g)
}return this.bind(e,d,h)
};
var throttle=function(e,a,c){var b;
var d;
if(typeof(c)=="undefined"){c=true
}return function(){var h=this;
var g=+new Date();
var f=arguments;
if(b&&g<b+a){clearTimeout(d);
d=setTimeout(function(){b=g;
e.apply(h,f)
},a)
}else{b=g;
e.apply(h,f)
}return c
}
};
$.fn.bindThrottle=function(e,d,h,f,g){if(typeof(d)=="function"){f=h;
h=null;
d=throttle(d,f,g)
}if(typeof(h)=="function"){h=throttle(h,f,g)
}return this.bind(e,d,h)
};
var GetTime=function(c){var b=c.split("-");
return new Date(parseInt(b[0]),parseInt(b[1])-1,parseInt(b[2]))
};
var TimeSpan=function(d,b){var c={};
var a=b-d;
c.interval=a;
a=Math.floor(a/1000);
c.sec=a%60;
a=Math.floor((a-c.sec)/60);
c.min=a%60;
a=Math.floor((a-c.min)/60);
c.hour=a%24;
a=Math.floor((a-c.hour)/24);
c.day=a;
return c
};
function ecart_mois(c,i){var b;
var e;
var d;
var f;
var g;
var a;
var h;
b=i.split("/");
e=c.split("/");
d=parseInt(b[0]);
f=parseInt(b[1]);
g=parseInt(e[0]);
a=parseInt(e[1]);
h=((a-f)*12)-(d)+(g);
return h
}function emptyString(a){switch(a){case"":case 0:case"0":case null:case false:case typeof this=="undefined":return true;
default:return false
}}$.fn.nApply=function(){if(typeof(arguments[0])=="object"){var c={parent:arguments[0].width(),lot:this.first().width()};
n=Math.floor(c.parent/c.lot)
}else{n=parseInt(arguments[0])
}if(typeof(arguments[1])=="function"){callback=arguments[1]
}else{callback=function(){}
}if(typeof(arguments[2])=="undefined"){params=[]
}else{params=arguments[2]
}if(!n){return this
}var d=Math.ceil(this.length/n);
if(!d||d==Infinity||isNaN(d)){return this
}for(ilot=0;
ilot<d;
ilot++){var b=(ilot*n);
var a=(b+n);
var e=this.slice(b,a);
e.ilot=ilot;
e.nrow=d;
e.ideb=b;
e.ifin=a;
callback.apply(e,params)
}return this
};
$.fn.naturalWidth=function(){return this.prop("naturalWidth")
};
$.fn.naturalHeight=function(){return this.prop("naturalHeight")
};
$.fn.isVisible=function(g,f){if(this.length!=1){return false
}var d=this.offset().top,e=this.outerHeight(),c=$(window).height(),b=$(window).scrollTop(),a=(b>(d+e-c)&&(d>b)&&(b+c>d+e))&&this.is(":visible"),h=a?g:f;
if(typeof(h)=="function"){h.apply(this,[a,{height:c,scrolltop:b},{height:e,top:d}])
}return a
};
$.fn.UniqueElement=function(){if(this.data("uniqueid")==undefined){this.data("uniqueid",Guid.GetNew());
this.uniqueid=this.data("uniqueid")
}return this
};
var Guid=new (function(){this.empty="00000000-0000-0000-0000-000000000000";
this.GetNew=function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1).toUpperCase()
};
return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())
}
})();
$.fn.fixTouchEvents=function(){this.each(function(){var a=$(this);
a.unbind("touchstart.fixtouch").bind("touchstart.fixtouch",function(){$(this).addClass("fixtouchstart")
});
a.unbind("touchend.fixtouch").bind("touchend.fixtouch",function(){$(this).removeClass("fixtouchstart").addClass("fixtouchend")
})
})
};
$.fn.animationDelay=function(a){return this.css({"animation-duration":a+"s","-o-animation-duration":a+"s","-ms-animation-duration":a+"s","-webkit-animation-duration":a+"s","-moz-animation-duration":a+"s"})
};
$.fn.transformTranslate=function(a,c){var b="translate("+a+", "+c+")";
if(a!=undefined&&c==undefined){b="translateX("+a+")"
}else{if(a==undefined&&c!=undefined){b="translateY("+c+")"
}}return this.css({transform:b,"-o-transform":b,"-ms-transform":b,"-webkit-transform":b,"-moz-transform":b})
};
$.fn.lineHeight=function(){if(typeof(arguments[0])!="undefined"){this.css("line-height",arguments[0])
}return parseInt(this.css("line-height").replace("px",""))
};
$.fn.getPosition=function(){var a=this.offset();
a.height=this.height();
a.width=this.width();
a.right=a.width+a.left;
a.hmiddle=a.top+(a.height/2);
a.bottom=a.top+a.height;
a.scrollTop=this.scrollTop();
a.winHeight=$(window).height();
a.scrollBottom=a.scrollTop+(this.is("html")?a.winHeight:a.height);
a.isVisible=function(){var b=$("html").getPosition();
return(b.scrollTop<=this.bottom)&&(b.scrollBottom>=this.top)
};
return a
};
$.fn.padding=function(){if(arguments.length==2&&arguments[0]!=undefined&&arguments[1]!=undefined){this.css("padding-"+arguments[0],arguments[1])
}if(arguments[0]!=undefined){var a=this.css("padding-"+arguments[0]);
if(a==undefined){return null
}return parseInt(a.replace("px",""))
}return{top:this.padding("top"),right:this.padding("right"),bottom:this.padding("bottom"),left:this.padding("left")}
};
$.fn.margin=function(){if(arguments.length==2&&arguments[0]!=undefined&&arguments[1]!=undefined){this.css("margin-"+arguments[0],arguments[1])
}if(arguments[0]!=undefined){var a=this.css("margin-"+arguments[0]);
if(a==undefined){return null
}return parseInt(a.replace("px",""))
}return{top:this.margin("top"),right:this.margin("right"),bottom:this.margin("bottom"),left:this.margin("left")}
};
$.fn.isDisabled=function(a){return this.hasClass("disabled")
};
$.fn.disable=function(a){if(a==undefined){a=true
}if(a){this.addClass("disabled")
}else{this.removeClass("disabled")
}this.each(function(){var b=$(this);
switch(b.tagName()){case"a":b.disabled=a;
if(a){var c=b.attr("href");
b.data("__svg_href__",c).attr("data-__svg_href__",c).removeAttr("href")
}else{var c=b.data("__svg_href__",c);
b.removeData("__svg_href__").attr("href",c)
}break;
case"input":b.disabled=a;
break;
case"form":b.disabled=a;
break
}});
return this
};
var DocumentManager={config:{cssclass:{breakpoints:{phone:"breakpoints-phone",tablet:"breakpoints-tablet",desktop:"breakpoints-desktop"}}},init:function(){var b="-ms-scroll-limit" in document.documentElement.style&&"-ms-ime-align" in document.documentElement.style;
if(b){$("body").addClass("isIe")
}DocumentManager.addBreakpointsClass();
$(window).resize(function(){DocumentManager.addBreakpointsClass()
});
$.Sticky.init();
$(window).on("scrollstart scroll",function(){$.Sticky.load()
});
var a=navigator.userAgent.toLowerCase();
this.isAndroidMobileBrowser=a.indexOf("android")>-1;
this.isIosChrome=a.indexOf("crios")>-1;
return this
},addBreakpointsClass:function(){var a=$(window);
var b=$("body");
this.width=a.width();
b.removeClass(this.config.cssclass.breakpoints.phone).removeClass(this.config.cssclass.breakpoints.tablet).removeClass(this.config.cssclass.breakpoints.desktop);
this.isPhone=this.isTablet=this.isDesktop=this.isExtraDesktop=false;
if(this.width<=constantes.breakpoints.phoneMax){this.isPhone=true;
b.addClass(this.config.cssclass.breakpoints.phone)
}else{if(this.width<=constantes.breakpoints.tabletMax){this.isTablet=true;
b.addClass(this.config.cssclass.breakpoints.tablet)
}else{if(this.width<=constantes.breakpoints.desktopMax){this.isDesktop=true;
b.addClass(this.config.cssclass.breakpoints.desktop)
}else{this.isDesktop=true;
this.isExtraDesktop=true
}}}return this
},existLayer:false,showLayer:function(){if(this.existLayer){return
}this.existLayer=true;
$("body").Animate("opacityLayerIn3").onTransitionEnd("docmanager",function(){this.addClass("opacityLayer-3").reset()
});
return this
},hideLayer:function(){if(!this.existLayer){return
}this.existLayer=false;
$("body").Animate("opacityLayerOut3").onTransitionEnd("docmanager",function(){this.removeClass("opacityLayer-3").reset()
});
return this
},toggleLayer:function(){if(!this.existLayer){DocumentManager.showLayer();
this.existLayer=!this.existLayer
}else{DocumentManager.hideLayer();
this.existLayer=!this.existLayer
}},disableScroll:function(){if(DocumentManager.isPhone){var a=window.innerHeight;
$("html, body").css("height",a)
}$("html").addClass("scrolldisabled")
},enableScroll:function(){$("html, body").css("height","");
$("html").removeClass("scrolldisabled")
}};
$.fn.DropDownListContainer=function(a){let config=$.extend({},{},a);
let ddl=[];
this.each(function(){ddl.push($(this).DropDownList(config))
});
this.dropdownlist=ddl;
this.get=function(b){return this.dropdownlist[b]
};
return this
};
$.fn.DropDownList=function(a){this.config={loadlist:this.data("dropdownlist-loadlist"),targets:this.data("dropdownlist-targets"),display:this.data("dropdownlist-display")};
if(a){if(a.cssclass){this.config.cssclass=$.extend({},this.config.cssclass,a.cssclass)
}}this.activateListItem=function(c,b){let $li=this.$list.find("li");
$li.removeClass("active");
b.addClass("active");
this.initActivateLink(c);
return this
};
this.initActivateLink=function(b){if(!this.$list.length){return this
}this.$activateitem=$(".active",this.$list);
let linkText=this.$activateitem.find("> a, > span").html();
if(b!=null&&(linkText===undefined||linkText==="")){linkText=b.currentTarget.title
}this.$link.$text.html(linkText);
if(this.$activateitem.hasClass("disable")){this.$link.addClass("disable")
}else{this.$link.removeClass("disable")
}};
this.addItem=function(){if(!this.$link.length){return this
}if(!this.$list.length){return this
}let $li=null;
if(typeof(arguments[0])!=="undefined"){$li=arguments[0]
}if(!$li){return this
}$li=$li.clone().addClass("item");
$li.appendTo(this.$list);
this.initActivateLink()
};
this.__add_link__=function(){if(!$(".selected",this).length){this.$link=$("<a/>",{"class":"selected"});
this.$link.$text=$("<span/>",{"class":"text"});
this.$link.$icone=$("<i/>",{"class":"icon-single-right-arrow-icon_f"});
this.$link.$text.appendTo(this.$link);
this.$link.$icone.appendTo(this.$link);
this.$link.prependTo(this)
}else{this.$link=$("a.selected",this);
this.$link.$text=this.$link.find("> span.text");
this.$link.$icone=this.$link.find("> i");
if(!this.$link.$icone.length){this.$link.$icone=$("<i/>",{"class":"icon-single-right-arrow-icon_f"});
this.$link.$icone.appendTo(this.$link)
}}return this
};
this.__add_list__=function(){if(!$("ul.list",this).length&&this.config.loadlist){this.$list=$("<ul/>",{"class":"list"});
this.$list.appendTo(this)
}else{this.$list=$("ul.list",this);
this.$list.find("> li").addClass("item");
this.initActivateLink()
}return this
};
this.toggle=function(){if(this.$activateitem&&this.$activateitem.length){if(this.$activateitem.hasClass("disable")){return this
}}if(this.hasClass("dropdownlist--show")){this.collapse()
}else{this.expand()
}return this
};
this.collapse=function(b){this.removeClass("dropdownlist--show");
let _isinit_=this.data("init");
if(typeof(b)==="undefined"){b=_isinit_
}if(this.$list&&this.$list.length){if(_isinit_){this.$list.slideUp(400,function(){})
}else{this.$list.hide().css({display:"hide"})
}}this.data("display","slideDown");
$.each(this.targets,function(c,d){if(_isinit_&&b){d.slideUp(400,function(){})
}else{d.hide().css({display:"hide"})
}})
};
this.expand=function(b){this.addClass("dropdownlist--show");
let _isinit_=this.data("init");
if(typeof(b)==="undefined"){b=_isinit_
}if(this.$list&&this.$list.length){if(_isinit_){this.$list.slideDown(400,function(){})
}else{this.$list.show().css({display:"block"})
}}this.data("display","slideDown");
$.each(this.targets,function(c,d){if(_isinit_&&b){d.slideDown(400,function(){})
}else{d.show().css({display:"block"})
}})
};
this.__add_targets__=function(){this.targets=[];
let _array_=[];
if(!this.config.targets){return this
}$.each(this.config.targets.split(","),function(b,c){let $_obj_=$("#"+c);
if($_obj_.length==1){_array_.push($_obj_)
}});
this.targets=_array_;
return this
};
this.__init_event__=function(){let _isinit_=this.data("init")==true;
if(_isinit_){return this
}this.$link.unbind("click.ddl").bind("click.ddl",{"$ddl":this},function(b){b.data.$ddl.toggle()
});
return this
};
this.__constructor__=function(){this.addClass("dropdownlist");
if(typeof(this.config.loadlist)=="undefined"){this.config.loadlist=true
}if(typeof(this.config.targets)=="undefined"){this.config.targets=undefined
}if(typeof(this.config.display)=="undefined"){this.config.display="collapse"
}this.__add_link__();
this.__add_list__();
this.__add_targets__();
if(this.config.display=="expand"){this.expand()
}else{this.collapse()
}this.__init_event__();
this.data("init",true);
return this
};
return this.__constructor__()
};
var DropDownList={init:function(){$('[data-drodownlist="true"]').each(function(){let $elem=$(this);
let $elem2=$("> *:not(.list)",$elem).first().addClass("dropdownlist--hidden");
let $ddl=$elem.DropDownList();
$("> *",$elem2).each(function(){$ddl.addItem($(this))
})
})
}};
$.fn.FixeHeight=function(b){var a=$.extend({},{height:null,minheight:0,closeauto:null},b);
if(typeof(a.closeauto)!="function"){a.closeauto=function(){return false
}
}if(!a.height){this.each(function(){var d=$(this);
var c=d.css({height:"auto"}).outerHeight();
if(a.height==null||a.height<c){a.height=c
}})
}if(a.height==null||a.height<a.minheight){a.height=a.minheight
}if(a.closeauto.apply(this,[a])){this.css({height:"auto"}).attr("fixheight","auto").addClass("fixheight").addClass("fixheight--auto");
return this
}this.css({height:a.height+"px"}).attr("fixheight","1").addClass("fixheight");
return this
};
$.fn.SliderSlick=function(conf){this.config=$.extend({},{dots:true,dotsanimate:true,dotstype:"rectangular",dotsoverlay:false,dotsitemswidth:false,dotsoffset:null,pager:true,pagerposition:"center",pagerdisplay:"auto",pageroffset:null,buttons:false,buttonsposition:"center",buttonsoverlay:false,buttonsoffset:[],containsVideo:false,filter:false,tabulation:false,infinite:true,speed:300,slidesToShow:4,slidesToScroll:4,arrows:true,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',autoplay:false,autoplaySpeed:7000,pauseOnFocus:true,pauseOnHover:true,pauseOnDotsHover:true,responsive:[{breakpoint:constantes.breakpoints.desktopMax+1,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:constantes.breakpoints.tabletMax+1,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:constantes.breakpoints.phoneMax+1,settings:{slidesToShow:1,slidesToScroll:1}}]},conf);
this.__constructor__=function(){this.addClass("sliderslick");
this.$slider=$("> div",this).first().addClass("sliderslick__container");
this.$slider.$items=$("> div",this.$slider);
this.load();
this.attr("__sliderslick__","1");
return this
};
this.isInitialized=function(){return this.hasClass(".slick-initialized")
};
this.load=function(){if(this.attr("__sliderslick__")=="1"){this.$slider.slick("refresh");
return this
}if(this.hasClass("sliderslick--simple")){this.config.slidesToShow=1;
this.config.slidesToScroll=1;
this.config.responsive[0].settings.slidesToShow=1;
this.config.responsive[0].settings.slidesToScroll=1;
this.config.responsive[1].settings.slidesToShow=1;
this.config.responsive[1].settings.slidesToScroll=1;
this.config.responsive[2].settings.slidesToShow=1;
this.config.responsive[2].settings.slidesToScroll=1
}if(this.is("[data-dots]")){this.config.dots=this.data("dots")
}if(this.is("[data-pager]")){this.config.pager=this.data("pager")
}if(this.is("[data-buttons]")){this.config.buttons=this.data("buttons")
}if(this.is("[data-buttonsposition]")){this.config.buttonsposition=this.data("buttonsposition")
}if(this.is("[data-autoplay]")){this.config.autoplay=this.data("autoplay")
}if(this.is("[data-arrows]")){this.config.arrows=this.data("arrows")
}if(this.config.autoplay&&this.is("[data-autoplayspeed]")){var speed=this.data("autoplayspeed");
if(typeof(speed)!="undefined"){speed=parseFloat(speed.toString().replace(",","."));
if(speed<=0){this.config.autoplay=false;
this.config.autoplaySpeed=0
}else{if(speed&&!isNaN(speed)){this.config.autoplaySpeed=parseInt(speed*1000)
}}}}if(this.is("[data-config]")){var sconfig_temp=this.data("config");
var config_temp=undefined;
eval("try { config_temp = "+sconfig_temp+"; } catch(err) { if(console) console.log(err); }");
if(typeof(config_temp)!=undefined){this.config=$.extend({},this.config,config_temp)
}}if(typeof(this.config.preload)=="function"){this.config.preload.apply(this,[])
}if(this.config.responsivedesktop){if(typeof(this.config.responsivedesktop)=="function"){this.config.responsivedesktop=this.config.responsivedesktop.apply(this,[])
}this.config.responsive[0].settings=$.extend({},this.config.responsive[0].settings,this.config.responsivedesktop)
}if(this.config.responsivetablet){if(typeof(this.config.responsivetablet)=="function"){this.config.responsivetablet=this.config.responsivetablet.apply(this,[])
}this.config.responsive[1].settings=$.extend({},this.config.responsive[1].settings,this.config.responsivetablet)
}if(this.config.responsivephone){if(typeof(this.config.responsivephone)=="function"){this.config.responsivephone=this.config.responsivephone.apply(this,[])
}this.config.responsive[2].settings=$.extend({},this.config.responsive[2].settings,this.config.responsivephone)
}if(this.config.buttons){this.config.arrow=true
}if(this.config.pageroffset==null){this.config.pageroffset=this.config.buttonsoffset
}if(this.config.autoplay==true){if(this.config.autoplaySpeed<=100){this.config.autoplay=false;
this.config.autoplaywithdots=false
}}else{this.config.autoplaywithdots=false
}this.events();
this.xcopyelems();
this.$slider.slick(this.config);
return this
};
this.xcopyelems=function(){if(this.config.xcopyelems){var $elems=$(this.config.xcopyelems,this.$slider);
$elems.data("xcopyelems",true).appendTo(this.$slider);
this.$slider.children().each(function(){var $child=$(this);
if(!$child.data("xcopyelems")){$child.remove()
}})
}};
this.events=function(){this.$slider.on("init.sliderslick reInit.sliderslick afterChange.sliderslick refresh.sliderslick",function(event,slick,currentSlide,nextSlide){var $slider=$(this).slickContainer(slick.options,true);
var args=[event.type,event,slick,currentSlide,nextSlide];
$slider.loadPager();
$slider.loadButtons();
$slider.events(args);
if(slick.options.containsVideo){if((event.type=="init")){$(".slick-cloned .s7videoviewer",$slider).each(function(){$(this).remove()
})
}if((event.type=="afterChange")){$(".s7videoviewer",$slider).each(function(){if(!$(this).data("loop")){$(this).trigger("pause")
}})
}}setTimeout(function(){if(typeof(slick.options.callback)=="function"){slick.options.callback.apply($slider,args)
}},1)
});
this.$slider.on("breakpoint.sliderslick",function(event,slick,breakpoint){var $slider=$(this).slickContainer().verifPager();
setTimeout(function(){if(typeof(slick.options.callback)=="function"){slick.options.callback.apply($slider,[event.type,event,slick,breakpoint])
}},1)
});
this.$slider.on("swipe.sliderslick",function(event,slick,mvt){var $slider=$(this).slickContainer();
$(".s7videoviewer",$slider).each(function(){$(this).trigger("pause")
});
setTimeout(function(){if(typeof(slick.options.callback)=="function"){slick.options.callback.apply($slider,[event.type,event,slick,mvt])
}},1)
})
};
return this.__constructor__()
};
var SliderSlick={__slider__:[],init:function(){SliderSlick.__slider__=[];
SliderSlick.load.apply($('.sliderslick:not([data-autoload="false"])'),[])
},load:function(a){this.each(function(){SliderSlick.__slider__.push($(this).SliderSlick(a))
});
setTimeout(function(){setInterval(function(){SliderSlick.reload()
},100)
},400)
},reload:function(a){$(".slick-current .s7videoviewer").each(function(){$(this).S7VideoContainer().reloadPosTitle()
})
}};
$.fn.slickContainer=function(b,a){if(typeof(a)=="undefined"){a=false
}if(typeof(b)=="undefined"){this.options=this.slick("getSlick").options;
a=true
}else{this.options=b
}this.inititems=function(){this.$parent=this.closest(".sliderslick");
this.$pager=$("> .slick-pager",this.$parent);
this.$arrowprev=$(".slick-prev",this);
this.$arrownext=$(".slick-next",this);
this.$arrowprev.unbind("mouseenter mouseleave");
this.$arrownext.unbind("mouseenter mouseleave");
this.$list=$(".slick-list",this);
this.$track=$(".slick-track",this.$list);
this.$dots=$(".slick-dots",this);
this.$dots.$items=$("li",this.$dots);
this.$dots.$active=this.$dots.$items.filter(".slick-active");
this.$dots.$prev=this.$dots.$active.prev();
this.$dots.$next=this.$dots.$active.next();
if(!this.$dots.$prev.length){this.$dots.$prev=this.$dots.$items.last()
}if(!this.$dots.$next.length){this.$dots.$next=this.$dots.$items.first()
}this.$dots.$items.removeClass("slick-dotscurrent").removeClass("slick-dotsprev").removeClass("slick-dotsnext");
this.$dots.$active.addClass("slick-dotscurrent");
this.$dots.$prev.addClass("slick-dotsprev");
this.$dots.$next.addClass("slick-dotsnext");
this.$pager=$(".slick-pager",this.$parent);
if(this.$pager.length!=1){this.$pager.filter(".slick-slide").remove();
this.$pager=$(".slick-pager",this.$parent)
}this.$items=$('.slick-slide:not(".slick-cloned")',this);
this.$items.$current=this.$items.filter(".slick-current");
this.$items.$active=this.$items.filter(".slick-active");
this.$items.$visible=this.$items.filter('[aria-hidden="false"]');
this.$items.$hidden=this.$items.filter('[aria-hidden="true"]');
this.$cloneditems=$(".slick-cloned",this);
this.$cloneditems.$firstelems=this.$cloneditems.filter(".slick-cloned-prev");
this.$cloneditems.$lastelems=this.$cloneditems.filter(".slick-cloned-next");
if(this.$cloneditems.length>0&&!this.$cloneditems.$firstelems.length&&!this.$cloneditems.$lastelems.length){this.$cloneditems.$firstelems=this.$cloneditems.slice(0,this.$cloneditems.length/2).addClass("slick-cloned-prev");
this.$cloneditems.$lastelems=this.$cloneditems.slice(this.$cloneditems.length/2).addClass("slick-cloned-next")
}if(this.options.forceclone&&this.$cloneditems.$lastelems.length<this.options.forceclone){for(var e=this.$cloneditems.$lastelems.length;
e<=this.options.forceclone;
e++){var k=this.$items.eq(e).clone();
if(k.length){k.addClass("slick-cloned").addClass("slick-cloned-next").removeAttr("aria-describedby").removeAttr("role").appendTo(this.$track)
}}this.$cloneditems=$(".slick-cloned",this);
this.$cloneditems.$firstelems=this.$cloneditems.filter(".slick-cloned-prev");
this.$cloneditems.$lastelems=this.$cloneditems.filter(".slick-cloned-next")
}this.$items.removeClass("slick-active-first").removeClass("slick-active-last");
if(this.$items.$active.length>1){this.$items.$active.first().addClass("slick-active-first");
this.$items.$active.last().addClass("slick-active-last")
}else{this.$items.first().addClass("slick-active-first");
this.$items.last().addClass("slick-active-last")
}if(this.$cloneditems.length>0){this.$cloneditems.removeClass("slick-cloned-first").removeClass("slick-cloned-last");
this.$cloneditems.$firstelems.first().addClass("slick-cloned-first");
this.$cloneditems.$firstelems.last().addClass("slick-cloned-last");
this.$cloneditems.$lastelems.first().addClass("slick-cloned-first");
this.$cloneditems.$lastelems.last().addClass("slick-cloned-last")
}this.$items.each(function(l){$(this).attr("data-slick-filterindex",l)
});
this.countitems=this.$items.length;
this.globalindex=this.$items.$current.data("slick-index");
this.currentindex=this.$items.$current.data("slick-filterindex");
this.isFirst=this.$items.$current.hasClass("slick-active-first");
this.isLast=this.$items.$current.hasClass("slick-active-last");
this.containsArrows=this.$arrowprev.length&&this.$arrownext.length;
if(this.countitems==1){this.addClass("slick-oneitem")
}else{this.removeClass("slick-oneitem")
}if(this.options.centerMode){this.$list.addClass("slick-centermode")
}else{this.$list.removeClass("slick-centermode")
}this.ifirstslide=0;
this.ilastslide=this.countitems-1;
if(this.options.centerMode){switch(this.options.slidesToShow){case 2:this.ifirstslide=1;
break;
case 3:this.ifirstslide=1;
this.ilastslide=this.countitems-2;
break;
case 4:this.ifirstslide=2;
this.ilastslide=this.countitems-2;
break
}}if(this.options.centerMode&&this.options.infinite==false){if(this.countitems<=this.options.slidesToShow){var j=this;
setTimeout(function(){j.setConfig({centerMode:false}).refresh()
},1)
}else{if(this.currentindex<(this.ifirstslide)){var j=$(this);
var e=this.ifirstslide;
setTimeout(function(){j.slickContainer().gotoindex(e,false)
},1)
}}}if(this.options.infinite==false){this.disablePrevArrow(false).disableNextArrow(false);
if(this.currentindex<=this.ifirstslide){this.disablePrevArrow(true)
}if(this.currentindex>=this.ilastslide){this.disableNextArrow(true)
}}if(this.options.tabulation){var f=[];
var d=this.tabs=[];
this.$items.each(function(){var l=$(this);
if(!l.is("[data-tabskey]")){l=l.find("[data-tabskey]").first()
}var i={key:l.data("tabskey"),text:l.data("tabstext")};
if(!f.includes(i.id)){d.push(i);
f.push(i.id)
}});
var h=this.$items.$current;
if(!h.is("[data-tabskey]")){h=h.find("[data-tabskey]").first()
}this.tabs={list:d,current:{key:h.data("tabskey"),text:h.data("tabstext")}}
}if(this.options.filter){this.filters={current:{key:this.data("slick-filter")}}
}if(this.options.invertcolor){this.addClass("slick--invertcolor")
}else{this.removeClass("slick--invertcolor")
}if(this.options.autoplaywithdots){this.$dots.addClass("slick-dots--animate");
var c=this.options.autoplaySpeed/1000;
this.$dots.$items.find("button").animationDelay(c).attr("data-delay",c)
}else{this.$dots.removeClass("slick-dots--animate")
}if(this.options.dots&&this.options.dotsitemswidth){if(this.options.dotsitemswidth=="calc"){this.$dots.totalwidth=this.$dots.width();
var g=0;
this.$dots.$items.each(function(){g+=$(this).outerWidth(true)
});
this.$dots.widthitems=g;
this.$dots.margeitem=this.$dots.$items.first().outerWidth(true)-this.$dots.$items.first().outerWidth(false);
this.$dots.newwidthitem=(this.$dots.totalwidth/this.$dots.$items.length)-this.$dots.margeitem;
this.$dots.$items.width(this.$dots.newwidthitem)
}if(typeof(this.options.dotsitemswidth)=="number"){this.$dots.$items.width(this.options.dotsitemswidth)
}}if(this.options.dots&&this.options.dotstype){this.$dots.attr("data-dotstype",this.options.dotstype)
}if(this.options.dots&&this.options.dotsoverlay){this.addClass("slick-dotted--overlay")
}else{this.removeClass("slick-dotted--overlay")
}if(this.options.buttonsoffset!=null&&typeof(this.options.buttonsoffset)=="object"&&this.options.buttonsoffset.length==2){this.$arrowprev.transformTranslate(this.options.buttonsoffset[0],this.options.buttonsoffset[1]);
this.$arrownext.transformTranslate(this.options.buttonsoffset[0],this.options.buttonsoffset[1])
}if(this.options.dotsoffset!=null&&typeof(this.options.dotsoffset)=="object"&&this.options.dotsoffset.length==2){this.$dots.transformTranslate(this.options.dotsoffset[0],this.options.dotsoffset[1])
}if(this.options.containsVideo){this.addClass("slick-containsVideo")
}else{this.removeClass("slick-containsVideo")
}this.$arrowprev.fixTouchEvents();
this.$arrownext.fixTouchEvents();
return this
};
this.setConfig=function(d){this.options=$.extend({},this.options,d);
this.slick("slickSetOption",this.options);
return this
};
this.setConfigOnDesktop=function(d){this.options.responsive[0].settings=$.extend({},this.options.responsive[0].settings,d);
this.slick("slickSetOption",this.options);
return this
};
this.setConfigOnTablet=function(d){this.options.responsive[1].settings=$.extend({},this.options.responsive[1].settings,d);
this.slick("slickSetOption",this.options);
return this
};
this.setConfigOnPhone=function(d){this.options.responsive[2].settings=$.extend({},this.options.responsive[2].settings,d);
this.slick("slickSetOption",this.options);
return this
};
this.refresh=function(){this.slick("refresh");
return this
};
this.loadPager=function(){this.removeClass("slick-containsPager");
if(this.options.pager&&!this.$pager.length){this.$pager=$("<div/>",{"class":"slick-pager",html:'<span class="nb">&nbsp;</span><span class="total">&nbsp;</span>'});
this.$pager.appendTo(this.$parent)
}this.verifPager();
return this
};
this.verifPager=function(){this.removeClass("slick-containsPager");
if(!this.$pager.length){return this
}if(this.options.pager==false){this.$pager.remove();
return this
}if(this.options.pagerdisplay=="auto"){if(this.countitems<=this.options.slidesToShow){this.$pager.remove();
return this
}}this.addClass("slick-containsPager");
this.$pager.$nb=$(".nb",this.$pager);
this.$pager.$total=$(".total",this.$pager);
if(this.options.buttons&&this.options.pagerposition=="auto"){this.options.pagerposition=this.options.buttonsposition
}this.$pager.removeClass("slick-pager--left").removeClass("slick-pager--center").removeClass("slick-pager--right");
if(this.options.pagerposition){this.$pager.addClass("slick-pager--"+this.options.pagerposition)
}if(this.options.buttons&&this.options.buttonsoverlay){this.$pager.addClass("overlay")
}else{this.$pager.removeClass("overlay")
}if(this.options.invertcolor){this.$pager.addClass("invertcolor")
}else{this.$pager.removeClass("invertcolor")
}if(this.options.containsVideo){this.$pager.addClass("containsVideo")
}else{this.$pager.removeClass("containsVideo")
}if(this.options.pageroffset!=null&&typeof(this.options.pageroffset)=="object"&&this.options.pageroffset.length==2){this.$pager.transformTranslate(this.options.pageroffset[0],this.options.pageroffset[1]);
this.$pager.transformTranslate(this.options.pageroffset[0],this.options.pageroffset[1])
}var d=parseInt((this.currentindex?this.currentindex:0)+1);
var c=parseInt(this.countitems);
this.$pager.$nb.text(d);
this.$pager.$total.text(c);
return this
};
this.loadButtons=function(){this.removeClass("slick-buttons").removeClass("slick-buttons--left").removeClass("slick-buttons--center").removeClass("slick-buttons--right").removeClass("slick-buttons--overlay");
if(this.options.buttons){this.addClass("slick-buttons").addClass("slick-buttons--"+this.options.buttonsposition);
if(this.options.buttonsoverlay){this.addClass("slick-buttons--overlay")
}else{this.removeClass("slick-buttons--overlay")
}}};
this.events=function(c){this.$arrowprev.unbind("click.sliderarrows");
this.$arrownext.unbind("click.sliderarrows");
if(typeof(this.options.callback)=="function"){this.$arrowprev.bindFirst("click.sliderarrows",{"$slick":this,args:c},function(d){return d.data.$slick.options.callback.apply(d.data.$slick,["previous",d,arguments[0]])
});
this.$arrownext.bindFirst("click.sliderarrows",{"$slick":this,args:c},function(d){return d.data.$slick.options.callback.apply(d.data.$slick,["next",d,arguments[0]])
})
}this.unbind("reloaditems.sliderslick").bind("reloaditems.sliderslick",{"$slick":this},function(d){d.data.$slick.inititems().loadButtons()
});
this.$arrowprev.bindFirst("click.slidefocus",{"$slick":this},function(d){if(!DocumentManager.isPhone){d.data.$slick.$list.attr("tabindex",0).focus()
}});
this.$arrownext.bindFirst("click.slidefocus",{"$slick":this},function(d){if(!DocumentManager.isPhone){d.data.$slick.$list.attr("tabindex",0).focus()
}});
$(window).unbind("resize.sliderslick");
if(typeof(this.options.resize)=="function"){$(window).bindDebounce("resize.sliderslick",{"$slider":this},function(d){if(typeof(d.data)!="undefined"&&typeof(d.data.$slider.options.resize)=="function"){d.data.$slider.options.resize.apply(d.data.$slider,[])
}},20)
}};
this.gotoprevious=function(d,c){this.slick("slickPrevious");
return this
};
this.gotonext=function(d,c){this.slick("slickNext");
return this
};
this.gotoindex=function(c,d){if(typeof(d)=="undefined"){d=true
}this.slick("slickGoTo",c,!d);
return this
};
this.gototabkey=function(e){var c=this.$items.filter('[data-tabskey="'+e+'"]').first();
if(!c.length){c=this.$items.find('[data-tabskey="'+e+'"]').first().closest(".slick-slide")
}if(c.length){var d=c.data("slick-filterindex");
this.gotoindex(d)
}return this
};
this.filterkey=function(c){this.removefilter();
this.slick("slickFilter","[data-filterkey="+c+"]");
this.data("slick-filter",c);
if(this.options.filter){this.filters.current.key=c
}return this
};
this.removefilter=function(c){this.slick("slickGoTo",0);
this.slick("slickUnfilter");
return this
};
this.disablePrevArrow=function(c){return this.disableArrow("prev",c)
};
this.disableNextArrow=function(c){return this.disableArrow("next",c)
};
this.getCopySlides=function(e){var d=e.data("slick-filterindex");
var c=(!e.hasClass("slick-cloned"))?".slick-slide.slick-cloned":".slick-slide:not(.slick-cloned)";
return this.find(c).filter('[data-slick-filterindex="'+d+'"]')
};
this.disableArrow=function(d,c){var e=null;
switch(d){case"prev":e=this.$arrowprev;
break;
case"next":e=this.$arrownext;
break
}if(e){if(c){e.addClass("slick-disabled").attr("aria-disabled","true")
}else{e.removeClass("slick-disabled").attr("aria-disabled","false")
}}return this
};
this.__constructor__=function(c){if(c){this.inititems()
}return this
};
return this.__constructor__(a)
};
$.fn.slickExternalElem=function(a){this.config=$.extend({},{type:null,parentselector:null},a);
this.__constructor__=function(){this.$parent=this.config.parentselector!=null?this.closest(this.config.parentselector):this.parent();
this.$slider=$(".sliderslick",this.$parent);
if(this.config.type==null){if(this.is("[data-tabskey]")){this.config.type="tabulation"
}else{if(this.is("[data-filterkey]")){this.config.type="filter"
}}}if(this.config.type=="tabulation"){this.key=this.data("tabskey");
this.text=this.data("tabstext")
}else{if(this.config.type=="filter"){this.key=this.data("filterkey");
this.text=this.data("filtertext")
}}if(this.text==undefined){this.text=this.key
}return this
};
this.triggerEvent=function(){if(this.config.type=="filter"){this.__filter__()
}return this
};
this.__filter__=function(){var b=$(".sliderslick__container",this.$slider).slickContainer();
if(typeof(this.key)!="undefined"&&this.key){if(b.filters.current.key!=this.key){b.filterkey(this.filterkey)
}}else{b.removefilter()
}return this
};
return this.__constructor__()
};
$.fn.S7VideoContainer=function(conf){this.config=$.extend({},{containerId:null,params:S7Video.params},conf);
this.__constructor__=function(){this.id=this.attr("id");
this.config.containerId=this.attr("id");
this.$btnlecturepause=$(".s7playpausebutton",this);
this.$iconplay=$('.s7iconeffect[state="play"]',this);
this.$iconplay.$title=$("[data-text]",this).first();
this.title=this.data("iconplay-text");
this.onPlay=this.hasClass("onPlay");
if(!this.data("loaded")){this.$btnlecturepause.attr("selected","true")
}this.data("loaded",true);
return this
};
this.loadTitle=function(){if(this.$iconplay.length&&!this.$iconplay.$title.length&&!this.hasClass("video-has-title")&&this.title){this.$iconplay.empty();
this.$iconplay.$title=$("<span />").attr("data-text",this.title).appendTo(this.$iconplay);
this.addClass("video-has-title");
this.reloadPosTitle()
}return this
};
this.reloadPosTitle=function(){if(this.$iconplay.$title.length){var _posicon_=this.$iconplay.getPosition();
var _postitle_;
var _paddingtitle_=this.$iconplay.$title.padding();
this.$iconplay.$title.css({left:this.$iconplay.width(),width:this.width()-_posicon_.left-_paddingtitle_.left-_paddingtitle_.right});
_posicon_=this.$iconplay.getPosition();
_postitle_=this.$iconplay.$title.getPosition();
var _toptitle=(_posicon_.height/2)-(_postitle_.height/2);
this.$iconplay.$title.css({top:_toptitle})
}return this
};
this.loadVideo=function(){this.empty();
if(this.closest(".slick-cloned").length){return
}if(typeof(arguments[0])!="undefined"&&arguments[0]){this.config.params.asset=arguments[0]
}else{this.config.params.asset=this.data("url-video")
}if(this.data("video-serverurl")!=null){this.config.params.videoserverurl=this.data("video-serverurl")
}if(this.data("video-contenturl")!=null){this.config.params.contenturl=this.data("video-contenturl")
}if(typeof(arguments[1])!="undefined"&&arguments[1]){this.config.params.posterimage=arguments[1]
}else{this.config.params.posterimage=this.data("url-image")
}if(!this.config.params){if(console){console.error("params is empty",this.config.containerId)
}return this
}if(!this.config.params.asset){if(console){console.error("asset is empty",this.config.containerId)
}return this
}if(!this.config.params.posterimage){this.config.params.posterimage=this.config.params.asset
}if(this.config.params.asset&&this.config.params.asset.substr(0,1)=="/"){this.config.params.asset=this.config.params.asset.substr(1)
}if(this.config.params.posterimage&&this.config.params.posterimage.substr(0,1)=="/"){this.config.params.posterimage=this.config.params.posterimage.substr(1)
}if(typeof(this.config.params.posterimage)=="undefined"){this.config.params.posterimage=this.config.params.asset
}this.config.params.autoplay=this.data("autoplay")?"1":"0";
this.config.params.loop=this.data("loop")?"1":"0";
if(this.is("[data-params]")){var sparams_temp=this.data("params");
var params_temp=undefined;
eval("try { params_temp = "+sparams_temp+"; } catch(err) { if(console) console.log(err); }");
if(typeof(params_temp)!=undefined){this.config.params=$.extend({},this.config.params,params_temp)
}}if(typeof(this.config.params.preload)=="function"){this.config.params.preload.apply(this,[])
}this.__creatinstance__.apply(this,[]);
return this
};
this.__creatinstance__=function(){try{var $s7videoviewer=new s7viewers.VideoViewer(this.config);
$s7videoviewer.setHandlers({initComplete:function(){var videos=document.getElementsByTagName("video");
for(var i=0;
i<videos.length;
i++){var vid=videos[i];
var cMedia=vid.closest(".c-media__img");
var contentUrl=cMedia&&cMedia.querySelector('[itemprop="contentURL"]');
var nextDiv=vid.nextSibling;
if(contentUrl!==null&&contentUrl.content!==""){vid.src=contentUrl.content
}if(vid.hasAttribute("poster")){var bg=vid.getAttribute("poster");
nextDiv.style.background="url("+bg+")";
nextDiv.style.backgroundSize="contains";
nextDiv.style.backgroundPosition="center center";
nextDiv.style.backgroundRepeat="no-repeat"
}}},onPlay:function(){if($(this[0])!==undefined&&$(this[0]).find("video")!==undefined&&$(this[0]).find("video").next()!==undefined){$(this[0]).find("video").next().css("background-image","")
}},onPause:this.config.params.onpause,onBegin:this.config.params.onbegin,onMiddle:this.config.params.onmiddle,onFinish:this.config.params.onfinish,trackEvent:function(){try{var id=arguments[2];
var info=arguments[4];
if(typeof(info)!="undefined"){var infos=info.split(",");
var type=infos[0];
var typevalue=infos[1];
var $elem=$("#"+id);
var $viewer=$elem.closest(".s7videoviewer").S7VideoContainer();
if(!$elem.length){return
}if(!$viewer.length){return
}if(typeof(type)!="undefined"){if((type=="PAUSE"||type=="PLAY")&&!$viewer.data("s7video-load")){$viewer.data("s7video-load",true).attr("data-s7video-load",true);
$viewer.bindEvents()
}if(type=="PLAY"){var $analytics=$elem.closest(".s7videoviewer").AnalyticsElem();
$analytics.sendVideoLaunchTrack();
var $others7=$('.s7videoviewer:not([id="'+$viewer.attr("id")+'"])');
$others7.each(function(){var $viewerVideo=$(this);
if($viewerVideo.data("autoplay")==="undefined"||$viewerVideo.data("loop")==="undefined"){$(this).S7VideoContainer().pause()
}});
if(typeof(this.onPlay)=="function"){this.onPlay.apply($viewer,[id,infos])
}}if(type=="PAUSE"){if(typeof(this.onPause)=="function"){this.onPause.apply($viewer,[id,infos])
}}if(type=="MILESTONE"){if(typevalue=="0"&&typeof(this.onBegin)=="function"){this.onBegin.apply($viewer,[id,infos])
}if(typevalue=="50"&&typeof(this.onMiddle)=="function"){this.onMiddle.apply($viewer,[id,infos])
}if(typevalue=="100"&&typeof(this.onFinish)=="function"){this.onFinish.apply($viewer,[id,infos])
}}}$viewer.loadTitle(type)
}}catch(err){console.log("[S7video] ERR",err)
}}});
$s7videoviewer.init()
}catch(err){if(console){console.error("error on videos7",this.config.containerId,err)
}return this
}};
this.dispose=function(){return this
};
this.verifPosition=function(){try{var videoPos=this.getPosition();
if(!videoPos.isVisible()){this.pause()
}}catch(err){if(console){console.error("error on videos7",this.config.containerId,err)
}}return this
};
this.isLecture=function(){this.onPlay=this.hasClass("onPlay");
return this.onPlay
};
this.pauseorlecture=function(lecture){if(!this.$btnlecturepause.length){this.$btnlecturepause=$(".s7playpausebutton",this).first()
}if(!this.$btnlecturepause.length){return this
}this.$btnlecturepause.trigger("click");
this.reload();
return this
};
this.lecture=function(){if(!this.$btnlecturepause.length){this.$btnlecturepause=$(".s7playpausebutton",this).first()
}if(!this.$btnlecturepause.length){return this
}if(!this.isLecture()){this.$btnlecturepause.trigger("click");
this.reload()
}return this
};
this.pause=function(){if(!this.$btnlecturepause.length){this.$btnlecturepause=$(".s7playpausebutton",this).first()
}if(!this.$btnlecturepause.length){return this
}if(this.isLecture()){this.$btnlecturepause.trigger("click");
this.reload()
}return this
};
this.reload=function(reloadButton){if(!this.$btnlecturepause.length){return null
}var islecture=this.$btnlecturepause[0].getAttribute("selected")!="true";
if(!islecture){this.removeClass("onPlay")
}else{this.addClass("onPlay")
}this.loadTitle();
return this
};
this.unbindEvents=function(){$(document).unbind("keyup.s7video");
this.unbind("mouseover.s7video");
this.unbind("mouseleave.s7video");
return this
};
this.bindEvents=function(){this.unbind("lecture.s7video").bind("lecture.s7video",{"$obj":this},function(e){e.data.$obj.lecture()
});
this.unbind("pause.s7video").bind("pause.s7video",{"$obj":this},function(e){e.data.$obj.pause()
});
this.unbind("pauseorlecture.s7video").bind("pauseorlecture.s7video",{"$obj":this},function(e){e.data.$obj.pauseorlecture()
});
return this
};
return this.__constructor__()
};
var S7Video={params:{serverurl:window.location.origin+"/is/image",contenturl:null,videoserverurl:null,posterimage:null,asset:null,autoplay:"0",preload:"0",smoothing:"1"},verifPosition:function(){$(".s7videoviewer[data-s7video-load=true]").each(function(){$(this).S7VideoContainer().verifPosition()
})
},verifIds:function(b,a){if(a==undefined){a="_"
}var d=b.attr("id");
b.attr("id",d.replaceAll(":","_"));
var c=$('[id="'+d+'"]');
if(c.length>1){c.each(function(e){var f=$(this).attr("id");
$(this).attr("data-originalid",f).attr("id",f+a+e)
})
}},reload:function(){$(".s7videoviewer[data-s7video-load=true]").each(function(){$(this).S7VideoContainer().reload()
})
},resize:function(){$(".s7videoviewer[data-s7video-load=true]").each(function(){$(this).S7VideoContainer().reloadPosTitle()
})
},init:function(){$(".s7videoviewer").each(function(){var a=$(this);
S7Video.verifIds(a)
});
$(".s7videoviewer").each(function(){var a=$(this);
if(a.data("autoload")==true){if(a.closest(".slick-cloned").length){return
}a.S7VideoContainer().loadVideo()
}});
$(window).unbind("resize.s7video").bindDebounce("resize.s7video",function(){S7Video.resize()
},300);
setInterval(function(){S7Video.reload()
},50)
}};
$.fn.AirbusNiceScroll=function(a){this.config=$.extend({},{cursorcolor:"#658BC1",cursorwidth:"7px",cursoropacitymin:0,cursoropacitymax:1,autohidemode:true,horizrailenabled:true,zindex:9999999999,cursorborder:"0",cursorborderradius:"0",railoffset:{top:0,left:0}},a);
this.__constructor__=function(){this.niceScroll(this.config);
return this
};
return this.__constructor__()
};
$.fn.LightboxNiceScroll=function(a){this.config=$.extend({},{cursorcolor:"#DADADA",horizrailenabled:false,cursorwidth:"7px",cursoropacitymin:0,cursoropacitymax:1,autohidemode:true,zindex:9999999999,cursorborder:"0",cursorborderradius:"0",railoffset:{top:0,left:20}},a);
this.__constructor__=function(){this.niceScroll(this.config);
return this
};
return this.__constructor__()
};
$.fn.AirbusTableNiceScroll=function(a){this.config=$.extend({},{cursoropacitymin:0,cursoropacitymax:1,zindex:9999999,horizrailenabled:true,autohidemode:false,touchbehavior:true,cursordragontouch:true,railpadding:{top:0,right:35,left:55,bottom:0},cursorwidth:"23px",cursorcolor:"#0d345f",cursorborderradius:"25px",cursorborder:"2px solid transparent",grabcursorenabled:true,railoffset:{top:50,left:0}},a);
this.__constructor__=function(){this.niceScroll(this.config);
return this
};
return this.__constructor__()
};
$.fn.AirbusNavigationNiceScroll=function(a){this.config=$.extend({},{cursoropacitymax:0},a);
this.__constructor__=function(){this.niceScroll(this.config);
return this
};
return this.__constructor__()
};
$.fn.LimitedPlaceholder=function(a){this.config=$.extend({},{limit:70,suffix:" ...",reload:false},a);
this.__constructor__=function(){if(this.length!=1){return this
}var b=this.data("placeholder-limit");
if(b){var c=parseInt(b);
if(!isNaN(b)){this.config.limit=c
}}this.data("placeholder-limit",this.config.limit);
if(this.config.reload){this.removeClass("placeholder-cut")
}if(this.hasClass("placeholder-cut")||!this.is(":visible")){return this
}this.limitCaracs();
return this
};
this.limitCaracs=function(){if(this.length!=1){return this
}this.addClass("placeholder-cut");
var j=parseInt(this.css("font-size")),c=this.outerWidth(),f=this.attr("placeholder"),k="",d=parseInt(this.data("placeholder-limit"));
if(!f){return this
}if(!d){return this
}if(isNaN(d)){return this
}var h=f.trim().replace(/  /g," ").split(" ");
var g=$("<span/>",{"class":"tmpplaceholder"}).html(f).css({position:"absolute",left:-99999,top:-9999,"font-size":j+"px"}).appendTo(this.parent());
if(g.width()+d>c){g.html("").empty();
g.html(this.config.suffix);
var b=this;
var i=this.config.suffix;
var e=g.width();
g.html("").empty();
h.forEach(function(l){g.html(g.html()+" "+l);
if(g.width()+d+e>c){k+=i;
b.attr("placeholder",k);
g.remove();
return
}k+=l+" "
})
}return this
};
return this.__constructor__()
};
var LimitedPlaceholder={init:function(){$(".limited-placeholder").each(function(){$(this).LimitedPlaceholder()
})
}};
$.fn.TruncateParagraphe=function(b){var a=a=$.extend({},{fncontainer:function(){return $(this)
},fntrunc:function(){return this.text().split(this.vars.separate_iteration)
},lines:3,separate_iteration:" ",supplement_text:" ...",callback:null},b);
if(typeof(a.fncontainer)!="function"){return this
}if(typeof(a.fntrunc)!="function"){return this
}this.each(function(){var d=$(this);
var c=d.data("original-text");
if(c!=undefined){d.text(c)
}var e=a.fncontainer.apply(d,[]);
d.vars={"$container":e,originaltext:d.text(),height:e.outerHeight(),line_height:e.lineHeight(),nb_lines:a.lines,supplement_text:a.supplement_text,separate_iteration:a.separate_iteration,finaltext:"",end:false};
if(d.vars.nb_lines>=1){d.vars.splittext=a.fntrunc.apply(d,[]);
d.vars.total_height=d.vars.line_height*d.vars.nb_lines;
d.css({visibility:"hidden"});
d.empty();
d.data("original-text",d.vars.originaltext);
d.vars.splittext.forEach(function(g){if(d.vars.end){return
}d.text(d.vars.finaltext+d.vars.separate_iteration+g+d.vars.supplement_text);
var f=d.vars.$container.outerHeight();
if(f<=d.vars.total_height){if(d.vars.finaltext){d.vars.finaltext+=d.vars.separate_iteration
}d.vars.finaltext+=g
}else{d.vars.finaltext+=d.vars.supplement_text;
d.vars.end=true
}});
d.text(d.vars.finaltext)
}else{d.text(d.vars.originaltext)
}d.css({visibility:"visible"}).addClass("truncage-paragraphe");
if(typeof(a.callback)=="function"){a.callback.apply(d,[])
}return
});
return this
};
$.extend({Animate:function(a,b){$(a).Animate(b)
}});
$.fn.extend({Animate:function(b,a){var c=(a?this.find(a):this);
c.reset=function(){this.removeClass("animated").removeClass("animate--"+this.name).removeData("anim-name").removeAttr("data-anim-name")
};
c.name=c.data("anim-name");
c.selector=a;
if(typeof(b)!="undefined"){if(c.name!=b){c.reset();
c.name=b;
c.addClass("animate--"+c.name);
setTimeout(function(){c.addClass("animated")
},1)
}}if(typeof(c.name)!="undefined"){c.data("anim-name",c.name).attr("data-anim-name",c.name)
}c.resetOnAnimateEnd=function(){this.onAnimateEnd(this.name,function(){this.reset()
})
};
return c
},onTransitionEnd:function(b,d,a){var c="transitionend."+b+"";
return this.unbind(c).one(c,{callback:d,args:a,nameevent:b},function(g){var f=$(this);
if(typeof(g.data.callback)=="function"){g.data.callback.apply(f.Animate(),[g,g.data.args])
}})
},onAnimateEnd:function(b,c,a){return this.one("webkitAnimationEnd."+b+" mozAnimationEnd."+b+" MSAnimationEnd."+b+" oanimationend."+b+" animationend."+b+"",{callback:c,args:a},function(d){if(typeof(d.data.callback)=="function"){d.data.callback.apply($(this).Animate(),[d,d.data.args])
}})
},hoverAnimate:function(c,b,a){return this.hoverInAnimate([c,a]).hoverOutAnimate([b,a])
},hoverInAnimate:function(){if(arguments[0]==undefined){arguments[0]=this.data("anim-hoverin")
}return this.bindAnimate("mouseenter",arguments[0])
},hoverOutAnimate:function(){if(arguments[0]==undefined){arguments[0]=this.data("anim-hoverout")
}return this.bindAnimate("mouseleave",arguments[0])
},bindAnimate:function(){var obj={animName:undefined,selector:undefined};
if(Array.isArray(arguments[1])){if(typeof(arguments[1][0])!="string"){for(var i=0;
i<arguments[1].length;
i++){this.bindAnimate(arguments[0],arguments[1][i])
}return this
}obj.animName=arguments[1][0];
obj.selector=arguments[1][1]
}else{if(typeof(arguments[1])=="object"){obj=arguments[1]
}else{if(typeof(arguments[1])=="string"&&arguments[1].startsWith("[")){var arr=eval(""+arguments[1]+"");
this.bindAnimate(arguments[0],arr);
return this
}else{obj.animName=arguments[1]
}}}return this.bind(arguments[0],obj,function(e){var $obj=$(this);
$obj.Animate.apply($obj,[e.data.animName,e.data.selector])
})
}});
var Animate={init:function(){$("[data-anim-hoverin]").each(function(){$(this).hoverInAnimate()
});
$("[data-anim-hoverout]").each(function(){$(this).hoverOutAnimate()
})
}};
$.fn.AutoCompleteImpl=function(){if(!this||!this.length){return this
}var a=this.autocomplete({minLength:3,autoFocus:false,focus:function(b,c){b.preventDefault();
return false
},select:function(b,c){$(this).val(arguments[1].item.label);
return false
},source:function(f,b){minLength:1;
var e=window.location.pathname;
var d=e.substring(e.lastIndexOf("/")+1).split(".")[0];
var g=$(".loading",this),c=d+"/jcr:content.autoComplete.json";
$.ajax({url:c,async:true,dataType:"json",context:{$input:this},data:{term:f.term},success:function(h){if(typeof(h.suggestions)=="object"&&h.suggestions.length>0){b(h.suggestions)
}}})
}}).data("ui-autocomplete");
a._renderItem=function(d,g){var e=this.term;
var f=new RegExp("("+e+")","gi");
var c=g.label.replace(f,'<span class="autocomplete-highlight">$&</span>');
var b=$("<a/>").html(c);
var h=$("<li/>").append(b);
h.appendTo(d);
return h
};
return this
};
var getSizeImageFromHeader=function(a,c){var b=$.ajax({url:a.attr("href"),success:function(e,d,f){length=Math.round(b.getResponseHeader("content-length")/1024);
c.text(length+"KB");
a.attr("data-size",length)
}})
};
function s7jsonResponse(data,reqId){return eval(data)
}$.fn.GetPropsForDownloadImage=function(d,c){var a=$(this);
var b;
if(true){$.ajax({url:a.attr("href"),data:{req:"props,json"},success:function(f){var h=s7jsonResponse(f,"");
var e=h["image.length"];
var g=h["image.height"];
var i=h["image.width"];
if(e==0){getSizeImageFromHeader(a,d)
}else{e=Math.round(e/1024);
d.text(e+" kB");
a.attr("data-size",e)
}b=i+" x "+g+" px";
c.text(b);
a.attr("data-dimension",b)
},error:function(e,g,f){console.log(g)
}})
}};
$.fn.StickyComponent=function(){this.loaddatas=function(){if(this.closest("header").length){this.$parent=this.closest(".c-header");
this.isHeader=true
}else{this.$parent=this.closest(".parbase");
this.isHeader=false
}this.pos=this.length?this.$parent.getPosition():{};
this.existLayout=this.data("sticky-layout");
if(this.existLayout==undefined){this.existLayout=false
}this.id=this.$parent.data("sticky-id");
if(this.id==undefined){this.id=""
}this.isSticky=this.$parent.is(".sticky");
this.isOther=this.$parent.is(".sticky--other");
this.isOut=this.$parent.is(".sticky--out");
this.isCurrent=this.isSticky&&this.id==$.Sticky.currentid;
this.datas={};
this.datas.height=this.$parent.data("sticky-height");
this.datas.top=this.$parent.data("sticky-top");
this.datas.initialtop=this.$parent.data("sticky-initialtop");
this.datas.bottom=this.datas.height+this.datas.top;
return this
};
this.init=function(){this.id=arguments[0];
var a=parseInt(this.height());
this.addClass("sticky-component");
this.$parent.data("sticky-height",a).data("sticky-top",0).data("sticky-initialtop",this.pos.top).data("sticky-id",this.id).attr("data-sticky-id",this.id);
if(!this.isHeader){this.$parent.css({height:this.pos.height})
}this.loaddatas();
return this
};
this.layout=function(){var c=15;
if(!this.isHeader){c=50
}if(this.pos.top-c<=$.Sticky.winscrolltop){if(this.existLayout){return this
}this.existLayout=true;
if(this.isHeader){this.Animate("opacityStickyIn").onTransitionEnd("sticky",function(){this.addClass("opacitySticky").reset()
})
}else{this.removeClass("no-gradient").addClass("gradient");
var a=$(".t-tablist",this);
var b=a.hasClass("t-tablist--invertcolor");
this.$parent.data("sticky-isinvertcolor",b).attr("data-sticky-isinvertcolor",b);
if(b){a.removeClass("t-tablist--invertcolor")
}}}else{if(!this.existLayout){return this
}this.existLayout=false;
if(this.isHeader){this.Animate("opacityStickyOut").onTransitionEnd("sticky",function(){this.removeClass("opacitySticky").reset()
})
}else{this.removeClass("gradient").addClass("no-gradient");
var b=this.$parent.data("sticky-isinvertcolor");
if(b){this.find(".t-tablist").addClass("t-tablist--invertcolor")
}}}this.data("sticky-layout",this.existLayout).attr("data-sticky-layout",this.existLayout);
return this
};
this.sticky=function(){if(this.isOther){var b=$.Sticky.getCurrentSticky();
var c=parseInt(b.pos.top-$.Sticky.winscrolltop-this.datas.height);
if(c<=0){this.setTop(c)
}}if(this.isSticky&&this.isCurrent){var a=0;
$.Sticky.applyOtherSticky(function(){a+=this.datas.bottom
});
this.setTop(a)
}return this
};
this.setTop=function(a){if(this.datas.height+a<=0){a=this.datas.height*-1
}this.css({top:a});
this.$parent.data("sticky-top",a);
this.datas.top=a;
return this
};
this.setSticky=function(a){if(a){if(this.id!=$.Sticky.currentid){this.isCurrent=false;
this.setStickyOther(true)
}else{this.isCurrent=true;
this.setStickyOther(false)
}if(!this.isSticky){var c=0;
$.Sticky.applyOtherSticky(function(){c+=this.datas.bottom
});
this.setTop(c)
}this.$parent.addClass("sticky")
}else{this.setStickyOther(false);
this.setStickyOut(false);
this.setTop(0);
this.$parent.removeClass("sticky")
}this.isSticky=a;
return this
};
this.setStickyOther=function(a){if(a){this.$parent.addClass("sticky--other");
if($.Sticky.winscrolltop>this.datas.top){this.setStickyOut(true)
}else{this.setStickyOut(false)
}}else{this.$parent.removeClass("sticky--other");
this.setStickyOut(false)
}this.isOther=a;
return this
};
this.setStickyOut=function(a){if(a){this.$parent.addClass("sticky--out")
}else{this.$parent.removeClass("sticky--out")
}this.isOut=a;
return this
};
this.loaddatas();
return this
};
$.Sticky={winscrolltop:0,currentid:0,list:[],init:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){return this
}$.Sticky.$components=$(".c-header__secondnav, .c-anchornavigation");
$.Sticky.$components.each(function(a){$(this).StickyComponent().init("component-"+a)
});
this.load();
return this
},load:function(){if(DocumentManager.isPhone){return this
}if($.Sticky.$components==undefined){return this
}$.Sticky.winscrolltop=$(window).scrollTop();
$.Sticky.currentid=undefined;
$.Sticky.list=[];
var a=0;
$.Sticky.$components.each(function(){var b=$(this).StickyComponent();
if(b.pos.top>$.Sticky.winscrolltop+a){b.setSticky(false)
}else{$.Sticky.currentid=b.id;
$.Sticky.list.push(b.id);
a+=b.datas.height
}});
$.each($.Sticky.list,function(){var c=this;
var b=$.Sticky.getSticky(c);
b.setSticky(true)
});
$.Sticky.$components.each(function(){var b=$(this).StickyComponent();
b.layout().sticky()
});
return this
},getSticky:function(a){return $('[data-sticky-id="'+a+'"] .sticky-component').StickyComponent()
},getCurrentSticky:function(){return $.Sticky.getSticky($.Sticky.currentid)
},applySticky:function(b,a){if(typeof(a)=="function"){a.apply($.Sticky.getSticky(b),[])
}return this
},applyCurrentSticky:function(a){if(typeof(a)=="function"){a.apply($.Sticky.getCurrentSticky(),[])
}return this
},applyOtherSticky:function(a){return $(".sticky.sticky--other .sticky-component").each(function(){if(typeof(a)=="function"){a.apply($(this).StickyComponent(),arguments)
}});
return this
},applyOutSticky:function(a){return $(".sticky.sticky--out .sticky-component").each(function(){if(typeof(a)=="function"){a.apply($(this).StickyComponent(),arguments)
}});
return this
}};
$.fn.TreeViewItem=function(){this.$items=$("> li",this);
this.init=function(a){if(a==undefined){a=1
}this.addClass("level_"+a);
if(!this.$items.find("> ul").length){this.addClass("level-withoutchilds")
}else{this.removeClass("level-withoutchilds")
}this.$items.each(function(){var b=$(this).TreeViewItemRow().init(a).events()
});
this.addClass("success");
return this
};
this.events=function(){return this
};
this.collapse=function(){this.closest("li").addClass("animate");
this.slideUp(400,function(){var a=$(this).TreeViewItem();
var b=a.closest("li").TreeViewItemRow();
b.data("tvw-expand",false).attr("data-tvw-expand",false).removeClass("animate")
});
return this
};
this.expand=function(){this.closest("li").addClass("animate");
this.slideDown(400,function(){var a=$(this).TreeViewItem();
var b=a.closest("li").TreeViewItemRow();
b.data("tvw-expand",true).attr("data-tvw-expand",true).removeClass("animate")
});
return this
};
return this
};
$.fn.TreeViewItemRow=function(){this.level=this.data("tvw-level");
this.expand=this.data("tvw-expand");
this.$icon=$("> i",this);
this.$link=$("> a",this);
this.$child=$("> ul",this);
this.$parent=this.closest("ul");
this.init=function(b){this.level=b;
if(this.level==undefined){this.level=1
}if(this.expand==undefined){this.expand=(TreeView.expandlevel.includes(b))
}this.data("tvw-level",this.level).attr("data-tvw-level",this.level).data("tvw-expand",this.expand).attr("data-tvw-expand",this.expand).data("tvw-haschild",this.$child.length?"true":false).attr("data-tvw-haschild",this.$child.length?"true":false);
if(this.$child.length){this.addClass("has-child")
}else{this.removeClass("has-child")
}if(this.$child.length){var a=++this.level;
this.$child.TreeViewItem().init(a).events()
}return this
};
this.events=function(){this.$icon.unbind("click.treeview").bindFirst("click.treeview",{},function(){$(this).closest("li").TreeViewItemRow().toogleView()
});
return this
};
this.toogleView=function(){if(!this.$child.length){return this
}if(this.expand){this.$child.TreeViewItem().collapse()
}else{this.$child.TreeViewItem().expand()
}this.expand=!this.expand;
return this
};
return this
};
var TreeView={expandlevel:[1],init:function(){$(".treeview").each(function(){$(this).TreeViewItem().init().events()
})
}};
$(function(){$.fn.numberFieldCustom=function(){$('<div class="number-nav"><div class="number-button number-up"><i class="icon-single-up-arrow-icon_f"></i></div><div class="number-button number-down"><i class="icon-single-down-arrow-icon_f"></i></div></div>').appendTo($(this));
this.each(function(){var d=$(this);
var f=d.find('input[type="number"]'),e=d.find(".number-up"),b=d.find(".number-down"),c=f.attr("min"),a=f.attr("max");
e.on("click",function(){var h=parseFloat(f.val());
if(h>=a){var g=h
}else{if(f.val()===""){var g=1
}else{var g=h+1
}}f.val(g);
f.trigger("change")
});
b.on("click",function(){var h=parseFloat(f.val());
if(h<=c){var g=h
}else{var g=h-1
}f.val(g);
f.trigger("change")
})
})
}
});
$(function(){$(".c-form-select").selectric({arrowButtonMarkup:'<b class="button icon-single-down-arrow-icon_f"></b>'});
$(".c-form-select").closest("form").on("reset",function(){$(".c-form-select").selectric("refresh")
})
});
/*! ics.js Wed Aug 20 2014 17:23:02 */
;
var saveAs=saveAs||function(z){if(typeof z==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return
}var G=z.document,j=function(){return z.URL||z.webkitURL||z
},b=G.createElementNS("http://www.w3.org/1999/xhtml","a"),h="download" in b,C=function(c){var a=new MouseEvent("click");
c.dispatchEvent(a)
},x=/constructor/i.test(z.HTMLElement)||z.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent),F=function(a){(z.setImmediate||z.setTimeout)(function(){throw a
},0)
},H="application/octet-stream",A=1000*40,B=function(c){var a=function(){if(typeof c==="string"){j().revokeObjectURL(c)
}else{c.remove()
}};
setTimeout(a,A)
},q=function(i,d,m){d=[].concat(d);
var f=d.length;
while(f--){var l=i["on"+d[f]];
if(typeof l==="function"){try{l.call(i,m||i)
}catch(c){F(c)
}}}},g=function(a){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)){return new Blob([String.fromCharCode(65279),a],{type:a.type})
}return a
},E=function(r,p,f){if(!f){r=g(r)
}var o=this,l=r.type,a=l===H,i,e=function(){q(o,"writestart progress write writeend".split(" "))
},c=function(){if((y||a&&x)&&z.FileReader){var d=new FileReader;
d.onloadend=function(){var u=y?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;");
var v=z.open(u,"_blank");
if(!v){z.location.href=u
}u=undefined;
o.readyState=o.DONE;
e()
};
d.readAsDataURL(r);
o.readyState=o.INIT;
return
}if(!i){i=j().createObjectURL(r)
}if(a){z.location.href=i
}else{var m=z.open(i,"_blank");
if(!m){z.location.href=i
}}o.readyState=o.DONE;
e();
B(i)
};
o.readyState=o.INIT;
if(h){i=j().createObjectURL(r);
setTimeout(function(){b.href=i;
b.download=p;
C(b);
e();
B(i);
o.readyState=o.DONE
});
return
}c()
},D=E.prototype,k=function(c,a,d){return new E(c,a||c.name||"download",d)
};
if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(c,a,d){a=a||c.name||"download";
if(!d){c=g(c)
}return navigator.msSaveOrOpenBlob(c,a)
}
}D.abort=function(){};
D.readyState=D.INIT=0;
D.WRITING=1;
D.DONE=2;
D.error=D.onwritestart=D.onprogress=D.onwrite=D.onabort=D.onerror=D.onwriteend=null;
return k
}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);
if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs
}else{if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs
})
}}var ics=function(g,d){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===g&&(g="default"),void 0===d&&(d="Calendar");
var f=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",j=[],c=["BEGIN:VCALENDAR","PRODID:"+d,"VERSION:2.0"].join(f),h=f+"END:VCALENDAR",b=["SU","MO","TU","WE","TH","FR","SA"];
return{events:function(){return j
},calendar:function(){return c+f+j.join(f)+h
},addEvent:function(ah,ao,ak,am,ag,ai){if(void 0===ah||void 0===ao||void 0===ak||void 0===am||void 0===ag){return !1
}if(ai&&!ai.rrule){if("YEARLY"!==ai.freq&&"MONTHLY"!==ai.freq&&"WEEKLY"!==ai.freq&&"DAILY"!==ai.freq){throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'"
}if(ai.until&&isNaN(Date.parse(ai.until))){throw"Recurrence rrule 'until' must be a valid date string"
}if(ai.interval&&isNaN(parseInt(ai.interval))){throw"Recurrence rrule 'interval' must be an integer"
}if(ai.count&&isNaN(parseInt(ai.count))){throw"Recurrence rrule 'count' must be an integer"
}if(void 0!==ai.byday){if("[object Array]"!==Object.prototype.toString.call(ai.byday)){throw"Recurrence rrule 'byday' must be an array"
}if(ai.byday.length>7){throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week"
}ai.byday=ai.byday.filter(function(l,i){return ai.byday.indexOf(l)==i
});
for(var au in ai.byday){if(b.indexOf(ai.byday[au])<0){throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"
}}}}var aq=new Date(am),at=new Date(ag),ar=new Date,r=("0000"+aq.getFullYear().toString()).slice(-4),W=("00"+(aq.getMonth()+1).toString()).slice(-2),af=("00"+aq.getDate().toString()).slice(-2),ac=("00"+aq.getHours().toString()).slice(-2),ab=("00"+aq.getMinutes().toString()).slice(-2),q=("00"+aq.getSeconds().toString()).slice(-2),av=("0000"+at.getFullYear().toString()).slice(-4),X=("00"+(at.getMonth()+1).toString()).slice(-2),G=("00"+at.getDate().toString()).slice(-2),ap=("00"+at.getHours().toString()).slice(-2),P=("00"+at.getMinutes().toString()).slice(-2),z=("00"+at.getMinutes().toString()).slice(-2),J=("0000"+ar.getFullYear().toString()).slice(-4),ae=("00"+(ar.getMonth()+1).toString()).slice(-2),K=("00"+ar.getDate().toString()).slice(-2),F=("00"+ar.getHours().toString()).slice(-2),aj=("00"+ar.getMinutes().toString()).slice(-2),a=("00"+ar.getMinutes().toString()).slice(-2),k="",e="";
ac+ab+q+ap+P+z!=0&&(k="T"+ac+ab+q,e="T"+ap+P+z);
var aa,Z=r+W+af+k,an=av+X+G+e,al=J+ae+K+("T"+F+aj+a);
if(ai){if(ai.rrule){aa=ai.rrule
}else{if(aa="rrule:FREQ="+ai.freq,ai.until){var ad=new Date(Date.parse(ai.until)).toISOString();
aa+=";UNTIL="+ad.substring(0,ad.length-13).replace(/[-]/g,"")+"000000Z"
}ai.interval&&(aa+=";INTERVAL="+ai.interval),ai.count&&(aa+=";COUNT="+ai.count),ai.byday&&ai.byday.length>0&&(aa+=";BYDAY="+ai.byday.join(","))
}}(new Date).toISOString();
var Q=["BEGIN:VEVENT","UID:"+j.length+"@"+g,"CLASS:PUBLIC","DESCRIPTION:"+ao,"DTSTAMP;VALUE=DATE-TIME:"+al,"DTSTART;VALUE=DATE-TIME:"+Z,"DTEND;VALUE=DATE-TIME:"+an,"LOCATION:"+ak,"SUMMARY;LANGUAGE=en-us:"+ah,"TRANSP:TRANSPARENT","END:VEVENT"];
return aa&&Q.splice(4,0,aa),Q=Q.join(f),j.push(Q),Q
},download:function(p,o){if(j.length<1){return !1
}o=void 0!==o?o:".ics",p=void 0!==p?p:"calendar";
var k,i=c+f+j.join(f)+h;
if(-1===navigator.userAgent.indexOf("MSIE 10")){k=new Blob([i])
}else{var m=new BlobBuilder;
m.append(i),k=m.getBlob("text/x-vCalendar;charset="+document.characterSet)
}return saveAs(k,p+o),i
},build:function(){return !(j.length<1)&&c+f+j.join(f)+h
}}
}console.log("Unsupported Browser")
};
$.fn.SearchResultForm=function(a){this.events=function(){return this
};
this.loadSearchform=function(b){this.$title.empty();
this.$title.append(b.html())
};
this.events=function(){this.$buttonlist.events()
};
this.__constructor__=function(){this.$title=$("h2",this).first();
this.$buttonlist=$(".c-searchresult__tags",this).SearchResultButtonList();
this.$inputdisplay=$("input.inputDisplay",this).first();
return this
};
return this.__constructor__()
};
$.fn.HighlightKeyword=function(a){this.each(function(){var e=$(this);
var d=e.html();
var c=new RegExp("("+a+")","ig");
var b=d.replace(c,'<span class="highlight-keyword">$1</span>');
e.html(b)
})
};
$.fn.SearchResultFilter=function(a){this.removeFilterHidden=function(){this.$filter.each(function(){var b=$(this).SearchResultListFilter();
b.$linkshidden.remove()
});
return this
};
this.removeFilterTag=function(b){this.$filter.each(function(){var e=$(this).SearchResultListFilter();
var d=e.$links.$active.filter('[data-type="'+b+'"]');
var c=e.$linkshidden.filter('[name="'+b+'"]');
if(d.length){d.hasClass("active")?d.find("> i").removeClass("icon-checkmark-icon_f"):d.find("> i").removeClass("icon-checkbox-checked").addClass("icon-checkmark-icon_f");
d.removeClass("filterchk").removeClass("active");
if(!e.$links.filter(".active").length){e.$links.$all.find("> i").removeClass("icon-checkmark-icon_f").addClass("icon-checkbox-checked");
e.$links.$all.addClass("active")
}}else{if(c.length){c.remove()
}}});
return this
};
this.resetFilterEvents=function(){this.$filter.each(function(){var b=$(this).SearchResultListFilter();
b.$links.$enable.unbind("click.searchresult");
b.$links.$disable.unbind("click.searchresult");
b.$select.unbind("selectmenuchange.searchresult").unbind("selectmenuchange.inputtrigger");
b.$datepicker.unbind("change.searchresult").unbind("change.inputtrigger")
});
return this
};
this.loadWidth=function(){this.$tablistcontainer.widthcontainer=this.$tablistcontainer.width();
this.$tablistcontainer.widthtablist=this.$tablistcontainer.$tablist.outerWidth()+19;
this.$tablistcontainer.widthlang=this.$tablistcontainer.$lang.outerWidth();
this.$tablistcontainer.widthtotal=(this.$tablistcontainer.widthlang+this.$tablistcontainer.widthtablist);
this.$tablistcontainer.isValid=this.$tablistcontainer.widthcontainer>=this.$tablistcontainer.widthtotal;
var b=this.$tablistcontainer.widthcontainer-this.$tablistcontainer.widthlang-19;
this.$tablistcontainer.$tablist.css({width:b});
return this
};
this.hideAllCalendar=function(){this.$filter.filter(".t-filter--date").SearchResultListFilter().$datepicker.each(function(){$(this).datepicker("hide")
});
return this
};
this.closeTabsContainer=function(){this.$tabscontainer.filter(".active").each(function(){$(this).fadeOut(200,function(){var b=$(this);
var d=b.data("tabs-content");
var c=$('[data-tabs-id="'+d+'"]',b);
b.removeClass("active").css({display:""});
c.removeClass("active")
})
});
return this
};
this.isExpandBlocMore=function(){var b=$(".item__more",this.$tablistcontainer.$main);
return b.hasClass("expand")
};
this.hideMainBlocMore=function(){var d=$(".item.active",this.$tablistcontainer.$tablist.$main);
var c=$(".item.active > a",this.$tablistcontainer.$tablist.$main);
var b=$(".item__more",this.$tablistcontainer.$tablist.$main);
d.data("tl-active",false).attr("data-tl-active",false).removeClass("active");
c.removeClass("active");
b.removeClass("active");
return this
};
this.showMainBlocMore=function(){var d=$(".item.active",this.$tablistcontainer.$tablist.$main);
var c=$(".item.active > a",this.$tablistcontainer.$tablist.$main);
var b=$(".item__more",this.$tablistcontainer.$tablist.$main);
d.data("tl-active",true).attr("data-tl-active",true).addClass("active");
c.addClass("active");
b.addClass("active");
return this
};
this.checkMainBlocMore=function(){if(DocumentManager.isTablet){if(this.isOpenSubContainer()){this.showMainBlocMore()
}else{this.hideMainBlocMore()
}}return this
};
this.isOpenSubContainer=function(){return this.$tablistcontainer.$sub.is(":visible")
};
this.isContainsActiveSubContainer=function(){return this.$tablistcontainer.$sub.find(".item.active").length!=0
};
this.closeSubContainer=function(){this.$tablistcontainer.$sub.fadeOut(200,function(){SearchResult.$filter.checkMainBlocMore()
});
return this
};
this.openSubContainer=function(){if(this.isOpenSubContainer()){return this
}this.$tablistcontainer.$sub.fadeIn(200,function(){SearchResult.$filter.checkMainBlocMore()
});
return this
};
this.reloadCssClass=function(){if(DocumentManager.isTablet){if(this.isContainsActiveSubContainer()){this.$tablistcontainer.$sub.removeClass("whitebg");
this.$tablistcontainer.$sub.find(".item").removeClass("whitebg")
}else{this.$tablistcontainer.$sub.addClass("whitebg");
this.$tablistcontainer.$sub.find(".item").addClass("whitebg")
}}return this
};
this.events=function(){this.$filter.each(function(){var b=$(this).SearchResultListFilter();
b.FormsLoaderEvents();
b.find(".t-form").FormsLoaderEvents();
b.$links.$enable.unbind("click.searchresult").bindDebounce("click.searchresult",{},SearchResult.ajax.filter,800,false);
b.$links.$disable.unbind("click.searchresult").bind("click.searchresult",{},function(){return false
});
b.$select.unbind("selectmenuchange.searchresult").bindDebounce("selectmenuchange.searchresult",{},function(){b.$datepicker.datepicker("setDate","");
SearchResult.ajax.filter()
},400,false);
b.$datepicker.unbind("change.searchresult").bindDebounce("change.searchresult",{},SearchResult.ajax.filter,400,false);
b.$links.unbind("click.loadinittypes").bindFirst("click.loadinittypes",{},function(){SearchResult.params.initTypes();
return true
});
b.$datepicker.unbind("change.hidecalendar").bindFirst("change.hidecalendar",{},function(){b.$select.prop("selectedIndex",0).selectmenu("refresh");
$(this).datepicker("hide");
return true
})
});
this.$tablistcontainer.$lang.$link.unbind("click.tablist").bindFirst("click.tablist",{$tablist:this.$tablistcontainer.$tablist},function(b){b.data.$tablist.find(".item__more").removeClass("active");
TabList.hideAllBlocMore()
});
this.unbind("hidemainblocmore.searchresult").bind("hidemainblocmore.searchresult",{},function(){SearchResult.$filter.hideMainBlocMore()
});
this.unbind("showmainblocmore.searchresult").bind("hidemainblocmore.searchresult",{},function(){SearchResult.$filter.showMainBlocMore()
});
this.unbind("opensubcontainer.searchresult").bind("opensubcontainer.searchresult",{},function(){SearchResult.$filter.openSubContainer()
});
this.unbind("closesubcontainer.searchresult").bind("closesubcontainer.searchresult",{},function(){SearchResult.$filter.closeSubContainer()
});
this.unbind("closetabscontainer.searchresult").bind("closetabscontainer.searchresult",{},function(){SearchResult.$filter.closeSubContainer().closeTabsContainer()
});
return this
};
this.__constructor__=function(){this.$filter=$(".t-filter",this);
this.$tablistcontainer=$(".tablist-container",this);
this.$tablistcontainer.$main=this.$tablistcontainer.filter(".mainlevel");
this.$tablistcontainer.$sub=this.$tablistcontainer.filter(".sublevel");
this.$tablistcontainer.$tablist=$(".t-tablist",this.$tablistcontainer);
this.$tablistcontainer.$tablist.$main=$(".t-tablist",this.$tablistcontainer.$main);
this.$tablistcontainer.$tablist.$sub=$(".t-tablist",this.$tablistcontainer.$sublevel);
this.$tablistcontainer.$lang=$(".lang",this.$tablistcontainer).first();
this.$tablistcontainer.$lang.$link=$("a",this.$tablistcontainer.$lang).first();
this.$tabscontainer=$("[data-tabs-content]",this);
this.$dropdownlist=$(".dropdownlist.ddlformobile",this).DropDownList();
if(DocumentManager.isPhone){this.$dropdownlist.collapse(false)
}if(!DocumentManager.isPhone){this.$filter.each(function(){$(this).SearchResultListFilter().fixeHeight(80)
})
}this.loadWidth();
return this
};
return this.__constructor__()
};
$.fn.SearchResultButtonList=function(a){this.loadButtons=function(b){this.empty();
this.append(b);
return this.__constructor__()
};
this.events=function(){this.$items.unbind("click.buttonlist").bindFirst("click.buttonlist",{},SearchResult.ajax.deletetype);
return this
};
this.__constructor__=function(){this.$items=$("a[data-type]",this);
return this
};
return this.__constructor__()
};
$.fn.SearchResultList=function(a){this.config=$.extend({},{},a);
this.resetFilterEvents=function(){this.$filter.each(function(){var b=$(this).SearchResultListFilter();
b.$links.$enable.unbind("click.searchresult");
b.$links.$disable.unbind("click.searchresult")
});
return this
};
this.events=function(){this.$filter.each(function(){var b=$(this).SearchResultListFilter();
b.FormsLoaderEvents();
b.$links.$enable.unbind("click.searchresult").bindDebounce("click.searchresult",{},SearchResult.ajax.filter,400,false);
b.$links.$disable.unbind("click.searchresult").bind("click.searchresult",{},function(){return false
});
b.$links.unbind("click.loadinittypes").bindFirst("click.loadinittypes",{},function(){SearchResult.params.initTypes();
return true
})
});
this.$pagination.each(function(){var b=$(this).SearchResultListPagination();
b.$links.unbind("click.searchresult").bind("click.searchresult",{},SearchResult.ajax.pagination)
});
this.$paginationPerPage.each(function(){var b=$(this).SearchResultListPaginationPerPage().events()
});
this.$media.each(function(){var b=$(this).MediaContent();
b.events()
});
Lightbox.init();
return this
};
this.analytics=function(){this.$media.each(function(){var b=$(this).MediaContent();
b.analytics()
})
};
this.loadContainer=function(b){this.$ajaxcontainer.remove();
this.prepend(b);
Picture.load.apply($(".c-picture",this),[true])
};
this.isNewsroom=function(){var b=this.data("newsroom");
if(typeof(b)!="undefined"){return true
}};
this.initLightbox=function(){this.$ajaxcontainer.$assets.each(function(){var b=$(this).SearchResultListBloc();
b.$results.$bloc.each(function(){var c=$(this);
c.$link=$("[data-fancybox],[data-fancybox-old]",c);
c.ishidden=c.is(":hidden");
if(!c.$link.length){return
}if(c.ishidden){c.groupid=c.$link.data("fancybox");
c.$link.data("fancybox-old",c.groupid).attr("data-fancybox-old",c.groupid).removeData("fancybox").removeAttr("data-fancybox")
}else{c.groupid=c.$link.data("fancybox-old");
if(typeof(c.groupid)!="undefined"){c.$link.data("fancybox",c.groupid).attr("data-fancybox",c.groupid).removeData("fancybox-old").removeAttr("data-fancybox-old")
}}})
})
};
this.fixCaptionMediasHeight=function(){this.$ajaxcontainer.$assets.each(function(){var b=$(this);
var c=$(".c-media:visible",b);
$(".c-media__chapo",c).css({height:"auto"});
c.nApply(b,function(){this.removeClass("first").removeClass("last");
this.first().addClass("first");
this.last().addClass("last");
$(".c-media__chapo",this).FixeHeight({minheight:50})
},[])
})
};
this.highlightKeyword=function(){if(this.$ajaxcontainer.$pages.length>0){this.$ajaxcontainer.$pages.HighlightKeyword(this.keyword)
}if(this.$ajaxcontainer.$pageTitle.length>0){this.$ajaxcontainer.$pageTitle.HighlightKeyword(this.keyword)
}};
this.pageLineNumber=function(){this.$ajaxcontainer.$pages.each(function(){$(this).TruncateParagraphe({lines:2})
})
};
this.articleLineNumber=function(){this.$ajaxcontainer.$articleTitle.each(function(){$(this).find("h3").TruncateParagraphe({lines:3})
})
};
this.__constructor__=function(){this.$filter=$(".t-filter",this);
this.$pagination=$(".c-pagination",this);
this.$paginationPerPage=$(".c-pagination--perpage",this);
this.$ajaxcontainer=$(".ajax-wrapper",this).first();
this.$ajaxcontainer.$news=$(".c-resultlist__newslist",this.$ajaxcontainer);
this.$ajaxcontainer.$assets=$(".c-resultlist__assetlist",this.$ajaxcontainer);
this.$ajaxcontainer.$pages=$(".c-resultlist__pagelist__item > p",this.$ajaxcontainer);
this.$ajaxcontainer.$pageTitle=$(".c-resultlist__pagelist__item > h3",this.$ajaxcontainer);
this.$ajaxcontainer.$articleTitle=$(".c-articlelist__item",this.$ajaxcontainer);
this.$countResults=$(".c-searchresult__form > h2",this);
this.$tablist=$(".c-searchresult__tablist > div",this);
this.$noResultContainer=$(".c-resultlist__no-result",this);
this.$loading=$(".c-resultlist--loading",this);
this.$media=$(".c-media",this);
this.type=this.data("type");
this.totalcount=this.data("totalcount");
this.keyword=this.data("keyword");
if(typeof(this.type)=="undefined"){this.type=""
}var b=$("body header").css("z-index");
if(b){var c=parseInt(b);
if(c&&!isNaN(c)){this.$loading.css("z-index",c+1)
}}this.initLightbox();
this.fixCaptionMediasHeight();
this.pageLineNumber();
this.articleLineNumber();
this.highlightKeyword();
return this
};
return this.__constructor__()
};
$.fn.SearchResultListBloc=function(a){this.__constructor__=function(){this.$results=$(".c-resultlist__type",this);
this.$results.$bloc=$("> div",this.$results);
this.type=this.data("type");
this.totalcount=this.data("totalcount");
return this
};
return this.__constructor__()
};
$.fn.SearchResultListPagination=function(){this.__constructor__=function(){this.$links=$(".c-pagination-item[data-page]",this);
return this
};
return this.__constructor__()
};
$.fn.SearchResultListPaginationPerPage=function(){this.__constructor__=function(){this.$linksPerPage=$(".c-pagination--perpage--item",this);
return this
};
this.events=function(){this.$linksPerPage.unbind("click.searchresult").bindFirst("click.searchresult",{},SearchResult.ajax.paginationperpage)
};
return this.__constructor__()
};
$.fn.SearchResultTabList=function(){this.loadList=function($html){this.empty();
this.append($html);
TabList.load.apply(this);
return this.__constructor__()
};
this.__constructor__=function(){this.$links=$(".container-tabs > ul > li.item",this);
this.$links.$active=this.$links.filter(".active").first();
this.$links.$enable=this.$links.filter(":not(.disable)");
this.$links.$news=this.$links.$enable.filter(".news");
this.$links.$news.$items=$(".ddl > .item",this.$links.$news);
this.$dropdownlist=$(".container-tabs > .t-tablist--dropdownlist",this);
this.$dropdownlist.$links=$("> ul > li.item",this.$dropdownlist);
this.$dropdownlist.$links.$enable=this.$dropdownlist.$links.filter(":not(.disable)");
this.$dropdownlist.$links.$news=this.$dropdownlist.$links.filter(".news");
this.$dropdownlist.$links.$news.$items=$(".ddl > li.item",this.$dropdownlist.$links.$news);
this.type=this.$links.$active.data("type");
this.title=this.$links.$active.data("typetext");
this.count=this.$links.$active.data("typecounts");
this.url=this.$links.$active.find("a").attr("href");
return this
};
this.razNewsTypes=function(type){this.$links.$news.$items.removeClass("active");
return this
};
this.pushNewsFilter=function(types){var $activeitem=this.$links.$news.$items.filter(".active");
var arg=$activeitem.data("argument");
var type=$activeitem.data("filter");
var title=$activeitem.data("title");
if(typeof(arg)=="undefined"){return types
}if(typeof(type)=="undefined"){return types
}if(type==""){return types
}if(typeof(title)=="undefined"){title=$activeitem.find("> a").text().trim()
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "types" : [], "titles" : [] };');
eval("if(!types."+arg+'.types.includes("'+type+'")) { types.'+arg+'.types.push("'+type+'"); types.'+arg+'.titles.push("'+title+'"); }');
return types
};
this.events=function(){this.$links.$enable.find("a").unbind("click.searchresult").bindFirst("click.searchresult",{},function(){$(this).closest("li").trigger("click");
return false
});
this.$dropdownlist.$links.$enable.find("a").unbind("click.searchresult").bindFirst("click.searchresult",{},function(){$(this).closest("li").trigger("click");
return false
});
this.$links.$enable.unbind("click.searchresult").bindFirst("click.searchresult",{},SearchResult.ajax.type);
this.$dropdownlist.$links.$enable.unbind("click.searchresult").bindFirst("click.searchresult",{},SearchResult.ajax.type);
this.$links.$news.unbind("click.searchresult");
this.$links.$news.unbind("click.toggleddl").bindFirst("click.toggleddl",{},function(e){var $item=$(this);
var $ddl=$(".ddl",this);
$item.toggleClass("shownewsfilter");
$ddl.toggleClass("show");
return false
});
this.$links.$news.$items.unbind("click.searchresult").bindFirst("click.searchresult",{$news:this.$links.$news},SearchResult.ajax.newsfilter);
this.$dropdownlist.$links.$news.$items.unbind("click.searchresult").bind("click.searchresult",{$news:this.$links.$news},SearchResult.ajax.newsfilter);
$(document).unbind("click.searchresult").bindFirst("click.searchresult",{},function(){$(".t-searchdropdownnav .item.shownewsfilter").trigger("click");
$(".item__more.item--show.expand a").trigger("click")
});
return this
};
return this.__constructor__()
};
var SearchResult={config:{tabscontent_filters:{slider:false,callback:function(){if(DocumentManager.isTablet&&SearchResult.$filter!=undefined){if(arguments[0]=="tabs_dt_lng"){SearchResult.$filter.trigger("closesubcontainer").reloadCssClass()
}else{if(arguments[0]!=undefined){SearchResult.$filter.trigger("opensubcontainer").reloadCssClass()
}else{SearchResult.$filter.reloadCssClass()
}}}return true
}},tablist_filterresultsby:{underline:false,dropdownlist:true,collapse:true,morecallback:function(){if(DocumentManager.isTablet){if(SearchResult.$filter.isOpenSubContainer()){SearchResult.$filter.trigger("closetabscontainer");
return false
}}return true
}},tablist_filtersublevel:{underline:false,dropdownlist:true,collapse:true,callback:function(){SearchResult.$filter.reloadCssClass()
}}},init:function(){SearchResult.$container=$(".c-searchresults").first();
if(!SearchResult.$container.length){return
}SearchResult.$alias=$('[name="searchform"]',SearchResult.$container).first();
SearchResult.$form=$(".c-searchresult__form",SearchResult.$container).first().SearchResultForm();
SearchResult.$filter=$(".c-searchresult__filter",SearchResult.$container).first().SearchResultFilter();
SearchResult.$resetallfilter=$(".reset-all",SearchResult.$container);
SearchResult.$tablisttype=$(".c-searchresult__tablist",SearchResult.$container).first().SearchResultTabList();
SearchResult.$noresult=$(".c-resultlist__no-result",SearchResult.$container).first();
SearchResult.initlist();
SearchResult.params=[];
SearchResult.ajaxpath=SearchResult.$container.data("ajaxpath");
SearchResult.initSearchType();
SearchResult.eventTarget="";
SearchResult.initparams();
SearchResult.url.init();
SearchResult.events();
SearchResultAnalytics.init().sendTrack();
$(window).resize(function(){SearchResult.$filter.loadWidth();
SearchResult.initLightbox();
clearTimeout(SearchResult.timerresize);
SearchResult.timerresize=setTimeout(function(){SearchResult.fixHeight();
clearTimeout(SearchResult.timerresize)
},500)
});
var a=SearchResult.$container.find(".c-pagination .current");
a.prev().prev().not(".next, .previous").addClass("hidden-xs");
a.prev().prev().prev().not(".next, .previous").addClass("hidden-xs hidden-sm");
a.next().next().not(".next, .previous").addClass("hidden-xs");
a.next().next().next().not(".next, .previous").addClass("hidden-xs hidden-sm")
},events:function(){SearchResult.$form.events();
SearchResult.$filter.events();
SearchResult.$tablisttype.events();
SearchResult.$resetallfilter.unbind("click.searchresult").bindDebounce("click.searchresult",{},SearchResult.ajax.reset,50,false)
},resetAllTypes:function(){SearchResult.$filter.resetFilterEvents();
SearchResult.$filter.removeFilterHidden();
SearchResult.$resultlist.$filter.each(function(){$(this).SearchResultListFilter().resetAll()
});
SearchResult.$filter.$filter.each(function(){$(this).SearchResultListFilter().resetAll()
});
SearchResult.$filter.events();
SearchResult.params.initTypes()
},getAllTypes:function(){var a={};
SearchResult.$filter.$filter.each(function(){a=$(this).SearchResultListFilter().pushTypes(a)
});
if(SearchResult.searchtype=="news"){a=SearchResult.$tablisttype.pushNewsFilter(a)
}return a
},getAllArguments:function(){var a=[];
SearchResult.$resultlist.$filter.each(function(){a=$(this).SearchResultListFilter().pushArgs(a)
});
SearchResult.$filter.$filter.each(function(){a=$(this).SearchResultListFilter().pushArgs(a)
});
return a
},isNewsroom:function(){return SearchResult.$resultlist.isNewsroom()
},fixHeight:function(){SearchResult.$resultlist.fixCaptionMediasHeight()
},pageLineNumber:function(){SearchResult.$resultlist.pageLineNumber()
},highlightKeyword:function(){SearchResult.$resultlist.highlightKeyword()
},articleLineNumber:function(){SearchResult.$resultlist.articleLineNumber()
},initLightbox:function(){SearchResult.$resultlist.initLightbox()
},initSearchType:function(a,b){if(typeof(a)=="undefined"&&SearchResult.$container.length){a=SearchResult.$container.data("searchtype")
}if(a=="all"||typeof(a)=="undefined"){a=""
}if(typeof(b)=="undefined"){b=""
}SearchResult.searchtype=a;
SearchResult.$container.attr("data-searchtype",a).data("searchtype",a);
SearchResult.$resultlist.attr("data-type",a).data("type",a);
SearchResult.$resultlist.attr("data-news-filter",b).data("news-filter",b)
},url:{basepath:null,path:window.location.pathname,search:window.location.search,ajax:{path:null},getUrl:function(){return this.path+this.search
},getAjaxUrl:function(){return this.ajax.path+this.search
},init:function(){if(this.basepath==null){this.basepath=this.path.replaceAll(".html","").replaceAll("."+SearchResult.searchtype,"")
}if(SearchResult.searchtype!=""){this.path=this.basepath+"."+SearchResult.searchtype+".html";
this.ajax.path=SearchResult.ajaxpath+"."+SearchResult.searchtype+".html"
}else{this.path=this.basepath+".html";
this.ajax.path=SearchResult.ajaxpath+".html"
}if(SearchResult.eventTarget==="filter"){this.ajax.path=this.ajax.path.replace(".content","")
}var a="?";
a+="q="+encodeURIComponent(SearchResult.$form.find(".c-searchresult__form--form--text").val());
if(SearchResult.params.page&&SearchResult.params.existingPager){if(SearchResult.params.page>1){a+="&page="+SearchResult.params.page
}}if(SearchResult.params.paginationperpage){a+="&results_page_index="+SearchResult.params.paginationperpage
}if(SearchResult.params.types&&SearchResult.params.existingFilter){$.each(SearchResult.params.types,function(b,c){if(c.types&&c.types.length){a+="&"+c.arg+"="+c.types.join(",")
}else{if(c.value){a+="&"+c.arg+"="+c.value
}}})
}if(SearchResult.params.tagLogicChoice){a+="&tagLogicChoice="+SearchResult.params.tagLogicChoice
}if(SearchResult.params.filterTags){a+="&filterTags="+SearchResult.params.filterTags
}if(SearchResult.params.isnewsroom){a+="&newsroom=true"
}if(SearchResult.params.displayall.name&&SearchResult.params.displayall.value){if(SearchResult.params.displayall.value=="true"){a+="&"+SearchResult.params.displayall.name+"="+SearchResult.params.displayall.value
}}this.search=a
}},initparams:function(){SearchResult.params={q:"",page:null,isnewsroom:SearchResult.isNewsroom(),paginationperpage:null,displayall:{name:null,value:false},existingPager:false,args:SearchResult.getAllArguments(),types:[],existingFilter:true,addType:function(arg,type,title){eval("if(typeof(SearchResult.params.types."+arg+') == "undefined") SearchResult.params.types.'+arg+' = { "arg" : "'+arg+'", "types" : [], "titles" : [] };');
eval("if(!SearchResult.params.types."+arg+'.types.includes("'+type+'")) { SearchResult.params.types.'+arg+'.types.push("'+type+'"); SearchResult.params.types.'+arg+'.titles.push("'+title+'"); }')
},initArgsByUrl:function(args){if(window.location.search){var request=window.location.search.substring(1).split("&");
for(var i=0;
i<request.length;
i++){var nv=request[i].split("=");
if(!nv[0]){continue
}if(!nv[1]){continue
}for(var j=0;
j<args.length;
j++){if(nv[0]=="q"&&args[j]=="q"){SearchResult.params.q=nv[1]
}if(nv[0]=="page"&&args[j]=="page"){SearchResult.params.page=parseInt(nv[1])
}if(nv[0]=="paginationperpage"&&args[j]=="results_page_index"){SearchResult.params.paginationperpage=parseInt(nv[1])
}if(nv[0]=="tags"&&args[j]=="tags"){var _values_=nv[1].split(",");
for(var k=0;
k<_values_.length;
k++){this.addType(nv[0],_values_[k])
}}if(nv[0]=="tagLogicChoice"){SearchResult.params.tagLogicChoice=nv[1]
}if(nv[0]=="filterTags"){var _values_=nv[1].split(",");
SearchResult.params.filterTags=_values_
}}}}},initTypes:function(){this.types=SearchResult.getAllTypes();
SearchResult.initresetall();
return this
},initPager:function(){this.existingPager=(SearchResult.$resultlist.$pagination.length>0);
if(this.existingPager&&!this.page){this.page=1
}},containsTypes:function(){return this.types.tags!=undefined||this.types.start2!=undefined||this.types.start!=undefined||this.types.end!=undefined
}};
SearchResult.params.initTypes();
SearchResult.params.initPager();
SearchResult.params.initArgsByUrl(["q","page","paginationperpage"]);
if(SearchResult.$form.$inputdisplay.length){SearchResult.params.displayall.name=SearchResult.$form.$inputdisplay.attr("name");
SearchResult.params.displayall.value=SearchResult.$form.$inputdisplay.val()
}},initlist:function(){SearchResult.$resultlist=$(".c-resultlist",SearchResult.$container).SearchResultList().events()
},initresetall:function(){if(SearchResult.params.containsTypes()){SearchResult.$resetallfilter.addClass("active")
}else{SearchResult.$resetallfilter.removeClass("active")
}},loading:function(a){if(a){SearchResult.$resultlist.$loading.addClass("loading-animate loading-animate--loadingShow animated")
}else{SearchResult.$resultlist.$loading.removeClass("loading-animate loading-animate--loadingShow animated")
}},ajax:{reset:function(){SearchResult.params.page=1;
SearchResult.resetAllTypes();
SearchResult.eventTarget="filter";
SearchResult.params.tagLogicChoice=null;
SearchResult.params.filterTags=null;
return SearchResult.ajax.load.apply(this,[])
},pagination:function(){var a=$(this);
SearchResult.params.page=parseInt(a.data("page"));
SearchResult.params.initTypes();
return SearchResult.ajax.load.apply(this,[])
},paginationperpage:function(){var a=$(this);
SearchResult.params.page=1;
SearchResult.params.paginationperpage=parseInt(a.data("results-per-page-index"));
SearchResult.params.initTypes();
return SearchResult.ajax.load.apply(this,[])
},isnewsroom:function(){SearchResult.params.isnewsroom;
SearchResult.params.initTypes();
return SearchResult.ajax.load.apply(this,[])
},filter:function(){SearchResult.params.page=1;
SearchResult.params.initTypes();
SearchResult.eventTarget="filter";
return SearchResult.ajax.load.apply(this,[])
},deletetype:function(){var a=$(this);
var b=a.data("type");
SearchResult.$filter.removeFilterTag(b);
SearchResult.params.page=1;
SearchResult.params.initTypes();
SearchResult.eventTarget="filter";
return SearchResult.ajax.load.apply(this,[])
},type:function(){var b=$(this);
var a=b.data("type");
var c=b.data("news-filter");
if(typeof(a)=="undefined"||!b.length){return false
}SearchResult.initSearchType(a,c);
SearchResult.params.page=1;
SearchResult.params.initTypes();
if(DocumentManager.isPhone){$(this).closest(".t-tablist--dropdownlist").find(".selected .text").html($(this).find("a").html())
}return SearchResult.ajax.load.apply(this,[])
},newsfilter:function(){var b=$(this);
var a=$("> a",b);
if(a.hasClass("disable")){return false
}var c=b.data("filter");
SearchResult.$tablisttype.$links.$news.$items.filter(".active").removeClass("active");
SearchResult.$tablisttype.$dropdownlist.$links.$news.$items.filter(".active").removeClass("active");
SearchResult.$tablisttype.$links.$news.$items.filter('[data-filter="'+c+'"]').addClass("active");
SearchResult.$tablisttype.$dropdownlist.$links.$news.$items.filter('[data-filter="'+c+'"]').addClass("active");
SearchResult.ajax.type.apply(SearchResult.$tablisttype.$links.$news,[]);
b.closest(".item.shownewsfilter").trigger("click");
SearchResult.eventTarget="filter";
return false
},error:function(){return false
},load:function(){SearchResult.loading(true);
setTimeout(function(){SearchResult.url.init();
$.ajax({url:SearchResult.url.getAjaxUrl(),async:true,data:{},context:{url:SearchResult.url.getUrl()},beforeSend:function(){SearchResult.loading(true)
},complete:function(){setTimeout(function(){SearchResult.loading(false)
},200)
},error:function(){return SearchResult.ajax.error.apply(SearchResult.ajax,arguments)
},success:function(c){var a=$(jQuery.parseHTML(c));
var f=$(".c-resultlist .ajax-wrapper",a).first();
var e=$(".c-searchresult__form h2",a).first();
var d=$(".c-searchresult__tablist > div",a).first();
var b=$(".t-buttonlist",a).first();
SearchResult.$resultlist.loadContainer(f);
SearchResult.$form.loadSearchform(e);
if(SearchResult.eventTarget==="filter"){SearchResult.$tablisttype.loadList(d).events()
}SearchResult.$form.$buttonlist.loadButtons(b).events();
SearchResult.initlist();
SearchResult.params.initTypes();
SearchResult.$resetallfilter.removeClass("onevents").addClass("no-hover");
SearchResult.$filter.hideAllCalendar();
$(document).scrollTop(SearchResult.$alias.offset().top);
SearchResultAnalytics.sendTrack();
SearchResult.params.initPager();
window.history.pushState(document.title,document.title,this.url);
SearchResult.eventTarget="";
Analytics.init()
}})
},400);
return false
}}};
$.fn.SearchResultListFilter=function(){this.fixeHeight=function(h){if(typeof(h)=="undefined"){h=80
}this.$links.each(function(){$(this).parent().FixeHeight({minheight:h})
});
return this
};
this.resetAll=function(){var $resetAll=$(".c-searchresults").find(".reset-all");
if(this.$links.$all.length&&!this.$links.$all.is(".active")){this.$links.$all.trigger("click");
$resetAll.removeClass("active")
}this.$links.filter('[data-argument="lang"][data-type="en"]').trigger("click");
this.$select.each(function(){$(this).val("").selectmenu("refresh");
$resetAll.removeClass("active")
});
this.$datepicker.each(function(){$.datepicker._clearDate(this);
$resetAll.removeClass("active")
});
this.$simpleinput.each(function(){$(this).val("")
})
};
this.pushTypes=function(types){if(!types){types={}
}if(!this.$links.$all.is(".active")){this.$links.$active.each(function(){var arg=$(this).data("argument");
var type=$(this).data("type");
var title=$(this).data("title");
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).text().trim()
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "types" : [], "titles" : [] };');
eval("if(!types."+arg+'.types.includes("'+type+'")) { types.'+arg+'.types.push("'+type+'"); types.'+arg+'.titles.push("'+title+'"); }')
})
}else{if(this.$links.$all.send){var arg=this.$links.$all.data("argument");
var type=this.$links.$all.data("type");
var title=this.$links.$all.data("title");
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).text().trim()
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "types" : [], "titles" : [] };');
eval("if(!types."+arg+'.types.includes("'+type+'")) { types.'+arg+'.types.push("'+type+'"); types.'+arg+'.titles.push("'+title+'"); }')
}}this.$linkshidden.each(function(){var arg=$(this).data("argument");
var type=$(this).attr("name");
var title=$(this).data("title");
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).text().trim()
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "types" : [], "titles" : [] };');
eval("if(!types."+arg+'.types.includes("'+type+'")) { types.'+arg+'.types.push("'+type+'"); types.'+arg+'.titles.push("'+title+'"); }')
});
this.$select.each(function(){var arg=$(this).attr("name");
var type=$(this).val();
var title=$(this).data("title");
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).attr("title")
}if(type==""){return
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "value" : undefined, "title" : undefined };');
eval("types."+arg+'.value = "'+type+'";');
eval("types."+arg+'.title = "'+title+'";')
});
this.$datepicker.each(function(){var arg=$(this).attr("name");
var type=$(this).val();
var title=$(this).data("title");
var date=$(this).datepicker("getDate");
var format=$(this).closest(".datepicker").data("datepicker-format");
if(typeof(format)=="undefined"){format="yy-MM-dd"
}var fdate=$.datepicker.formatDate(format,date);
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).attr("title")
}if(type==""){return
}var getDateParameter=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var regex=new RegExp("[\\?&]"+name+"=([^&#]*)");
var results=regex.exec(location.search);
return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))
};
if(getDateParameter("start")&&getDateParameter("end")&&date===null){var currentDatePicker=$(this);
var formatDate="dd-MM-yy";
var params=["start","end"];
$(params).each(function(index,dateParam){if(arg===dateParam){var filterParameters=getDateParameter(dateParam).replace(/\-/g,"/");
var formattedDateValue=$.datepicker.formatDate(formatDate,new Date(filterParameters)).replace(/\-/g," ");
currentDatePicker.val(formattedDateValue)
}})
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "value" : undefined, "title" : undefined };');
eval("types."+arg+'.value = "'+fdate+'";');
eval("types."+arg+'.title = "'+title+'";')
});
this.$simpleinput.each(function(){var arg=$(this).attr("name");
var type=$(this).val();
var title=$(this).data("title");
if(typeof(arg)=="undefined"){return
}if(typeof(title)=="undefined"){title=$(this).attr("title")
}eval("if(typeof(types."+arg+') == "undefined") types.'+arg+' = { "arg" : "'+arg+'", "value" : undefined, "title" : undefined };');
eval("types."+arg+'.value = "'+type+'";');
eval("types."+arg+'.title = "'+title+'";')
});
return types
};
this.pushArgs=function(args){if(!args){args=[]
}this.$links.$enable.filter(":not(.t-filter--all)").each(function(){var arg=$(this).data("argument");
if(typeof(arg)=="undefined"){return
}if(args.includes(arg)){return
}args.push(arg)
});
this.$linkshidden.each(function(){var arg=$(this).data("argument");
if(typeof(arg)=="undefined"){return
}if(args.includes(arg)){return
}args.push(arg)
});
this.$select.each(function(){var arg=$(this).attr("name");
if(typeof(arg)=="undefined"){return
}if(args.includes(arg)){return
}args.push(arg)
});
this.$datepicker.each(function(){var arg=$(this).attr("name");
if(typeof(arg)=="undefined"){return
}if(args.includes(arg)){return
}args.push(arg)
});
this.$simpleinput.each(function(){var arg=$(this).attr("name");
if(typeof(arg)=="undefined"){return
}if(args.includes(arg)){return
}args.push(arg)
});
return args
};
this.__constructor__=function(){this.$links=$(".t-filter--item",this);
this.$links.$active=this.$links.filter(".active");
this.$links.$enable=this.$links.filter(":not(.disable)");
this.$links.$disable=this.$links.filter(".disable");
this.$links.$all=this.$links.filter(".t-filter--all").first();
this.$links.$all.send=this.$links.$all.data("filterall-send");
this.$linkshidden=$("input:hidden.hiddenlink",this);
this.$select=$(".selectmenu select",this);
this.$datepicker=$(".datepicker input",this);
this.$simpleinput=$("[data-inputtrigger]",this);
this.filtername=this.data("filtername");
return this
};
this.events=function(){this.FormsLoader();
return this
};
return this.__constructor__()
};
var SearchResultAnalytics={config:{search:{searchType:function(){return SearchResult.$tablisttype.title
},searchResult:function(){return SearchResult.$tablisttype.count
},keyword:function(){return SearchResult.$form[0].dataset.keyword
},filterType:function(){var a={};
SearchResult.$resultlist.$filter.each(function(){a=$(this).SearchResultListFilter().pushTypes(a)
});
if(!a.filter){return[]
}if(!a.filter.titles){return[]
}return a.filter.titles
},filterTab:function(){var a=[];
SearchResult.$filter.$filter.each(function(){var c=$(this).SearchResultListFilter();
var b=c.pushTypes({});
if(!b.tags){return
}if(!b.tags.titles){return
}a.push({tab:c.filtername,tags:b.tags.titles})
});
return a
},filterDateStart:function(){if(!SearchResult.params.types){return undefined
}if(!SearchResult.params.types.start){return undefined
}return SearchResult.params.types.start.value
},filterDateEnd:function(){if(!SearchResult.params.types){return undefined
}if(!SearchResult.params.types.end){return undefined
}return SearchResult.params.types.end.value
},filterLanguage:function(){if(!SearchResult.params.types){return[]
}if(!SearchResult.params.types.lang){return[]
}return SearchResult.params.types.lang.titles
}},search_filters:{dateStart:function(){if(!SearchResult.params.types){return[]
}if(!SearchResult.params.types.start){return[]
}return SearchResultAnalytics.formatDate(SearchResult.params.types.start.value)
},dateEnd:function(){if(!SearchResult.params.types){return[]
}if(!SearchResult.params.types.end){return[]
}return SearchResultAnalytics.formatDate(SearchResult.params.types.end.value)
},language:function(){if(!SearchResult.params.types){return[]
}if(!SearchResult.params.types.lang){return[]
}return SearchResult.params.types.lang.titles
},tabs:function(){var a=[];
SearchResult.$filter.$filter.each(function(){var c=$(this).SearchResultListFilter();
var b=c.pushTypes({});
if(!b.tags){return
}if(!b.tags.titles){return
}a.push(c.filtername)
});
return a
},tags:function(){var a=[];
SearchResult.$filter.$filter.each(function(){var c=$(this).SearchResultListFilter();
var b=c.pushTypes({});
if(!b.tags){return
}if(!b.tags.titles){return
}$(b.tags.titles).each(function(d,e){a.push(e)
})
});
return a
}},search_results:function(){return SearchResult.$tablisttype.count
},search_keyword:function(){return SearchResult.$form[0].dataset.keyword
}},init:function(){if(!SearchResult.$resultlist.length){return this
}SearchResultAnalytics.$elem=$(document).AnalyticsElem(SearchResultAnalytics.config);
return this
},sendTrack:function(){if(!SearchResult.$resultlist.length){return this
}SearchResultAnalytics.$elem.sendSearchTrack();
SearchResultAnalytics.$elem.sendSearchFiltersTrack();
SearchResultAnalytics.$elem.sendSearchResultsTrack();
SearchResultAnalytics.$elem.sendSearchKeywordTrack();
return this
},formatDate:function(b){var c=new Date(b),e=""+(c.getMonth()+1),a=""+c.getDate(),d=c.getFullYear();
if(e.length<2){e="0"+e
}if(a.length<2){a="0"+a
}return[d,e,a].join("-")
}};
$.fn.TabListContent=function(conf){this.config=$.extend({},{animate:{delay:400},calculateStyleLink:true,dropdownlist:true,more:true,underline:true,underlineposition:"bottom",barre:true,barreposition:"bottom",collapse:false,invertcolor:false,textposition:"left",returnClick:false,callback:function(){return true
},onInsertMoreItem:function($origin){return true
}},conf);
this.setResponsiveConfig=function(){if(!this.hasClass("t-tablist--responsive")){return this
}this.setTextPosition(undefined);
return this
};
this.__get_responsive_value__=function(tab){var __value__=undefined;
if(tab!=undefined){if((__value__==undefined||!__value__)&&DocumentManager.isExtraDesktop){__value__=tab[3]
}if((__value__==undefined||!__value__)&&DocumentManager.isDesktop){__value__=tab[2]
}if((__value__==undefined||!__value__)&&DocumentManager.isTablet){__value__=tab[1]
}if((__value__==undefined||!__value__)&&DocumentManager.isPhone){__value__=tab[0]
}if((__value__==undefined||!__value__)){__value__=tab[tab.length-1]
}if((__value__==undefined||!__value__)){__value__="unknown"
}}return __value__
};
this.setTextPosition=function(position){if((position==undefined||!position)){position=this.__get_responsive_value__(this.config.responsive.textposition)
}if(this.hasClass("t-tablist--align--"+position)){return this
}this.config.textposition=position;
this.removeClass("t-tablist--align--right").removeClass("t-tablist--align--left").addClass("t-tablist--align--"+this.config.textposition);
return this
};
this.activeItem=function($obj){if($obj.hasClass("disable")){return this
}this.$items.removeClass("active");
var __collapse__=this.config.collapse&&$obj.data("tl-active")==true;
this.$items.data("tl-active",false).attr("data-tl-active",false);
if(this.$dropdownlist&&this.$dropdownlist.length){this.$dropdownlist.$list.find("li").data("tl-active",false).attr("data-tl-active",false).removeClass("active")
}if(!__collapse__){var iItem=$obj.data("tl-item");
if(typeof(iItem)!="undefined"){$('[data-tl-item="'+iItem+'"]',this).addClass("active").data("tl-active",true).attr("data-tl-active",true)
}}return this.initActiveItem()
};
this.initActiveItem=function(){this.$activateitem=this.$items.filter("[data-tl-active=true]");
return this
};
this.initHoverItem=function(){this.$hoveritem=this.$items.filter("[data-tl-hover=true]");
return this
};
this.addHoverItem=function($li){this.delHoverItem();
$li.addClass("hover").data("tl-hover",true).attr("data-tl-hover",true);
this.initHoverItem();
return this
};
this.delHoverItem=function(){this.$items.removeClass("hover").data("tl-hover",false).attr("data-tl-hover",false);
this.initHoverItem();
return this
};
this.getInfosItem=function(){var values=null;
if(this.$hoveritem&&this.$hoveritem.length){var values={"$item":this.$hoveritem,display:true,type:"hover"}
}else{if(this.$more.hasClass("active")){var values={"$item":this.$more,display:true,type:"more"}
}else{if(this.$activateitem&&this.$activateitem.length){var values={"$item":this.$activateitem,display:!this.$activateitem.hasClass("item--hidden"),type:"activate"}
}}}if(!values||!values.$item||!values.$item.length){return null
}values.css={iBlocList:this.offset().left,iLeft:(values.$item.offset().left-this.offset().left),iWidth:values.$item.width(),iGlobalPaddingLeft:parseInt(this.css("padding-left").replace("px",""))+parseInt(this.$container.css("padding-left").replace("px","")),iPaddingRight:parseInt(values.$item.css("padding-right").replace("px","")),iPaddingLeft:parseInt(values.$item.css("padding-left").replace("px","")),link:{iPaddingRight:0,iPaddingLeft:0}};
if(!values.display){values.css.iWidth=0
}values.$link=$("> a, > span",values.$item).first();
if(values.$link.length){values.css.link={iPaddingRight:parseInt(values.$link.css("padding-right").replace("px","")),iPaddingLeft:parseInt(values.$link.css("padding-left").replace("px",""))}
}if(values.$item.is(".first")&&this.config.textposition=="left"){values.css.link.iPaddingLeft=0
}if(values.$item.is(".last")&&this.config.textposition=="right"){values.css.link.iPaddingRight=0
}var r={"$item":values.$item,"$link":values.$link,css:{left:values.css.iLeft+values.css.iPaddingLeft+(this.config.calculateStyleLink?values.css.link.iPaddingLeft:0)-values.css.iGlobalPaddingLeft,width:values.css.iWidth-(this.config.calculateStyleLink?(values.css.link.iPaddingRight+values.css.link.iPaddingLeft):0)}};
return r
};
this.stopAnimateUnderline=function(){if(!this.$underline){return this
}if(!this.$underline.length){return this
}this.$underline.stop(true,true);
return this
};
this.activeUnderline=function(){if(!this.$underline){return this
}if(!this.$underline.length){return this
}var infos=this.getInfosItem();
if(infos==null){this.$underline.animate({width:0},this.config.animate.delay);
return this
}var delay=this.config.animate.delay;
if(typeof(arguments[0])!=="undefined"){delay=arguments[0]
}if(delay&&delay>0&&delay<199){delay=200
}if(delay){this.$underline.animate(infos.css,delay)
}else{this.$underline.css(infos.css)
}return this
};
this.verifDropDownList=function(){if(this.config.dropdownlist&&DocumentManager.isPhone){this.isDropDownList=true;
this.addClass("t-tablist--dropdownlist");
return this
}this.isDropDownList=false;
this.removeClass("t-tablist--dropdownlist");
return this
};
this.verifLinkMore=function(){this.verifDropDownList();
if(this.isDropDownList){return this
}if(!this.$list){return this
}if(!this.$list.length){return this
}if(!this.$blocmore){return this
}if(!this.$blocmore.length){return this
}this.isTreating(true);
this.$items.removeClass("item--hidden");
this.$more.removeClass("item--show");
var _list_width_=this.$list.outerWidth();
var _links_width_=0;
this.$items.each(function(){var w=$(this).outerWidth();
_links_width_+=w
});
var _linkmore_width_=this.$more.outerWidth();
if(_list_width_<_links_width_){_links_width_+=_linkmore_width_;
while(_list_width_<=_links_width_&&this.$items.filter(":visible").length!=0){var $last=this.$items.filter(":visible").last();
$last.addClass("item--hidden");
_links_width_-=$last.outerWidth()
}}var $_items_hidden=this.$items.filter(".item--hidden");
var $_items_hiddenactive=$_items_hidden.filter(".active");
if($_items_hidden.length){this.$more.addClass("item--show")
}else{this.$blocmore.hidden();
this.$more.removeClass("item--show")
}if($_items_hiddenactive.length){this.$more.addClass("active")
}else{this.$more.removeClass("active")
}if(this.$blocmore.isDisplay()){this.$more.removeClass("collapse").addClass("expand");
this.$more.$link.addClass("active")
}else{this.$more.removeClass("expand").addClass("collapse");
this.$more.$link.removeClass("active")
}this.isTreating(false);
return this
};
this.verifBlocMore=function(){if(!this.$more.length){return this
}if(!this.$blocmore){return this
}if(!this.$blocmore.length){return this
}if(!this.$blocmore.isDisplay()){return this
}var $_items_hidden=this.$items.filter(".item--hidden");
var $_items_more=this.$blocmore.getItems();
if($_items_hidden.length==$_items_more.length){return this
}this.displayBlocMore();
return this
};
this.isTreating=function(){if(typeof(arguments[0])!=="undefined"){if(arguments[0]){this.$container.removeClass("items--ok").addClass("items--ec")
}else{this.$container.removeClass("items--ec").addClass("items--ok")
}}return this.$container.hasClass("items--ec")
};
this.displayBlocMore=function(){if(!this.$blocmore){return this
}if(!this.$blocmore.length){return this
}if(this.$news.length){this.$news.removeClass("show")
}TabList.hideAllBlocMore();
var $_items_hidden=this.$items.filter(".item--hidden");
this.$blocmore.addItems($_items_hidden,this.config.onInsertMoreItem);
this.$blocmore.display();
this.$more.removeClass("collapse").addClass("expand");
this.$more.$link.addClass("active");
return this
};
this.hideBlocMore=function(){if(!this.$more){return this
}if(!this.$more.length){return this
}if(!this.$blocmore){return this
}if(!this.$blocmore.length){return this
}if(!this.$blocmore.$items.length){return this
}this.$blocmore.hidden();
this.$more.removeClass("expand").addClass("collapse");
this.$more.$link.removeClass("active");
return this
};
this.toggleBlocMore=function(){if(!this.$more){return this
}if(!this.$more.length){return this
}if(!this.$blocmore){return this
}if(this.$blocmore.isDisplay()){this.hideBlocMore()
}else{this.displayBlocMore()
}return this
};
this.__add_underline__=function(){if(!this.config.underline){return this
}if(!$(".item__underline",this).length){this.$underline=$("<li/>",{"class":"item__underline",html:"&nbsp;"});
this.$underline.addClass("item__underline--"+this.config.underlineposition);
this.$underline.appendTo($(".container-tabs > ul",this))
}else{this.$underline=$(".item__underline",this)
}return this
};
this.__add_blocmore__=function(){this.$more=$(" > li.item__more",this.$list);
if(this.$more.length&&this.config.more==false){this.$more.remove();
this.$more=$(" > li.item__more",this.$list)
}if(!this.$more.length&&this.config.more==true){$("<li />",{"class":"item__more",html:'<a href="#">&nbsp;</a>'}).appendTo(this.$list);
this.$more=$(" > li.item__more",this.$list).attr("data-insertmode","automatic")
}else{this.$more.attr("data-insertmode","static")
}this.$more.$link=$("> a",this.$more);
this.$news=$(" > li.item.news > ul",this.$list);
if(!this.$more.length){return this
}if(!$(".blocmore",this.$more).length){this.$blocmore=$("<div/>",{"class":"blocmore"});
this.$blocmore.appendTo(this.$more);
this.$blocmore.TabListBlocMoreContent($("a",this.$more))
}return this
};
this.__add_blocdropdownlist__=function(){if(!this.$container.length){return this
}if(!this.config.dropdownlist){return this
}if(!$(".t-tablist--dropdownlist",this.$container).length){var config={};
var $dll=$("<div/>",{"class":"t-tablist--dropdownlist"}).DropDownListContainer(config).get(0);
this.$items.each(function(){var $item=$(this);
$dll.addItem($item)
});
this.$dropdownlist=$dll;
this.$dropdownlist.appendTo(this.$container)
}return this
};
this.__init_config__=function(){if(this.hasClass("t-tablist--simple")){this.config.barre=false;
this.config.dropdownlist=false;
this.config.underline=false
}if(this.is("[data-tablist-barre]")){this.config.barre=this.data("tablist-barre")==true
}if(this.is("[data-tablist-barreposition]")){this.config.barreposition=this.data("tablist-barreposition")
}if(this.is("[data-tablist-underline]")){this.config.underline=this.data("tablist-underline")==true
}if(this.is("[data-tablist-underlineposition]")){this.config.underlineposition=this.data("tablist-underlineposition")
}if(this.is("[data-tablist-dropdownlist]")){this.config.dropdownlist=this.data("tablist-dropdownlist")==true
}if(this.is("[data-tablist-collapse]")){this.config.collapse=this.data("tablist-collapse")==true
}if(this.is("[data-config]")){var sconfig_temp=this.data("config");
var config_temp=undefined;
eval("try { config_temp = "+sconfig_temp+"; } catch(err) { if(console) console.log(err); }");
if(typeof(config_temp)!=undefined){this.config=$.extend({},this.config,config_temp)
}}if(typeof(this.config.preload)=="function"){this.config.preload.apply(this,[])
}if(this.config.responsive!=undefined){this.data("tablist-responsive",this.config.responsive)
}else{this.config.responsive=this.data("tablist-responsive")
}if(this.config.responsive!=undefined){if(this.config.responsive.textposition!=undefined){this.addClass("t-tablist--responsive");
this.setResponsiveConfig()
}else{this.removeClass("t-tablist--responsive")
}}return this
};
this.__constructor__=function(){this.__init_config__();
this.addClass("t-tablist");
if(this.config.barre){switch(this.config.barreposition){case"top":this.addClass("barre--before");
break;
case"bottom":this.addClass("barre--after");
break
}}if(this.config.invertcolor){this.addClass("t-tablist--invertcolor")
}else{this.removeClass("t-tablist--invertcolor")
}this.setTextPosition(this.config.textposition);
this.$container=$(".container-tabs",this);
this.$list=$(".container-tabs > ul",this);
this.isTreating(true);
this.$items=$(".container-tabs > ul > li:not(.item__underline):not(.item__more)",this).addClass("item");
this.$items.$enable=this.$items.filter(":not(.disable)");
this.$items.each(function(i){var $item=$(this);
var isactive=$item.hasClass("active");
$item.data("tl-item",i).attr("data-tl-item",i).data("tl-active",isactive).attr("data-tl-active",isactive)
});
this.__add_blocmore__();
this.__add_blocdropdownlist__();
this.__add_underline__();
this.$items.first().addClass("first");
this.$items.last().addClass("last");
this.verifLinkMore();
this.initActiveItem().activeUnderline(null);
if(typeof(this.config.postload)=="function"){this.config.postload.apply(this,[])
}this.isTreating(false);
return this
};
this.getListItem=function(elem){var $li=$(elem);
$li.item=$li.data("tl-item");
if($li.item==undefined){return $li
}$li=this.find('.container-tabs > ul > .item[data-tl-item="'+$li.item+'"]').first();
$li.item=$li.data("tl-item");
return $li
};
this.events=function(){this.$items.unbind("click.tablist").bind("click.tablist",{"$obj":this},TabList.events.items.click);
this.$items.$enable.unbind("mouseenter.tablist").bind("mouseenter.tablist",{"$obj":this},TabList.events.items.mouseenter);
this.unbind("mouseleave.tablist").bind("mouseleave.tablist",{"$obj":this},TabList.events.items.mouseleave);
if(this.$more&&this.$more.$link){this.$more.$link.unbind("click.tablist").bind("click.tablist",{"$obj":this},TabList.events.more.click)
}if(this.$blocmore&&this.$blocmore.$link){this.$blocmore.$link.unbind("click.tablist").bind("click.tablist",{"$obj":this},TabList.events.blocmore.hide)
}if(this.$dropdownlist&&this.$dropdownlist.length){this.$dropdownlist.$list.find("li").unbind("click.tablist").bind("click.tablist",{"$obj":this},TabList.events.dropdownlist.click)
}if(typeof(this.config.callback)=="function"){var __function_callback__=function(e){var $tablist=e.data.$obj;
if(typeof($tablist.config.callback)=="function"){var $li=$tablist.getListItem(this);
$tablist.config.callback.apply($li,[e,$li,e.data.origin])
}};
this.$items.unbind("click.tablistcallback").bind("click.tablistcallback",{"$obj":this,origin:"list"},__function_callback__);
if(this.$dropdownlist&&this.$dropdownlist.length){this.$dropdownlist.$list.find("li").unbind("click.tablistcallback").bind("click.tablistcallback",{"$obj":this,origin:"dropdownlist"},__function_callback__)
}if(this.$more&&this.$more.$link){this.$more.$link.unbind("click.tablistcallback").bind("click.tablistcallback",{"$obj":this,origin:"morelink"},__function_callback__)
}if(this.$blocmore&&this.$blocmore.$link){this.$blocmore.$link.unbind("click.tablistcallback").bind("click.tablistcallback",{"$obj":this,origin:"blocmorelink"},__function_callback__)
}}this.unbind("reload.tablist").bind("reload.tablist",{"$obj":this},TabList.events.reload);
this.$items.$enable.unbind("tabactive.tablist").bind("tabactive.tablist",{"$obj":this,origin:"list"},TabList.events.items.tabactive);
this.unbind("previous.tablist").bind("previous.tablist",{"$obj":this},TabList.events.previous);
this.unbind("next.tablist").bind("next.tablist",{"$obj":this},TabList.events.next);
this.unbind("textposition.tablist").bind("textposition.tablist",{"$obj":this},TabList.events.textposition);
return this
};
this.morecallback=function(callback){if(typeof(callback)!="function"){return this
}if(this.$blocmore.length&&typeof(this.config.morecallback)=="function"){var _isdisplay_=!this.$blocmore.isDisplay();
if(this.config.morecallback.apply(this,[_isdisplay_?"show":"hide"])){callback.apply(this,[])
}}else{callback.apply(this,[])
}return this
};
return this.__constructor__()
};
$.fn.SearchfilterBlocMore=function(){this.config=$.extend({},{},conf)
};
$.fn.TabListBlocMoreContent=function(a,b){this.config=$.extend({},{},b);
this.isDisplay=function(){return this.hasClass("blocmore--show")
};
this.display=function(){this.addClass("blocmore--show");
return this
};
this.hidden=function(){this.removeClass("blocmore--show");
this.$items.empty();
return this
};
this.__addLink__=function(c){if(!c){return this
}this.$link=c.clone().addClass("blocmore__link");
this.$link.appendTo(this);
return this
};
this.getItems=function(){return this.$items.find(".blocmore__items__item")
};
this.addItems=function(e,d){var c=this;
c.$items.empty();
e.each(function(){c.addItem($(this),d)
})
};
this.addItem=function(f,e){if(!f){return this
}var d=$("<div/>",{"class":"blocmore__items__item"});
var c=$("<div/>",{"class":f.attr("class"),title:f.attr("title"),html:f.html()});
f.copyEventTo("click",c,true);
c.data(f.data());
c.attr("data-tl-item",f.data("tl-item"));
c.attr("data-tl-active",f.data("tl-active"));
c.removeClass("item--hidden");
d.append(c);
d.appendTo(this.$items);
if(typeof(e)=="function"){e.apply(c,[f,this.config])
}return this
};
this.originalWidth=function(){return this.outerWidth()
};
this.__constructor__=function(c){this.__addLink__(c);
if(!this.$items){this.$items=$("<div/>",{"class":"blocmore__items"});
this.$items.appendTo(this)
}return this
};
return this.__constructor__(a)
};
var TabList={init:function(){TabList.tabs=[];
$('.t-tablist:not([data-tablist-autoload="false"])').each(function(){TabList.load.apply($(this),[])
});
$(window).resize(function(){$.each(TabList.tabs,function(){this.setResponsiveConfig();
this.activeUnderline(null);
this.verifLinkMore();
this.verifBlocMore()
})
})
},load:function(){var a=$.extend({},{animate:{delay:400},dropdownlist:true,underline:true,barre:true,collsapse:true},arguments[0]);
this.each(function(){TabList.tabs.push($(this).TabListContent(a).events())
});
setTimeout(function(){$(window).trigger("resize")
},100)
},hideAllBlocMore:function(){$.each(TabList.tabs,function(){this.hideBlocMore()
})
},events:{items:{click:function(a){var b=a.data.$obj.getListItem(this);
a.data.$obj.delHoverItem().stopAnimateUnderline().hideBlocMore().activeItem(b).verifLinkMore().activeUnderline();
return a.data.$obj.config.returnClick
},tabactive:function(a){return TabList.events.items.click.apply(this,arguments)
},mouseenter:function(a){a.data.$obj.addHoverItem($(this)).activeUnderline()
},mouseleave:function(a){a.data.$obj.delHoverItem().stopAnimateUnderline().activeUnderline()
}},dropdownlist:{click:function(b){var a=b.data.$obj.$dropdownlist;
var c=b.data.$obj.getListItem(this);
if(!c.hasClass("disable")){a.activateListItem(b,c).collapse()
}return TabList.events.items.click.apply(this,[b])
}},reload:function(a){if(a.data.$obj==undefined){return false
}a.data.$obj.activeUnderline();
return true
},previous:function(b){var c=$("li.item.active",b.data.$obj);
var a=c.prev();
if(!a.hasClass("item")||!a.length){a=c.parent().find("li.last")
}if(a.hasClass("item")){a.trigger("click")
}return true
},next:function(b){var c=$("li.item.active",b.data.$obj);
var a=c.next();
if(!a.hasClass("item")||!a.length){a=c.parent().find("li.first")
}if(a.hasClass("item")){a.trigger("click")
}return true
},more:{click:function(a){a.data.$obj.morecallback(a.data.$obj.toggleBlocMore);
return false
}},blocmore:{hide:function(a){a.data.$obj.morecallback(a.data.$obj.hideBlocMore);
return false
}},textposition:function(b,a){$(this).TabListContent().setTextPosition(a).activeUnderline();
return true
}}};
$.fn.TabsContent=function(conf){this.config=$.extend({},{slider:true,sliderselector:null,scrolltop:true,collaspe:true,edit:false,callback:function(){return true
}},conf);
this.load=function(){if(this.config.edit){this.$contents.addClass("active");
return this
}this.$contents.removeClass("active");
if(typeof(arguments[0])=="object"){var $elem=arguments[0];
if($elem.contentid&&!$elem.hasClass("active")){$("[data-tabs-id]",this).removeClass("active").find("> a").removeClass("active");
$('[data-tabs-id="'+$elem.contentid+'"]',this).addClass("active").find("> a").addClass("active")
}else{if(this.config.collaspe){$("[data-tabs-id]",this).removeClass("active").find("> a").removeClass("active");
$elem.removeClass("active")
}}}var contentid=this.$links.getActiveContentId();
if(contentid){var $content=this.$contents.getContent(contentid);
this.$links.reset();
$('[data-tabs-id="'+contentid+'"]',this).addClass("active").find("> a").addClass("active");
this.$contents.removeClass("active");
$content.addClass("active");
if(this.config.slider){if(this.config.sliderselector){SliderSlick.load.apply($content.find(this.config.sliderselector),[])
}else{SliderSlick.load.apply($content,[])
}}}this.callback();
return this
};
this.events=function(){this.$links.unbind("click.tabs").bind("click.tabs",{"$obj":this},TabsContent.events.links.click);
return this
};
this.callback=function(){if(typeof(this.config.callback)=="function"){var contentid=this.$links.getActiveContentId();
var $activelinks=this.$links.getLinks(contentid);
var $content=this.$contents.getContent(contentid);
this.config.callback.apply(this,[contentid,$activelinks,$content])
}};
this.loadTabList=function(){if(!this.$nav.length){return this
}TabList.load.apply(this.$nav,[{collapse:this.config.collapse}]);
return this
};
this.SetScrollTop=function(){if(!this.config.scrolltop){return this
}if(!DocumentManager.isPhone){return this
}var contentid=this.$links.getActiveContentId();
if(!contentid){return this
}var $link=this.$links.getLinkScrollTop(contentid);
if(!$link.length){return this
}var _top_=undefined;
if($link.is(":visible")){_top_=$link.offset().top
}else{_top_=this.offset().top
}$("body,html").animate({scrollTop:_top_},400);
return this
};
this.__init_config__=function(){if(this.is("[data-tabs-slider]")){this.config.slider=this.data("tabs-slider")==true
}if(this.is("[data-tabs-sliderselector]")){this.config.sliderselector=this.data("tabs-sliderselector")
}if(this.is("[data-tabs-scrolltop]")){this.config.scrolltop=this.data("tabs-scrolltop")==true
}if(this.is("[data-tabs-collaspe]")){this.config.collaspe=this.data("tabs-collaspe")==true
}if(this.is("[data-edit]")){this.config.edit=this.data("edit")==true
}if(this.is("[data-config]")){var sconfig_temp=this.data("config");
var config_temp=undefined;
eval("try { config_temp = "+sconfig_temp+"; } catch(err) { if(console) console.log(err); }");
if(typeof(config_temp)!=undefined){this.config=$.extend({},this.config,config_temp)
}}if(typeof(this.config.preload)=="function"){this.config.preload.apply(this,[])
}return this
};
this.__constructor__=function(){this.__init_config__();
this.$nav=$("nav",this).first();
this.$links=$("[data-tabs-id]",this);
this.$links.reset=function(){return this.each(function(){$(this).removeClass("active")
})
};
this.$links.getLink=function(contentid){return this.filter('[data-tabs-id="'+contentid+'"]').first().TabsContentLink()
};
this.$links.getLinks=function(contentid){return this.filter('[data-tabs-id="'+contentid+'"]')
};
this.$links.getLinkScrollTop=function(contentid){return this.filter('[data-tabs-id="'+contentid+'"][data-tabs-scrolltop="true"]').first().TabsContentLink()
};
this.$links.getActiveContentId=function(){return this.filter(".active").first().TabsContentLink().contentid
};
this.$contents=$("[data-tabs-content]",this);
this.$contents.getContent=function(contentid){return this.filter('[data-tabs-content="'+contentid+'"]').first().TabsContentContainer()
};
this.addClass("t-tabscontent--success");
return this
};
return this.__constructor__()
};
$.fn.TabsContentLink=function(){this.__constructor__=function(){this.contentid=this.data("tabs-id");
return this
};
return this.__constructor__()
};
$.fn.TabsContentContainer=function(){this.__constructor__=function(){this.contentid=this.data("tabs-content");
return this
};
return this.__constructor__()
};
var TabsContent={init:function(){TabsContent.tabs=[];
$('.t-tabscontent:not([data-tabscontent-autoload="false"])').each(function(){TabsContent.load.apply($(this),[])
})
},load:function(){this.each(function(){TabsContent.tabs.push($(this).TabsContent().events().loadTabList().load())
})
},events:{links:{click:function(a){a.data.$obj.load($(this).TabsContentLink()).SetScrollTop();
return false
}}}};
$(function(){});
$.fn.MediaContent=function(){this.displayBlocDownload=function(){if(this.blocs.$download.length!=1){return this
}if(this.data("media-blocdownload-state")=="show"){return this
}this.addClass("c-media--blocdownload--ec");
this.blocs.$download.fadeIn(300,function(){var b=$(this);
var c=b.closest(".c-media");
var a=$(".c-media__blocdownload .links",c).first();
c.removeClass("c-media--blocdownload--ec").addClass("c-media--blocdownload--show");
a.show().AirbusNiceScroll()
});
if(this.type==="image"){this.blocs.$download.$links.each(function(){$(this).GetPropsForDownloadImage($(this).find(".image-size"),$(this).find(".image-dimension"))
})
}this.data("media-blocdownload-state","show").attr("data-media-blocdownload-state","show");
if(this.type=="playervideo"){this.playervideo(false)
}return this
};
this.hideBlocDownload=function(){if(this.blocs.$download.length!=1){return this
}if(this.data("media-blocdownload-state")=="hide"){return this
}this.blocs.$download.fadeOut(300,function(){var b=$(this);
var c=b.closest(".c-media");
var a=$(".c-media__blocdownload .links",c).first();
c.removeClass("c-media--blocdownload--ec").removeClass("c-media--blocdownload--show");
a.hide().getNiceScroll().resize()
});
this.data("media-blocdownload-state","hide").attr("data-media-blocdownload-state","hide");
if(this.type=="playervideo"){if(this.data("media-video-state")=="play"){this.playervideo(true)
}}return this
};
this.displayDescription=function(){this.removeClass("c-media--desc--hide").addClass("c-media--desc--show");
this.find(".link--readerdesc--hide").fadeIn(100);
this.links.$readerdesc_less.css("visibility","visible");
this.blocs.$chapo.$txt.$desc.TruncateParagraphe({lines:-1,fncontainer:function(){return this.closest(".c-media__chapo__txt")
},callback:function(){var a=$(this).closest(".c-media").MediaContent();
a.blocs.$chapo.animate({height:a.blocs.$chapo.$txt.outerHeight()+24},400)
}});
return this
};
this.hideDescription=function(){this.removeClass("c-media--desc--show").addClass("c-media--desc--hide");
this.find(".link--readerdesc--more").fadeIn(100);
this.blocs.$chapo.$txt.$desc.TruncateParagraphe({lines:1,fncontainer:function(){return this.closest(".c-media__chapo__txt")
},callback:function(){var a=$(this).closest(".c-media").MediaContent();
a.blocs.$chapo.animate({height:a.blocs.$chapo.$txt.outerHeight()+24},400)
}});
return this
};
this.playervideo=function(a){if(this.type!="playervideo"){return this
}if(this.blocs.$s7videoviewer.length){var c=this.blocs.$s7videoviewer.S7VideoContainer();
var b=c.isLecture();
if(b&&!a){c.pause();
this.data("media-video-state","play").attr("data-media-video-state","play")
}else{if(!b&&a){c.lecture();
this.data("media-video-state","pause").attr("data-media-video-state","pause")
}}}return this
};
this.displayBlocLightbox=function(){this.links.$fancybox=$("[data-fancybox]",this);
this.blocs.$lightbox=$(".c-lightbox",this);
if(this.links.$fancybox.length&&!this.hasClass("c-media--blocdownload--show")){this.links.$fancybox.first().trigger("click");
return this
}if(!this.links.$fancybox.length&&!this.blocs.$lightbox.length){Media.ajax.lightbox.load.apply(this,[])
}return this
};
this.hideBlocLightbox=function(){return this
};
this.__constructor__=function(){this.asset={name:this.data("asset-name"),path:this.data("asset-path")};
if(!this.asset.name){this.asset.name=this.asset.path
}this.fancybox={resource:this.data("reslightbox"),id:this.data("fancyboxasync-id"),groupid:this.data("fancyboxasync-groupid"),path:this.data("fancyboxasync-path"),isdownload:this.data("fancyboxasync-isdownload"),iscalled:this.data("fancyboxasync-iscalled"),ajax:false,src:""};
this.links={"$download":$(".link--download",this),"$download_one":$(".a-icon--download--one a",this),"$lightbox":$(".link--lightbox",this),"$fancybox":$("[data-fancybox]",this),"$readerdesc_less":$(".link--readerdesc--less",this),"$readerdesc_more":$(".link--readerdesc--more",this)};
this.blocs={"$chapo":$(".c-media__chapo",this).first(),"$download":$(".c-media__blocdownload",this).first(),"$lightbox":$(".c-lightbox",this),"$s7videoviewer":$(".s7videoviewer",this)};
this.fancybox.ajax=this.links.$fancybox.data("type")=="ajax";
this.fancybox.src=this.links.$fancybox.data("src");
this.blocs.$chapo.$txt=$(".c-media__chapo__txt",this.blocs.$chapo);
this.blocs.$chapo.$txt.$desc=$(".readerdesc",this.blocs.$chapo);
this.blocs.$chapo.$txt.$links=$(".readerlink",this.blocs.$chapo);
this.blocs.$download.$close=$(".close",this.blocs.$download);
this.blocs.$download.$links=$(".link a",this.blocs.$download);
this.blocs.$lightbox.$close=$(".close",this.blocs.$lightbox);
this.blocs.$lightbox.$blocvideo=$('[id^="s7video_div"]',this.blocs.$lightbox).first().S7VideoContainer();
this.blocs.$lightbox.$linksdownload=$(".c-lightbox__download a",this.blocs.$lightbox);
this.$medialist=this.closest(".c-medialist");
this.fixeheight=this.is(".c-media--fixeheight");
this.fullHeight=this.is(".c-media--fullheight");
this.isContainerMediaList=(this.$medialist.length!=0);
if(this.is(".c-media--type--image")){this.type="image";
this.typetext="Photo"
}else{if(this.is(".c-media--type--video")){this.type="video";
this.typetext="Video"
}else{if(this.is(".c-media--type--presskit")){this.type="presskit";
this.typetext="Press Kits"
}else{if(this.is(".c-media--type--playervideo")){this.type="playervideo";
this.typetext="Video";
this.data("media-video-state","pause").attr("data-media-video-state","pause")
}else{this.type="unknown";
this.typetext="Unknown"
}}}}this.containsdownload=this.links.$download.length;
if(this.links.$readerdesc_less.length&&this.links.$readerdesc_more.length){var c=parseInt($(".readerlink").css("line-height"));
var b=this.blocs.$chapo.$txt.height();
if(b>c){this.blocs.$chapo.css("height",this.blocs.$chapo.outerHeight());
if(!this.hasClass("c-media--desc--hide")&&!this.hasClass("c-media--desc--show")){this.addClass("c-media--desc--hide");
this.links.$readerdesc_more.css("visibility","visible");
this.hideDescription()
}}}if(this.fancybox.iscalled==undefined){this.fancybox.iscalled=this.blocs.$lightbox.length==1;
this.data("fancyboxasync-iscalled",this.fancybox.iscalled).attr("data-fancyboxasync-iscalled",this.fancybox.iscalled)
}if(this.fancybox.iscalled==false){var a=this.find("#"+this.fancybox.id+"").first();
a.data("fancyboxasync",this.fancybox).attr("data-fancyboxasync-id",this.fancybox.id)
}if(this.fancybox.src==undefined){this.fancybox.src=Media.ajax.getUrl(this.fancybox);
if(this.fancybox.ajax){this.links.$fancybox.data("src",this.fancybox.src).attr("data-src",this.fancybox.src)
}}return this
};
this.analytics=function(){var a=this.typetext;
if(this.isContainerMediaList){a=this.closest(".c-medialist__slider__item").data("tagtext")
}Analytics.addClickComponentEvent(this.links.$download,{nameevent:"OpenDownload",label1event:a,label2event:this.asset.name});
Analytics.addClickComponentEvent(this.links.$lightbox,{nameevent:"OpenLightbox",label1event:a,label2event:this.asset.name});
return this
};
this.events=function(){this.links.$download.unbind("click.download").bind("click.download",{"$obj":this},Media.events.download.show);
this.blocs.$download.$close.unbind("click.download").bind("click.download",{"$obj":this},Media.events.download.hide);
this.links.$lightbox.unbind("click.lightbox").bind("click.lightbox",{"$obj":this},Media.events.lightbox.show);
this.links.$readerdesc_less.unbind("click.readerdesc").bind("click.readerdesc",{"$obj":this},Media.events.readerdesc.less);
this.links.$readerdesc_more.unbind("click.readerdesc").bind("click.readerdesc",{"$obj":this},Media.events.readerdesc.more);
this.unbind("download-show.media").bind("download-show.media",{"$obj":this},Media.events.download.show);
this.unbind("download-hide.media").bind("download-hide.media",{"$obj":this},Media.events.download.hide);
this.unbind("lightbox-show.media").bind("lightbox-show.media",{"$obj":this},Media.events.lightbox.show);
this.unbind("readerdesc-less.media").bind("readerdesc-less.media",{"$obj":this},Media.events.readerdesc.less);
this.unbind("readerdesc-more.media").bind("readerdesc-more.media",{"$obj":this},Media.events.readerdesc.more);
if(this.type=="playervideo"){this.unbind("video-play.media").bind("video-play.media",{"$obj":this},Media.events.playervideo.play);
this.unbind("video-pause.media").bind("video-pause.media",{"$obj":this},Media.events.playervideo.pause)
}return this
};
return this.__constructor__()
};
var Media={init:function(){$(".c-media").each(function(){$(this).MediaContent().events().analytics()
})
},events:{download:{show:function(a){a.data.$obj.displayBlocDownload();
return false
},hide:function(a){a.data.$obj.hideBlocDownload();
return false
}},readerdesc:{less:function(a){a.data.$obj.hideDescription();
return false
},more:function(a){a.data.$obj.displayDescription();
return false
}},lightbox:{show:function(a){a.data.$obj.displayBlocLightbox();
return false
},hide:function(a){a.data.$obj.hideBlocLightbox();
return false
}},playervideo:{play:function(a){a.data.$obj.playervideo(true);
return false
},pause:function(a){a.data.$obj.playervideo(false);
return false
}}},loadContentLightbox:function(){if(this.openLightbox==undefined){this.openLightbox=false
}var b=this.$media;
var a=$(arguments[0]).filter(".c-lightbox__body");
a.each(function(){var c=$("<div/>",{});
$(this).appendTo(c);
c=c.FancyBoxContent();
c.initCssClass().attr("id",c.id).hide();
var d=$("<a/>",{href:"#"+c.id,"data-fancybox":b.fancybox.groupid});
if(!$('[href="#'+c.id+'"]',b).length){d.appendTo(b)
}if(!$("#"+c.id+"",b).length){c.appendTo(b)
}b.__constructor__()
});
b.data("fancyboxasync-iscalled",true).attr("data-fancyboxasync-iscalled",true);
Lightbox.init();
if(this.openLightbox){b.links.$fancybox.first().trigger("click")
}},ajax:{getUrl:function(a){return""+a.resource+"/fancyboxid="+a.id+"&pathasset="+a.path+"&download="+a.isdownload
},lightbox:{load:function(a){if(a==undefined){a=true
}$.ajax({url:Media.ajax.getUrl(this.fancybox),method:"get",async:true,data:{},context:{"$media":this,openLightbox:a},beforeSend:function(){},complete:function(){},success:Media.loadContentLightbox})
}}}};
$.fn.FormCalendarHeader=function(){this.month=function(a){this.$title.$month.text(a)
};
this.year=function(a){this.$title.$year.text(a)
};
this.__constructor__=function(){this.addClass("ui-datepicker-header").addClass("ui-widget-header").addClass("ui-helper-clearfix").addClass("ui-corner-all");
this.$prev=$("<a />").FormCalendarHeaderLinkPrev();
this.$next=$("<a />").FormCalendarHeaderLinkNext();
this.$title=$("<div />").FormCalendarHeaderTitle();
this.$prev.appendTo(this);
this.$next.appendTo(this);
this.$title.appendTo(this);
return this
};
return this.__constructor__()
};
$.fn.FormCalendarHeaderLinkPrev=function(){this.__constructor__=function(){this.addClass("ui-datepicker-prev").addClass("ui-corner-all");
this.$span=$("<span />",{"class":"ui-icon ui-icon-circle-triangle-w",text:"Prev"});
this.$span.appendTo(this);
return this
};
return this.__constructor__()
};
$.fn.FormCalendarHeaderLinkNext=function(){this.__constructor__=function(){this.addClass("ui-datepicker-next").addClass("ui-corner-all");
this.$span=$("<span />",{"class":"ui-icon ui-icon-circle-triangle-e",text:"Next"});
this.$span.appendTo(this);
return this
};
return this.__constructor__()
};
$.fn.FormCalendarHeaderTitle=function(){this.__constructor__=function(){this.addClass("ui-datepicker-title");
this.$month=$("<span />",{"class":"ui-datepicker-month"});
this.$year=$("<span />",{"class":"ui-datepicker-year"});
this.$month.appendTo(this);
this.$year.appendTo(this);
return this
};
return this.__constructor__()
};
$.fn.FormCalendar=function(a){this.config=$.extend({},{displayyearontop:true,showOtherMonths:true,selectOtherMonths:true,showAnim:"slideDown",showOn:"both",buttonText:"",defaultDate:new Date(),dateFormat:"dd MM yy",beforeShow:function(b,c){if(c.input.hasClass("open")){return
}Forms.loadCalendar.apply(Forms,[c])
},onChangeMonthYear:function(b,d,c){if(!c.input.hasClass("open")){return
}Forms.loadCalendar.apply(Forms,[c])
},onClose:function(b,c){if(!c.input.hasClass("open")){return
}Forms.closeCalendar.apply(Forms,[c])
}},a);
this.attrdata={language:this.data("datepicker-language"),mindate:this.data("datepicker-mindate"),maxdate:this.data("datepicker-maxdate")};
this.lang="en";
this.__constructor__=function(){this.$input=$("input",this).first();
if(!this.attrdata.language||!$.datepicker.regional[this.attrdata.language]){this.attrdata.language="en"
}if(this.attrdata.mindate){if(this.attrdata.mindate=="now"){this.attrdata.mindate=new Date(new Date().getTime())
}this.config.minDate=this.attrdata.mindate
}if(this.attrdata.maxdate){if(this.attrdata.maxdate=="now"){this.attrdata.maxdate=new Date(new Date().getTime())
}this.config.maxDate=this.attrdata.maxdate
}var b=$.extend({},$.datepicker.regional[this.attrdata.language],this.config);
this.$input.datepicker(b);
return this
};
this.events=function(){this.$input.unbind("change.inputtrigger").bindFirst("change.inputtrigger",{"$datepicker":this},function(b){Forms.checkInputTrigger(b.data.$datepicker)
});
if(!DocumentManager.isPhone){$(window).resize(function(){var b=$(document.activeElement);
if(b.is(".hasDatepicker")){b.datepicker("hide")
}})
}this.$input.siblings("button").on("mouseenter",function(){if(!DocumentManager.isPhone&&!DocumentManager.isTablet){$(this).siblings("input").addClass("hover");
$(this).addClass("hover")
}});
this.$input.siblings("button").on("mouseleave",function(){if(!DocumentManager.isPhone&&!DocumentManager.isTablet){$(this).removeClass("hover");
$(this).siblings("input").removeClass("hover")
}});
return this
};
return this.__constructor__()
};
$.fn.FormIntervalCalendar=function(a){this.__constructor__=function(){this.$start=$(".datepicker--start input",this);
this.$end=$(".datepicker--end input",this);
this.datestart=Forms.getDatePicker(this.$start);
this.dateend=Forms.getDatePicker(this.$end);
if(this.dateend){this.$start.datepicker("option","maxDate",this.dateend)
}if(this.datestart){this.$end.datepicker("option","minDate",this.datestart)
}return this
};
this.events=function(){this.$start.unbind("change.datepickerinterval").bind("change.datepickerinterval",{"$start":this.$start,"$end":this.$end},function(b){var c=Forms.getDatePicker(b.data.$start);
if(!c){if(b.data.$end.closest(".datepicker").data("datepicker-mindate")){b.data.$end.datepicker("option","minDate",new Date(new Date().getTime()))
}else{b.data.$end.datepicker("option","minDate",null)
}return this
}b.data.$end.datepicker("option","minDate",c)
});
this.$end.unbind("change.datepickerinterval").bind("change.datepickerinterval",{"$start":this.$start,"$end":this.$end},function(b){var c=Forms.getDatePicker(b.data.$end);
if(!c){if(b.data.$start.closest(".datepicker").data("datepicker-maxdate")){b.data.$start.datepicker("option","maxDate",new Date(new Date().getTime()))
}else{b.data.$start.datepicker("option","maxDate",null)
}return this
}b.data.$start.datepicker("option","maxDate",c)
});
return this
};
return this.__constructor__()
};
$.fn.SelectMenu=function(a){this.config=$.extend({},{position:{my:"left top-5",at:"left bottom",collision:"none"},width:this.attr("width"),open:function(e,f){var d=$(this);
var c=$("#"+d.attr("id")+"-menu");
var b=d.siblings("span");
b.css({"margin-bottom":c.outerHeight()});
setTimeout(function(){$(c.find(".ui-menu-item").get(d.find("option:selected").index())).addClass("selected").find(".ui-menu-item-wrapper").addClass("selected")
},300)
},close:function(b,c){$(this).siblings("span").css("margin-bottom","0")
},select:function(b,c){var d=$("#"+this.id+"-menu");
d.find(".ui-menu-item-wrapper").removeClass("selected").parent().removeClass("selected");
d.find(".ui-state-active").addClass("selected").parent().addClass("selected")
}},a);
this.events=function(){$(this).on("selectmenufocus",function(b,c){console.log("events ui :",c)
})
};
this.__constructor__=function(){this.$select=$("select",this).first();
this.$select.$option=$("option",this.$select);
this.delaydate=this.data("delaydate");
this.selectedvalue=this.data("delaydate-selectedvalue");
this.format=this.data("delaydate-format");
if(this.delaydate){var b=this.format?this.format:"dd-mm-yy";
var c=this.selectedvalue;
this.$select.$option.each(function(){var h=$(this);
if(!h.length){return
}var f=h.data("delaydate-type");
if(!f||f=="all"){return
}var e=h.data("delaydate-delay");
if(!e){return
}var i=parseInt(e);
if(!i||isNaN(i)){return
}var d=new Date();
switch(f){case"d":d=d.addDay(i);
break;
case"m":d=d.addMonth(i);
break;
case"y":d=d.addYears(i);
break;
default:return
}var g=$.datepicker.formatDate(b,d);
h.val(g);
if(c&&c==g){h.parent().find("option").attr("selected",false);
h.attr("selected","selected")
}})
}this.$select.selectmenu(this.config);
return this
};
this.events=function(){this.$select.unbind("selectmenuchange.inputtrigger").bindFirst("selectmenuchange.inputtrigger",{"$select":this},function(b){Forms.checkInputTrigger(b.data.$select)
});
return this
};
return this.__constructor__()
};
$.fn.Checkbox=function(a){this.config=$.extend({},{},a);
this.__constructor__=function(){this.$checkbox=$("input:checkbox",this).first();
this.$checkbox.checkboxradio(this.config);
return this
};
this.events=function(){return this
};
return this.__constructor__()
};
$.fn.FilterCheckboxLink=function(a){this.config=$.extend({},{},a);
this.check=function(){if(typeof(arguments[0])!="undefined"){if(arguments[0]){this.$icon.addClass("icon-checkmark-icon_f");
this.addClass("active")
}else{this.$icon.removeClass("icon-checkmark-icon_f");
this.removeClass("active")
}return this
}return this.hasClass("active")
};
this.__constructor__=function(){this.$icon=$("i",this).first();
return this
};
return this.__constructor__()
};
$.fn.FilterCheckbox=function(a){this.config=$.extend({},{},a);
this.toggle=function(){if(!this.hasClass("active")){this.active()
}else{this.inactive()
}};
this.active=function(){if(this.hasClass("active")&&this.isinit){return this
}if(this.hasClass("disable")){return this
}if(this.singlemode&&this.$form.$chks.$chk.filter(".active").length&&!this.hasClass("active")){this.$form.$chks.$chk.filter(".active").each(function(){var b=$(this).FilterCheckboxLink().check(false)
})
}this.FilterCheckboxLink().check(true);
if(this.$form.$chks.$all.length){if(this.isAll){this.$form.$chks.$chk.each(function(){var b=$(this).FilterCheckboxLink().check(false)
})
}else{this.$form.$chks.$all.FilterCheckboxLink().check(false)
}}return this
};
this.inactive=function(){if(!this.hasClass("active")&&this.isinit){return this
}this.FilterCheckboxLink().check(false);
if(this.$form.$chks.$all.length&&!this.$form.$chks.$chk.filter(".active").length){this.$form.$chks.$all.FilterCheckboxLink().check(true)
}return this
};
this.__constructor__=function(){this.$form=this.closest(".t-form");
this.singlemode=this.$form.data("filterchk")=="single";
this.$form.$chks=$(".filterchk",this.$form);
this.$form.$chks.$chk=this.$form.$chks.filter(":not(.filterchk--all)");
this.$form.$chks.$all=this.$form.$chks.filter(".filterchk--all");
this.isAll=this.is(".filterchk--all");
return this
};
this.init=function(){this.isinit=this.data("init");
if(!this.isinit){if(this.hasClass("active")){this.active()
}else{this.inactive()
}}this.data("init",true);
this.init=true;
return this
};
this.events=function(){this.unbind("click.inputtrigger").bindFirst("click.inputtrigger",{"$chk":this},function(b){b.data.$chk.toggle();
Forms.checkInputTrigger(b.data.$chk)
});
return this
};
return this.__constructor__()
};
$.fn.FormsLoaderEvents=function(){this.each(function(){var a=$(this);
if(!a.hasClass("t-form")){return
}$(".datepicker",a).each(function(){$(this).FormCalendar().events()
});
$(".datepicker--interval",a).each(function(){$(this).FormIntervalCalendar().events()
});
$(".selectmenu",a,a).each(function(){$(this).SelectMenu().events()
});
$(".checkbox",a).each(function(){$(this).Checkbox().events()
});
$(".filterchk",a).each(function(){$(this).FilterCheckbox().init().events()
})
});
return this
};
var Forms={init:function(){var a=$(".c-form-container form .datepicker");
if(a.length>=1){a.each(function(){$(this).FormCalendar().events();
$("#ui-datepicker-div").addClass("c-form-datepicker")
})
}},checkInputTrigger:function(b){var d=b.data("inputtrigger-target");
var c=b.data("inputtrigger-value");
if(typeof(d)!="undefined"){var a=b.closest(".t-form").find("[data-inputtrigger="+d+"]");
if(a.length){if(typeof(c)=="undefined"){c=""
}a.val(c)
}}},getDatePicker:function(a){try{return a.datepicker("getDate")
}catch(b){return null
}},getValidateDatePicker:function(c,b){var d=$.datepicker._determineDate(c,b,new Date());
var a=$.datepicker._restrictMinMax(c,d);
return a
},verifYearDatePicker:function(b,e){var c=new Date(b.selectedYear,b.selectedMonth,b.selectedDay);
c=c.addYears(e);
var a=Forms.getValidateDatePicker(b,c);
return(c.getTime()===a.getTime())
},timer:{},closeCalendar:function(a){clearInterval(this.timer.posdatepicker);
clearInterval(this.timer.opendatepicker);
var b=$(a.input).first();
b.css("margin-bottom","0");
b.removeClass("open").blur();
a.dpDiv.removeClass("positionned")
},loadCalendar:function(a){var c=$("#ui-datepicker-div").first().datepicker("widget");
var b=$(a.input).first();
c.css("visibility","hidden");
c.addClass("airbus-datepicker");
if(a.settings.displayyearontop){c.addClass("ui-datepicker--yearontop")
}if(!a.dpDiv.hasClass("positionned")){Forms.timer.posdatepicker=setTimeout(function(){b.css({"margin-bottom":c.outerHeight()});
setTimeout(function(){a.dpDiv.css({top:b.offset().top+42,left:b.offset().left+1,visibility:"visible"})
},1);
a.dpDiv.addClass("positionned")
},300)
}else{a.dpDiv.css({top:b.offset().top+42,left:b.offset().left+1,visibility:"visible"})
}Forms.timer.opendatepicker=setTimeout(function(){c.addClass("ui-datepicker--ec");
b.addClass("open");
c.css({"min-width":b.outerWidth()});
var e=$(".ui-datepicker-header",c);
var d=$("<div />",{"class":"ui-datepicker-header-year"}).FormCalendarHeader();
if(!b.val()){c.addClass("ui-datepicker--empty")
}else{c.removeClass("ui-datepicker--empty")
}e.addClass("ui-datepicker-header-month");
if(a.settings.displayyearontop){d.year(a.selectedYear);
if(Forms.verifYearDatePicker(a,-1)){d.$prev.unbind("click.datepicker").bind("click.datepicker",{"$widget":c,"$input":b,inst:a},function(f){$.datepicker._adjustDate(b,-1,"Y")
})
}else{d.$prev.addClass("ui-state-disabled")
}if(Forms.verifYearDatePicker(a,1)){d.$next.unbind("click.datepicker").bind("click.datepicker",{"$widget":c,"$input":b,inst:a},function(f){$.datepicker._adjustDate(b,+1,"Y")
})
}else{d.$next.addClass("ui-state-disabled")
}d.prependTo(c)
}c.removeClass("ui-datepicker--ec")
},1)
},events:{}};
$(function(){$.datepicker.regional.fr={altField:"#datepicker",closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd-mm-yy"}
});
$.fn.NavList=function(){this.$items=$("> li",this);
this.init=function(){return this
};
this.events=function(){return this
};
return this
};
$.fn.DropDownNav=function(){this.$items=$("> li",this);
this.$items.$withsubnav=this.$items.filter(".has-submeta");
this.init=function(){return this
};
this.events=function(){this.$items.unbind("mouseenter.dropdownnav").bind("mouseenter.dropdownnav",{},function(){if(!(DocumentManager.isPhone||DocumentManager.isTablet)){var b=$(this);
var a=$(" > .ddl",b);
if(a.length){a.css("display","block");
a.removeClass("out").addClass("over")
}}return true
});
this.$items.unbind("mouseleave.dropdownnav").bind("mouseleave.dropdownnav",{},function(){if(!(DocumentManager.isPhone||DocumentManager.isTablet)){var b=$(this);
var a=$(" > .ddl",b);
if(a.length){a.fadeOut(300,"swing");
a.removeClass("over").addClass("out")
}}return true
});
this.$items.find(".t-navlist .link-obf").bind("click",function(b){var a=$(this).data("link-obf");
var d=$(this).data("link-target");
if(b.ctrlKey||b.metaKey||d==="_blank"){var c=window.open(decodeURIComponent(window.atob(a)),"_blank");
c.focus()
}else{document.location.href=decodeURIComponent(window.atob(a))
}});
this.$items.$withsubnav.find("> .link-obf, > a").unbind("click.dropdownnav").bind("click.dropdownnav",{},function(){if(DocumentManager.isPhone||DocumentManager.isTablet){var b=$(this);
var e=b.closest("li");
var a=e.closest(".t-dropdownnav").DropDownNav();
var d=$("> .link-obf, > a",a.$items);
var c=$(" > .ddl",e);
a.trigger("raz");
if(c.length){d.css({visibility:"hidden"});
e.addClass("current");
c.fadeIn()
}return false
}return true
});
this.unbind("raz.dropdownnav").bind("raz.dropdownnav",{},function(c,d){var a=$(this).DropDownNav();
if(DocumentManager.isPhone||DocumentManager.isTablet){var b=a.$items.filter(".current");
b.find(" > .ddl").fadeOut(300,function(){b.removeClass("current");
a.$items.find("> .link-obf, > a").css({visibility:"visible"});
if(typeof(d)=="function"){d.apply(a,[b])
}});
return true
}return false
});
return this
};
return this
};
var NavList={init:function(){this.updateDom();
this.events()
},updateDom:function(){$(".t-navlist").each(function(){$(this).NavList().init()
});
$(".t-dropdownnav").each(function(){$(this).DropDownNav().init()
})
},events:function(){$(".t-navlist").each(function(){$(this).NavList().events()
});
$(".t-dropdownnav").each(function(){$(this).DropDownNav().events()
})
}};
$.fn.extend({Navigation:function(conf){var dataconf=this.data("nav-config");
this.config=$.extend({},((dataconf!=undefined)?dataconf:Navigation.defaultconfig),conf);
this.data("nav-config",this.config);
this.$back=$(".back",this);
this.$pagination=$(".t-navpagination",this);
this.$contents=$(".contents",this).first();
this.$contents.$items=$(".item",this.$contents);
this.reloadPagination=function(){var navs=this.getNavs();
var titles=[];
for(var i=0;
i<navs.length;
i++){if(!navs[i].hasClass("nav-level-1")){titles.push(navs[i].find("> a, > .link-obf").first().text())
}}var _config_=$.extend({},Navigation.defaultconfig.navp,this.config.navp);
this.$pagination.each(function(){var $navp=$(this).NavPagination(_config_);
$navp.updateItems(navs.length)
});
this.callback("reloadPagination",navs,titles);
return this
};
this.getNavs=function(tab,offset){if(tab==undefined){tab=this.currentTab()
}if(offset==undefined){offset=0
}var $__navtemp__=$__childstemp__=$("> .item",this.$contents);
var __navstemp__=[];
for(var i=offset;
i<tab.length;
i++){var index=tab[i]-1;
$__navtemp__=$__childstemp__.eq(index);
__navstemp__.push($__navtemp__);
if(i==0){$__childstemp__=$("> li",$__navtemp__)
}else{$__childstemp__=$("> ul > li",$__navtemp__)
}}return __navstemp__
};
this.getNavsItems=function(tab,offset){var __navtemp__=this.getNavs(tab,offset);
var __itemstemp__=[];
for(var i=1;
i<__navtemp__.length;
i++){__itemstemp__.push(__navtemp__[i].closest(".item").NavigationItem())
}return __itemstemp__
};
this.comeback=function(tab,newtab){var __tab__=this.currentTab();
var $__elem__=__comeback_temp__[__tab__.length-1];
if(!this.callback("comeback",tab,newtab,$__elem__)){return this
}if(!$__elem__){return this
}$__elem__.find(".current").removeClass("current");
return this
};
this.display=function(tab){if(typeof(tab)=="string"){eval("tab = "+tab+";")
}var oldtab=this.currentTab();
if(tab==undefined){tab=this.currentTab()
}this.currentTab(tab);
if(typeof(tab)!="object"){return this
}if(tab.length<oldtab.length){var __comeback_temp__=this.getNavsItems(oldtab);
var $__elem_comeback__=__comeback_temp__[tab.length-1];
if($__elem_comeback__){if(!this.callback("comeback",oldtab,tab,$__elem_comeback__)){return this
}}}var __navstemp__=this.getNavs(tab);
if(!this.callback("display-before",tab,oldtab,__navstemp__)){return this
}this.$contents.find(".current").removeClass("current").addClass("not-current");
this.$contents.find(".current-last").removeClass("current-last").addClass("not-current-last");
this.$contents.find(".item").removeClass("nav-current").removeClass("nav-level-current").removeClass("nav-level-parent");
var arbo=tab[tab.length-1]?tab[tab.length-1]:0;
var level=tab.length;
for(var i=0;
i<__navstemp__.length;
i++){var $nav=__navstemp__[i];
var $item=$nav.hasClass("item")?__navstemp__[i].NavigationItem():__navstemp__[i].find("> .item").NavigationItem();
$nav.removeClass("not-current").removeClass("not-current-last").addClass("current");
$item.addClass("nav-current");
if($item.level==level){$item.addClass("nav-level-current")
}else{if($item.level==level-1){$item.addClass("nav-level-parent")
}}}this.attr("data-nav-tab","["+tab.toString()+"]").attr("data-nav-arbo",arbo).attr("data-nav-level",level);
if(!this.callback("display",tab,oldtab,__navstemp__,arbo,level)){return this
}this.currentTab(tab);
this.reloadPagination();
return this
};
this.reload=function(){var tab=this.currentTab();
this.$contents.$items=$(".item",this.$contents);
if(!this.callback("reload",tab)){return this
}this.itemsevents();
return this
};
this.getStructure=function(){var struct=[];
var array=[];
var tab=this.currentTab();
for(var i=0;
i<tab.length;
i++){array.push(tab[i]);
struct.push(array.slice(0))
}return struct
};
this.back=function(){var struct=this.getStructure();
if(struct==undefined){return this
}var level=struct.length-1;
this.callback("back",struct[level]);
return this.updateLevel(struct.length-1)
};
this.updateLevel=function(level){var struct=this.getStructure();
var archi=struct[level-1];
this.display(archi).reload();
this.callback("updateLevel",level,struct,archi);
return this
};
this.callback=function(){if(typeof(this.config.callback)=="function"){return this.config.callback.apply(this,arguments)
}};
this.events=function(){this.unbind("updateLevel.nav").bind("updateLevel.nav",{},function(e,level){if(level==undefined){return false
}var $nav=$(this).Navigation();
$nav.updateLevel(parseInt(level));
return true
});
this.unbind("display.nav").bind("display.nav",{},function(e,tab){var $nav=$(this).Navigation();
$nav.display(tab);
return true
});
this.unbind("raz.nav").bind("raz.nav",{},function(e){var $nav=$(this).Navigation();
$nav.updateLevel(1);
return true
});
this.unbind("back.nav").bind("back.nav",{},function(e){var $nav=$(this).Navigation();
$nav.back();
return true
});
this.$back.unbind("click.nav").bind("click.nav",{},function(e){var $back=$(this);
if($back.isDisabled()){return false
}var $nav=$back.closest(".t-navigation");
$nav.trigger("back.nav");
return false
});
return this
};
this.itemsevents=function(){this.$contents.$items.filter(".nav-current").find("> li > a, > li > .link-obf").unbind("click.nav").bind("click.nav",{},function(e){var $link=$(this);
var $list=$link.next(".item");
var $nav=$link.closest(".t-navigation").Navigation();
if(!$list.length){return true
}var tab=$list.data("nav-tabulation");
$nav.display(tab).reload();
return false
});
this.$contents.$items.filter(".nav-level-current").find("> li > div[data-nav-eventclick]").unbind("click.nav").bind("click.nav",{},function(e){var $elem=$(this);
var arg=$elem.data("nav-eventclick");
var $nav=$elem.closest(".t-navigation").Navigation();
switch(arg){case"next":var $next=$elem.closest("li").find("> .item");
var tab=$next.data("nav-tabulation");
$nav.display(tab).reload();
break;
default:break
}return $nav.callback("eventclick",$elem,arg)
});
return this
};
this.currentTab=function(tab){if(tab!=undefined){this.data("nav-currenttab",tab)
}var tab=this.data("nav-currenttab");
if(tab==undefined){tab=[1]
}return tab
};
this.loaded=this.data("nav-loaded");
this.loaded=this.loaded!=undefined?this.loaded:false;
if(this.length&&this.loaded===false){this.$contents.find("> ul").NavigationItem().init();
this.$contents.$items=$(".item",this.$contents);
this.callback("preload");
this.display().reload().events();
this.data("nav-loaded",true).attr("data-nav-loaded",true);
this.loaded=true
}return this
},NavigationItem:function(){this.$parent=this.parent();
this.$subnav=$(" > li",this);
this.tab=this.data("nav-tabulation");
this.arbo=this.data("nav-arbo");
this.level=this.data("nav-level");
this.init=function(a){if(a==undefined){a=[1]
}var c=a[a.length-1]?a[a.length-1]:0;
var b={navtab:"nav-tab-"+a.toString().replaceAll(",","-"),navarbo:"nav-arbo-"+c,navlevel:"nav-level-"+a.length};
this.attr("data-nav-tabulation","["+a.toString()+"]").attr("data-nav-arbo",c).attr("data-nav-level",a.length).addClass(b.navtab).addClass(b.navarbo).addClass(b.navlevel);
this.$subnav.each(function(g){++g;
var f=$(this);
f.attr("data-nav-arbo",c).attr("data-nav-level",a.length);
var d=(a.toString()+","+(g)).split(",");
var e=$(this).find("> ul");
if(e.length){f.addClass("has-subnav");
e.NavigationItem().init(d)
}});
return this
};
this.addClass("item");
return this
}});
var Navigation={defaultconfig:{callback:function(a){return true
},navp:{offset:1,onItemClick:function(b,a){if(b.offset){return true
}a.updateLevel(b.level);
return true
},callback:function(){return
}}},init:function(){}};
$.fn.extend({NavPagination:function(b){var a=this.data("nav-config");
this.config=$.extend({},((a!=undefined)?a:NavigationPagination.defaultconfig),b);
this.data("nav-config",this.config);
this.$ul=$("> ul",this);
if(!this.$ul.length){this.$ul=$("<ul/>",{}).appendTo(this)
}this.$items=$("li",this.$ul);
this.removeItem=function(d){if(d==undefined){d=this.$items.length-1
}this.$items.filter(":not(.onRemove):not(.offset)").eq(d).NavPaginationItem(d).removeItem();
this.reload();
this.callback("items","remove",d);
return this
};
this.addItem=function(e){if(e==undefined){e=this.$items.length+1
}var d=$("<li/>",{}).NavPaginationItem(e);
d.appendItemTo(this.$ul);
this.reload();
this.callback("items","add",d,e);
return this
};
this.updateItems=function(g){var f=this.$items.filter(":not(.onRemove):not(.offset)");
var e=f.length;
this.callback("items","update",f,g,e);
if(g>e){for(var d=0;
d<g-e;
d++){this.addItem(g+d,d)
}}else{if(g<e){for(var d=0;
d<e-g;
d++){this.removeItem(g-d,d)
}}}};
this.reload=function(){this.$items=$("li",this.$ul);
var d=this.$items.filter(":not(.onRemove):not(.offset)");
d.each(function(e){$(this).NavPaginationItem(e+1)
});
d.unbind("click.navp").bind("click.navp",{},function(i){var g=$(this).NavPaginationItem();
var h=g.closest(".t-navpagination").NavPagination();
var f=(typeof(h.config.$nav)=="function")?h.config.$nav.apply(h,[]):null;
if(typeof(h.config.onItemClick)=="function"){if(h.config.onItemClick.apply(h,[g,f])){h.updateItems(g.level)
}}else{h.updateItems(g.level)
}h.callback("click",g,h,f);
return false
});
return this
};
this.events=function(){this.unbind("updateItems.navp").bind("updateItems.navp",{},function(h,g){if(g==undefined){return false
}var f=$(this).NavPagination();
f.updateItems(parseInt(g));
return true
});
this.unbind("removeItem.navp").bind("removeItem.navp",{},function(g){var f=$(this).NavPagination();
f.removeItem();
return true
});
this.unbind("addItem.navp").bind("addItem.navp",{},function(g){var f=$(this).NavPagination();
f.addItem();
return true
});
var d=this.$items.filter(".offset:not(.onRemove)");
d.unbind("click.navp").bind("click.navp",{},function(i){var g=$(this).NavPaginationItem();
var h=g.closest(".t-navpagination").NavPagination();
var f=(typeof(h.config.$nav)=="function")?h.config.$nav.apply(h,[]):null;
if(typeof(h.config.onItemClick)=="function"){h.config.onItemClick.apply(h,[g,f]);
h.callback("click-offset",g,h,f)
}return false
});
return this
};
this.callback=function(){if(typeof(this.config.callback)=="function"){return this.config.callback.apply(this,arguments)
}};
if(!this.data("nav-loaded")){for(var c=0;
c<this.config.offset;
c++){$("<li/>",{"class":"offset offset-"+c}).NavPaginationItem().prependItemTo(this.$ul)
}this.reload().events();
this.data("nav-loaded",true);
this.loaded=true
}return this
},NavPaginationItem:function(a){this.level=parseInt(a!=undefined?a:this.data("nav-level"));
this.data("nav-level",a).attr("data-nav-level",a);
this.offset=this.hasClass("offset");
this.removeItem=function(){this.addClass("onRemove").onAnimateEnd("removeItem"+this.level,function(){this.removeClass("onRemove").remove()
}).Animate("removePaginationItem")
};
this.prependItemTo=function(){this.prependTo(arguments)
};
this.appendItemTo=function(){this.addClass("onAppend").onAnimateEnd("addItem"+this.level,function(){this.removeClass("onAppend").reset()
}).Animate("addPaginationItem").appendTo(arguments)
};
return this
}});
var NavigationPagination={defaultconfig:{offset:0,"$nav":function(){return this.closest(".t-navigation").Navigation()
},onItemClick:function(a){return true
},callback:function(){return
}}};
$.fn.ICSbuilder=function(){this.build=function(h){var f=$(h.currentTarget),g=ics(),i,d,a,b,c;
if(f!==undefined&&f.length>0){i=f.data("title");
d=f.data("description");
if(d!==undefined&&d!==""){d=d.replace(/<[^>]*>/g,"")
}a=f.data("address");
if(a!==undefined&&a!==""){a=a.replace(/<[^>]*>/g,"").replaceAll("\n"," ")
}b=f.data("begin");
c=f.data("end");
g.addEvent(i,d,a,b,c);
g.download(i)
}};
this.__constructor__=function(){this.elm=this;
return this
};
this.events=function(){$(this.elm[0]).unbind("click").bind("click",{"$obj":this},ICSbuilder.events.download);
return this
};
return this.__constructor__()
};
var ICSbuilder={init:function(){$(".c-downloadlink-ics").each(function(){$(this).ICSbuilder().events()
})
},events:{download:function(a){a.preventDefault();
a.data.$obj.build(a);
return false
}}};
var Headerv2={posY:0,headerElement:$("header"),cookie:$(".c-cookies"),cookieClose:$(".c-cookies .c-cookies--close"),cookieAgree:$(".c-cookies .c-cookies--agree"),metanav:$(".c-header__firstnav"),mainnav:$(".c-header__secondnav"),mainnavitems:$(".c-header__secondnav .c-mainnavigation__lvlmenu1 > li"),subnav:$(".c-header__subnavcontainer"),subnavcontent:$(".c-header__subnavcontainer [data-subnav-content]"),menuburger:$(".c-header__menuburger"),searchBtn:$(".c-header__searchform"),closeBtn:$(".c-header__closemenu"),mobileBtn:$(".c-header__icons > a"),logoLabel:$(".c-header__secondnav .c-logo__label"),headerHeight:0,init:function(){Headerv2.edit=this.headerElement.hasClass("edit");
if(Headerv2.edit){return this
}this.events();
return this
},fixSubNav:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){this.subnav.css("top","");
var b=Headerv2.subnav.data("subnav-currentid");
var d=$(window).height();
var a=NavMenu.globals.mainNavigation.closest(".mainnavcontainer");
if(b==undefined){if(NavMenu.globals.mainNavigation.hasClass("active")){a.css("height",d-195)
}else{a.css("height","")
}}else{a.css("height","")
}}else{var e=this.subnav.data("subnav-currentid");
if(e==undefined){return this
}var c="";
if($.Sticky.currentid!=undefined){c=this.mainnav.getPosition().height
}else{c=this.mainnav.getPosition().height+$("body").padding("top")
}if(c!=null){this.subnav.css("top",c)
}}return this
},showSubNavContent:function(){var a=this.subnav.data("subnav-currentid");
if(a==arguments[0]){return this
}this.subnav.data("subnav-currentid",arguments[0]).attr("data-subnav-currentid",arguments[0]);
if(arguments[0]=="searchform"){Search.animate()
}DocumentManager.disableScroll();
DocumentManager.showLayer();
this.searchBtn.addClass("active");
this.mainnavitems.removeClass("active-subnav");
this.mainnavitems.find('[data-subnav-id="'+arguments[0]+'"]').closest("li").addClass("active-subnav");
this.closeBtn.fadeIn();
this.subnav.addClass("hovered").fadeIn();
this.subnavcontent.filter("[data-subnav-content].subnavcontent-active").hide().removeClass("subnavcontent-active");
this.subnavcontent.filter('[data-subnav-content="'+arguments[0]+'"]').fadeIn(400,function(){var b=Headerv2.subnav.data("subnav-currentid");
if(b=="searchform"){Search.limitedPlaceholder()
}}).addClass("subnavcontent-active");
NavMenu.animateUnderline();
Picture.verifCropImg();
this.fixSubNav();
return this
},hideSubNavContent:function(a){if(a==undefined){a=true
}this.subnav.data("subnav-currentid",null).removeAttr("data-subnav-currentid");
DocumentManager.enableScroll();
if(a){DocumentManager.hideLayer()
}this.searchBtn.removeClass("active");
this.mainnavitems.removeClass("active-subnav");
this.closeBtn.fadeOut();
this.subnav.removeClass("hovered").fadeOut(400);
this.subnavcontent.filter("[data-subnav-content]").hide().removeClass("subnavcontent-active");
NavMenu.animateUnderline();
return this
},hideAndShowLabel:function(a){var b=Headerv2.mainnavitems.first().offset().left;
var c=b<=a;
c?Headerv2.logoLabel.hide():Headerv2.logoLabel.show()
},events:function(){Headerv2.closeBtn.unbind("click.Header").bind("click.header",{},function(){Headerv2.hideSubNavContent();
return false
});
Headerv2.searchBtn.unbind("click.header").bind("click.header",{},function(){if(DocumentManager.isAndroidMobileBrowser||DocumentManager.isIosChrome){$("[data-subnav-content]:not(.subnavcontent-active)").hide()
}NavMenu.closeMobileMenu(false);
Search.toggleForm();
return false
});
Headerv2.menuburger.unbind("click.header").bind("click.header",{},function(){NavMenu.toggleMobileMenu();
return false
});
var a=Headerv2.logoLabel.width()+Headerv2.logoLabel.offset().left+10;
$(window).on("resize",function(){if(DocumentManager.isPhone||DocumentManager.isTablet){Headerv2.logoLabel.show()
}else{Headerv2.hideAndShowLabel(a)
}})
}};
var FooterNavigation={mainlink:$(".c-footernavigation__importantlink"),secondlink:$(".c-footernavigation__secondlinks"),init:function(){FooterNavigation.events()
},accordeon:function(a){var b=a.next();
if(b.is(":visible")){FooterNavigation.secondlink.slideUp()
}else{FooterNavigation.mainlink.find("i").removeClass("icon-single-up-arrow-icon_f").addClass("icon-single-down-arrow-icon_f");
FooterNavigation.secondlink.slideUp();
b.slideDown()
}a.find("i").toggleClass("icon-single-down-arrow-icon_f icon-single-up-arrow-icon_f")
},events:function(){FooterNavigation.mainlink.on("click",function(a){a.preventDefault();
FooterNavigation.accordeon($(this))
})
}};
var NavMenu={globals:{mainNavigation:$(".c-mainnavigation"),itemMenuLv1item:$(".c-mainnavigation__lvlmenu1>li>.link-obf, .c-mainnavigation__lvlmenu1>li>a"),itemMenuLv1hassubmenu:$(".c-mainnavigation__lvlmenu1>li>.link-obf.has-submenu, .c-mainnavigation__lvlmenu1>li>a.has-submenu"),mainnavigationvlmenu1:$(".c-mainnavigation__lvlmenu1"),menuUnderline:$(".c-header__underline"),metanavmobile:$(".c-mainnavigation__metanavmobile"),$stockPriceTeaserMobile:$(".c-stockpriceteaser--mobile"),helperVar:true,__window__Width:$(window).width(),msie:navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("Edge")>0},init:function(){if(Header.edit){return this
}this.updateDom();
this.events();
NavMenu.cloneStockPriceTeaser();
return this
},openDesktopMenu:function(a){Header.showSubNavContent(a);
NavMenu.animateUnderline();
return this
},closeDesktopMenu:function(){Header.hideSubNavContent();
NavMenu.animateUnderline();
return this
},closeMobileMenu:function(a){if(NavMenu.globals.helperVar){return this
}if(a==undefined){a=true
}NavMenu.globals.helperVar=true;
NavMenu.globals.mainNavigation.removeClass("active");
DocumentManager.enableScroll();
if(a){DocumentManager.hideLayer()
}Header.subnav.fadeOut(300);
NavMenu.globals.metanavmobile.trigger("raz").fadeOut(300);
NavMenu.globals.mainnavigationvlmenu1.fadeOut(300);
Header.menuburger.removeClass("active");
NavMenu.animateUnderline();
Header.fixSubNav();
$("body").removeClass("navigation-opened");
return this
},openMobileMenu:function(){if(!NavMenu.globals.helperVar){return this
}Header.hideSubNavContent(false);
NavMenu.cloneMetaNavigation();
NavMenu.globals.helperVar=false;
NavMenu.globals.mainNavigation.addClass("active");
DocumentManager.disableScroll();
DocumentManager.showLayer();
Header.subnav.fadeIn(300);
NavMenu.globals.metanavmobile.fadeIn(300,function(){Header.fixSubNav()
});
NavMenu.globals.mainnavigationvlmenu1.fadeIn(300,function(){Header.fixSubNav()
});
Header.menuburger.addClass("active");
NavMenu.animateUnderline();
Header.fixSubNav();
$("body").addClass("navigation-opened");
return this
},toggleMobileMenu:function(){if(NavMenu.globals.helperVar){NavMenu.openMobileMenu()
}else{NavMenu.closeMobileMenu()
}return this
},addscrolltomenu:function(a,b){if(DocumentManager.isPhone||DocumentManager.isTablet){var d=b?250:220;
var c=$(window).height();
a.height(c-d);
a.AirbusNavigationNiceScroll()
}},openMobileSubNav:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){var b=Header.subnav.data("subnav-currentid");
if(b==arguments[0]){return this
}Header.subnav.data("subnav-currentid",arguments[0]).attr("data-subnav-currentid",arguments[0]);
var a=Header.subnavcontent.filter("[data-subnav-content="+arguments[0]+"]");
NavMenu.globals.mainnavigationvlmenu1.fadeOut(400);
NavMenu.globals.metanavmobile.fadeOut(400);
NavMenu.globals.mainNavigation.removeClass("active");
a.find(".t-navigation").trigger("display",[[1]]);
a.fadeIn(400,function(){Header.fixSubNav()
}).addClass("subnavcontent-active");
Header.fixSubNav()
}return this
},closeMobileSubNav:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){var a=Header.subnav.data("subnav-currentid");
if(a==undefined){return this
}Header.subnav.data("subnav-currentid",null).removeAttr("data-subnav-currentid");
Header.subnavcontent.filter("[data-subnav-content]").fadeOut(400).removeClass("subnavcontent-active");
NavMenu.globals.mainnavigationvlmenu1.fadeIn(400,function(){Header.fixSubNav()
});
NavMenu.globals.metanavmobile.fadeIn(400);
Header.subnavcontent.find(".t-navigation").each(function(){$(this).trigger("display",[[1]])
});
NavMenu.globals.mainNavigation.addClass("active");
Header.fixSubNav()
}return this
},cloneMetaNavigation:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){if(!NavMenu.globals.metanavmobile.length){NavMenu.globals.metanavmobile=Header.metanav.find(".c-metanavigation").clone().DropDownNav().init().events();
NavMenu.globals.metanavmobile.addClass("c-mainnavigation__metanavmobile").hide();
NavMenu.globals.metanavmobile.$items.$withsubnav.find("> .link-obf, > a").unbind("click.mainnav").bindFirst("click.mainnav",{},function(){NavMenu.globals.mainnavigationvlmenu1.fadeOut(50);
return false
});
NavMenu.globals.metanavmobile.$items.$withsubnav.find(".back").unbind("click.mainnav").bindFirst("click.mainnav",{},function(){NavMenu.globals.metanavmobile.trigger("raz",[function(){NavMenu.globals.mainnavigationvlmenu1.fadeIn(50)
}]);
return false
});
NavMenu.globals.mainnavigationvlmenu1.after(NavMenu.globals.metanavmobile)
}}return this
},cloneStockPriceTeaser:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){if(!NavMenu.globals.$stockPriceTeaserMobile.length){NavMenu.globals.$stockPriceTeaserMobile=Header.metanav.find(".c-stockpriceteaser").clone();
NavMenu.globals.$stockPriceTeaserMobile.addClass("c-stockpriceteaser--mobile");
$(".mainnavigation").append(NavMenu.globals.$stockPriceTeaserMobile);
$(".c-stockpriceteaser").insertBefore(".c-header__secondnav");
$(".c-stockpriceteaser:eq(1)").hide()
}}return this
},activeAnimationMenu:function(a){var b=this.globals.mainnavigationvlmenu1.find("> li");
b.removeClass("hover");
a.closest("li").addClass("hover");
this.animateUnderline();
return this
},desactiveAnimationMenu:function(){var a=this.globals.mainnavigationvlmenu1.find("> li");
a.removeClass("hover");
NavMenu.animateUnderline();
return this
},animateUnderline:function(){if(DocumentManager.isPhone||DocumentManager.isTablet){var b=Header.mobileBtn.filter(".active").first();
if(b.length){var h=b.getPosition();
NavMenu.globals.menuUnderline.animate({width:b.outerWidth(),left:h.left},300)
}else{NavMenu.globals.menuUnderline.css({left:""}).animate({width:"40%"},300)
}}else{if(!NavMenu.globals.itemMenuLv1item.length){return this
}var b=NavMenu.globals.mainnavigationvlmenu1.find("> li.hover > .link-obf, > li.hover > a").first();
if(!b.length){b=NavMenu.globals.mainnavigationvlmenu1.find("> li.active-subnav > .link-obf, > li.active-subnav > a").first()
}if(!b.length){b=NavMenu.globals.mainnavigationvlmenu1.find("> li.active > .link-obf, > li.active > a").first()
}if(b.length){var c=Header.headerElement.margin("left");
var g=b.padding("left");
var a=b.padding("right");
NavMenu.globals.menuUnderline.stop(true,true);
NavMenu.globals.menuUnderline.css({right:"inherit"});
var f=b.offset().left+g-c,e=b.width()-g-a;
NavMenu.globals.menuUnderline.animate({left:f,width:e},300);
NavMenu.globals.menuUnderline.animate({bottom:"1px",right:"inherit"},200)
}else{var d=NavMenu.globals.mainnavigationvlmenu1.find("> li > .link-obf, > li > a").first();
var g=d.padding("left");
NavMenu.globals.menuUnderline.stop(true,true);
NavMenu.globals.menuUnderline.css({width:"inherit"});
NavMenu.globals.menuUnderline.animate({bottom:"-4px",left:NavMenu.globals.itemMenuLv1item.parent().first().offset().left+g,right:"10vw"},200)
}}return this
},updateDom:function(){var a=NavMenu.globals.mainnavigationvlmenu1.find("> li:not(.search)");
a.addClass("item");
a.first().addClass("first");
a.last().addClass("last");
NavMenu.animateUnderline();
if(DocumentManager.isPhone||DocumentManager.isTablet){NavMenu.globals.metanavmobile.hide()
}return this
},events:function(){NavMenu.globals.itemMenuLv1item.unbind("mouseenter.mainnavunderline, mouseleave.mainnavunderline").bindDebounce("mouseenter.mainnavunderline, mouseleave.mainnavunderline",{},function(b){if(b.type=="mouseout"){NavMenu.desactiveAnimationMenu();
return true
}var a=$(this);
NavMenu.activeAnimationMenu(a);
return true
},150);
NavMenu.globals.itemMenuLv1item.unbind("mouseenter.mainnav, mouseleave.mainnav").bindDebounce("mouseenter.mainnav, mouseleave.mainnav",{},function(b){if(DocumentManager.isPhone||DocumentManager.isTablet){return true
}if(b.type=="mouseout"){NavMenu.desactiveAnimationMenu();
return true
}var a=$(this);
NavMenu.activeAnimationMenu(a);
if(a.hasClass("has-submenu")){NavMenu.openDesktopMenu($(this).data("subnav-id"))
}return true
},500);
NavMenu.globals.itemMenuLv1item.unbind("click.mainnav").bind("click.mainnav",{},function(b){var a=$(this);
if(a.hasClass("has-submenu")){if(DocumentManager.isPhone||DocumentManager.isTablet){NavMenu.openMobileSubNav($(this).data("subnav-id"))
}return false
}return true
});
$(window).unbind("resize.mainnav").bindDebounce("resize.mainnav",function(){if(!DocumentManager.isAndroidMobileBrowser&&!DocumentManager.isIosChrome){Header.hideSubNavContent();
NavMenu.closeMobileSubNav();
NavMenu.closeMobileMenu()
}if(!(DocumentManager.isPhone||DocumentManager.isTablet)&&!NavMenu.globals.mainnavigationvlmenu1.is(":visible")){NavMenu.globals.mainnavigationvlmenu1.fadeIn();
Header.subnav.fadeIn()
}NavMenu.animateUnderline();
Header.fixSubNav()
},200);
return this
}};
$.fn.SearchForm=function(){this.$title=$(".c-search__form--title",this);
this.$form=$(".c-search__form--form",this);
this.$form.$inputtext=$(".c-search__form--form--text input",this.$form);
this.$form.$btnreset=$('.c-search__form--form--button button[type="reset"]',this.$form);
this.$form.$btnsubmit=$('.c-search__form--form--button button[type="submit"]',this.$form);
this.$searchresultform=$(".c-searchresult__form",this);
this.$searchresultform.$inputtext=$(".c-search__form--form--text input",this.$searchresult);
this.$searchresultform.$btnreset=$('.c-search__form--form--button button[type="reset"]',this.$searchresult);
this.$searchresultform.$btnsubmit=$('.c-search__form--form--button button[type="submit"]',this.$searchresult);
this.animateform=function(){this.Animate("SearchFormEntrance").onTransitionEnd("searchform",function(){this.reset()
})
};
this.limitedPlaceholder=function(){this.$form.$inputtext.LimitedPlaceholder({reload:true})
};
this.events=function(){this.$form.$inputtext.unbind("keyup.searchform, keypress.searchform").bind("keyup.searchform, change.searchform",{"$bloc":this},function(a){if($(this).val()==""){a.data.$bloc.trigger("resetform");
return true
}a.data.$bloc.trigger("updatedform");
return true
});
this.$form.$btnreset.unbind("click.searchform").bind("click.searchform",{"$bloc":this},function(a){a.data.$bloc.trigger("resetform");
return true
});
this.$form.$btnsubmit.unbind("click.searchform").bind("click.searchform",{"$bloc":this},function(a){a.data.$bloc.trigger("resetform");
return true
});
this.$searchresultform.$inputtext.unbind("keyup.searchform, keypress.searchform").bind("keyup.searchform, change.searchform",{"$bloc":this},function(a){if($(this).val()==""){a.data.$bloc.trigger("resetform");
return true
}a.data.$bloc.trigger("updatedform");
return true
});
this.unbind("updatedform.searchform").bind("updatedform.searchform",{"$bloc":this},function(a){a.data.$bloc.$form.addClass("updated")
});
this.unbind("resetform.searchform").bind("resetform.searchform",{"$bloc":this},function(a){a.data.$bloc.$form.removeClass("updated")
});
this.unbind("showform.searchform").bind("showform.searchform",{"$bloc":this},function(a){Header.showSubNavContent("searchform")
});
this.unbind("hideform.searchform").bind("hideform.searchform",{"$bloc":this},function(a){Header.hideSubNavContent()
});
this.unbind("toggleform.searchform").bind("toggleform.searchform",{"$bloc":this},function(a){if(a.data.$bloc.is(":visible")){a.data.$bloc.trigger("hideform")
}else{a.data.$bloc.trigger("showform")
}})
};
return this
};
var Search={init:function(){this.$searchForm=$(".c-search__form").first().SearchForm();
this.events()
},animate:function(){this.$searchForm.animateform()
},limitedPlaceholder:function(){this.$searchForm.limitedPlaceholder()
},events:function(){this.$searchForm.events()
},toggleForm:function(){this.$searchForm.trigger("toggleform")
},showForm:function(){this.$searchForm.trigger("showform")
},hideForm:function(){this.$searchForm.trigger("hideform")
}};
$.fn.MediaListComponent=function(){this.$tablist=$(".t-tablist",this);
this.$slider=$(".slick-slider",this);
this.$seeall=$(".c-medialist__seealllink",this);
this.$seeall.$type=$(".typeName",this.$seeall);
this.$downloadlink=$(".c-medialist__downloadlink",this);
this.getSlickContainer=function(){return this.$slider.slickContainer()
};
this.getTabListItemActive=function(){return $(".item.active",this.$tablist).first().slickExternalElem({})
};
this.getFilterKey=function(){const a=this.getTabListItemActive();
if(a.length){return a.key
}return $(".sliderslick [data-filterkey]",this).first().data("filterkey")
};
this.getFilterText=function(){const a=this.getTabListItemActive();
if(a.length){return a.text
}return $(".sliderslick [data-filtertext]",this).first().data("filtertext")
};
this.isConfigVideo=function(){return MediaList.keysvideo.includes(this.getFilterKey())
};
this.isDark=function(){return this.hasClass("c-medialist--background__dark")
};
this.scrollTop=function(){let __top__=this.offset().top;
const a=$("html").getPosition();
if(a.scrollTop>__top__){__top__-=120
}else{__top__-=10
}setTimeout(function(){$("body,html").animate({scrollTop:__top__},400)
},50)
};
this.display=function(a){if(a){this.addClass("c-medialist--success")
}else{this.removeClass("c-medialist--success")
}return this
};
this.initMedias=function(){const a=$(".c-media",this);
a.each(function(){const b=$(this).MediaContent();
setTimeout(function(){b.blocs.$chapo.$txt.TruncateParagraphe({lines:3})
},50)
})
};
this.initDownloadMedias=function(){const a=$(".c-media",this);
a.each(function(){const b=$(this).MediaContent();
if(b.closest(".slick-cloned").length){b.events()
}b.links.$download.unbind("click.medialist").bind("click.medialist",{$media:b},MediaList.events.openAllTargetDownloadMedia);
b.blocs.$download.$close.unbind("click.medialist").bind("click.medialist",{$media:b},MediaList.events.closeAllTargetDownloadMedia)
})
};
this.setConfig=function(){const a=this.getSlickContainer();
if(typeof a.options.filtertype=="undefined"){return
}if(MediaList.keysvideo.includes(a.filters.current.key)){if(a.options.filtertype!=a.options.config_video.filtertype){if(DocumentManager.isDesktop){a.setConfig(a.options.config_video).refresh()
}}}else{if(a.options.filtertype!=a.options.config_default.filtertype){if(DocumentManager.isDesktop){a.setConfig(a.options.config_default).refresh()
}}}return this
};
this.filtermedias=function(){const a=this.getSlickContainer();
const b=this.getFilterKey();
if(typeof b!="undefined"&&b){if(a.filters.current.key!=b){a.filterkey(b);
this.setConfig()
}}else{a.removefilter()
}return this
};
this.updateButtons=function(){const b=this.getFilterKey();
const e=this.getFilterText();
if(this.$seeall.length&&this.$seeall.$type.length){if(b&&e){const a=$("a",this.$seeall);
const c=a.attr("data-filterkey");
const d=a.attr("href").replace("."+c+".","."+b+".");
a.attr("data-filterkey",b).attr("data-filtertext",e).attr("href",d);
this.$seeall.$type.text(e)
}}if(this.$downloadlink.length){if(b&&e){$("a",this.$downloadlink).attr("data-filterkey",b).attr("data-filtertext",e)
}}return this
};
this.analytics=function(){Analytics.addClickComponentEvent($("li.item",this.$tablist),{nameevent:"ClickFilter",label1event:function(){return this.data("filtertext")
}});
Analytics.addClickComponentEvent($("a",this.$seeall),{nameevent:"RedirectSearch",label1event:function(){return this.data("filtertext")
},label2event:"See all"});
Analytics.addDownloadEvent($("a",this.$downloadlink),{nameevent:"Zip",label1event:function(){return this.data("filtertext")
},label2event:"Download all",format:"zip"});
return this
};
this.events=function(){$("a",this.$downloadlink).unbind("mouseout.medialist").bind("mouseout.medialist",function(){$(this).blur()
});
$("a",this.$downloadlink).unbind("click.medialist").bindFirst("click.medialist",function(){$(this).blur();
return true
});
return this
};
return this
};
var MediaList={config:{tablist:{dropdownlist:true,barre:true,barreposition:"top",underline:true,underlineposition:"top",invertcolor:false,textposition:"right",preload:function(){const a=$(this).closest(".c-medialist").MediaListComponent();
if(a.isDark()){this.config.invertcolor=true
}else{this.config.invertcolor=false
}},callback:function(){const a=$(this).closest(".c-medialist").MediaListComponent();
a.filtermedias().updateButtons().scrollTop();
return false
}},slider:{dots:false,pager:true,pagerposition:"right",buttons:true,buttonsposition:"right",buttonsoverlay:false,filter:true,infinite:true,invertcolor:false,slidesToShow:4,slidesToScroll:3,responsivedesktop:{pagerposition:"right",buttons:true,slidesToShow:3,slidesToScroll:2},responsivetablet:{pagerposition:"right",buttons:true,slidesToShow:3,slidesToScroll:2},responsivephone:{pagerposition:"center",buttons:false,slidesToShow:1,slidesToScroll:1},preload:function(){const a=$(this).closest(".c-medialist").MediaListComponent();
if(a.isDark()){this.config.invertcolor=true
}else{this.config.invertcolor=false
}if(a.isConfigVideo()){this.config=$.extend({},this.config,this.config.config_video)
}else{this.config=$.extend({},this.config,this.config.config_default)
}a.events().analytics()
},callback:function(){const a=$(this).closest(".c-medialist").MediaListComponent();
if(arguments[0]=="init"){a.filtermedias().display(true);
a.$tablist.trigger("reload");
$(window).unbind("resize.medialist").bind("resize",{$medialist:a},function(b){b.data.$medialist.initMedias()
})
}if(arguments[0]=="reInit"){a.initDownloadMedias()
}if(arguments[0]=="afterChange"){a.initMedias()
}},config_default:{filtertype:"default",slidesToShow:4},config_video:{filtertype:"video",slidesToShow:3}}},keysvideo:["video","footage"],init:function(){},events:{openAllTargetDownloadMedia:function(c){const b=c.data.$media.closest(".slick-slide");
const a=b.closest(".sliderslick__container").slickContainer();
a.getCopySlides(b).find(".c-media").trigger("download-show")
},closeAllTargetDownloadMedia:function(c){const b=c.data.$media.closest(".slick-slide");
const a=b.closest(".sliderslick__container").slickContainer();
a.getCopySlides(b).find(".c-media").trigger("download-hide")
}}};
$.fn.QuickLinkTeaserComponent=function(){this.$parbase=this.closest(".quicklinkteaser.parbase");
this.$links=$(".c-quicklinkteaser__links",this);
this.$links.$li=$("li",this.$links);
this.cols2=this.$parbase.hasClass("col-sm-8")&&!DocumentManager.isPhone;
this.fixHeightLinks=function(){if(!this.cols2){return this
}this.$links.$li.nApply(this,function(){this.removeClass("first").removeClass("last");
this.first().addClass("first");
this.last().addClass("last");
this.FixeHeight()
},[]);
return this
};
this.matchHeightComponent=function(){var a=this.$parbase.siblings(".baseteaser");
if(a.length>0){var b=a.hasClass("no-margin-bottom");
if(b){this.$parbase.closest(".row").addClass("row--match-height-no-margin")
}else{this.$parbase.closest(".row").addClass("row--match-height")
}}return this
};
return this
};
var QuickLinkTeaser={init:function(){$(".c-quicklinkteaser").each(function(){$(this).QuickLinkTeaserComponent().fixHeightLinks();
$(this).QuickLinkTeaserComponent().matchHeightComponent()
})
}};
$(function(){var a=$(".c-articlelist").find("h3");
a.TruncateParagraphe({lines:3});
a.css({"line-height":"120%"})
});
$.fn.FancyBoxLink=function(){this.updategroupeid=function(a){this.data("fancybox",a).attr("data-fancybox",a);
return this
};
this.updateid=function(a){this.$fancybox.attr("id",a);
this.attr("href","#"+a);
return this
};
this.loaddatas=function(){this.groupid=this.attr("data-fancybox");
this.href=this.attr("href");
this.id=this.href.replaceAll("#","");
this.$media=this.closest(".c-media");
this.$fancybox=$("#"+this.id,this.$media);
return this
};
this.__constructor__=function(){this.loaddatas();
return this
};
return this.__constructor__()
};
$.fn.FancyBoxContent=function(){this.$body=$(".c-lightbox__body",this);
this.$rightblock=$(".c-lightbox__rightblock",this);
this.$rightblock.button={"$phone":$(".fancybox-controls-button-phone",this.$rightblock),"$desktop":$(".fancybox-controls-button-desktop",this.$rightblock)};
this.$rightblock.pagination={"$curent":$(".c-lightbox__rightblock__pagination--curent",this.$rightblock),"$length":$(".c-lightbox__rightblock__pagination--length",this.$rightblock)};
this.$rightblock.$scrollwrapper=$(".scroll-wrapper",this.$rightblock);
this.$viewer=$(".s7videoviewer",this);
this.$download=$(".c-lightbox__download",this);
this.$download.$items=$("ul li",this.$download);
this.id=this.$body.data("id");
this.index=this.$body.data("index");
this.typemedia=this.$body.data("typemedia");
this.initCssClass=function(){if(!this.hasClass("c-lightbox")){this.addClass("c-lightbox").addClass("c-lightbox--"+this.typemedia).addClass(this.typemedia)
}if(this.$download.length&&this.$download.$items.length>4){this.$download.$items.addClass("morthanfour")
}else{this.$download.$items.removeClass("morthanfour")
}if(!this.$download.$items.length){this.addClass("nodownload")
}else{this.removeClass("nodownload")
}return this
};
this.showNiceScroll=function(){this.$rightblock.$scrollwrapper.show().getNiceScroll().resize();
return this
};
this.hideNiceScroll=function(){this.$rightblock.$scrollwrapper.hide().getNiceScroll().resize();
return this
};
this.initMediaContent=function(){var b=$('[data-fancyboxasync-id="'+this.id+'"]').MediaContent();
var a=$("#"+this.id+"");
if(b.length&&!a.length&&!b.blocs.$lightbox.length){b.links.$fancybox.removeData("type").removeAttr("data-type").removeData("src").removeAttr("data-src");
var c=this.clone().hide().attr("id",this.id);
c.appendTo(b)
}return this
};
this.initPagination=function(b,a){if(a>1){if(DocumentManager.isPhone){this.$rightblock.button.$phone.addClass("show");
this.$rightblock.button.$desktop.removeClass("show");
this.$rightblock.pagination.$curent.html(b);
this.$rightblock.pagination.$length.html(a)
}else{this.$rightblock.button.$phone.removeClass("show");
this.$rightblock.button.$desktop.addClass("show")
}}else{if(DocumentManager.isPhone){this.$rightblock.button.$phone.removeClass("show")
}else{this.$rightblock.button.$desktop.removeClass("show")
}}return this
};
this.initS7Video=function(){if(this.$viewer.length){S7Video.verifIds(this.$viewer,"_lightbox_");
this.$viewer.S7VideoContainer().loadVideo()
}return this
};
this.disposeS7Video=function(){if(this.$viewer.length){this.$viewer.S7VideoContainer().unbindEvents().dispose()
}return this
};
this.initDownloadImage=function(){if(!this.$viewer.length){this.$download.$items.find("a").each(function(){var a=$(this);
a.GetPropsForDownloadImage($(".c-lightbox__download--size",a),$(".c-lightbox__download--dimension",a))
})
}return this
};
this.display=function(a){if(a==undefined){a=true
}if(a){this.css({display:"inline-block"})
}else{this.css({display:"none"})
}return this
};
return this
};
var Lightbox={init:function(){$("[data-fancybox].fancybox-simple").each(function(a){var b=$(this).FancyBoxLink();
if(b.data("loadids")){return
}b.updategroupeid(b.groupid+"_"+a).updateid(b.id+"_"+a).data("loadids",true)
});
$(".c-medialist").each(function(a){$("[data-fancybox]",$(this)).each(function(b){var c=$(this).FancyBoxLink();
if(c.data("loadids")){return
}c.updategroupeid(c.groupid+"_ml_"+a).updateid(c.id+"_ml_"+a+"_"+b).data("loadids",true)
})
});
Lightbox.globals={filterItem:$(".c-medialist-download__disable__filter li a")};
Lightbox.updatedom();
Lightbox.events()
},updateTwitterTag:function(a){var d=a.parents(".c-lightbox").find(".c-lightbox__rightblock--title").text(),b=a.parents(".c-lightbox").find(".c-lightbox__rightblock--description").text(),c=a.parents(".c-lightbox").find(".c-lightbox .c-picture img").attr("src");
$('meta[name="twitter:title"]').attr("content",d);
$('meta[name="twitter:description"]').attr("content",b);
$('meta[name="twitter:image"]').attr("content",c)
},initFancybox:function(){$(document).find('.slick-slide:not(".slick-cloned") [data-fancybox], [data-fancybox].fancybox-simple, .c-resultlist__assetlist [data-fancybox]').fancybox({beforeMove:function(){},afterMove:function(){},afterLoad:function(a,d){var c=$(".fancybox-container");
if(c.length>1&&c[1]!==null){$(c[1]).css("display","none")
}var b=this.$content.FancyBoxContent();
b.initCssClass().initPagination(d.index+1,a.group.length);
b.display(true).showNiceScroll()
},onComplete:function(){var a=this.$content.FancyBoxContent();
a.find(".scroll-wrapper").LightboxNiceScroll();
a.display(true).initS7Video().initDownloadImage().initMediaContent().showNiceScroll()
},beforeClose:function(){var a=this.$content.FancyBoxContent();
a.disposeS7Video()
},afterClose:function(){var a=this.$content.FancyBoxContent();
a.display(false).hideNiceScroll()
}});
return
},updatedom:function(){this.initFancybox()
},events:function(){Lightbox.globals.filterItem.unbind("click.lightbox").bind("click.lightbox",function(){Lightbox.initFancybox()
});
$(".c-lightbox .tweet").on("click",function(){Lightbox.updateTwitterTag($(this))
});
$(".c-lightbox__rightblock--toggleread").unbind("click.c-lightbox__rightblock--toggleread").bind("click.c-lightbox__rightblock--toggleread",function(c){c.preventDefault();
var b=$(this);
var a=b.siblings(".c-lightbox__rightblock--description");
var d=b.find(".toggleReadMore");
a.toggleClass("show-more-height");
d.text(d.text()==d.data("readless")?d.data("readmore"):d.data("readless"));
d.next().toggleClass("rotateElement")
});
if(!DocumentManager.isPhone){$(".c-lightbox__rightblock--content .scroll-wrapper").LightboxNiceScroll()
}},ajax:{loadContent:function(){console.log("Lightbox.ajax.loadContent",this.$media,arguments)
},loadByMedia:function(b,a){if(a.fancybox.iscalled==true){return this
}$.ajax({url:Media.ajax.getUrl(a.fancybox),method:"get",async:true,data:{},context:{"$lightbox":b,"$media":a},beforeSend:function(){},complete:function(){},success:Media.loadContentLightbox})
}}};
$.fn.StockPriceTeaser=function(a){this.config=$.extend({},{},a);
this.loadContent=function(){if(typeof(arguments[0])=="undefined"){return this
}var b=arguments[0];
if(typeof(b.Error)!="undefined"){if(console){console.error("Error : ",b.Error)
}return this.hide()
}if(typeof(b.price)=="undefined"||typeof(b.percentage)=="undefined"){if(console){console.error("Price or percentage is undefined",b.Error)
}return this.hide()
}b.ipercentage=parseFloat(b.percentage.replace(",","."));
this.$price.text(b.price);
this.$percent.text(b.percentage);
if(b.ipercentage>0){this.$arrow.removeClass("arrow-down").addClass("arrow-up");
this.$percent.text("+"+b.percentage)
}else{this.$arrow.removeClass("arrow-up").addClass("arrow-down")
}this.addClass(StockPrice.config.cssclass.visible);
return this
};
this.__constructor__=function(){this.$title=$(".c-stockpriceteaser__title",this);
this.$label=$(".c-stockpriceteaser__label",this);
this.$price=$(".c-stockpriceteaser__price",this);
this.$percent=$(".c-stockpriceteaser__percent",this);
this.$secondlabel=$(".c-stockpriceteaser__secondlabel",this);
this.$arrow=$(".arrow",this);
this.$link=$(".c-stockpriceteaser__link",this);
return this
};
return this.__constructor__()
};
var StockPrice={config:{ajax:{path:"/value.stockprice.json?dt="},reload:false,timer:60000,cssclass:{visible:"c-stockpriceteaser--show"}},init:function(){StockPrice.blocs=[];
$(".c-stockpriceteaser").each(function(){StockPrice.blocs.push($(this).StockPriceTeaser())
});
StockPrice.ajax.load();
if(StockPrice.config.reload&&StockPrice.config.timer>1000){StockPrice.$timer=setInterval(StockPrice.ajax.load,StockPrice.config.timer)
}},getUrl:function(){var a=new Date();
return StockPrice.config.ajax.path+ +Math.round(a.getTime()/180000)
},ajax:{load:function(){if(!StockPrice.blocs.length){return
}$.ajax({url:StockPrice.getUrl(),dataType:"json",async:true,data:{},context:this,beforeSend:function(){},complete:function(){},success:function(a){$.each(StockPrice.blocs,function(){this.loadContent(a)
})
},error:function(a,c,b){if(console){console.log("StockPrice.ajax.load.error",b)
}$.each(StockPrice.blocs,function(){this.hide()
})
}});
return false
}}};
$.fn.TextImageTeaser=function(){this.__constructor__=function(){this.$title=$(".c-textimageteaser__title",this);
this.$items=$(".c-textimageteaser__items",this);
this.$items.$blocsimg=$(".c-textimageteaser__wrapper-img",this.$items);
this.$items.$blocstxt=$(".c-textimageteaser__text",this.$items);
return this
};
return this.__constructor__()
};
var TextImage={init:function(){$(".c-textimageteaser").each(function(){$(this).TextImageTeaser()
});
if(!DocumentManager.isPhone){TextImage.fixHeight();
$(window).resize(function(){TextImage.fixHeight()
})
}},fixHeight:function(){$(".c-textimageteaser").each(function(){var a=$(this).TextImageTeaser();
a.$items.$blocstxt.FixeHeight({minheight:40,closeauto:function(){return(DocumentManager.isPhone)
}})
})
}};
var BackToTop={selecteurs:{backToTop:$(".c-backtotop")},init:function(){this.events();
this.updateDom()
},updateDom:function(){$(window).resize()
},events:function(){const a=this;
$(window).on("resize",function(){const d=$("body").outerHeight();
const b=$("footer").outerHeight();
const c=$(window).outerHeight();
if(d-b>c){a.selecteurs.backToTop.show()
}else{a.selecteurs.backToTop.hide();
$(this).on("scroll",function(){const e=$(window).scrollTop();
if(e>100){a.selecteurs.backToTop.slideDown()
}else{a.selecteurs.backToTop.slideUp()
}})
}});
a.selecteurs.backToTop.children("a").on("click",function(b){b.preventDefault();
$("html,body").animate({scrollTop:0},500)
})
}};
$.fn.Table=function(a){this.config=$.extend({},{},a);
this.__constructor__=function(){this.$containerslider=this.closest(".c-tablecontainer");
if(!this.$containerslider.length){this.AirbusTableNiceScroll();
$(".nicescroll-rails").addClass("table-track-style");
var b=this.getNiceScroll();
if($(b)[0]){$(b)[0].rail.addClass("table-scroller-bar")
}}return this
};
return this.__constructor__()
};
var Table={tableSelector:$(".c-table"),updateDom:function(){this.tableSelector.each(function(){$(this).Table({})
})
},init:function(){this.updateDom();
TableSlider.init()
}};
$.fn.TableSlider=function(a){this.config=$.extend({},{},a);
this.__constructor__=function(){this.edit=this.data("edit");
return this
};
return this.__constructor__()
};
var TableSlider={__slider__:[],config:{tablist:{dropdownlist:false,barre:true,barreposition:"top",underline:true,underlineposition:"top",textposition:"right"},slider:{dots:false,pager:false,buttons:true,buttonsposition:"center",buttonsoverlay:false,infinite:false,centerMode:true,initialSlide:0,slidesToShow:3,slidesToScroll:3,callback:function(b,a){}}},init:function(){TableSlider.__slider__=[];
TableSlider.load.apply($(".c-tablecontainer"),[])
},load:function(a){this.each(function(){TableSlider.__slider__.push($(this).TableSlider(a))
})
}};
$.fn.SearchFormNewsroom=function(){this.getKeyword=function(){return this.$blocform.$form.$text.val()
};
this.getUrlForm=function(){return this.$blocform.$form.attr("action")+this.$blocform.$form.serialize()
};
this.__constructor__=function(){this.$blocform=$(".c-searchresult__form",this).first();
this.$blocform.$form=$("form",this.$blocform).first();
this.$blocform.$form.$text=$('input[type="text"]',this.$blocform.$form);
this.$blocform.$form.$text.LimitedPlaceholder().limitCaracs();
return this
};
this.analytics=function(){Analytics.addClickComponentEvent(this.$blocform.$form,{nameevent:"SearchByKeyword",label1event:function(){return this.closest(".c-searchformnewsroom").SearchFormNewsroom().getKeyword()
},label2event:function(){return this.closest(".c-searchformnewsroom").SearchFormNewsroom().getUrlForm()
}});
return this
};
this.events=function(){return this
};
return this.__constructor__()
};
var SearchFormNewsroom={init:function(){$(".c-searchformnewsroom").each(function(){$(this).SearchFormNewsroom().events().analytics()
})
},events:{submit:function(a){return true
}},config:{tablist:{dropdownlist:false,barre:false,more:true,barreposition:"top",underline:false,underlineposition:"top",invertcolor:false,textposition:"right",returnClick:true,preload:function(){}}}};
var Cookies={cookie:$(".c-cookies"),cookieAgree:$(".c-cookies .c-cookies--agree"),cookieClose:$(".c-cookies .c-cookies--close"),breadcrumb:$(".c-breadcrumb"),dtExpire:new Date(),init:function(){this.onedit=this.cookie.hasClass("c-cookies--onedit");
this.initCookie()
},initCookie:function(a){if(this.onedit){return
}var b=this;
this.dtExpire.setTime(this.dtExpire.getTime()+3600*4320000);
this.cookieAgree.on("click",function(c){c.preventDefault();
b.setExp()
});
this.cookieClose.on("click",function(c){b.cookie.remove();
$("body").removeClass("enableCookie");
b.breadcrumb.removeClass("blockCookie")
});
if(this.getCookie("allow_cookie")=="1"){this.cookie.remove();
$("body").removeClass("enableCookie")
}else{this.cookie.css({display:"block"})
}if($("header .c-cookies").length){$("body").addClass("enableCookie");
b.breadcrumb.addClass("blockCookie")
}else{$("body").removeClass("enableCookie")
}},getCookie:function(b){if(document.cookie.length==0){return null
}var a=new RegExp("(; )","g");
var d=document.cookie.split(a);
for(var c=0;
c<d.length;
c++){var f=new RegExp("=","g");
var e=d[c].split(f);
if(e[0]==b){return unescape(e[1])
}}return null
},setCookie:function(c,a,b,f,d,e){document.cookie=c+" = "+escape(a)+"  "+((b==undefined)?"":("; expires = "+b.toGMTString()))+((f==undefined)?"":("; path = "+f))+((d==undefined)?"":("; domain = "+d))+((e==true)?"; secure":"")
},setExp:function(){this.cookie.remove();
this.setCookie("allow_cookie","1",this.dtExpire,"/");
$("body").removeClass("enableCookie")
}};
$.fn.ComponentSlider=function(){this.__constructor__=function(){this.$slider=$(".sliderslick",this);
this.edit=this.data("edit");
this.removeAttr("data-edit");
if(this.edit){this.addClass("c-componentslider--loaded")
}return this
};
return this.__constructor__()
};
var ComponentSlider={config:{slider:{dots:true,dotsoverlay:true,dotsitemswidth:"calc",pager:false,pagerposition:"right",buttons:true,buttonsposition:"right",buttonsoverlay:true,infinite:true,invertcolor:false,autoplay:true,autoplaywithdots:true,autoplaySpeed:5000,containsVideo:true,responsivedesktop:{},responsivetablet:{arrows:false},responsivephone:{arrows:false,dots:false,pager:true},preload:function(){var a=$(this).closest(".c-componentslider");
this.config.buttonsposition=a.data("slider-buttonsposition");
this.config.buttonsoverlay=this.config.dotsoverlay=a.data("slider-buttonsoverlay");
this.config.dots=a.data("slider-dots");
this.config.autoplaySpeed=parseInt(a.data("slider-autoplayspeed")*1000)
},callback:function(){var a=$(this).closest(".c-componentslider");
if(arguments[0]=="init"){a.addClass("c-componentslider--loaded")
}}}},__slider__:[],init:function(){ComponentSlider.__slider__=[];
ComponentSlider.load.apply($(".c-componentslider"),[])
},load:function(a){this.each(function(){ComponentSlider.__slider__.push($(this).ComponentSlider(a))
})
}};
var Stage={config:{s7video:{streaming:{onplay:function(){if($(this).data("autoplay")===true||$(this).data("loop")===true){$(this).find('.s7mutebutton[selected="false"]').trigger("click")
}}},progressive:{progressivebitrate:"7500",playback:"native",onplay:function(){if($(this).data("autoplay")===true||$(this).data("loop")===true){$(this).find('.s7mutebutton[selected="false"]').trigger("click")
}}}}}};
$(function(){var a=$(".c-banner");
a.each(function(){var b=$(this).find(".language-item.active").text().trim();
$(this).attr("data-analytics-component-languageUsed",b)
})
});
$.fn.TextImageSliderComponent=function(){this.$tablist=$(".t-tablist",this);
this.$slider=$(".slick-slider",this);
this.getSlickContainer=function(){return this.$slider.slickContainer()
};
this.getActiveTabKey=function(){return $(".item.active",this.$tablist).data("tabs-id")
};
this.getTabItemByKey=function(a){return $("li.item[data-tabs-id="+a+"]",this.$tablist).first()
};
this.gotoTabKey=function(){var a=this.getSlickContainer();
if(a.tabs&&a.tabs.current){var c=a.tabs.current.key;
var b=this.getActiveTabKey();
this.$tablist.find(".selected .text").text($(".item.active",this.$tablist).attr("title"));
if(c!=b){a.gototabkey(b)
}}return this
};
this.activeTab=function(){var a=this.getSlickContainer();
if(a.tabs&&a.tabs.current){var b=this.getTabItemByKey(a.tabs.current.key);
if(b.length&&!b.hasClass("active")){b.trigger("tabactive");
this.$tablist.find(".selected .text").text(b.text())
}}return this
};
return this
};
var TextImageSlider={config:{tablist:{dropdownlist:true,barre:true,barreposition:"top",underline:true,underlineposition:"top",responsive:{textposition:["right"]},callback:function(){var a=$(this).closest(".c-textimagecontainer").TextImageSliderComponent();
a.gotoTabKey();
return false
}},slider:{dots:false,pager:false,arrows:true,forcearrows:true,buttons:true,buttonsposition:"left",buttonsoverlay:true,autoplay:false,autoplayspeed:0,speed:700,infinite:true,tabulation:true,xcopyelems:".c-textimage",callback:function(){var a=this.closest(".c-textimagecontainer").TextImageSliderComponent();
if(arguments[0]=="afterChange"){a.activeTab()
}}}},init:function(){TextImageSlider.load.apply($(".c-textimagecontainer"),[{}])
},load:function(a){this.each(function(){$(this).TextImageSliderComponent(a)
})
}};
var TextImageText={init:function(){TextImageText.events()
},events:function(){$(".c-textimage__text--toggle-read").off("click.c-textimage__text--toggle-read ").on("click.c-textimage__text--toggle-read",function(c){c.preventDefault();
var a=$(this);
var b=a.siblings(".c-textimage__text");
var d=a.find(".toggle-read-more");
b.toggleClass("show-more-height-text");
d.text(d.text()===d.data("readless")?d.data("readmore"):d.data("readless"));
d.next().toggleClass("rotate-element")
})
}};
$.fn.KeyProductFigures=function(a){this.$title=$(".c-keyproductfigures__headline",this);
this.$img=$(".c-keyproductfigures__img",this);
this.$details=$(".c-keyproductfigures__details",this);
this.$details.$values=$(".c-keyproductfigures__details--value",this.$details);
this.$details.$values.$metric=this.$details.$values.filter('[data-type="metric"]');
this.$details.$values.$imperial=this.$details.$values.filter('[data-type="imperial"]');
this.calcCenterSlideWidth=function(b){let calcWidth=0;
let headlineLeft=0;
if(DocumentManager.isTablet||DocumentManager.isDesktop){calcWidth=b*8;
headlineLeft=b*2+4;
this.$title.css({"margin-left":-headlineLeft})
}else{calcWidth=b*12;
this.$title.css({"margin-left":0})
}this.width(calcWidth)
};
return this
};
var KeyProductFigures={config:{tablist:{dropdownlist:false,barre:true,barreposition:"top",underline:true,underlineposition:"top",invertcolor:true,responsive:{textposition:["right"]},callback:function(b){const a=$(this).data("type");
const c=b.data.$obj.closest(".c-keyproductfigurescontainer");
c.find(".c-keyproductfigures").each(function(){const d=$(this).KeyProductFigures();
d.$details.$values.removeClass("active");
if(a=="metric"){d.$details.$values.$metric.addClass("active")
}else{d.$details.$values.$imperial.addClass("active")
}});
return false
}},slider:{dots:false,pager:false,arrows:true,buttons:true,buttonsposition:"center",buttonsoverlay:false,autoplay:false,autoplayspeed:0,centerMode:true,slidesToShow:1,variableWidth:true,infinite:true,waitForAnimate:true,speed:700,cssEase:"ease-in",invertcolor:true,callback:function(){this.$items.find(".c-keyproductfigures").removeClass("c-keyproductfigures--active");
this.$items.$current.find(".c-keyproductfigures").addClass("c-keyproductfigures--active")
}}},calcCenterSlideWidth:function(a){$(".c-keyproductfigurescontainer:not(.edit)").each(function(){const b=$(this).find(".c-keyproductfigures").KeyProductFigures();
const c=$(".t-tablist",this).width()/12;
b.calcCenterSlideWidth(c)
})
},init:function(){const a=$(window).width();
KeyProductFigures.calcCenterSlideWidth(a);
$(window).on("resize",function(){KeyProductFigures.calcCenterSlideWidth(a)
})
}};
$.fn.TeaserGroupComponent=function(){this.grid=this.hasClass("c-teasergroup--grid");
return this
};
var TeaserGroup={config:{tablist:{dropdownlist:false,more:true},slider:{pager:false,pagerposition:"center",dots:true,dotstype:"circle",dotsanimate:false,responsivedesktop:{slidesToShow:4,slidesToScroll:4},responsivetablet:function(){var a=this.closest(".c-teasergroup").TeaserGroupComponent();
var b={slidesToShow:a.grid?this.$slider.$items.length:3,slidesToScroll:a.grid?this.$slider.$items.length:3};
return b
},responsivephone:function(){var a=this.closest(".c-teasergroup").TeaserGroupComponent();
var b={slidesToShow:a.grid?this.$slider.$items.length:1,slidesToScroll:a.grid?this.$slider.$items.length:1,dots:false,pager:true};
return b
},preload:function(){},callback:function(){if(arguments[0]=="refresh"){}}}}};
$.fn.FullWidthMediaSlider=function(){this.$items=$(".c-fullwidthmediaslider__item",this);
this.visible=function(){this.addClass("c-fullwidthmediaslider--success");
return this
};
function b(c){return c.find(".item__caption").text().trim().length
}var a=[];
this.$items.each(function(){return a.push($(this))
});
this.checkCaptionText=function(){if(!a.some(b)&&DocumentManager.isPhone){this.$items.each(function(){$(this).find(".item__caption").remove()
})
}return this
};
this.truncateCaption=function(){this.$items.each(function(){$(this).FullWidthMediaSliderItem().truncateCaption()
});
return this
};
return this
};
$.fn.FullWidthMediaSliderItem=function(){this.$caption=$(".item__caption",this);
this.truncateCaption=function(){this.$caption.TruncateParagraphe({lines:4});
return this
};
return this
};
var FullWidthMediaSlider={config:{slider:{dots:false,pager:true,pagerposition:"right",buttons:true,buttonsoverlay:true,buttonsposition:"right",containsVideo:true,responsivedesktop:{},responsivetablet:{},responsivephone:{buttonsoverlay:false},callback:function(){var a=this.closest(".c-fullwidthmediaslider").FullWidthMediaSlider();
if(arguments[0]=="init"){a.visible().checkCaptionText().truncateCaption()
}}}},reload:function(){$(".c-fullwidthmediaslider").each(function(){$(this).FullWidthMediaSlider().checkCaptionText();
$(this).FullWidthMediaSlider().truncateCaption()
})
},init:function(){$(window).unbind("resize.fullwidthmediaslider").bindDebounce("resize.fullwidthmediaslider",function(){setTimeout(function(){$(this).FullWidthMediaSlider().truncateCaption()
},400)
},300)
}};
$.fn.AccordeonActivate=function(){if(this.hasClass("open-accordeon-anchor")){const a=$(".c-accordeonitem__title",this);
a.toggleClass("active").next().slideToggle(400,function(){$(this).AccordeonItemContent().loadSlider()
})
}return this
};
$.fn.ScrollAnchorNav=function(){const a=$(".c-anchornavigation");
const c=this;
const b=function(e){const h=c.height();
const g=c.scrollTop()+h*0.07;
const f=c.scrollTop()+h*0.7;
const d=$(e).offset().top;
return d>g&&d<f
};
c.on("scroll",function(){const d=$("a[name]").toArray();
d.forEach(function(f){if(b(f)){const g=$(f).attr("name");
const e=a.find('[href="#'+g+'"]');
if(e){a.find("li").removeClass("active").attr("data-tl-active",false);
e.parent().addClass("active").attr("data-tl-active",true);
a.find(".t-tablist").TabListContent({postload:function(){const h=a.hasClass("gradient");
const i=a.hasClass("white");
if(h&&i){a.find(".t-tablist").removeClass("t-tablist--invertcolor")
}}}).activeItem(a)
}}})
});
return this
};
var AnchorNavigation={config:{tablist:{barre:true,barreposition:"bottom",underline:true,dropdownlist:true,underlineposition:"bottom",textposition:"left",preload:function(){const a=this.closest(".c-anchornavigation");
if(a.hasClass("white")){this.config.invertcolor=true
}else{this.config.invertcolor=false
}if(DocumentManager.isPhone){this.find("ul > li").first().addClass("active")
}},callback:function(){const g=$(this);
const f=$("a",g);
const c=f.attr("href");
const d=c!=undefined?c.substr(c.indexOf("#")+1):false;
const e=$('[name="'+d+'"]').first();
const b=e.parent();
const a=function(h){$("body,html").animate({scrollTop:h.offset().top-80},600)
};
if(c&&e.length){$.when(a(e)).then(b.AccordeonActivate());
window.history.pushState(document.title,document.title,c)
}return false
}}},init:function(){if(!DocumentManager.isPhone){$(window).ScrollAnchorNav()
}}};
$.fn.AccordeonItemContent=function(){this.$parent=this.closest(".c-accordeonitem");
this.$title=$(".c-accordeonitem__title",this.$parent);
this.isActive=this.$title.hasClass("active");
this.isSlidersLoaded=this.data("sliders-loaded");
this.loadSlider=function(){if((this.isSlidersLoaded==undefined||!this.isSlidersLoaded)&&this.isActive){var a=$(".sliderslick__container",this);
a.each(function(){var b=$(this).slickContainer();
setTimeout(function(){b.refresh();
b.find(".s7videoviewer video").each(function(){var c=$(this);
var d=c.attr("poster").indexOf("?");
c.attr("poster",c.attr("poster").substring(0,d)+"?wid=1500&fit=fit,1")
})
},300)
});
this.data("sliders-loaded",true)
}return this
};
this.videoCaption=function(){var a=$(".c-media",this);
a.each(function(c){$(this).MediaContent().hideDescription();
var b=$(this).find(".s7videoviewer .s7innercontrolbarcontainer");
if(b.length>1){b.slice(1).remove()
}});
return this
};
return this
};
var Accordeon={duration:400,init:function(){var a=$(".c-accordeonitem");
a.each(function(){var b=$(this);
var d=b.hasClass("edit");
if(d){return
}var c=$(".c-accordeonitem__title",b);
if(c.hasClass("active")){c.next().slideDown(Accordeon.duration,function(){$(this).AccordeonItemContent().loadSlider().videoCaption()
})
}c.unbind("click");
c.on("click",function(){$(this).toggleClass("active").next().slideToggle(Accordeon.duration,function(){$(this).AccordeonItemContent().loadSlider().videoCaption()
})
})
});
$(".c-accordeonitem__title").last().addClass("border-bottom")
}};
$.fn.topSearchDropdown=function(){return this.each(function(){var a=$(this);
var b=a.closest("form").find(".c-topsearches");
a.on("focus",function(){b.fadeIn(function(){var c=$(this).addClass("opened");
$(document).on("click",function(d){d.stopPropagation();
if(c.hasClass("opened")&&!$(d.target).closest(b).length){c.fadeOut(function(){c.removeClass("opened")
})
}})
})
})
})
};
var TopSearches={init:function(){$('[data-has-top-searches="true"]').topSearchDropdown()
}};
$.fn.Picture=function(){this.__constructor__=function(){this.$picture=$("picture",this);
this.$img=$("img",this);
this.mode=this.data("picturemode");
this.emptyrendition=this.hasClass("emptyrendition");
if(this.mode=="crop"){if(this.data("autocrop")==undefined){this.data("autocrop",true)
}if(this.data("calcleft")==undefined){this.data("calcleft",true)
}}else{this.data("autocrop",false);
this.data("calcleft",false)
}this.autocrop=this.data("autocrop");
this.calcleft=this.data("calcleft");
this.verifCropImg();
this.data("pictureload",true);
return this
};
this.events=function(){this.$img.bind("load",{"$picture":this},function(a){a.data.$picture.verifCropImg()
});
return this
};
this.verifDimImg=function(){this.removeClass("c-picture--cropwidth").removeClass("c-picture--cropheight");
this.addClass("c-picture--crop");
this.dimspan={width:this.width(),height:this.height()};
this.dimimg={width:this.$img.width(),height:this.$img.height(),nwidth:this.$img.naturalWidth(),nheight:this.$img.naturalHeight()};
this.dimimg.landscape=(this.dimimg.width>=this.dimimg.height);
this.attr("data-landscape",this.dimimg.landscape);
return this
};
this.verifLeftImg=function(){if(!this.$img.length){return this
}if(!this.calcleft){return this
}var a=0;
if(!this.hasClass("c-picture--cropwidth")){a=0
}else{if(this.dimspan.width<this.dimimg.width){a=parseFloat(this.dimspan.width/2)-parseFloat(this.dimimg.width/2)
}}if(a>0){a=0
}this.$img.css({left:a});
return this
};
this.verifCropImg=function(){if(!this.$img.length){return this
}if(!this.autocrop){return this
}if(this.emptyrendition){this.removeClass("c-picture--crop");
this.addClass("c-picture--fixheight");
return this
}this.verifDimImg();
if(!this.dimimg.width){return this
}if(this.dimimg.landscape&&this.hasClass("c-picture--cropwidth")){return this
}if(!this.dimimg.landscape&&this.hasClass("c-picture--cropheight")){return this
}this.removeClass("c-picture--crop");
this.addClass(this.dimimg.landscape&&this.dimspan.width<this.dimimg.width?"c-picture--cropwidth":"c-picture--cropheight");
this.verifLeftImg();
return this
};
return this.__constructor__()
};
var Picture={__picture__:[],init:function(){Picture.__picture__=[];
Picture.load.apply($(".c-picture"),[]);
Picture.initslick();
Picture.timerresize=null;
$(window).resize(function(){clearTimeout(Picture.timerresize);
Picture.timerresize=setTimeout(function(){Picture.verifCropImg();
clearTimeout(Picture.timerresize)
},100)
});
return this
},load:function(){if(!this.length){return this
}if(arguments[0]==true){Picture.reload()
}this.each(function(){var a=$(this);
Picture.__picture__.push(a.Picture().events())
});
return this
},initslick:function(){$(".sliderslick").on("init reInit afterChange",function(b,a,e,c){var d=$(".slick-slide.slick-cloned .c-picture",this);
Picture.load.apply(d,[true])
});
return this
},reload:function(){var a=Picture.__picture__;
Picture.__picture__=[];
$.each(a,function(c){var b=jQuery.contains(document.documentElement,this[0]);
if(b){Picture.load.apply(this,[])
}});
return this
},verifCropImg:function(){$.each(Picture.__picture__,function(){this.verifCropImg()
});
return this
}};
var CrisisMode={init:function(){this.$component=$(".c-crisismode").first();
this.load();
if(!this.$component.length){return
}this.events()
},load:function(){if(!this.$component.length){return
}this.$link=$(".c-crisismode__linkfancybox",this.$component);
this.$div=$(".c-crisismode__popin",this.$component).css({padding:0});
this.$ins=$("ins",this.$div);
this.$beacon=$('[id^="beacon"]',this.$div);
this.$wrapper=$("#crisisWrapper",this.$div)
},events:function(){if(!this.$link.length){return
}this.$link.fancybox({onComplete:CrisisMode.fancybox.onComplete,afterClose:CrisisMode.fancybox.afterClose});
this.timer=setInterval(function(){CrisisMode.verifContainer.apply(CrisisMode,[])
},800)
},writeHtml:function(a){if(!a){return
}if(typeof(a)=="undefined"){return
}if(!CrisisMode.$wrapper.length){return
}this.$wrapper.html(a)
},verifContainer:function(){this.load();
if(this.$beacon.length){if(this.$wrapper.length&&this.$wrapper.html()!=""){this.openLightbox()
}clearInterval(this.timer)
}},openLightbox:function(){if(!CrisisMode.$link.length){return
}this.$link.trigger("click")
},fancybox:{onComplete:function(){},afterClose:function(){}}};
var SmallMediaGallery={config:{slider:{dots:false,pager:true,pagerposition:"right",buttons:true,buttonsposition:"right",buttonsoffset:["-10vw",0],buttonsoverlay:false,infinite:true,centermode:true,slidesToShow:1,slidesToScroll:1,variableWidth:true,forceclone:3,responsivedesktop:{slidesToShow:1,slidesToScroll:1,buttonsoffset:["-10vw",0]},responsivetablet:{slidesToShow:1,slidesToScroll:1,buttonsoffset:["-10vw",0]},responsivephone:{slidesToShow:1,slidesToScroll:1,buttonsoffset:["-10vw",0]},preload:function(){if(this.$slider.$items.length<=5){this.config.forceclone=0;
this.config.infinite=false
}if(this.$slider.$items.length==1){this.config.forceclone=false;
$(this.$slider).closest(".c-smallmediagallery").addClass("single-item")
}},callback:function(){}}},init:function(){}};
$.fn.TextMediaParagraph=function(){this.__constructor__=function(){this.$caption=$(".text-media-caption",this);
this.each(function(){$(this).find(".text-media-caption").TruncateParagraphe({lines:4})
})
};
return this.__constructor__()
};
var TextImage={init:function(){$(".c-textmediaparagraph").each(function(){$(this).TextMediaParagraph()
})
}};
$.fn.ContentNavigationContainer=function(a){this.isEdit=this.hasClass("edit");
this.$tabscontent=$(".t-tabscontent",this);
this.$tablist=$(".t-tablist",this);
this.itemRow=$(".t-tabscontent__container > .row",this);
this.init=function(){this.$tablist.TabListContent();
this.$tabscontent.TabsContent({edit:this.isEdit}).events();
this.$tablist.events();
this.$tabscontent.load();
TabsContent.tabs.push(this.$tabscontent);
TabList.tabs.push(this.$tablist);
return this
};
if(this.$tabscontent.outerHeight()<=5&&this.$tabscontent.find(".contentnavigationitem").length===0){this.$tabscontent.parent().css("padding","0");
this.$tabscontent.parent().parent().css("margin-bottom","0")
}return this
};
$.fn.ContentNavigationItem=function(a){this.$title=$(".c-contentnavigationitem__title",this);
this.$linkglobal=$(".link-global",this);
this.$linkglobal.isHover=this.$linkglobal.hasClass("hover");
return this
};
var ContentNavigation={config:{tabscontent:{slider:false,collaspe:false,callback:function(){this.$contents.each(function(){$(this).closest(".row").removeClass("active")
});
var a=arguments[2];
a.closest(".row").addClass("active");
a.parent().hasClass("c-tabitem")?a.closest(".row").addClass("active"):false;
Picture.verifCropImg()
}},tablist:{dropdownlist:true,barre:true,more:true,barreposition:"top",underline:true,underlineposition:"top",invertcolor:true,responsive:{textposition:["left","right","right","right"]}}},init:function(){$(".c-contentnavigationcontainer").each(function(){var a=$(this).ContentNavigationContainer();
if(a.$tablist.length==0){a.itemRow.addClass("active")
}a.init()
});
$(".c-contentnavigationitem").each(function(){var a=$(this).ContentNavigationItem();
a.$title.on("mouseover.contantnav",function(){var b=$(this).closest(".c-contentnavigationitem").ContentNavigationItem();
b.$linkglobal.addClass("hover")
});
a.$title.on("mouseout.contantnav",function(){var b=$(this).closest(".c-contentnavigationitem").ContentNavigationItem();
b.$linkglobal.removeClass("hover")
});
a.$title.on("click.contantnav",function(){var b=$(this).closest(".c-contentnavigationitem").ContentNavigationItem();
b.$linkglobal[0].click();
return true
})
});
$
}};
$.fn.SubNavigationComponent=function(){this.option=this.data("subnav-option");
if(this.option==undefined){if(this.hasClass("c-subnavigation--option1")){this.option=1
}else{if(this.hasClass("c-subnavigation--option2")){this.option=2
}}this.data("subnav-option",this.option).attr("data-subnav-option",this.option)
}this.displaymainlink=this.data("subnav-displaymainlink");
this.$subnav=$(".t-navigation",this);
this.init=function(){this.$subnav.Navigation({subnav:{option:this.option,displaymainlink:this.displaymainlink},callback:SubNavigation.config.navigation.callback,navp:{callback:SubNavigation.config.navpagination.callback}});
return this
};
return this
};
var SubNavigation={config:{navigation:{callback:function(i){if(i=="preload"){this.$contents.$items.each(function(){var k=$(this).NavigationItem();
if(k.level==1){k.addClass("firstcolumn")
}else{if(k.level==2){k.addClass("secondcolumn")
}else{if(k.level==3){k.addClass("thirdcolumn")
}else{if(k.level>3){k.addClass("lastcolumn")
}}}}});
if(DocumentManager.isDesktop){var e=this.$contents.$items.filter(".nav-level-1").find("> li.has-subnav").first().find("> ul").NavigationItem();
if(e.length){this.currentTab(e.tab)
}}if(this.config.subnav.option==1){var j=this.$contents.$items.filter(".nav-level-2").find("li");
j.hoverAnimate([["zoomIn","img"]],[["zoomOut","img"]])
}Picture.verifCropImg()
}if(i=="display"){var b=arguments[3];
var g=b[b.length-1];
if(g.length&&!g.is(".item")){g=g.find("> .item")
}if(DocumentManager.isDesktop){var a=g.data("nav-level");
var h=$(this).find(".t-navlist").children("li.current").filter("[data-type]");
if(a>=3||h.attr("data-type")=="subnavigationTiles"){this.find(".col-right").fadeOut()
}else{this.find(".col-right").fadeIn()
}if(a>=4){this.addClass("supCol4")
}else{this.removeClass("supCol4")
}}Picture.verifCropImg()
}if(i=="back"){if(arguments[1].length==1&&typeof(NavMenu.closeMobileSubNav)=="function"){NavMenu.closeMobileSubNav.apply()
}}if(i=="eventclick"){if(!DocumentManager.isDesktop){var c=arguments[1];
var f=c.closest("li").find("> .item");
if(f.length){var d=f.data("nav-tabulation");
this.display(d).reload();
return false
}return true
}}return true
}},navpagination:{offset:1,callback:function(b,a){if(b=="click-offset"&&a.hasClass("offset-0")){if(typeof(NavMenu.closeMobileSubNav)=="function"){NavMenu.closeMobileSubNav.apply()
}}}}},init:function(){if(Header.edit){return this
}$(".c-subnavigation").each(function(){$(this).SubNavigationComponent().init()
});
return this
}};
var s,SearchResultsForm={globals:{showSearch:$(".c-search__form--btnshowform"),searchBlock:$(".c-search__form.second"),searchResult:$(".c-searchresult__form"),searchResultText:$(".c-searchresult__form--form--text"),header:$("header"),toggleIcon:true,showSearchTitle:$(".c-search__form--title"),__window__Width:$(window).width()},init:function(){s=this.globals;
this.events();
this.updateDom()
},updateDom:function(){var a=$(".c-searchresult__form").find(".c-searchresult__form--form--text");
this.resetText(a)
},showSearchBlock:function(){s.searchBlock.slideToggle();
$(".menuburger i").removeClass("icon-close").addClass("icon-burger-menu");
$(".c-mainmenu").slideUp();
$(".mainnavigation").removeAttr("style");
$("header").removeClass("fixed");
if(s.toggleIcon){s.showSearch.find("i").toggleClass("icon-search icon-close");
s.toggleIcon=!s.toggleIcon
}else{setTimeout(function(){s.showSearch.find("i").toggleClass("icon-search icon-close")
},400);
s.toggleIcon=!s.toggleIcon
}s.searchBlock.find(".c-search__form--form--text").LimitedPlaceholder().limitCaracs()
},resetText:function(a){if(a.val()!=""||(a.defaultValue!=""&&a.defaultValue!=undefined)){a.siblings("button[type='reset']").css("visibility","visible");
a.parent().addClass("with-text")
}else{a.parent().removeClass("with-text");
a.siblings("button[type='reset']").css("visibility","hidden")
}},events:function(){var a=this;
s.showSearch.on("click",function(){a.showSearchBlock()
});
s.showSearchTitle.on("click",function(){a.showSearchBlock()
});
s.searchBlock.find(".c-search__form--form--text").on({keyup:function(){a.resetText($(this))
}});
s.searchResult.find(".c-searchresult__form--form--text").on({keyup:function(){a.resetText($(this))
}});
$(".c-search__form--form--reset, .c-searchresult__form--form--reset").on("click",function(){$(this).css("visibility","hidden");
$(this).parent().removeClass("with-text");
$(this).siblings('input[name="textsearch"], input[name="q"]').val("").prop("defaultValue","")
})
}};
$.fn.TabNavigationContainer=function(a){this.isEdit=this.hasClass("edit");
this.$tabscontent=$(".t-tabscontent",this);
this.$tablist=$(".t-tablist",this);
this.itemRow=$(".t-tabscontent__container > .row",this);
this.init=function(){this.$tablist.TabListContent();
this.$tabscontent.TabsContent({edit:this.isEdit}).events();
this.$tablist.events();
this.$tabscontent.load();
TabsContent.tabs.push(this.$tabscontent);
TabList.tabs.push(this.$tablist);
return this
};
return this
};
var TabNavigation={config:{tabscontent:{callback:function(){this.$contents.each(function(){$(this).closest(".row").removeClass("active")
});
var a=arguments[2];
a.closest(".row").addClass("active");
a.parent().hasClass("c-tabitem")?a.closest(".row").addClass("active"):false
}},tablist:{dropdownlist:false,barre:true,more:true,barreposition:"top",underline:true,underlineposition:"top",invertcolor:false,responsive:{textposition:["left","right","right","right"]}}},init:function(){$(".c-tabnavigationcontainer").each(function(){var a=$(this).TabNavigationContainer();
if(a.$tablist.length==0){a.itemRow.addClass("active")
}a.init()
})
}};
$(function(){$("input[type=file]").each(function(){var d=$(this);
var g=d.closest(".c-fileupload");
var f=g.find(".c-fileupload__files");
var c=g.find(".sizeTooHigh");
var e=d.attr("accept").split(",");
h();
d.on("blur",function(){g.find(".with-errors").empty()
});
d.closest("form").on("change",function(){h()
});
d.closest("form").on("reset",function(){f.empty();
c.empty()
});
function h(){var m=d[0].files;
for(var l=0;
l<m.length;
l++){var k=m[l];
var j=$('<p class="c-fileupload__info"></p>');
f.empty();
c.empty();
if(!a(k.name,e)){c.html("This extension is not allowed");
d.val("")
}else{if(k.size>1000000){c.html("The size of the file can't exceed 1MB");
d.val("")
}else{f.append(j);
j.append("<span> "+k.name+" ("+b(k.size,2)+")</span")
}}}}});
function a(c,e){var d=false;
e.forEach(function(f){if(f.toUpperCase().trim()==="."+c.split(".").pop().toUpperCase()){d=true
}});
return d
}function b(d,c){if(d==0){return"0 Bytes"
}var f=1024,e=c||2,h=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],g=Math.floor(Math.log(d)/Math.log(f));
return parseFloat((d/Math.pow(f,g)).toFixed(e))+" "+h[g]
}});
$(".c-resetbutton button").on("click",function(){$(".c-form-select").val(null).trigger("change");
var b=$(".c-fileupload--filename");
var a=b.data("nofile");
b.text(a)
});
$.fn.BuildSpots=function(){var a=function(f,d,e,i){f=f.split(",");
var b=830,c=1351,h=parseInt(f[0])+parseInt(f[2]),g=parseInt(f[1])+parseInt(f[2]);
if(!f||f.length!==3){return
}this.left=(h/c)*100;
this.top=(g/b)*100;
this.href=d;
if(this.top>25&&this.top<75){this.side=this.left>50?"left":"right"
}else{if(this.top<25||this.top>75){this.side=this.top<25?"bottom":"top"
}}this.type=e;
return this
};
this.getCircles=function(c){var d=$(jQuery.parseHTML(c));
var b=[];
if(!d||(d.length==0)){return
}$.each($(d).children(),$.proxy(function(g,f){var k=$(this);
if(k.hasClass("c-hotspots__maplist--item")){var j=k.attr("coords"),e=k.attr("href"),h=k.data("type")==undefined?"text":k.data("type");
target=k.attr("target");
if(j!=undefined&&e!=undefined){b.push(new a(j,e,h))
}}}),this);
return b
},this.addHotSpots=function(d,b){var c=d;
$.each(b,function(e,f){c.append($("<a href='#' class='c-hotspots__wrapper--item'style='top:"+f.top+"%; left:"+f.left+"%;'data-side='"+f.side+"'data-target='"+f.href+"' data-original-title ><span class='icon-wrapper'><i class='"+f.type+"'></i></span></a>"))
});
return this
};
return this
};
var loadVideo=function(a){if(a.length>0){S7Video.verifIds(a,"_divhotspotitem_");
a.S7VideoContainer().loadVideo()
}};
var hotspotAjaxRequest=function(a,c,b){$.ajax({url:a,dataType:"html",async:false,success:function(i){if(DocumentManager.isPhone){var h=c.next();
var f=h.append($.parseHTML(i)).find(".container-fluid"),g=f.html(),e=$(f).find(".s7videoviewer");
loadVideo(e);
h.html(g)
}else{var d=$(c).parents(".c-hotspots").find(".ajax-data");
f=d.append($.parseHTML(i)).find(".container-fluid"),g=f.html();
e=$(f).find(".s7videoviewer");
d.empty();
loadVideo(e);
c.tooltipster({trigger:"click",contentAsHTML:true,content:g,minWidth:260,maxWidth:260,side:b,animationDuration:0,zIndex:999,interactive:true,debug:false,functionReady:function(j,l){var k=$(j._$tooltip);
if(e.length>0){setTimeout(function(){var m=k.find(".tooltipster-content").height();
$(j._$tooltip).height(m).addClass("tooltip-video");
b=="top"?k.find(".tooltipster-arrow").css("display","block"):false
},800)
}},functionPosition:function(k,l,j){if(e.length>0&&b=="top"){j.coord.top-=127
}if(e.length>0&&(b=="right"||b=="left")){j.coord.top-=80
}return j
},functionAfter:function(j,k){c.removeClass("triggered")
}}).tooltipster("show")
}}})
};
var HotSpots={init:function(){$(".c-hotspots").each(function(b){var d=$(this);
var a=d.BuildSpots(),c=d.find(".maplist-wrapper").html(),e=a.getCircles(c);
a.addHotSpots(d,e)
});
this.events()
},events:function(){$(".c-hotspots__wrapper--item").on("click tap",function(d){d.preventDefault();
var c=$(this),a=c.data("target"),b=c.data("side");
if(!c.hasClass("triggered")){c.toggleClass("triggered");
hotspotAjaxRequest(a,c,b);
Picture.load.apply($(".tooltipster-base .c-picture"),[true])
}});
$(".c-hotspots").find(".c-accordeonitem__title").on("click",function(){var b=$(this),a=b.data("href"),d=b.next();
var c=b.closest(".maplist-wrapper");
if(DocumentManager.isPhone){if(b.hasClass("active")){if(d.children(".container-fluid").length==0||d.find(".s7videoviewer").length>0){b.closest(".c-hotspots").find(".s7videoviewer").S7VideoContainer().unbindEvents().dispose();
hotspotAjaxRequest(a,b,"bottom")
}}c.find(".c-accordeonitem__title").each(function(){var f=$(this),e=f.next().find(".s7videoviewer");
if(f.hasClass("active")&&e.length>0){loadVideo(e)
}})
}})
}};